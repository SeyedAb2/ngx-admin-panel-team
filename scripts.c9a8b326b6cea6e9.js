(function(){var ke,Ve,an,Ne,gt,de,ve,J,j,m,y,D,B,w,O,U,oe,fe,ue,be,Ae,Ke,L,Ge,ye,Te,Ue,ce,Oe,qe,xe,We,et,xt,ze,Xe,Je,st,Et,Gt,Tt,Nt,en,Ht,Mn,gn,zn,_i,mi=[].slice,Pi={}.hasOwnProperty,gi=function(bn,_n){function fn(){this.constructor=bn}for(var Wn in _n)Pi.call(_n,Wn)&&(bn[Wn]=_n[Wn]);return fn.prototype=_n.prototype,bn.prototype=new fn,bn.__super__=_n.prototype,bn},Oi=[].indexOf||function(bn){for(var _n=0,fn=this.length;fn>_n;_n++)if(_n in this&&this[_n]===bn)return _n;return-1};for(Ae={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},Oe=function(){var bn;return null!=(bn=typeof performance<"u"&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?bn:+new Date},xe=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,be=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==xe&&(xe=function(bn){return setTimeout(bn,50)},be=function(bn){return clearTimeout(bn)}),et=function(bn){var _n,fn;return _n=Oe(),(fn=function(){var Wn;return(Wn=Oe()-_n)>=33?(_n=Oe(),bn(Wn,function(){return xe(fn)})):setTimeout(fn,33-Wn)})()},We=function(){var bn,_n,fn;return fn=arguments[0],_n=arguments[1],bn=3<=arguments.length?mi.call(arguments,2):[],"function"==typeof fn[_n]?fn[_n].apply(fn,bn):fn[_n]},Ke=function(){var bn,_n,fn,Wn,Bn,Nn,ei;for(_n=arguments[0],Nn=0,ei=(Wn=2<=arguments.length?mi.call(arguments,1):[]).length;ei>Nn;Nn++)if(fn=Wn[Nn])for(bn in fn)Pi.call(fn,bn)&&(Bn=fn[bn],null!=_n[bn]&&"object"==typeof _n[bn]&&null!=Bn&&"object"==typeof Bn?Ke(_n[bn],Bn):_n[bn]=Bn);return _n},oe=function(bn){var _n,fn,Bn,Nn;for(fn=_n=0,Bn=0,Nn=bn.length;Nn>Bn;Bn++)fn+=Math.abs(bn[Bn]),_n++;return fn/_n},Ge=function(bn,_n){var fn,Bn;if(null==bn&&(bn="options"),null==_n&&(_n=!0),Bn=document.querySelector("[data-pace-"+bn+"]")){if(fn=Bn.getAttribute("data-pace-"+bn),!_n)return fn;try{return JSON.parse(fn)}catch(Nn){return typeof console<"u"&&null!==console?console.error("Error parsing inline pace options",Nn):void 0}}},ve=function(){function bn(){}return bn.prototype.on=function(_n,fn,Wn,Bn){var Nn;return null==Bn&&(Bn=!1),null==this.bindings&&(this.bindings={}),null==(Nn=this.bindings)[_n]&&(Nn[_n]=[]),this.bindings[_n].push({handler:fn,ctx:Wn,once:Bn})},bn.prototype.once=function(_n,fn,Wn){return this.on(_n,fn,Wn,!0)},bn.prototype.off=function(_n,fn){var Wn,Bn,Nn;if(null!=(null!=(Bn=this.bindings)?Bn[_n]:void 0)){if(null==fn)return delete this.bindings[_n];for(Wn=0,Nn=[];Wn<this.bindings[_n].length;)Nn.push(this.bindings[_n][Wn].handler===fn?this.bindings[_n].splice(Wn,1):Wn++);return Nn}},bn.prototype.trigger=function(){var _n,Wn,Nn,ei,Vi,$i,Li;if(Wn=arguments[0],_n=2<=arguments.length?mi.call(arguments,1):[],null!=(Vi=this.bindings)?Vi[Wn]:void 0){for(Nn=0,Li=[];Nn<this.bindings[Wn].length;)ei=($i=this.bindings[Wn][Nn]).once,$i.handler.apply($i.ctx??this,_n),Li.push(ei?this.bindings[Wn].splice(Nn,1):Nn++);return Li}},bn}(),m=window.Pace||{},window.Pace=m,Ke(m,ve.prototype),qe=m.options=Ke({},Ae,window.paceOptions,Ge()),en=0,Mn=(zn=["ajax","document","eventLag","elements"]).length;Mn>en;en++)!0===qe[Je=zn[en]]&&(qe[Je]=Ae[Je]);j=function(bn){function _n(){return _n.__super__.constructor.apply(this,arguments)}return gi(_n,bn),_n}(Error),Ve=function(){function bn(){this.progress=0}return bn.prototype.getElement=function(){var _n;if(null==this.el){if(!(_n=document.querySelector(qe.target)))throw new j;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=_n.firstChild?_n.insertBefore(this.el,_n.firstChild):_n.appendChild(this.el)}return this.el},bn.prototype.finish=function(){var _n;return(_n=this.getElement()).className=_n.className.replace("pace-active",""),_n.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},bn.prototype.update=function(_n){return this.progress=_n,this.render()},bn.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(_n){j=_n}return this.el=void 0},bn.prototype.render=function(){var _n,Wn,Bn,Nn,ei,Vi;if(null==document.querySelector(qe.target))return!1;for(_n=this.getElement(),Bn="translate3d("+this.progress+"%, 0, 0)",Nn=0,ei=(Vi=["webkitTransform","msTransform","transform"]).length;ei>Nn;Nn++)_n.children[0].style[Vi[Nn]]=Bn;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(_n.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?Wn="99":(Wn=this.progress<10?"0":"",Wn+=0|this.progress),_n.children[0].setAttribute("data-progress",""+Wn)),this.lastRenderedProgress=this.progress},bn.prototype.done=function(){return this.progress>=100},bn}(),J=function(){function bn(){this.bindings={}}return bn.prototype.trigger=function(_n,fn){var Bn,Nn,ei,Vi;if(null!=this.bindings[_n]){for(Vi=[],Bn=0,Nn=(ei=this.bindings[_n]).length;Nn>Bn;Bn++)Vi.push(ei[Bn].call(this,fn));return Vi}},bn.prototype.on=function(_n,fn){var Wn;return null==(Wn=this.bindings)[_n]&&(Wn[_n]=[]),this.bindings[_n].push(fn)},bn}(),Nt=window.XMLHttpRequest,Tt=window.XDomainRequest,Gt=window.WebSocket,L=function(bn,_n){var Wn,Bn;for(Wn in Bn=[],_n.prototype)try{Bn.push(null==bn[Wn]&&"function"!=typeof _n[Wn]?"function"==typeof Object.defineProperty?Object.defineProperty(bn,Wn,{get:function(){return _n.prototype[Wn]},configurable:!0,enumerable:!0}):bn[Wn]=_n.prototype[Wn]:void 0)}catch(Nn){}return Bn},Ue=[],m.ignore=function(){var bn,_n,fn;return _n=arguments[0],bn=2<=arguments.length?mi.call(arguments,1):[],Ue.unshift("ignore"),fn=_n.apply(null,bn),Ue.shift(),fn},m.track=function(){var bn,_n,fn;return _n=arguments[0],bn=2<=arguments.length?mi.call(arguments,1):[],Ue.unshift("track"),fn=_n.apply(null,bn),Ue.shift(),fn},Xe=function(bn){var _n;return null==bn&&(bn="GET"),"track"===Ue[0]?"force":!(Ue.length||!qe.ajax||!("socket"===bn&&qe.ajax.trackWebSockets||(_n=bn.toUpperCase(),Oi.call(qe.ajax.trackMethods,_n)>=0)))},y=function(bn){function _n(){var fn,Wn=this;_n.__super__.constructor.apply(this,arguments),fn=function(Bn){var Nn;return Nn=Bn.open,Bn.open=function(ei,Vi,$i){return Xe(ei)&&Wn.trigger("request",{type:ei,url:Vi,request:Bn}),Nn.apply(Bn,arguments)}},window.XMLHttpRequest=function(Bn){var Nn;return Nn=new Nt(Bn),fn(Nn),Nn};try{L(window.XMLHttpRequest,Nt)}catch{}if(null!=Tt){window.XDomainRequest=function(){var Bn;return Bn=new Tt,fn(Bn),Bn};try{L(window.XDomainRequest,Tt)}catch{}}if(null!=Gt&&qe.ajax.trackWebSockets){window.WebSocket=function(Bn,Nn){var ei;return ei=null!=Nn?new Gt(Bn,Nn):new Gt(Bn),Xe("socket")&&Wn.trigger("request",{type:"socket",url:Bn,protocols:Nn,request:ei}),ei};try{L(window.WebSocket,Gt)}catch{}}}return gi(_n,bn),_n}(J),Ht=null,ze=function(bn){var _n,fn,Wn,Bn;for(fn=0,Wn=(Bn=qe.ajax.ignoreURLs).length;Wn>fn;fn++)if("string"==typeof(_n=Bn[fn])){if(-1!==bn.indexOf(_n))return!0}else if(_n.test(bn))return!0;return!1},(ye=function(){return null==Ht&&(Ht=new y),Ht})().on("request",function(bn){var _n,fn,Wn,Bn;return Bn=bn.type,Wn=bn.request,ze(bn.url)||m.running||!1===qe.restartOnRequestAfter&&"force"!==Xe(Bn)?void 0:(fn=arguments,"boolean"==typeof(_n=qe.restartOnRequestAfter||0)&&(_n=0),setTimeout(function(){var Vi,$i,Li,Cn,Rn;if("socket"===Bn?Wn.readyState<2:0<(Li=Wn.readyState)&&4>Li){for(m.restart(),Rn=[],Vi=0,$i=(Cn=m.sources).length;$i>Vi;Vi++){if((Je=Cn[Vi])instanceof ke){Je.watch.apply(Je,fn);break}Rn.push(void 0)}return Rn}},_n))}),ke=function(){function bn(){var _n=this;this.elements=[],ye().on("request",function(){return _n.watch.apply(_n,arguments)})}return bn.prototype.watch=function(_n){var fn,Wn,Bn;return Bn=_n.type,fn=_n.request,ze(_n.url)?void 0:(Wn="socket"===Bn?new w(fn):new O(fn),this.elements.push(Wn))},bn}(),O=function bn(_n){var Bn,Nn,ei,Vi,$i=this;if(this.progress=0,null!=window.ProgressEvent)for(_n.addEventListener("progress",function(Li){return $i.progress=Li.lengthComputable?100*Li.loaded/Li.total:$i.progress+(100-$i.progress)/2},!1),Bn=0,Nn=(Vi=["load","abort","timeout","error"]).length;Nn>Bn;Bn++)_n.addEventListener(Vi[Bn],function(){return $i.progress=100},!1);else ei=_n.onreadystatechange,_n.onreadystatechange=function(){var Li;return 0===(Li=_n.readyState)||4===Li?$i.progress=100:3===_n.readyState&&($i.progress=50),"function"==typeof ei?ei.apply(null,arguments):void 0}},w=function bn(_n){var Wn,Bn,Nn,ei=this;for(this.progress=0,Wn=0,Bn=(Nn=["error","open"]).length;Bn>Wn;Wn++)_n.addEventListener(Nn[Wn],function(){return ei.progress=100},!1)},Ne=function bn(_n){var Wn,Bn,Nn;for(null==_n&&(_n={}),this.elements=[],null==_n.selectors&&(_n.selectors=[]),Wn=0,Bn=(Nn=_n.selectors).length;Bn>Wn;Wn++)this.elements.push(new gt(Nn[Wn]))},gt=function(){function bn(_n){this.selector=_n,this.progress=0,this.check()}return bn.prototype.check=function(){var _n=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return _n.check()},qe.elements.checkInterval)},bn.prototype.done=function(){return this.progress=100},bn}(),an=function(){function bn(){var _n,fn,Wn=this;this.progress=null!=(fn=this.states[document.readyState])?fn:100,_n=document.onreadystatechange,document.onreadystatechange=function(){return null!=Wn.states[document.readyState]&&(Wn.progress=Wn.states[document.readyState]),"function"==typeof _n?_n.apply(null,arguments):void 0}}return bn.prototype.states={loading:0,interactive:50,complete:100},bn}(),de=function bn(){var _n,fn,Wn,Bn,Nn,ei=this;this.progress=0,_n=0,Nn=[],Bn=0,Wn=Oe(),fn=setInterval(function(){var Vi;return Vi=Oe()-Wn-50,Wn=Oe(),Nn.push(Vi),Nn.length>qe.eventLag.sampleCount&&Nn.shift(),_n=oe(Nn),++Bn>=qe.eventLag.minSamples&&_n<qe.eventLag.lagThreshold?(ei.progress=100,clearInterval(fn)):ei.progress=3/(_n+3)*100},50)},B=function(){function bn(_n){this.source=_n,this.last=this.sinceLastUpdate=0,this.rate=qe.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=We(this.source,"progress"))}return bn.prototype.tick=function(_n,fn){var Wn;return null==fn&&(fn=We(this.source,"progress")),fn>=100&&(this.done=!0),fn===this.last?this.sinceLastUpdate+=_n:(this.sinceLastUpdate&&(this.rate=(fn-this.last)/this.sinceLastUpdate),this.catchup=(fn-this.progress)/qe.catchupTime,this.sinceLastUpdate=0,this.last=fn),fn>this.progress&&(this.progress+=this.catchup*_n),Wn=1-Math.pow(this.progress/100,qe.easeFactor),this.progress+=Wn*this.rate*_n,this.progress=Math.min(this.lastProgress+qe.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},bn}(),st=null,xt=null,fe=null,Et=null,U=null,ue=null,m.running=!1,Te=function(){return qe.restartOnPushState?m.restart():void 0},null!=window.history.pushState&&(gn=window.history.pushState,window.history.pushState=function(){return Te(),gn.apply(window.history,arguments)}),null!=window.history.replaceState&&(_i=window.history.replaceState,window.history.replaceState=function(){return Te(),_i.apply(window.history,arguments)}),D={ajax:ke,elements:Ne,document:an,eventLag:de},(ce=function(){var bn,_n,fn,Wn,Bn,Nn,ei,Vi;for(m.sources=st=[],_n=0,Wn=(Nn=["ajax","elements","document","eventLag"]).length;Wn>_n;_n++)!1!==qe[bn=Nn[_n]]&&st.push(new D[bn](qe[bn]));for(fn=0,Bn=(Vi=null!=(ei=qe.extraSources)?ei:[]).length;Bn>fn;fn++)st.push(new(Je=Vi[fn])(qe));return m.bar=fe=new Ve,xt=[],Et=new B})(),m.stop=function(){return m.trigger("stop"),m.running=!1,fe.destroy(),ue=!0,null!=U&&("function"==typeof be&&be(U),U=null),ce()},m.restart=function(){return m.trigger("restart"),m.stop(),m.start()},m.go=function(){var bn;return m.running=!0,fe.render(),bn=Oe(),ue=!1,U=et(function(_n,fn){var Bn,Nn,Vi,$i,Li,Rn,ti,fi,si,Jn,bi,Ii,Ai;for(Bn=fi=0,Nn=!0,$i=si=0,bi=st.length;bi>si;$i=++si)for(Je=st[$i],ti=null!=xt[$i]?xt[$i]:xt[$i]=[],Li=Jn=0,Ii=(Vi=null!=(Ai=Je.elements)?Ai:[Je]).length;Ii>Jn;Li=++Jn)Nn&=(Rn=null!=ti[Li]?ti[Li]:ti[Li]=new B(Vi[Li])).done,Rn.done||(Bn++,fi+=Rn.tick(_n));return fe.update(Et.tick(_n,fi/Bn)),fe.done()||Nn||ue?(fe.update(100),m.trigger("done"),setTimeout(function(){return fe.finish(),m.running=!1,m.trigger("hide")},Math.max(qe.ghostTime,Math.max(qe.minTime-(Oe()-bn),0)))):fn()})},m.start=function(bn){Ke(qe,bn),m.running=!0;try{fe.render()}catch(_n){j=_n}return document.querySelector(".pace")?(m.trigger("start"),m.go()):setTimeout(m.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return m}):"object"==typeof exports?module.exports=m:qe.startOnPageLoad&&m.start()}).call(this),function(ke,Ve){"use strict";function Ne(W,R,_){if("string"!=typeof W)throw"invalid module definition, module id must be defined and be a string";if(R===Ve)throw"invalid module definition, dependencies must be specified";if(_===Ve)throw"invalid module definition, definition function must be specified";!function an(W,R){for(var _,I=[],x=0;x<W.length;++x){if(!(_=J[W[x]]||de(W[x])))throw"module definition dependecy not found: "+W[x];I.push(_)}R.apply(null,I)}(R,function(){J[W]=_.apply(null,arguments)})}function de(W){for(var R=ke,_=W.split(/[.\/]/),I=0;I<_.length;++I){if(!R[_[I]])return;R=R[_[I]]}return R}var J={},j="tinymce/geom/Rect",m="tinymce/util/Promise",y="tinymce/util/Delay",D="tinymce/Env",B="tinymce/dom/EventUtils",w="tinymce/dom/Sizzle",O="tinymce/util/Arr",U="tinymce/util/Tools",oe="tinymce/dom/DomQuery",fe="tinymce/html/Styles",ue="tinymce/dom/TreeWalker",be="tinymce/dom/Range",Ae="tinymce/html/Entities",Ke="tinymce/dom/StyleSheetLoader",L="tinymce/dom/DOMUtils",Ge="tinymce/dom/ScriptLoader",ye="tinymce/AddOnManager",Te="tinymce/dom/NodeType",Ue="tinymce/text/Zwsp",ce="tinymce/caret/CaretContainer",Oe="tinymce/dom/RangeUtils",qe="tinymce/NodeChange",xe="tinymce/html/Node",We="tinymce/html/Schema",et="tinymce/html/SaxParser",xt="tinymce/html/DomParser",ze="tinymce/html/Writer",Xe="tinymce/html/Serializer",Je="tinymce/dom/Serializer",st="tinymce/dom/TridentSelection",Et="tinymce/util/VK",Gt="tinymce/dom/ControlSelection",Tt="tinymce/util/Fun",Nt="tinymce/caret/CaretCandidate",en="tinymce/geom/ClientRect",Ht="tinymce/text/ExtendingChar",Mn="tinymce/caret/CaretPosition",gn="tinymce/caret/CaretBookmark",zn="tinymce/dom/BookmarkManager",xi="tinymce/dom/Selection",_i="tinymce/dom/ElementUtils",mi="tinymce/fmt/Preview",Pi="tinymce/fmt/Hooks",gi="tinymce/Formatter",Oi="tinymce/undo/Diff",bn="tinymce/undo/Fragments",_n="tinymce/undo/Levels",fn="tinymce/UndoManager",Wn="tinymce/EnterKey",Bn="tinymce/ForceBlocks",Nn="tinymce/caret/CaretUtils",ei="tinymce/caret/CaretWalker",Vi="tinymce/InsertList",$i="tinymce/InsertContent",Li="tinymce/EditorCommands",Cn="tinymce/util/URI",Rn="tinymce/util/Class",ti="tinymce/util/EventDispatcher",fi="tinymce/data/Binding",si="tinymce/util/Observable",Jn="tinymce/data/ObservableObject",bi="tinymce/ui/Selector",Ii="tinymce/ui/Collection",Ai="tinymce/ui/DomUtils",Wi="tinymce/ui/BoxUtils",qi="tinymce/ui/ClassList",Br="tinymce/ui/ReflowQueue",vr="tinymce/ui/Control",cr="tinymce/ui/Factory",Jr="tinymce/ui/KeyboardNavigation",hr="tinymce/ui/Container",dr="tinymce/ui/DragHelper",Mr="tinymce/ui/Scrollable",jr="tinymce/ui/Panel",ao="tinymce/ui/Movable",Ar="tinymce/ui/Resizable",Yr="tinymce/ui/FloatPanel",Xr="tinymce/ui/Window",An="tinymce/ui/MessageBox",Fn="tinymce/WindowManager",pi="tinymce/ui/Tooltip",ai="tinymce/ui/Widget",Ei="tinymce/ui/Progress",Ji="tinymce/ui/Notification",rr="tinymce/NotificationManager",or="tinymce/dom/NodePath",Hi="tinymce/util/Quirks",Fi="tinymce/EditorObservable",yr="tinymce/Mode",ir="tinymce/Shortcuts",_r="tinymce/file/Uploader",Ur="tinymce/file/Conversions",Ir="tinymce/file/ImageScanner",kr="tinymce/file/BlobCache",Ci="tinymce/file/UploadStatus",fr="tinymce/ErrorReporter",so="tinymce/EditorUpload",yo="tinymce/caret/FakeCaret",po="tinymce/dom/Dimensions",Qr="tinymce/caret/LineWalker",Co="tinymce/caret/LineUtils",Xo="tinymce/dom/MousePosition",oa="tinymce/DragDropOverrides",Lo="tinymce/SelectionOverrides",Kr="tinymce/util/Uuid",Yi="tinymce/ui/Sidebar",Zr="tinymce/Editor",go="tinymce/util/I18n",X="tinymce/FocusManager",De="tinymce/EditorManager",Qe="tinymce/util/XHR",N="tinymce/util/JSON",q="tinymce/util/JSONRequest",he="tinymce/util/JSONP",ge="tinymce/util/LocalStorage",Ie="tinymce/Compat",it="tinymce/ui/Layout",Ze="tinymce/ui/AbsoluteLayout",nt="tinymce/ui/Button",dt="tinymce/ui/ButtonGroup",mt="tinymce/ui/Checkbox",It="tinymce/ui/ComboBox",kt="tinymce/ui/ColorBox",Ct="tinymce/ui/PanelButton",At="tinymce/ui/ColorButton",Lt="tinymce/util/Color",mn="tinymce/ui/ColorPicker",Yt="tinymce/ui/Path",ln="tinymce/ui/ElementPath",Vt="tinymce/ui/FormItem",tn="tinymce/ui/Form",hn="tinymce/ui/FieldSet",bt="tinymce/content/LinkTargets",Kt="tinymce/ui/FilePicker",pn="tinymce/ui/FitLayout",vn="tinymce/ui/FlexLayout",ci="tinymce/ui/FlowLayout",ni="tinymce/fmt/FontInfo",Qi="tinymce/ui/FormatControls",tr="tinymce/ui/GridLayout",ji="tinymce/ui/Iframe",er="tinymce/ui/InfoBox",Ui="tinymce/ui/Label",Ti="tinymce/ui/Toolbar",ki="tinymce/ui/MenuBar",Qn="tinymce/ui/MenuButton",pr="tinymce/ui/MenuItem",Ki="tinymce/ui/Throbber",wr="tinymce/ui/Menu",Sr="tinymce/ui/ListBox",to="tinymce/ui/Radio",zr="tinymce/ui/ResizeHandle",gr="tinymce/ui/SelectBox",Vn="tinymce/ui/Slider",ur="tinymce/ui/Spacer",Dr="tinymce/ui/SplitButton",M="tinymce/ui/StackLayout",ie="tinymce/ui/TabPanel",Me="tinymce/ui/TextBox";Ne(j,[],function(){function W(H,G,$){var te,K,re,Q,pe,Z;return te=G.x,K=G.y,re=H.w,Q=H.h,pe=G.w,Z=G.h,"b"===($=($||"").split(""))[0]&&(K+=Z),"r"===$[1]&&(te+=pe),"c"===$[0]&&(K+=V(Z/2)),"c"===$[1]&&(te+=V(pe/2)),"b"===$[3]&&(K-=Q),"r"===$[4]&&(te-=re),"c"===$[3]&&(K-=V(Q/2)),"c"===$[4]&&(te-=V(re/2)),T(te,K,re,Q)}function T(H,G,$,te){return{x:H,y:G,w:$,h:te}}var A=Math.min,k=Math.max,V=Math.round;return{inflate:function _(H,G,$){return T(H.x-G,H.y-$,H.w+2*G,H.h+2*$)},relativePosition:W,findBestRelativePosition:function R(H,G,$,te){var K,re;for(re=0;re<te.length;re++)if((K=W(H,G,te[re])).x>=$.x&&K.x+K.w<=$.w+$.x&&K.y>=$.y&&K.y+K.h<=$.h+$.y)return te[re];return null},intersect:function I(H,G){var $,te,K,re;return $=k(H.x,G.x),te=k(H.y,G.y),K=A(H.x+H.w,G.x+G.w),re=A(H.y+H.h,G.y+G.h),K-$<0||re-te<0?null:T($,te,K-$,re-te)},clamp:function x(H,G,$){var te,K,re,Q,pe,Z,Y,z,C,E;return Z=H.y,Y=H.x+H.w,z=H.y+H.h,C=G.x+G.w,E=G.y+G.h,te=k(0,G.x-(pe=H.x)),K=k(0,G.y-Z),re=k(0,Y-C),Q=k(0,z-E),pe+=te,Z+=K,$&&(Y+=te,z+=K,pe-=re,Z-=Q),T(pe,Z,(Y-=re)-pe,(z-=Q)-Z)},create:T,fromClientRect:function S(H){return T(H.left,H.top,H.width,H.height)}}}),Ne(m,[],function(){function W(H,G){return function(){H.apply(G,arguments)}}function R(H){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof H)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],A(H,W(I,this),W(x,this))}function _(H){var G=this;return null===this._state?void this._deferreds.push(H):void k(function(){var $=G._state?H.onFulfilled:H.onRejected;if(null!==$){var te;try{te=$(G._value)}catch(K){return void H.reject(K)}H.resolve(te)}else(G._state?H.resolve:H.reject)(G._value)})}function I(H){try{if(H===this)throw new TypeError("A promise cannot be resolved with itself.");if(H&&("object"==typeof H||"function"==typeof H)){var G=H.then;if("function"==typeof G)return void A(W(G,H),W(I,this),W(x,this))}this._state=!0,this._value=H,T.call(this)}catch($){x.call(this,$)}}function x(H){this._state=!1,this._value=H,T.call(this)}function T(){for(var H=0,G=this._deferreds.length;H<G;H++)_.call(this,this._deferreds[H]);this._deferreds=null}function S(H,G,$,te){this.onFulfilled="function"==typeof H?H:null,this.onRejected="function"==typeof G?G:null,this.resolve=$,this.reject=te}function A(H,G,$){var te=!1;try{H(function(K){te||(te=!0,G(K))},function(K){te||(te=!0,$(K))})}catch(K){if(te)return;te=!0,$(K)}}if(window.Promise)return window.Promise;var k=R.immediateFn||"function"==typeof setImmediate&&setImmediate||function(H){setTimeout(H,1)},V=Array.isArray||function(H){return"[object Array]"===Object.prototype.toString.call(H)};return R.prototype.catch=function(H){return this.then(null,H)},R.prototype.then=function(H,G){var $=this;return new R(function(te,K){_.call($,new S(H,G,te,K))})},R.all=function(){var H=Array.prototype.slice.call(1===arguments.length&&V(arguments[0])?arguments[0]:arguments);return new R(function(G,$){function te(Q,pe){try{if(pe&&("object"==typeof pe||"function"==typeof pe)){var Z=pe.then;if("function"==typeof Z)return void Z.call(pe,function(Y){te(Q,Y)},$)}H[Q]=pe,0==--K&&G(H)}catch(Y){$(Y)}}if(0===H.length)return G([]);for(var K=H.length,re=0;re<H.length;re++)te(re,H[re])})},R.resolve=function(H){return H&&"object"==typeof H&&H.constructor===R?H:new R(function(G){G(H)})},R.reject=function(H){return new R(function(G,$){$(H)})},R.race=function(H){return new R(function(G,$){for(var te=0,K=H.length;te<K;te++)H[te].then(G,$)})},R}),Ne(y,[m],function(W){function _(k,V){return"number"!=typeof V&&(V=0),setTimeout(k,V)}function I(k,V){return"number"!=typeof V&&(V=1),setInterval(k,V)}function S(k,V){var H,G;return G=function(){var $=arguments;clearTimeout(H),H=_(function(){k.apply(this,$)},V)},G.stop=function(){clearTimeout(H)},G}var A;return{requestAnimationFrame:function(k,V){return A?void A.then(k):void(A=new W(function(H){V||(V=document.body),function R(k,V){var G,$=window.requestAnimationFrame,te=["ms","moz","webkit"];for(G=0;G<te.length&&!$;G++)$=window[te[G]+"RequestAnimationFrame"];$||($=function H(K){window.setTimeout(K,0)}),$(k,V)}(H,V)}).then(k))},setTimeout:_,setInterval:I,setEditorTimeout:function(k,V,H){return _(function(){k.removed||V()},H)},setEditorInterval:function(k,V,H){var G;return G=I(function(){k.removed?clearInterval(G):V()},H)},debounce:S,throttle:S,clearInterval:function T(k){return clearInterval(k)},clearTimeout:function x(k){return clearTimeout(k)}}}),Ne(D,[],function(){function W(pe){return"matchMedia"in window&&matchMedia(pe).matches}var I,x,T,S,A,k,V,H,G,$,te,K,re,R=navigator,_=R.userAgent;return I=window.opera&&window.opera.buildNumber,G=/Android/.test(_),T=(T=!(x=/WebKit/.test(_))&&!I&&/MSIE/gi.test(_)&&/Explorer/gi.test(R.appName))&&/MSIE (\w+)\./.exec(_)[1],S=-1!=_.indexOf("Trident/")&&(-1!=_.indexOf("rv:")||-1!=R.appName.indexOf("Netscape"))&&11,A=-1!=_.indexOf("Edge/")&&!T&&!S&&12,T=T||S||A,k=!x&&!S&&/Gecko/.test(_),V=-1!=_.indexOf("Mac"),H=/(iPad|iPhone)/.test(_),$="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,te=W("only screen and (max-device-width: 480px)")&&(G||H),K=W("only screen and (min-width: 800px)")&&(G||H),re=-1!=_.indexOf("Windows Phone"),A&&(x=!1),{opera:I,webkit:x,ie:T,gecko:k,mac:V,iOS:H,android:G,contentEditable:!H||$||_.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=T,range:window.getSelection&&"Range"in window,documentMode:T&&!A?document.documentMode||7:10,fileApi:$,ceFalse:!1===T||T>8,canHaveCSP:!1===T||T>11,desktop:!te&&!K,windowsPhone:re}}),Ne(B,[y,D],function(W,R){function _(G,$,te,K){G.addEventListener?G.addEventListener($,te,K||!1):G.attachEvent&&G.attachEvent("on"+$,te)}function I(G,$,te,K){G.removeEventListener?G.removeEventListener($,te,K||!1):G.detachEvent&&G.detachEvent("on"+$,te)}function T(G,$){function te(){return!1}function K(){return!0}var re,Q=$||{};for(re in G)H[re]||(Q[re]=G[re]);if(Q.target||(Q.target=Q.srcElement||document),R.experimentalShadowDom&&(Q.target=function x(G,$){var te,K=$;return(te=G.path)&&te.length>0&&(K=te[0]),G.deepPath&&(te=G.deepPath())&&te.length>0&&(K=te[0]),K}(G,Q.target)),G&&V.test(G.type)&&void 0===G.pageX&&void 0!==G.clientX){var Z=Q.target.ownerDocument||document,Y=Z.documentElement,z=Z.body;Q.pageX=G.clientX+(Y&&Y.scrollLeft||z&&z.scrollLeft||0)-(Y&&Y.clientLeft||z&&z.clientLeft||0),Q.pageY=G.clientY+(Y&&Y.scrollTop||z&&z.scrollTop||0)-(Y&&Y.clientTop||z&&z.clientTop||0)}return Q.preventDefault=function(){Q.isDefaultPrevented=K,G&&(G.preventDefault?G.preventDefault():G.returnValue=!1)},Q.stopPropagation=function(){Q.isPropagationStopped=K,G&&(G.stopPropagation?G.stopPropagation():G.cancelBubble=!0)},Q.stopImmediatePropagation=function(){Q.isImmediatePropagationStopped=K,Q.stopPropagation()},Q.isDefaultPrevented||(Q.isDefaultPrevented=te,Q.isPropagationStopped=te,Q.isImmediatePropagationStopped=te),typeof Q.metaKey>"u"&&(Q.metaKey=!1),Q}function S(G,$,te){function K(){te.domLoaded||(te.domLoaded=!0,$(Z))}var pe=G.document,Z={type:"ready"};return te.domLoaded?void $(Z):(pe.addEventListener?"complete"===pe.readyState?K():_(G,"DOMContentLoaded",K):(_(pe,"readystatechange",function re(){("complete"===pe.readyState||"interactive"===pe.readyState&&pe.body)&&(I(pe,"readystatechange",re),K())}),pe.documentElement.doScroll&&G.self===G.top&&function Q(){try{pe.documentElement.doScroll("left")}catch{return void W.setTimeout(Q)}K()}()),void _(G,"load",K))}function A(){function G(Y,z){var C,E,ne,me,se=te[z];if(C=se&&se[Y.type])for(E=0,ne=C.length;E<ne;E++)if((me=C[E])&&!1===me.func.call(me.scope,Y)&&Y.preventDefault(),Y.isImmediatePropagationStopped())return}var K,re,Q,pe,Z,$=this,te={};re=k+(+new Date).toString(32),pe="onmouseenter"in document.documentElement,Q="onfocusin"in document.documentElement,Z={mouseenter:"mouseover",mouseleave:"mouseout"},K=1,$.domLoaded=!1,$.events=te,$.bind=function(Y,z,C,E){function ne(lt){G(T(lt||ut.event),me)}var me,se,Se,Be,ht,ot,rt,ut=window;if(Y&&3!==Y.nodeType&&8!==Y.nodeType){for(Y[re]?me=Y[re]:(me=K++,Y[re]=me,te[me]={}),E=E||Y,Se=(z=z.split(" ")).length;Se--;)ot=ne,ht=rt=!1,"DOMContentLoaded"===(Be=z[Se])&&(Be="ready"),$.domLoaded&&"ready"===Be&&"complete"==Y.readyState?C.call(E,T({type:Be})):(pe||(ht=Z[Be])&&(ot=function(lt){var _t,ft;if(_t=lt.currentTarget,(ft=lt.relatedTarget)&&_t.contains)ft=_t.contains(ft);else for(;ft&&ft!==_t;)ft=ft.parentNode;ft||((lt=T(lt||ut.event)).type="mouseout"===lt.type?"mouseleave":"mouseenter",lt.target=_t,G(lt,me))}),Q||"focusin"!==Be&&"focusout"!==Be||(rt=!0,ht="focusin"===Be?"focus":"blur",ot=function(lt){(lt=T(lt||ut.event)).type="focus"===lt.type?"focusin":"focusout",G(lt,me)}),(se=te[me][Be])?"ready"===Be&&$.domLoaded?C({type:Be}):se.push({func:C,scope:E}):(te[me][Be]=se=[{func:C,scope:E}],se.fakeName=ht,se.capture=rt,se.nativeHandler=ot,"ready"===Be?S(Y,ot,$):_(Y,ht||Be,ot,rt)));return Y=se=0,C}},$.unbind=function(Y,z,C){var E,ne,me,se,Se,Be;if(!Y||3===Y.nodeType||8===Y.nodeType)return $;if(E=Y[re]){if(Be=te[E],z){for(me=(z=z.split(" ")).length;me--;)if(ne=Be[Se=z[me]]){if(C)for(se=ne.length;se--;)if(ne[se].func===C){var ht=ne.nativeHandler,ot=ne.fakeName,rt=ne.capture;(ne=ne.slice(0,se).concat(ne.slice(se+1))).nativeHandler=ht,ne.fakeName=ot,ne.capture=rt,Be[Se]=ne}C&&0!==ne.length||(delete Be[Se],I(Y,ne.fakeName||Se,ne.nativeHandler,ne.capture))}}else{for(Se in Be)I(Y,(ne=Be[Se]).fakeName||Se,ne.nativeHandler,ne.capture);Be={}}for(Se in Be)return $;delete te[E];try{delete Y[re]}catch{Y[re]=null}}return $},$.fire=function(Y,z,C){var E;if(!Y||3===Y.nodeType||8===Y.nodeType)return $;(C=T(null,C)).type=z,C.target=Y;do{(E=Y[re])&&G(C,E),Y=Y.parentNode||Y.ownerDocument||Y.defaultView||Y.parentWindow}while(Y&&!C.isPropagationStopped());return $},$.clean=function(Y){var z,C,E=$.unbind;if(!Y||3===Y.nodeType||8===Y.nodeType)return $;if(Y[re]&&E(Y),Y.getElementsByTagName||(Y=Y.document),Y&&Y.getElementsByTagName)for(E(Y),z=(C=Y.getElementsByTagName("*")).length;z--;)(Y=C[z])[re]&&E(Y);return $},$.destroy=function(){te={}},$.cancel=function(Y){return Y&&(Y.preventDefault(),Y.stopImmediatePropagation()),!1}}var k="mce-data-",V=/^(?:mouse|contextmenu)|click/,H={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return(A.Event=new A).bind(window,"ready",function(){}),A}),Ne(w,[],function(){function W(je,vt,Ut,sn){var Ln,dn,Pt,wn,kn,ii,Xt,Pn,cn,jn;if((vt?vt.ownerDocument||vt:zt)!==ut&&rt(vt),Ut=Ut||[],!je||"string"!=typeof je)return Ut;if(1!==(wn=(vt=vt||ut).nodeType)&&9!==wn)return[];if(_t&&!sn){if(Ln=wi.exec(je))if(Pt=Ln[1]){if(9===wn){if(!(dn=vt.getElementById(Pt))||!dn.parentNode)return Ut;if(dn.id===Pt)return Ut.push(dn),Ut}else if(vt.ownerDocument&&(dn=vt.ownerDocument.getElementById(Pt))&&ct(vt,dn)&&dn.id===Pt)return Ut.push(dn),Ut}else{if(Ln[2])return Zt.apply(Ut,vt.getElementsByTagName(je)),Ut;if((Pt=Ln[3])&&z.getElementsByClassName)return Zt.apply(Ut,vt.getElementsByClassName(Pt)),Ut}if(z.qsa&&(!ft||!ft.test(je))){if(Pn=Xt=Mt,cn=vt,jn=9===wn&&je,1===wn&&"object"!==vt.nodeName.toLowerCase()){for(ii=me(je),(Xt=vt.getAttribute("id"))?Pn=Xt.replace(Ni,"\\$&"):vt.setAttribute("id",Pn),Pn="[id='"+Pn+"'] ",kn=ii.length;kn--;)ii[kn]=Pn+G(ii[kn]);cn=ui.test(je)&&V(vt.parentNode)||vt,jn=ii.join(",")}if(jn)try{return Zt.apply(Ut,cn.querySelectorAll(jn)),Ut}catch{}finally{Xt||vt.removeAttribute("id")}}}return Se(je.replace(vi,"$1"),vt,Ut,sn)}function R(){var vt=[];return function je(Ut,sn){return vt.push(Ut+" ")>C.cacheLength&&delete je[vt.shift()],je[Ut+" "]=sn}}function _(je){return je[Mt]=!0,je}function I(je){var vt=ut.createElement("div");try{return!!je(vt)}catch{return!1}finally{vt.parentNode&&vt.parentNode.removeChild(vt),vt=null}}function x(je,vt){for(var Ut=je.split("|"),sn=je.length;sn--;)C.attrHandle[Ut[sn]]=vt}function T(je,vt){var Ut=vt&&je,sn=Ut&&1===je.nodeType&&1===vt.nodeType&&(~vt.sourceIndex||He)-(~je.sourceIndex||He);if(sn)return sn;if(Ut)for(;Ut=Ut.nextSibling;)if(Ut===vt)return-1;return je?1:-1}function S(je){return function(vt){return"input"===vt.nodeName.toLowerCase()&&vt.type===je}}function A(je){return function(vt){var Ut=vt.nodeName.toLowerCase();return("input"===Ut||"button"===Ut)&&vt.type===je}}function k(je){return _(function(vt){return vt=+vt,_(function(Ut,sn){for(var Ln,dn=je([],Ut.length,vt),Pt=dn.length;Pt--;)Ut[Ln=dn[Pt]]&&(Ut[Ln]=!(sn[Ln]=Ut[Ln]))})})}function V(je){return je&&typeof je.getElementsByTagName!==Ye&&je}function H(){}function G(je){for(var vt=0,Ut=je.length,sn="";vt<Ut;vt++)sn+=je[vt].value;return sn}function $(je,vt,Ut){var sn=vt.dir,Ln=Ut&&"parentNode"===sn,dn=On++;return vt.first?function(Pt,wn,kn){for(;Pt=Pt[sn];)if(1===Pt.nodeType||Ln)return je(Pt,wn,kn)}:function(Pt,wn,kn){var ii,Xt,Pn=[yn,dn];if(kn){for(;Pt=Pt[sn];)if((1===Pt.nodeType||Ln)&&je(Pt,wn,kn))return!0}else for(;Pt=Pt[sn];)if(1===Pt.nodeType||Ln){if((ii=(Xt=Pt[Mt]||(Pt[Mt]={}))[sn])&&ii[0]===yn&&ii[1]===dn)return Pn[2]=ii[2];if(Xt[sn]=Pn,Pn[2]=je(Pt,wn,kn))return!0}}}function te(je){return je.length>1?function(vt,Ut,sn){for(var Ln=je.length;Ln--;)if(!je[Ln](vt,Ut,sn))return!1;return!0}:je[0]}function re(je,vt,Ut,sn,Ln){for(var dn,Pt=[],wn=0,kn=je.length,ii=null!=vt;wn<kn;wn++)(dn=je[wn])&&(Ut&&!Ut(dn,sn,Ln)||(Pt.push(dn),ii&&vt.push(wn)));return Pt}function Q(je,vt,Ut,sn,Ln,dn){return sn&&!sn[Mt]&&(sn=Q(sn)),Ln&&!Ln[Mt]&&(Ln=Q(Ln,dn)),_(function(Pt,wn,kn,ii){var Xt,Pn,cn,jn=[],$n=[],Yn=wn.length,Kn=Pt||function K(je,vt,Ut){for(var sn=0,Ln=vt.length;sn<Ln;sn++)W(je,vt[sn],Ut);return Ut}(vt||"*",kn.nodeType?[kn]:kn,[]),oi=!je||!Pt&&vt?Kn:re(Kn,jn,je,kn,ii),Di=Ut?Ln||(Pt?je:Yn||sn)?[]:wn:oi;if(Ut&&Ut(oi,Di,kn,ii),sn)for(Xt=re(Di,$n),sn(Xt,[],kn,ii),Pn=Xt.length;Pn--;)(cn=Xt[Pn])&&(Di[$n[Pn]]=!(oi[$n[Pn]]=cn));if(Pt){if(Ln||je){if(Ln){for(Xt=[],Pn=Di.length;Pn--;)(cn=Di[Pn])&&Xt.push(oi[Pn]=cn);Ln(null,Di=[],Xt,ii)}for(Pn=Di.length;Pn--;)(cn=Di[Pn])&&(Xt=Ln?tt.call(Pt,cn):jn[Pn])>-1&&(Pt[Xt]=!(wn[Xt]=cn))}}else Di=re(Di===wn?Di.splice(Yn,Di.length):Di),Ln?Ln(null,wn,Di,ii):Zt.apply(wn,Di)})}function pe(je){for(var vt,Ut,sn,Ln=je.length,dn=C.relative[je[0].type],Pt=dn||C.relative[" "],wn=dn?1:0,kn=$(function(Pn){return Pn===vt},Pt,!0),ii=$(function(Pn){return tt.call(vt,Pn)>-1},Pt,!0),Xt=[function(Pn,cn,jn){return!dn&&(jn||cn!==Be)||((vt=cn).nodeType?kn(Pn,cn,jn):ii(Pn,cn,jn))}];wn<Ln;wn++)if(Ut=C.relative[je[wn].type])Xt=[$(te(Xt),Ut)];else{if((Ut=C.filter[je[wn].type].apply(null,je[wn].matches))[Mt]){for(sn=++wn;sn<Ln&&!C.relative[je[sn].type];sn++);return Q(wn>1&&te(Xt),wn>1&&G(je.slice(0,wn-1).concat({value:" "===je[wn-2].type?"*":""})).replace(vi,"$1"),Ut,wn<sn&&pe(je.slice(wn,sn)),sn<Ln&&pe(je=je.slice(sn)),sn<Ln&&G(je))}Xt.push(Ut)}return te(Xt)}var Y,z,C,E,ne,me,se,Se,Be,ht,ot,rt,ut,lt,_t,ft,Pe,$e,ct,Mt="sizzle"+-new Date,zt=window.document,yn=0,On=0,Gn=R(),Xn=R(),qn=R(),Bt=function(je,vt){return je===vt&&(ot=!0),0},Ye=typeof Ve,He=1<<31,St={}.hasOwnProperty,jt=[],on=jt.pop,un=jt.push,Zt=jt.push,Dn=jt.slice,tt=jt.indexOf||function(je){for(var vt=0,Ut=this.length;vt<Ut;vt++)if(this[vt]===je)return vt;return-1},yt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Dt="[\\x20\\t\\r\\n\\f]",nn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",En="\\["+Dt+"*("+nn+")(?:"+Dt+"*([*^$|!~]?=)"+Dt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nn+"))|)"+Dt+"*\\]",di=":("+nn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+En+")*)|.*)\\)|)",vi=new RegExp("^"+Dt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Dt+"+$","g"),yi=new RegExp("^"+Dt+"*,"+Dt+"*"),hi=new RegExp("^"+Dt+"*([>+~]|"+Dt+")"+Dt+"*"),nr=new RegExp("="+Dt+"*([^\\]'\"]*?)"+Dt+"*\\]","g"),Ri=new RegExp(di),Bi=new RegExp("^"+nn+"$"),Tn={ID:new RegExp("^#("+nn+")"),CLASS:new RegExp("^\\.("+nn+")"),TAG:new RegExp("^("+nn+"|[*])"),ATTR:new RegExp("^"+En),PSEUDO:new RegExp("^"+di),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Dt+"*(even|odd|(([+-]|)(\\d*)n|)"+Dt+"*(?:([+-]|)"+Dt+"*(\\d+)|))"+Dt+"*\\)|)","i"),bool:new RegExp("^(?:"+yt+")$","i"),needsContext:new RegExp("^"+Dt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Dt+"*((?:-\\d)?\\d*)"+Dt+"*\\)|)(?=[^-]|$)","i")},In=/^(?:input|select|textarea|button)$/i,Jt=/^h\d$/i,xn=/^[^{]+\{\s*\[native \w/,wi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ui=/[+~]/,Ni=/'|\\/g,Ft=new RegExp("\\\\([\\da-f]{1,6}"+Dt+"?|("+Dt+")|.)","ig"),qt=function(je,vt,Ut){var sn="0x"+vt-65536;return sn!=sn||Ut?vt:sn<0?String.fromCharCode(sn+65536):String.fromCharCode(sn>>10|55296,1023&sn|56320)};try{Zt.apply(jt=Dn.call(zt.childNodes),zt.childNodes)}catch{Zt={apply:jt.length?function(vt,Ut){un.apply(vt,Dn.call(Ut))}:function(vt,Ut){for(var sn=vt.length,Ln=0;vt[sn++]=Ut[Ln++];);vt.length=sn-1}}}for(Y in z=W.support={},ne=W.isXML=function(je){var vt=je&&(je.ownerDocument||je).documentElement;return!!vt&&"HTML"!==vt.nodeName},rt=W.setDocument=function(je){var Ut,sn=je?je.ownerDocument||je:zt,Ln=sn.defaultView;return sn!==ut&&9===sn.nodeType&&sn.documentElement?(ut=sn,lt=sn.documentElement,_t=!ne(sn),Ln&&Ln!==function vt(dn){try{return dn.top}catch{}return null}(Ln)&&(Ln.addEventListener?Ln.addEventListener("unload",function(){rt()},!1):Ln.attachEvent&&Ln.attachEvent("onunload",function(){rt()})),z.attributes=I(function(dn){return dn.className="i",!dn.getAttribute("className")}),z.getElementsByTagName=I(function(dn){return dn.appendChild(sn.createComment("")),!dn.getElementsByTagName("*").length}),z.getElementsByClassName=xn.test(sn.getElementsByClassName),z.getById=I(function(dn){return lt.appendChild(dn).id=Mt,!sn.getElementsByName||!sn.getElementsByName(Mt).length}),z.getById?(C.find.ID=function(dn,Pt){if(typeof Pt.getElementById!==Ye&&_t){var wn=Pt.getElementById(dn);return wn&&wn.parentNode?[wn]:[]}},C.filter.ID=function(dn){var Pt=dn.replace(Ft,qt);return function(wn){return wn.getAttribute("id")===Pt}}):(delete C.find.ID,C.filter.ID=function(dn){var Pt=dn.replace(Ft,qt);return function(wn){var kn=typeof wn.getAttributeNode!==Ye&&wn.getAttributeNode("id");return kn&&kn.value===Pt}}),C.find.TAG=z.getElementsByTagName?function(dn,Pt){if(typeof Pt.getElementsByTagName!==Ye)return Pt.getElementsByTagName(dn)}:function(dn,Pt){var wn,kn=[],ii=0,Xt=Pt.getElementsByTagName(dn);if("*"===dn){for(;wn=Xt[ii++];)1===wn.nodeType&&kn.push(wn);return kn}return Xt},C.find.CLASS=z.getElementsByClassName&&function(dn,Pt){if(_t)return Pt.getElementsByClassName(dn)},Pe=[],ft=[],(z.qsa=xn.test(sn.querySelectorAll))&&(I(function(dn){dn.innerHTML="<select msallowcapture=''><option selected=''></option></select>",dn.querySelectorAll("[msallowcapture^='']").length&&ft.push("[*^$]="+Dt+"*(?:''|\"\")"),dn.querySelectorAll("[selected]").length||ft.push("\\["+Dt+"*(?:value|"+yt+")"),dn.querySelectorAll(":checked").length||ft.push(":checked")}),I(function(dn){var Pt=sn.createElement("input");Pt.setAttribute("type","hidden"),dn.appendChild(Pt).setAttribute("name","D"),dn.querySelectorAll("[name=d]").length&&ft.push("name"+Dt+"*[*^$|!~]?="),dn.querySelectorAll(":enabled").length||ft.push(":enabled",":disabled"),dn.querySelectorAll("*,:x"),ft.push(",.*:")})),(z.matchesSelector=xn.test($e=lt.matches||lt.webkitMatchesSelector||lt.mozMatchesSelector||lt.oMatchesSelector||lt.msMatchesSelector))&&I(function(dn){z.disconnectedMatch=$e.call(dn,"div"),$e.call(dn,"[s!='']:x"),Pe.push("!=",di)}),ft=ft.length&&new RegExp(ft.join("|")),Pe=Pe.length&&new RegExp(Pe.join("|")),Ut=xn.test(lt.compareDocumentPosition),ct=Ut||xn.test(lt.contains)?function(dn,Pt){var wn=9===dn.nodeType?dn.documentElement:dn,kn=Pt&&Pt.parentNode;return dn===kn||!(!kn||1!==kn.nodeType||!(wn.contains?wn.contains(kn):dn.compareDocumentPosition&&16&dn.compareDocumentPosition(kn)))}:function(dn,Pt){if(Pt)for(;Pt=Pt.parentNode;)if(Pt===dn)return!0;return!1},Bt=Ut?function(dn,Pt){if(dn===Pt)return ot=!0,0;var wn=!dn.compareDocumentPosition-!Pt.compareDocumentPosition;return wn||(1&(wn=(dn.ownerDocument||dn)===(Pt.ownerDocument||Pt)?dn.compareDocumentPosition(Pt):1)||!z.sortDetached&&Pt.compareDocumentPosition(dn)===wn?dn===sn||dn.ownerDocument===zt&&ct(zt,dn)?-1:Pt===sn||Pt.ownerDocument===zt&&ct(zt,Pt)?1:ht?tt.call(ht,dn)-tt.call(ht,Pt):0:4&wn?-1:1)}:function(dn,Pt){if(dn===Pt)return ot=!0,0;var wn,kn=0,ii=dn.parentNode,Xt=Pt.parentNode,Pn=[dn],cn=[Pt];if(!ii||!Xt)return dn===sn?-1:Pt===sn?1:ii?-1:Xt?1:ht?tt.call(ht,dn)-tt.call(ht,Pt):0;if(ii===Xt)return T(dn,Pt);for(wn=dn;wn=wn.parentNode;)Pn.unshift(wn);for(wn=Pt;wn=wn.parentNode;)cn.unshift(wn);for(;Pn[kn]===cn[kn];)kn++;return kn?T(Pn[kn],cn[kn]):Pn[kn]===zt?-1:cn[kn]===zt?1:0},sn):ut},W.matches=function(je,vt){return W(je,null,null,vt)},W.matchesSelector=function(je,vt){if((je.ownerDocument||je)!==ut&&rt(je),vt=vt.replace(nr,"='$1']"),z.matchesSelector&&_t&&(!Pe||!Pe.test(vt))&&(!ft||!ft.test(vt)))try{var Ut=$e.call(je,vt);if(Ut||z.disconnectedMatch||je.document&&11!==je.document.nodeType)return Ut}catch{}return W(vt,ut,null,[je]).length>0},W.contains=function(je,vt){return(je.ownerDocument||je)!==ut&&rt(je),ct(je,vt)},W.attr=function(je,vt){(je.ownerDocument||je)!==ut&&rt(je);var Ut=C.attrHandle[vt.toLowerCase()],sn=Ut&&St.call(C.attrHandle,vt.toLowerCase())?Ut(je,vt,!_t):Ve;return sn!==Ve?sn:z.attributes||!_t?je.getAttribute(vt):(sn=je.getAttributeNode(vt))&&sn.specified?sn.value:null},W.error=function(je){throw new Error("Syntax error, unrecognized expression: "+je)},W.uniqueSort=function(je){var vt,Ut=[],sn=0,Ln=0;if(ot=!z.detectDuplicates,ht=!z.sortStable&&je.slice(0),je.sort(Bt),ot){for(;vt=je[Ln++];)vt===je[Ln]&&(sn=Ut.push(Ln));for(;sn--;)je.splice(Ut[sn],1)}return ht=null,je},E=W.getText=function(je){var vt,Ut="",sn=0,Ln=je.nodeType;if(Ln){if(1===Ln||9===Ln||11===Ln){if("string"==typeof je.textContent)return je.textContent;for(je=je.firstChild;je;je=je.nextSibling)Ut+=E(je)}else if(3===Ln||4===Ln)return je.nodeValue}else for(;vt=je[sn++];)Ut+=E(vt);return Ut},(C=W.selectors={cacheLength:50,createPseudo:_,match:Tn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(je){return je[1]=je[1].replace(Ft,qt),je[3]=(je[3]||je[4]||je[5]||"").replace(Ft,qt),"~="===je[2]&&(je[3]=" "+je[3]+" "),je.slice(0,4)},CHILD:function(je){return je[1]=je[1].toLowerCase(),"nth"===je[1].slice(0,3)?(je[3]||W.error(je[0]),je[4]=+(je[4]?je[5]+(je[6]||1):2*("even"===je[3]||"odd"===je[3])),je[5]=+(je[7]+je[8]||"odd"===je[3])):je[3]&&W.error(je[0]),je},PSEUDO:function(je){var vt,Ut=!je[6]&&je[2];return Tn.CHILD.test(je[0])?null:(je[3]?je[2]=je[4]||je[5]||"":Ut&&Ri.test(Ut)&&(vt=me(Ut,!0))&&(vt=Ut.indexOf(")",Ut.length-vt)-Ut.length)&&(je[0]=je[0].slice(0,vt),je[2]=Ut.slice(0,vt)),je.slice(0,3))}},filter:{TAG:function(je){var vt=je.replace(Ft,qt).toLowerCase();return"*"===je?function(){return!0}:function(Ut){return Ut.nodeName&&Ut.nodeName.toLowerCase()===vt}},CLASS:function(je){var vt=Gn[je+" "];return vt||(vt=new RegExp("(^|"+Dt+")"+je+"("+Dt+"|$)"))&&Gn(je,function(Ut){return vt.test("string"==typeof Ut.className&&Ut.className||typeof Ut.getAttribute!==Ye&&Ut.getAttribute("class")||"")})},ATTR:function(je,vt,Ut){return function(sn){var Ln=W.attr(sn,je);return null==Ln?"!="===vt:!vt||(Ln+="","="===vt?Ln===Ut:"!="===vt?Ln!==Ut:"^="===vt?Ut&&0===Ln.indexOf(Ut):"*="===vt?Ut&&Ln.indexOf(Ut)>-1:"$="===vt?Ut&&Ln.slice(-Ut.length)===Ut:"~="===vt?(" "+Ln+" ").indexOf(Ut)>-1:"|="===vt&&(Ln===Ut||Ln.slice(0,Ut.length+1)===Ut+"-"))}},CHILD:function(je,vt,Ut,sn,Ln){var dn="nth"!==je.slice(0,3),Pt="last"!==je.slice(-4),wn="of-type"===vt;return 1===sn&&0===Ln?function(kn){return!!kn.parentNode}:function(kn,ii,Xt){var Pn,cn,jn,$n,Yn,Kn,oi=dn!==Pt?"nextSibling":"previousSibling",Di=kn.parentNode,sr=wn&&kn.nodeName.toLowerCase(),zi=!Xt&&!wn;if(Di){if(dn){for(;oi;){for(jn=kn;jn=jn[oi];)if(wn?jn.nodeName.toLowerCase()===sr:1===jn.nodeType)return!1;Kn=oi="only"===je&&!Kn&&"nextSibling"}return!0}if(Kn=[Pt?Di.firstChild:Di.lastChild],Pt&&zi){for($n=(Pn=(cn=Di[Mt]||(Di[Mt]={}))[je]||[])[0]===yn&&Pn[2],jn=(Yn=Pn[0]===yn&&Pn[1])&&Di.childNodes[Yn];jn=++Yn&&jn&&jn[oi]||($n=Yn=0)||Kn.pop();)if(1===jn.nodeType&&++$n&&jn===kn){cn[je]=[yn,Yn,$n];break}}else if(zi&&(Pn=(kn[Mt]||(kn[Mt]={}))[je])&&Pn[0]===yn)$n=Pn[1];else for(;(jn=++Yn&&jn&&jn[oi]||($n=Yn=0)||Kn.pop())&&((wn?jn.nodeName.toLowerCase()!==sr:1!==jn.nodeType)||!++$n||(zi&&((jn[Mt]||(jn[Mt]={}))[je]=[yn,$n]),jn!==kn)););return($n-=Ln)===sn||$n%sn==0&&$n/sn>=0}}},PSEUDO:function(je,vt){var Ut,sn=C.pseudos[je]||C.setFilters[je.toLowerCase()]||W.error("unsupported pseudo: "+je);return sn[Mt]?sn(vt):sn.length>1?(Ut=[je,je,"",vt],C.setFilters.hasOwnProperty(je.toLowerCase())?_(function(Ln,dn){for(var Pt,wn=sn(Ln,vt),kn=wn.length;kn--;)Ln[Pt=tt.call(Ln,wn[kn])]=!(dn[Pt]=wn[kn])}):function(Ln){return sn(Ln,0,Ut)}):sn}},pseudos:{not:_(function(je){var vt=[],Ut=[],sn=se(je.replace(vi,"$1"));return sn[Mt]?_(function(Ln,dn,Pt,wn){for(var kn,ii=sn(Ln,null,wn,[]),Xt=Ln.length;Xt--;)(kn=ii[Xt])&&(Ln[Xt]=!(dn[Xt]=kn))}):function(Ln,dn,Pt){return vt[0]=Ln,sn(vt,null,Pt,Ut),!Ut.pop()}}),has:_(function(je){return function(vt){return W(je,vt).length>0}}),contains:_(function(je){return je=je.replace(Ft,qt),function(vt){return(vt.textContent||vt.innerText||E(vt)).indexOf(je)>-1}}),lang:_(function(je){return Bi.test(je||"")||W.error("unsupported lang: "+je),je=je.replace(Ft,qt).toLowerCase(),function(vt){var Ut;do{if(Ut=_t?vt.lang:vt.getAttribute("xml:lang")||vt.getAttribute("lang"))return(Ut=Ut.toLowerCase())===je||0===Ut.indexOf(je+"-")}while((vt=vt.parentNode)&&1===vt.nodeType);return!1}}),target:function(je){var vt=window.location&&window.location.hash;return vt&&vt.slice(1)===je.id},root:function(je){return je===lt},focus:function(je){return je===ut.activeElement&&(!ut.hasFocus||ut.hasFocus())&&!!(je.type||je.href||~je.tabIndex)},enabled:function(je){return!1===je.disabled},disabled:function(je){return!0===je.disabled},checked:function(je){var vt=je.nodeName.toLowerCase();return"input"===vt&&!!je.checked||"option"===vt&&!!je.selected},selected:function(je){return!0===je.selected},empty:function(je){for(je=je.firstChild;je;je=je.nextSibling)if(je.nodeType<6)return!1;return!0},parent:function(je){return!C.pseudos.empty(je)},header:function(je){return Jt.test(je.nodeName)},input:function(je){return In.test(je.nodeName)},button:function(je){var vt=je.nodeName.toLowerCase();return"input"===vt&&"button"===je.type||"button"===vt},text:function(je){var vt;return"input"===je.nodeName.toLowerCase()&&"text"===je.type&&(null==(vt=je.getAttribute("type"))||"text"===vt.toLowerCase())},first:k(function(){return[0]}),last:k(function(je,vt){return[vt-1]}),eq:k(function(je,vt,Ut){return[Ut<0?Ut+vt:Ut]}),even:k(function(je,vt){for(var Ut=0;Ut<vt;Ut+=2)je.push(Ut);return je}),odd:k(function(je,vt){for(var Ut=1;Ut<vt;Ut+=2)je.push(Ut);return je}),lt:k(function(je,vt,Ut){for(var sn=Ut<0?Ut+vt:Ut;--sn>=0;)je.push(sn);return je}),gt:k(function(je,vt,Ut){for(var sn=Ut<0?Ut+vt:Ut;++sn<vt;)je.push(sn);return je})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[Y]=S(Y);for(Y in{submit:!0,reset:!0})C.pseudos[Y]=A(Y);return H.prototype=C.filters=C.pseudos,C.setFilters=new H,me=W.tokenize=function(je,vt){var Ut,sn,Ln,dn,Pt,wn,kn,ii=Xn[je+" "];if(ii)return vt?0:ii.slice(0);for(Pt=je,wn=[],kn=C.preFilter;Pt;){for(dn in Ut&&!(sn=yi.exec(Pt))||(sn&&(Pt=Pt.slice(sn[0].length)||Pt),wn.push(Ln=[])),Ut=!1,(sn=hi.exec(Pt))&&(Ut=sn.shift(),Ln.push({value:Ut,type:sn[0].replace(vi," ")}),Pt=Pt.slice(Ut.length)),C.filter)!(sn=Tn[dn].exec(Pt))||kn[dn]&&!(sn=kn[dn](sn))||(Ut=sn.shift(),Ln.push({value:Ut,type:dn,matches:sn}),Pt=Pt.slice(Ut.length));if(!Ut)break}return vt?Pt.length:Pt?W.error(je):Xn(je,wn).slice(0)},se=W.compile=function(je,vt){var Ut,sn=[],Ln=[],dn=qn[je+" "];if(!dn){for(vt||(vt=me(je)),Ut=vt.length;Ut--;)(dn=pe(vt[Ut]))[Mt]?sn.push(dn):Ln.push(dn);dn=qn(je,function Z(je,vt){var Ut=vt.length>0,sn=je.length>0,Ln=function(dn,Pt,wn,kn,ii){var Xt,Pn,cn,jn=0,$n="0",Yn=dn&&[],Kn=[],oi=Be,Di=dn||sn&&C.find.TAG("*",ii),sr=yn+=null==oi?1:Math.random()||.1,zi=Di.length;for(ii&&(Be=Pt!==ut&&Pt);$n!==zi&&null!=(Xt=Di[$n]);$n++){if(sn&&Xt){for(Pn=0;cn=je[Pn++];)if(cn(Xt,Pt,wn)){kn.push(Xt);break}ii&&(yn=sr)}Ut&&((Xt=!cn&&Xt)&&jn--,dn&&Yn.push(Xt))}if(jn+=$n,Ut&&$n!==jn){for(Pn=0;cn=vt[Pn++];)cn(Yn,Kn,Pt,wn);if(dn){if(jn>0)for(;$n--;)Yn[$n]||Kn[$n]||(Kn[$n]=on.call(kn));Kn=re(Kn)}Zt.apply(kn,Kn),ii&&!dn&&Kn.length>0&&jn+vt.length>1&&W.uniqueSort(kn)}return ii&&(yn=sr,Be=oi),Yn};return Ut?_(Ln):Ln}(Ln,sn)),dn.selector=je}return dn},Se=W.select=function(je,vt,Ut,sn){var Ln,dn,Pt,wn,kn,ii="function"==typeof je&&je,Xt=!sn&&me(je=ii.selector||je);if(Ut=Ut||[],1===Xt.length){if((dn=Xt[0]=Xt[0].slice(0)).length>2&&"ID"===(Pt=dn[0]).type&&z.getById&&9===vt.nodeType&&_t&&C.relative[dn[1].type]){if(!(vt=(C.find.ID(Pt.matches[0].replace(Ft,qt),vt)||[])[0]))return Ut;ii&&(vt=vt.parentNode),je=je.slice(dn.shift().value.length)}for(Ln=Tn.needsContext.test(je)?0:dn.length;Ln--&&!C.relative[wn=(Pt=dn[Ln]).type];)if((kn=C.find[wn])&&(sn=kn(Pt.matches[0].replace(Ft,qt),ui.test(dn[0].type)&&V(vt.parentNode)||vt))){if(dn.splice(Ln,1),!(je=sn.length&&G(dn)))return Zt.apply(Ut,sn),Ut;break}}return(ii||se(je,Xt))(sn,vt,!_t,Ut,ui.test(je)&&V(vt.parentNode)||vt),Ut},z.sortStable=Mt.split("").sort(Bt).join("")===Mt,z.detectDuplicates=!!ot,rt(),z.sortDetached=I(function(je){return 1&je.compareDocumentPosition(ut.createElement("div"))}),I(function(je){return je.innerHTML="<a href='#'></a>","#"===je.firstChild.getAttribute("href")})||x("type|href|height|width",function(je,vt,Ut){if(!Ut)return je.getAttribute(vt,"type"===vt.toLowerCase()?1:2)}),z.attributes&&I(function(je){return je.innerHTML="<input/>",je.firstChild.setAttribute("value",""),""===je.firstChild.getAttribute("value")})||x("value",function(je,vt,Ut){if(!Ut&&"input"===je.nodeName.toLowerCase())return je.defaultValue}),I(function(je){return null==je.getAttribute("disabled")})||x(yt,function(je,vt,Ut){var sn;if(!Ut)return!0===je[vt]?vt.toLowerCase():(sn=je.getAttributeNode(vt))&&sn.specified?sn.value:null}),W}),Ne(O,[],function(){function R(H,G,$){var te,K;if(!H)return 0;if($=$||H,H.length!==Ve){for(te=0,K=H.length;te<K;te++)if(!1===G.call($,H[te],te,H))return 0}else for(te in H)if(H.hasOwnProperty(te)&&!1===G.call($,H[te],te,H))return 0;return 1}function S(H,G,$){var te,K;for(te=0,K=H.length;te<K;te++)if(G.call($,H[te],te,H))return te;return-1}var V=Array.isArray||function(H){return"[object Array]"===Object.prototype.toString.call(H)};return{isArray:V,toArray:function W(H){var $,te,G=H;if(!V(H))for(G=[],$=0,te=H.length;$<te;$++)G[$]=H[$];return G},each:R,map:function _(H,G){var $=[];return R(H,function(te,K){$.push(G(te,K,H))}),$},filter:function I(H,G){var $=[];return R(H,function(te,K){G&&!G(te,K,H)||$.push(te)}),$},indexOf:function x(H,G){var $,te;if(H)for($=0,te=H.length;$<te;$++)if(H[$]===G)return $;return-1},reduce:function T(H,G,$,te){var K=0;for(arguments.length<3&&($=H[0]);K<H.length;K++)$=G.call(te,$,H[K],K);return $},findIndex:S,find:function A(H,G,$){var te=S(H,G,$);return-1!==te?H[te]:Ve},last:function k(H){return H[H.length-1]}}}),Ne(U,[D,O],function(W,R){function _(K){return null===K||K===Ve?"":(""+K).replace(te,"")}function I(K,re){return re?!("array"!=re||!R.isArray(K))||typeof K==re:K!==Ve}var te=/^\s*|\s*$/g;return{trim:_,isArray:R.isArray,is:I,toArray:R.toArray,makeMap:function x(K,re,Q){var pe;for(re=re||",","string"==typeof(K=K||[])&&(K=K.split(re)),Q=Q||{},pe=K.length;pe--;)Q[K[pe]]={};return Q},each:R.each,map:R.map,grep:R.filter,inArray:R.indexOf,hasOwn:function T(K,re){return Object.prototype.hasOwnProperty.call(K,re)},extend:function A(K,re){var Q,pe,Z,z,Y=arguments;for(Q=1,pe=Y.length;Q<pe;Q++)for(Z in re=Y[Q])re.hasOwnProperty(Z)&&(z=re[Z])!==Ve&&(K[Z]=z);return K},create:function S(K,re,Q){var Z,Y,z,C,E,pe=this,ne=0;if(K=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(K),z=K[3].match(/(^|\.)(\w+)$/i)[2],!(Y=pe.createNS(K[3].replace(/\.\w+$/,""),Q))[z]){if("static"==K[2])return Y[z]=re,void(this.onCreate&&this.onCreate(K[2],K[3],Y[z]));re[z]||(re[z]=function(){},ne=1),Y[z]=re[z],pe.extend(Y[z].prototype,re),K[5]&&(Z=pe.resolve(K[5]).prototype,C=K[5].match(/\.(\w+)$/i)[1],E=Y[z],Y[z]=ne?function(){return Z[C].apply(this,arguments)}:function(){return this.parent=Z[C],E.apply(this,arguments)},Y[z].prototype[z]=Y[z],pe.each(Z,function(me,se){Y[z].prototype[se]=Z[se]}),pe.each(re,function(me,se){Z[se]?Y[z].prototype[se]=function(){return this.parent=Z[se],me.apply(this,arguments)}:se!=z&&(Y[z].prototype[se]=me)})),pe.each(re.static,function(me,se){Y[z][se]=me})}},walk:function k(K,re,Q,pe){pe=pe||this,K&&(Q&&(K=K[Q]),R.each(K,function(Z,Y){return!1!==re.call(pe,Z,Y,Q)&&void k(Z,re,Q,pe)}))},createNS:function V(K,re){var Q,pe;for(re=re||window,K=K.split("."),Q=0;Q<K.length;Q++)re[pe=K[Q]]||(re[pe]={}),re=re[pe];return re},resolve:function H(K,re){var Q,pe;for(re=re||window,Q=0,pe=(K=K.split(".")).length;Q<pe&&(re=re[K[Q]]);Q++);return re},explode:function G(K,re){return!K||I(K,"array")?K:R.map(K.split(re||","),_)},_addCacheSuffix:function $(K){var re=W.cacheSuffix;return re&&(K+=(-1===K.indexOf("?")?"?":"&")+re),K}}}),Ne(oe,[B,w,U,D],function(W,R,_,I){function x(Pe){return typeof Pe<"u"}function T(Pe){return"string"==typeof Pe}function A(Pe,$e){var ct,Mt,zt;for(zt=($e=$e||C).createElement("div"),ct=$e.createDocumentFragment(),zt.innerHTML=Pe;Mt=zt.firstChild;)ct.appendChild(Mt);return ct}function k(Pe,$e,ct,Mt){var zt;if(T($e))$e=A($e,Q(Pe[0]));else if($e.length&&!$e.nodeType){if($e=G.makeArray($e),Mt)for(zt=$e.length-1;zt>=0;zt--)k(Pe,$e[zt],ct,Mt);else for(zt=0;zt<$e.length;zt++)k(Pe,$e[zt],ct,Mt);return Pe}if($e.nodeType)for(zt=Pe.length;zt--;)ct.call(Pe[zt],$e);return Pe}function V(Pe,$e){return Pe&&$e&&-1!==(" "+Pe.className+" ").indexOf(" "+$e+" ")}function H(Pe,$e,ct){var Mt,zt;return $e=G($e)[0],Pe.each(function(){var yn=this;ct&&Mt==yn.parentNode||(Mt=yn.parentNode,zt=$e.cloneNode(!1),yn.parentNode.insertBefore(zt,yn)),zt.appendChild(yn)}),Pe}function G(Pe,$e){return new G.fn.init(Pe,$e)}function te(Pe){return null===Pe||Pe===Se?"":(""+Pe).replace(ft,"")}function K(Pe,$e){var ct,Mt,zt,On;if(Pe)if(void 0===(ct=Pe.length)){for(Mt in Pe)if(Pe.hasOwnProperty(Mt)&&!1===$e.call(On=Pe[Mt],Mt,On))break}else for(zt=0;zt<ct&&!1!==$e.call(On=Pe[zt],zt,On);zt++);return Pe}function re(Pe,$e){var ct=[];return K(Pe,function(Mt,zt){$e(zt,Mt)&&ct.push(zt)}),ct}function Q(Pe){return Pe?9==Pe.nodeType?Pe:Pe.ownerDocument:C}function pe(Pe,$e,ct){var Mt=[],zt=Pe[$e];for("string"!=typeof ct&&ct instanceof G&&(ct=ct[0]);zt&&9!==zt.nodeType&&(ct===Ve||!(zt===ct||"string"==typeof ct&&G(zt).is(ct)));)1===zt.nodeType&&Mt.push(zt),zt=zt[$e];return Mt}function Z(Pe,$e,ct,Mt){var zt=[];for(Mt instanceof G&&(Mt=Mt[0]);Pe;Pe=Pe[$e])if(!ct||Pe.nodeType===ct){if(Mt!==Ve&&(Pe===Mt||"string"==typeof Mt&&G(Pe).is(Mt)))break;zt.push(Pe)}return zt}function Y(Pe,$e,ct){for(Pe=Pe[$e];Pe;Pe=Pe[$e])if(Pe.nodeType==ct)return Pe;return null}function z(Pe,$e,ct){K(ct,function(Mt,zt){Pe[Mt]=Pe[Mt]||{},Pe[Mt][$e]=zt})}var Se,C=document,E=Array.prototype.push,ne=Array.prototype.slice,me=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,se=W.Event,Be=_.makeMap("children,contents,next,prev"),ht=_.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ot=_.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),rt={for:"htmlFor",class:"className",readonly:"readOnly"},ut={float:"cssFloat"},lt={},_t={},ft=/^\s*|\s*$/g;return G.fn=G.prototype={constructor:G,selector:"",context:null,length:0,init:function(Pe,$e){var Mt,zt,ct=this;if(!Pe)return ct;if(Pe.nodeType)return ct.context=ct[0]=Pe,ct.length=1,ct;if($e&&$e.nodeType)ct.context=$e;else{if($e)return G(Pe).attr($e);ct.context=$e=document}if(T(Pe)){if(ct.selector=Pe,!(Mt="<"===Pe.charAt(0)&&">"===Pe.charAt(Pe.length-1)&&Pe.length>=3?[null,Pe,null]:me.exec(Pe)))return G($e).find(Pe);if(Mt[1])for(zt=A(Pe,Q($e)).firstChild;zt;)E.call(ct,zt),zt=zt.nextSibling;else{if(!(zt=Q($e).getElementById(Mt[2])))return ct;if(zt.id!==Mt[2])return ct.find(Pe);ct.length=1,ct[0]=zt}}else this.add(Pe,!1);return ct},toArray:function(){return _.toArray(this)},add:function(Pe,$e){var Mt,zt,ct=this;if(T(Pe))return ct.add(G(Pe));if(!1!==$e)for(Mt=G.unique(ct.toArray().concat(G.makeArray(Pe))),ct.length=Mt.length,zt=0;zt<Mt.length;zt++)ct[zt]=Mt[zt];else E.apply(ct,G.makeArray(Pe));return ct},attr:function(Pe,$e){var Mt,ct=this;if("object"==typeof Pe)K(Pe,function(zt,yn){ct.attr(zt,yn)});else{if(!x($e)){if(ct[0]&&1===ct[0].nodeType){if((Mt=lt[Pe])&&Mt.get)return Mt.get(ct[0],Pe);if(ot[Pe])return ct.prop(Pe)?Pe:Se;null===($e=ct[0].getAttribute(Pe,2))&&($e=Se)}return $e}this.each(function(){var zt;if(1===this.nodeType){if((zt=lt[Pe])&&zt.set)return void zt.set(this,$e);null===$e?this.removeAttribute(Pe,2):this.setAttribute(Pe,$e,2)}})}return ct},removeAttr:function(Pe){return this.attr(Pe,null)},prop:function(Pe,$e){var ct=this;if("object"==typeof(Pe=rt[Pe]||Pe))K(Pe,function(Mt,zt){ct.prop(Mt,zt)});else{if(!x($e))return ct[0]&&ct[0].nodeType&&Pe in ct[0]?ct[0][Pe]:$e;this.each(function(){1==this.nodeType&&(this[Pe]=$e)})}return ct},css:function(Pe,$e){function ct(Gn){return Gn.replace(/-(\D)/g,function(Xn,qn){return qn.toUpperCase()})}function Mt(Gn){return Gn.replace(/[A-Z]/g,function(Xn){return"-"+Xn})}var yn,On,zt=this;if("object"==typeof Pe)K(Pe,function(Gn,Xn){zt.css(Gn,Xn)});else if(x($e))Pe=ct(Pe),"number"!=typeof $e||ht[Pe]||($e+="px"),zt.each(function(){var Gn=this.style;if((On=_t[Pe])&&On.set)On.set(this,$e);else{try{this.style[ut[Pe]||Pe]=$e}catch{}null!==$e&&""!==$e||(Gn.removeProperty?Gn.removeProperty(Mt(Pe)):Gn.removeAttribute(Pe))}});else{if(yn=zt[0],(On=_t[Pe])&&On.get)return On.get(yn);if(yn.ownerDocument.defaultView)try{return yn.ownerDocument.defaultView.getComputedStyle(yn,null).getPropertyValue(Mt(Pe))}catch{return Se}else if(yn.currentStyle)return yn.currentStyle[ct(Pe)]}return zt},remove:function(){for(var $e,ct=this.length;ct--;)se.clean($e=this[ct]),$e.parentNode&&$e.parentNode.removeChild($e);return this},empty:function(){for(var $e,ct=this.length;ct--;)for($e=this[ct];$e.firstChild;)$e.removeChild($e.firstChild);return this},html:function(Pe){var ct,$e=this;if(x(Pe)){ct=$e.length;try{for(;ct--;)$e[ct].innerHTML=Pe}catch{G($e[ct]).empty().append(Pe)}return $e}return $e[0]?$e[0].innerHTML:""},text:function(Pe){var ct,$e=this;if(x(Pe)){for(ct=$e.length;ct--;)"innerText"in $e[ct]?$e[ct].innerText=Pe:$e[0].textContent=Pe;return $e}return $e[0]?$e[0].innerText||$e[0].textContent:""},append:function(){return k(this,arguments,function(Pe){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(Pe)})},prepend:function(){return k(this,arguments,function(Pe){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(Pe,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?k(this,arguments,function($e){this.parentNode.insertBefore($e,this)}):this},after:function(){return this[0]&&this[0].parentNode?k(this,arguments,function($e){this.parentNode.insertBefore($e,this.nextSibling)},!0):this},appendTo:function(Pe){return G(Pe).append(this),this},prependTo:function(Pe){return G(Pe).prepend(this),this},replaceWith:function(Pe){return this.before(Pe).remove()},wrap:function(Pe){return H(this,Pe)},wrapAll:function(Pe){return H(this,Pe,!0)},wrapInner:function(Pe){return this.each(function(){G(this).contents().wrapAll(Pe)}),this},unwrap:function(){return this.parent().each(function(){G(this).replaceWith(this.childNodes)})},clone:function(){var Pe=[];return this.each(function(){Pe.push(this.cloneNode(!0))}),G(Pe)},addClass:function(Pe){return this.toggleClass(Pe,!0)},removeClass:function(Pe){return this.toggleClass(Pe,!1)},toggleClass:function(Pe,$e){var ct=this;return"string"!=typeof Pe||(-1!==Pe.indexOf(" ")?K(Pe.split(" "),function(){ct.toggleClass(this,$e)}):ct.each(function(Mt,zt){var yn,On;(On=V(zt,Pe))!==$e&&(yn=zt.className,On?zt.className=te((" "+yn+" ").replace(" "+Pe+" "," ")):zt.className+=yn?" "+Pe:Pe)})),ct},hasClass:function(Pe){return V(this[0],Pe)},each:function(Pe){return K(this,Pe)},on:function(Pe,$e){return this.each(function(){se.bind(this,Pe,$e)})},off:function(Pe,$e){return this.each(function(){se.unbind(this,Pe,$e)})},trigger:function(Pe){return this.each(function(){"object"==typeof Pe?se.fire(this,Pe.type,Pe):se.fire(this,Pe)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new G(ne.apply(this,arguments))},eq:function(Pe){return-1===Pe?this.slice(Pe):this.slice(Pe,+Pe+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(Pe){var $e,ct,Mt=[];for($e=0,ct=this.length;$e<ct;$e++)G.find(Pe,this[$e],Mt);return G(Mt)},filter:function(Pe){return G("function"==typeof Pe?re(this.toArray(),function($e,ct){return Pe(ct,$e)}):G.filter(Pe,this.toArray()))},closest:function(Pe){var $e=[];return Pe instanceof G&&(Pe=Pe[0]),this.each(function(ct,Mt){for(;Mt;){if("string"==typeof Pe&&G(Mt).is(Pe)){$e.push(Mt);break}if(Mt==Pe){$e.push(Mt);break}Mt=Mt.parentNode}}),G($e)},offset:function(Pe){var $e,ct,Mt,On,zt=0,yn=0;return Pe?this.css(Pe):(($e=this[0])&&(Mt=(ct=$e.ownerDocument).documentElement,$e.getBoundingClientRect&&(zt=(On=$e.getBoundingClientRect()).left+(Mt.scrollLeft||ct.body.scrollLeft)-Mt.clientLeft,yn=On.top+(Mt.scrollTop||ct.body.scrollTop)-Mt.clientTop)),{left:zt,top:yn})},push:E,sort:[].sort,splice:[].splice},_.extend(G,{extend:_.extend,makeArray:function(Pe){return function S(Pe){return Pe&&Pe==Pe.window}(Pe)||Pe.nodeType?[Pe]:_.toArray(Pe)},inArray:function $(Pe,$e){var ct;if($e.indexOf)return $e.indexOf(Pe);for(ct=$e.length;ct--;)if($e[ct]===Pe)return ct;return-1},isArray:_.isArray,each:K,trim:te,grep:re,find:R,expr:R.selectors,unique:R.uniqueSort,text:R.getText,contains:R.contains,filter:function(Pe,$e,ct){var Mt=$e.length;for(ct&&(Pe=":not("+Pe+")");Mt--;)1!=$e[Mt].nodeType&&$e.splice(Mt,1);return 1===$e.length?G.find.matchesSelector($e[0],Pe)?[$e[0]]:[]:G.find.matches(Pe,$e)}}),K({parent:function(Pe){var $e=Pe.parentNode;return $e&&11!==$e.nodeType?$e:null},parents:function(Pe){return pe(Pe,"parentNode")},next:function(Pe){return Y(Pe,"nextSibling",1)},prev:function(Pe){return Y(Pe,"previousSibling",1)},children:function(Pe){return Z(Pe.firstChild,"nextSibling",1)},contents:function(Pe){return _.toArray(("iframe"===Pe.nodeName?Pe.contentDocument||Pe.contentWindow.document:Pe).childNodes)}},function(Pe,$e){G.fn[Pe]=function(ct){var zt=[];return this.each(function(){var yn=$e.call(zt,this,ct,zt);yn&&(G.isArray(yn)?zt.push.apply(zt,yn):zt.push(yn))}),this.length>1&&(Be[Pe]||(zt=G.unique(zt)),0===Pe.indexOf("parents")&&(zt=zt.reverse())),zt=G(zt),ct?zt.filter(ct):zt}}),K({parentsUntil:function(Pe,$e){return pe(Pe,"parentNode",$e)},nextUntil:function(Pe,$e){return Z(Pe,"nextSibling",1,$e).slice(1)},prevUntil:function(Pe,$e){return Z(Pe,"previousSibling",1,$e).slice(1)}},function(Pe,$e){G.fn[Pe]=function(ct,Mt){var yn=[];return this.each(function(){var On=$e.call(yn,this,ct,yn);On&&(G.isArray(On)?yn.push.apply(yn,On):yn.push(On))}),this.length>1&&(yn=G.unique(yn),0!==Pe.indexOf("parents")&&"prevUntil"!==Pe||(yn=yn.reverse())),yn=G(yn),Mt?yn.filter(Mt):yn}}),G.fn.is=function(Pe){return!!Pe&&this.filter(Pe).length>0},G.fn.init.prototype=G.fn,G.overrideDefaults=function(Pe){function $e(Mt,zt){return ct=ct||Pe(),0===arguments.length&&(Mt=ct.element),zt||(zt=ct.context),new $e.fn.init(Mt,zt)}var ct;return G.extend($e,this),$e},I.ie&&I.ie<8&&(z(lt,"get",{maxlength:function(Pe){var $e=Pe.maxLength;return 2147483647===$e?Se:$e},size:function(Pe){var $e=Pe.size;return 20===$e?Se:$e},class:function(Pe){return Pe.className},style:function(Pe){var $e=Pe.style.cssText;return 0===$e.length?Se:$e}}),z(lt,"set",{class:function(Pe,$e){Pe.className=$e},style:function(Pe,$e){Pe.style.cssText=$e}})),I.ie&&I.ie<9&&(ut.float="styleFloat",z(_t,"set",{opacity:function(Pe,$e){var ct=Pe.style;null===$e||""===$e?ct.removeAttribute("filter"):(ct.zoom=1,ct.filter="alpha(opacity="+100*$e+")")}})),G.attrHooks=lt,G.cssHooks=_t,G}),Ne(fe,[],function(){return function(W,R){function _(te,K,re,Q){function pe(Z){return(Z=parseInt(Z,10).toString(16)).length>1?Z:"0"+Z}return"#"+pe(K)+pe(re)+pe(Q)}var A,V,H,G,I=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,x=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,T=/\s*([^:]+):\s*([^;]+);?/g,S=/\s+$/,k={};for(W=W||{},R&&(H=R.getValidStyles(),G=R.getInvalidStyles()),V="\\\" \\' \\; \\: ; : \ufeff".split(" "),A=0;A<V.length;A++)k[V[A]]="\ufeff"+A,k["\ufeff"+A]=V[A];return{toHex:function(te){return te.replace(I,_)},parse:function(te){function K(ot,rt,ut){var lt,_t,ft,Pe;if((lt=E[ot+"-top"+rt])&&(_t=E[ot+"-right"+rt])&&(ft=E[ot+"-bottom"+rt])&&(Pe=E[ot+"-left"+rt])){var $e=[lt,_t,ft,Pe];for(A=$e.length-1;A--&&$e[A]===$e[A+1];);A>-1&&ut||(E[ot+rt]=-1==A?$e[0]:$e.join(" "),delete E[ot+"-top"+rt],delete E[ot+"-right"+rt],delete E[ot+"-bottom"+rt],delete E[ot+"-left"+rt])}}function re(ot){var ut,rt=E[ot];if(rt){for(ut=(rt=rt.split(" ")).length;ut--;)if(rt[ut]!==rt[0])return!1;return E[ot]=rt[0],!0}}function pe(ot){return Se=!0,k[ot]}function Z(ot,rt){return Se&&(ot=ot.replace(/\uFEFF[0-9]/g,function(ut){return k[ut]})),rt||(ot=ot.replace(/\\([\'\";:])/g,"$1")),ot}function Y(ot){return String.fromCharCode(parseInt(ot.slice(1),16))}function z(ot){return ot.replace(/\\[0-9a-f]+/gi,Y)}function C(ot,rt,ut,lt,_t,ft){if(_t=_t||ft)return"'"+(_t=Z(_t)).replace(/\'/g,"\\'")+"'";if(rt=Z(rt||ut||lt),!W.allow_script_urls){var Pe=rt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Pe)||!W.allow_svg_data_urls&&/^data:image\/svg/i.test(Pe))return""}return Be&&(rt=Be.call(ht,rt,"style")),"url('"+rt.replace(/\'/g,"\\'")+"')"}var ne,me,se,Se,E={},Be=W.url_converter,ht=W.url_converter_scope||this;if(te){for(te=(te=te.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,pe).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(ot){return ot.replace(/[;:]/g,pe)});ne=T.exec(te);)if(T.lastIndex=ne.index+ne[0].length,me=ne[1].replace(S,"").toLowerCase(),se=ne[2].replace(S,""),me&&se){if(me=z(me),se=z(se),-1!==me.indexOf("\ufeff")||-1!==me.indexOf('"')||!W.allow_script_urls&&("behavior"==me||/expression\s*\(|\/\*|\*\//.test(se)))continue;"font-weight"===me&&"700"===se?se="bold":"color"!==me&&"background-color"!==me||(se=se.toLowerCase()),se=(se=se.replace(I,_)).replace(x,C),E[me]=Se?Z(se,!0):se}K("border","",!0),K("border","-width"),K("border","-color"),K("border","-style"),K("padding",""),K("margin",""),function Q(ot,rt,ut,lt){re(rt)&&re(ut)&&re(lt)&&(E[ot]=E[rt]+" "+E[ut]+" "+E[lt],delete E[rt],delete E[ut],delete E[lt])}("border","border-width","border-style","border-color"),"medium none"===E.border&&delete E.border,"none"===E["border-image"]&&delete E["border-image"]}return E},serialize:function(te,K){function re(z){var C,E,ne,me;if(C=H[z])for(E=0,ne=C.length;E<ne;E++)(me=te[z=C[E]])&&(pe+=(pe.length>0?" ":"")+z+": "+me+";")}var Z,Y,z,E,pe="";if(K&&H)re("*"),re(K);else for(Z in te)!(Y=te[Z])||G&&(z=Z,E=void 0,(E=G["*"])&&E[z]||(E=G[K])&&E[z])||(pe+=(pe.length>0?" ":"")+Z+": "+Y+";");return pe}}}}),Ne(ue,[],function(){return function(W,R){function _(T,S,A,k){var V,H;if(T){if(!k&&T[S])return T[S];if(T!=R){if(V=T[A])return V;for(H=T.parentNode;H&&H!=R;H=H.parentNode)if(V=H[A])return V}}}var x=W;this.current=function(){return x},this.next=function(T){return x=_(x,"firstChild","nextSibling",T)},this.prev=function(T){return x=_(x,"lastChild","previousSibling",T)},this.prev2=function(T){return x=function I(T,S,A,k){var V,H,G;if(T){if(V=T[A],R&&V===R)return;if(V){if(!k)for(G=V[S];G;G=G[S])if(!G[S])return G;return V}if((H=T.parentNode)&&H!==R)return H}}(x,"lastChild","previousSibling",T)}}}),Ne(be,[U],function(W){function R(_){function I(){return Pe.createDocumentFragment()}function x(He,St){ne(zt,He,St)}function T(He,St){ne(yn,He,St)}function S(He){x(He.parentNode,Ye(He))}function V(He){T(He.parentNode,Ye(He)+1)}function Q(){return me(ct)}function z(He,St){var jt;if(3==He.nodeType||St<0)return He;for(jt=He.firstChild;jt&&St>0;)--St,jt=jt.nextSibling;return jt||He}function E(He,St,jt,on){var un,Zt,Dn,tt,yt,Dt;if(He==jt)return St==on?0:St<on?-1:1;for(un=jt;un&&un.parentNode!=He;)un=un.parentNode;if(un){for(Zt=0,Dn=He.firstChild;Dn!=un&&Zt<St;)Zt++,Dn=Dn.nextSibling;return St<=Zt?-1:1}for(un=He;un&&un.parentNode!=jt;)un=un.parentNode;if(un){for(Zt=0,Dn=jt.firstChild;Dn!=un&&Zt<on;)Zt++,Dn=Dn.nextSibling;return Zt<on?-1:1}for(tt=_.findCommonAncestor(He,jt),yt=He;yt&&yt.parentNode!=tt;)yt=yt.parentNode;for(yt||(yt=tt),Dt=jt;Dt&&Dt.parentNode!=tt;)Dt=Dt.parentNode;if(Dt||(Dt=tt),yt==Dt)return 0;for(Dn=tt.firstChild;Dn;){if(Dn==yt)return-1;if(Dn==Dt)return 1;Dn=Dn.nextSibling}}function ne(He,St,jt){var on,un;for(He?(ft[Gn]=St,ft[On]=jt):(ft[Xn]=St,ft[qn]=jt),on=ft[Xn];on.parentNode;)on=on.parentNode;for(un=ft[Gn];un.parentNode;)un=un.parentNode;un==on?E(ft[Gn],ft[On],ft[Xn],ft[qn])>0&&ft.collapse(He):ft.collapse(He),ft.collapsed=function C(){return ft[Gn]==ft[Xn]&&ft[On]==ft[qn]}(),ft.commonAncestorContainer=_.findCommonAncestor(ft[Gn],ft[Xn])}function me(He){var St,un,Zt,Dn,tt,yt,Dt,jt=0,on=0;if(ft[Gn]==ft[Xn])return function se(He){var St,on,un,Zt,Dn,tt,yt,Dt;if(He!=Mt&&(St=I()),ft[On]==ft[qn])return St;if(3==ft[Gn].nodeType)return on=ft[Gn].nodeValue.substring(ft[On],ft[qn]),He!=ct&&(un=ft[Gn],Dt=ft[qn]-ft[On],0===(yt=ft[On])&&Dt>=un.nodeValue.length-1?un.parentNode.removeChild(un):un.deleteData(yt,Dt),ft.collapse(zt)),He==Mt?void 0:(on.length>0&&St.appendChild(Pe.createTextNode(on)),St);for(un=z(ft[Gn],ft[On]),Zt=ft[qn]-ft[On];un&&Zt>0;)Dn=un.nextSibling,tt=lt(un,He),St&&St.appendChild(tt),--Zt,un=Dn;return He!=ct&&ft.collapse(zt),St}(He);for(un=(St=ft[Xn]).parentNode;un;St=un,un=un.parentNode){if(un==ft[Gn])return Se(St,He);++jt}for(un=(St=ft[Gn]).parentNode;un;St=un,un=un.parentNode){if(un==ft[Xn])return Be(St,He);++on}for(Zt=on-jt,Dn=ft[Gn];Zt>0;)Dn=Dn.parentNode,Zt--;for(tt=ft[Xn];Zt<0;)tt=tt.parentNode,Zt++;for(yt=Dn.parentNode,Dt=tt.parentNode;yt!=Dt;yt=yt.parentNode,Dt=Dt.parentNode)Dn=yt,tt=Dt;return function ht(He,St,jt){var on,un,Zt,tt,yt,Dt;for(jt!=Mt&&(un=I()),on=rt(He,jt),un&&un.appendChild(on),Zt=Ye(He),tt=Ye(St)-++Zt,yt=He.nextSibling;tt>0;)Dt=yt.nextSibling,on=lt(yt,jt),un&&un.appendChild(on),yt=Dt,--tt;return on=ot(St,jt),un&&un.appendChild(on),jt!=ct&&(ft.setStartAfter(He),ft.collapse(zt)),un}(Dn,tt,He)}function Se(He,St){var jt,on,Zt,Dn,tt;if(St!=Mt&&(jt=I()),on=ot(He,St),jt&&jt.appendChild(on),(Zt=Ye(He)-ft[On])<=0)return St!=ct&&(ft.setEndBefore(He),ft.collapse(yn)),jt;for(on=He.previousSibling;Zt>0;)Dn=on.previousSibling,tt=lt(on,St),jt&&jt.insertBefore(tt,jt.firstChild),--Zt,on=Dn;return St!=ct&&(ft.setEndBefore(He),ft.collapse(yn)),jt}function Be(He,St){var jt,on,un,Zt,Dn,tt;for(St!=Mt&&(jt=I()),un=rt(He,St),jt&&jt.appendChild(un),on=Ye(He),++on,Zt=ft[qn]-on,un=He.nextSibling;un&&Zt>0;)Dn=un.nextSibling,tt=lt(un,St),jt&&jt.appendChild(tt),--Zt,un=Dn;return St!=ct&&(ft.setStartAfter(He),ft.collapse(zt)),jt}function ot(He,St){var on,un,Zt,Dn,tt,jt=z(ft[Xn],ft[qn]-1),yt=jt!=ft[Xn];if(jt==He)return ut(jt,yt,yn,St);for(un=ut(on=jt.parentNode,yn,yn,St);on;){for(;jt;)Zt=jt.previousSibling,Dn=ut(jt,yt,yn,St),St!=Mt&&un.insertBefore(Dn,un.firstChild),yt=zt,jt=Zt;if(on==He)return un;jt=on.previousSibling,tt=ut(on=on.parentNode,yn,yn,St),St!=Mt&&tt.appendChild(un),un=tt}}function rt(He,St){var un,Zt,Dn,tt,yt,jt=z(ft[Gn],ft[On]),on=jt!=ft[Gn];if(jt==He)return ut(jt,on,zt,St);for(Zt=ut(un=jt.parentNode,yn,zt,St);un;){for(;jt;)Dn=jt.nextSibling,tt=ut(jt,on,zt,St),St!=Mt&&Zt.appendChild(tt),on=zt,jt=Dn;if(un==He)return Zt;jt=un.nextSibling,yt=ut(un=un.parentNode,yn,zt,St),St!=Mt&&yt.appendChild(Zt),Zt=yt}}function ut(He,St,jt,on){var un,Zt,Dn,tt,yt;return St?lt(He,on):3==He.nodeType?(un=He.nodeValue,jt?(Zt=un.substring(tt=ft[On]),Dn=un.substring(0,tt)):(Zt=un.substring(0,tt=ft[qn]),Dn=un.substring(tt)),on!=ct&&(He.nodeValue=Dn),on==Mt?void 0:((yt=_.clone(He,yn)).nodeValue=Zt,yt)):on!=Mt?_.clone(He,yn):void 0}function lt(He,St){return St!=Mt?St==ct?_.clone(He,zt):He:void He.parentNode.removeChild(He)}var ft=this,Pe=_.doc,ct=1,Mt=2,zt=!0,yn=!1,On="startOffset",Gn="startContainer",Xn="endContainer",qn="endOffset",Bt=W.extend,Ye=_.nodeIndex;return Bt(ft,{startContainer:Pe,startOffset:0,endContainer:Pe,endOffset:0,collapsed:zt,commonAncestorContainer:Pe,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:x,setEnd:T,setStartBefore:S,setStartAfter:function A(He){x(He.parentNode,Ye(He)+1)},setEndBefore:function k(He){T(He.parentNode,Ye(He))},setEndAfter:V,collapse:function H(He){He?(ft[Xn]=ft[Gn],ft[qn]=ft[On]):(ft[Gn]=ft[Xn],ft[On]=ft[qn]),ft.collapsed=zt},selectNode:function G(He){S(He),V(He)},selectNodeContents:function $(He){x(He,0),T(He,1===He.nodeType?He.childNodes.length:He.nodeValue.length)},compareBoundaryPoints:function te(He,St){var jt=ft[Gn],on=ft[On],un=ft[Xn],Zt=ft[qn],Dn=St.startContainer,tt=St.startOffset,yt=St.endContainer,Dt=St.endOffset;return 0===He?E(jt,on,Dn,tt):1===He?E(un,Zt,Dn,tt):2===He?E(un,Zt,yt,Dt):3===He?E(jt,on,yt,Dt):void 0},deleteContents:function K(){me(Mt)},extractContents:function re(){return me(0)},cloneContents:Q,insertNode:function pe(He){var on,un,St=this[Gn],jt=this[On];3!==St.nodeType&&4!==St.nodeType||!St.nodeValue?(St.childNodes.length>0&&(un=St.childNodes[jt]),un?St.insertBefore(He,un):3==St.nodeType?_.insertAfter(He,St):St.appendChild(He)):jt?jt>=St.nodeValue.length?_.insertAfter(He,St):(on=St.splitText(jt),St.parentNode.insertBefore(He,on)):St.parentNode.insertBefore(He,St)},surroundContents:function Z(He){var St=ft.extractContents();ft.insertNode(He),He.appendChild(St),ft.selectNode(He)},cloneRange:function Y(){return Bt(new R(_),{startContainer:ft[Gn],startOffset:ft[On],endContainer:ft[Xn],endOffset:ft[qn],collapsed:ft.collapsed,commonAncestorContainer:ft.commonAncestorContainer})},toStringIE:function _t(){return _.create("body",null,Q()).outerText}}),ft}return R.prototype.toString=function(){return this.toStringIE()},R}),Ne(Ae,[U],function(W){function _(te,K){var re,Q,pe,Z={};if(te){for(te=te.split(","),K=K||10,re=0;re<te.length;re+=2)Q=String.fromCharCode(parseInt(te[re],K)),T[Q]||(Z[Q]=pe="&"+te[re+1]+";",Z[pe]=Q);return Z}}var x,T,S,I=W.makeMap,A=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,V=/[<>&\"\']/g,H=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,G={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};T={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},S={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},x=_("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var $={encodeRaw:function(te,K){return te.replace(K?A:k,function(re){return T[re]||re})},encodeAllRaw:function(te){return(""+te).replace(V,function(K){return T[K]||K})},encodeNumeric:function(te,K){return te.replace(K?A:k,function(re){return re.length>1?"&#"+(1024*(re.charCodeAt(0)-55296)+(re.charCodeAt(1)-56320)+65536)+";":T[re]||"&#"+re.charCodeAt(0)+";"})},encodeNamed:function(te,K,re){return re=re||x,te.replace(K?A:k,function(Q){return T[Q]||re[Q]||Q})},getEncodeFunc:function(te,K){return K=_(K)||x,(te=I(te.replace(/\+/g,","))).named&&te.numeric?function re(pe,Z){return pe.replace(Z?A:k,function(Y){return T[Y]||K[Y]||"&#"+Y.charCodeAt(0)+";"||Y})}:te.named?K?function Q(pe,Z){return $.encodeNamed(pe,Z,K)}:$.encodeNamed:te.numeric?$.encodeNumeric:$.encodeRaw},decode:function(te){return te.replace(H,function(K,re){return re?(re="x"===re.charAt(0).toLowerCase()?parseInt(re.substr(1),16):parseInt(re,10))>65535?(re-=65536,String.fromCharCode(55296+(re>>10),56320+(1023&re))):G[re]||String.fromCharCode(re):S[K]||x[K]||function R(te){var K;return(K=document.createElement("div")).innerHTML=te,K.textContent||K.innerText||te}(K)})}};return $}),Ne(Ke,[U,y],function(W,R){return function(_,I){function x(V){_.getElementsByTagName("head")[0].appendChild(V)}var k,S=0,A={};k=(I=I||{}).maxLoadTime||5e3,this.load=function T(V,H,G){function $(){for(var E=C.passed,ne=E.length;ne--;)E[ne]();C.status=2,C.passed=[],C.failed=[]}function te(){for(var E=C.failed,ne=E.length;ne--;)E[ne]();C.status=3,C.passed=[],C.failed=[]}function re(E,ne){E()||((new Date).getTime()-z<k?R.setTimeout(ne):te())}function Q(){re(function(){for(var ne,se,E=_.styleSheets,me=E.length;me--;)if((se=(ne=E[me]).ownerNode?ne.ownerNode:ne.owningElement)&&se.id===Z.id)return $(),!0},Q)}var Z,Y,z,C;if(V=W._addCacheSuffix(V),A[V]?C=A[V]:A[V]=C={passed:[],failed:[]},H&&C.passed.push(H),G&&C.failed.push(G),1!=C.status){if(2==C.status)return void $();if(3==C.status)return void te();if(C.status=1,(Z=_.createElement("link")).rel="stylesheet",Z.type="text/css",Z.id="u"+S++,Z.async=!1,Z.defer=!1,z=(new Date).getTime(),"onload"in Z&&!function K(){var E=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(E&&E[1]<536)}())Z.onload=Q,Z.onerror=te;else{if(navigator.userAgent.indexOf("Firefox")>0)return(Y=_.createElement("style")).textContent='@import "'+V+'"',function pe(){re(function(){try{var E=Y.sheet.cssRules;return $(),!!E}catch{}},pe)}(),void x(Y);Q()}x(Z),Z.href=V}}}}),Ne(L,[w,oe,fe,B,ue,be,Ae,D,U,Ke],function(W,R,_,I,x,T,S,A,k,V){function G(C,E){var ne=E.attr("style");(ne=C.serializeStyle(C.parseStyle(ne),E[0].nodeName))||(ne=null),E.attr("data-mce-style",ne)}function $(C,E){var me,se,ne=0;if(C)for(me=C.nodeType,C=C.previousSibling;C;C=C.previousSibling)se=C.nodeType,(!E||3!=se||se!=me&&C.nodeValue.length)&&(ne++,me=se);return ne}function te(C,E){var me,ne=this;ne.doc=C,ne.win=window,ne.files={},ne.counter=0,ne.stdMode=!Z||C.documentMode>=8,ne.boxModel=!Z||"CSS1Compat"==C.compatMode||ne.stdMode,ne.styleSheetLoader=new V(C),ne.boundEvents=[],ne.settings=E=E||{},ne.schema=E.schema,ne.styles=new _({url_converter:E.url_converter,url_converter_scope:E.url_converter_scope},E.schema),ne.fixDoc(C),ne.events=E.ownEvents?new I(E.proxy):I.Event,ne.attrHooks=function H(C,E){var ne={},me=E.keep_values;return ne={style:{set:function(Se,Be){return null!==Be&&"object"==typeof Be?void Se.css(Be):(me&&Se.attr("data-mce-style",Be),void Se.attr("style",Be))},get:function(Se){var Be=Se.attr("data-mce-style")||Se.attr("style");return C.serializeStyle(C.parseStyle(Be),Se[0].nodeName)}}},me&&(ne.href=ne.src={set:function(Se,Be,ht){E.url_converter&&(Be=E.url_converter.call(E.url_converter_scope||C,Be,ht,Se[0])),Se.attr("data-mce-"+ht,Be).attr(ht,Be)},get:function(Se,Be){return Se.attr("data-mce-"+Be)||Se.attr(Be)}}),ne}(ne,E),me=E.schema?E.schema.getBlockElements():{},ne.$=R.overrideDefaults(function(){return{context:C,element:ne.getRoot()}}),ne.isBlock=function(se){if(!se)return!1;var Se=se.nodeType;return Se?!(1!==Se||!me[se.nodeName]):!!me[se]}}var K=k.each,re=k.is,Q=k.grep,pe=k.trim,Z=A.ie,Y=/^([a-z0-9],?)+$/i,z=/^[ \t\r\n]*$/;return te.prototype={$$:function(C){return"string"==typeof C&&(C=this.get(C)),this.$(C)},root:null,fixDoc:function(C){var ne,E=this.settings;if(Z&&E.schema)for(ne in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(me){C.createElement(me)}),E.schema.getCustomElements())C.createElement(ne)},clone:function(C,E){var me,ne=this;return!Z||1!==C.nodeType||E?C.cloneNode(E):E?me.firstChild:(me=ne.doc.createElement(C.nodeName),K(ne.getAttribs(C),function(Se){ne.setAttrib(me,Se.nodeName,ne.getAttrib(C,Se.nodeName))}),me)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(C){var E,ne;return E=(C=C||this.win).document,ne=this.boxModel?E.documentElement:E.body,{x:C.pageXOffset||ne.scrollLeft,y:C.pageYOffset||ne.scrollTop,w:C.innerWidth||ne.clientWidth,h:C.innerHeight||ne.clientHeight}},getRect:function(C){var ne,me,E=this;return C=E.get(C),ne=E.getPos(C),me=E.getSize(C),{x:ne.x,y:ne.y,w:me.w,h:me.h}},getSize:function(C){var ne,me,E=this;return C=E.get(C),ne=E.getStyle(C,"width"),me=E.getStyle(C,"height"),-1===ne.indexOf("px")&&(ne=0),-1===me.indexOf("px")&&(me=0),{w:parseInt(ne,10)||C.offsetWidth||C.clientWidth,h:parseInt(me,10)||C.offsetHeight||C.clientHeight}},getParent:function(C,E,ne){return this.getParents(C,E,ne,!1)},getParents:function(C,E,ne,me){var Se,se=this,Be=[];for(C=se.get(C),me=me===Ve,ne=ne||("BODY"!=se.getRoot().nodeName?se.getRoot().parentNode:null),re(E,"string")&&(Se=E,E="*"===E?function(ht){return 1==ht.nodeType}:function(ht){return se.is(ht,Se)});C&&C!=ne&&C.nodeType&&9!==C.nodeType;){if(!E||E(C)){if(!me)return C;Be.push(C)}C=C.parentNode}return me?Be:null},get:function(C){var E;return C&&this.doc&&"string"==typeof C&&(E=C,(C=this.doc.getElementById(C))&&C.id!==E)?this.doc.getElementsByName(E)[1]:C},getNext:function(C,E){return this._findSib(C,E,"nextSibling")},getPrev:function(C,E){return this._findSib(C,E,"previousSibling")},select:function(C,E){return W(C,this.get(E)||this.settings.root_element||this.doc,[])},is:function(C,E){var ne;if(C.length===Ve){if("*"===E)return 1==C.nodeType;if(Y.test(E)){for(E=E.toLowerCase().split(/,/),C=C.nodeName.toLowerCase(),ne=E.length-1;ne>=0;ne--)if(E[ne]==C)return!0;return!1}}if(C.nodeType&&1!=C.nodeType)return!1;var me=C.nodeType?[C]:C;return W(E,me[0].ownerDocument||me[0],null,me).length>0},add:function(C,E,ne,me,se){var Se=this;return this.run(C,function(Be){var ht;return ht=re(E,"string")?Se.doc.createElement(E):E,Se.setAttribs(ht,ne),me&&(me.nodeType?ht.appendChild(me):Se.setHTML(ht,me)),se?ht:Be.appendChild(ht)})},create:function(C,E,ne){return this.add(this.doc.createElement(C),C,E,ne,1)},createHTML:function(C,E,ne){var se,me="";for(se in me+="<"+C,E)E.hasOwnProperty(se)&&null!==E[se]&&typeof E[se]<"u"&&(me+=" "+se+'="'+this.encode(E[se])+'"');return typeof ne<"u"?me+">"+ne+"</"+C+">":me+" />"},createFragment:function(C){var E,ne,se,me=this.doc;for(se=me.createElement("div"),E=me.createDocumentFragment(),C&&(se.innerHTML=C);ne=se.firstChild;)E.appendChild(ne);return E},remove:function(C,E){return C=this.$$(C),E?C.each(function(){for(var ne;ne=this.firstChild;)3==ne.nodeType&&0===ne.data.length?this.removeChild(ne):this.parentNode.insertBefore(ne,this)}).remove():C.remove(),C.length>1?C.toArray():C[0]},setStyle:function(C,E,ne){C=this.$$(C).css(E,ne),this.settings.update_styles&&G(this,C)},getStyle:function(C,E,ne){return C=this.$$(C),ne?C.css(E):("float"==(E=E.replace(/-(\D)/g,function(me,se){return se.toUpperCase()}))&&(E=A.ie&&A.ie<12?"styleFloat":"cssFloat"),C[0]&&C[0].style?C[0].style[E]:Ve)},setStyles:function(C,E){C=this.$$(C).css(E),this.settings.update_styles&&G(this,C)},removeAllAttribs:function(C){return this.run(C,function(E){var ne,me=E.attributes;for(ne=me.length-1;ne>=0;ne--)E.removeAttributeNode(me.item(ne))})},setAttrib:function(C,E,ne){var se,Se,Be=this.settings;""===ne&&(ne=null),se=(C=this.$$(C)).attr(E),C.length&&((Se=this.attrHooks[E])&&Se.set?Se.set(C,ne,E):C.attr(E,ne),se!=ne&&Be.onSetAttrib&&Be.onSetAttrib({attrElm:C,attrName:E,attrValue:ne}))},setAttribs:function(C,E){var ne=this;ne.$$(C).each(function(me,se){K(E,function(Se,Be){ne.setAttrib(se,Be,Se)})})},getAttrib:function(C,E,ne){var se,Se;return(C=this.$$(C)).length&&(Se=(se=this.attrHooks[E])&&se.get?se.get(C,E):C.attr(E)),typeof Se>"u"&&(Se=ne||""),Se},getPos:function(C,E){var Se,ot,me=0,se=0,Be=this.doc,ht=Be.body;if(E=E||ht,C=this.get(C)){if(E===ht&&C.getBoundingClientRect&&"static"===R(ht).css("position"))return{x:me=(ot=C.getBoundingClientRect()).left+(Be.documentElement.scrollLeft||ht.scrollLeft)-(E=this.boxModel?Be.documentElement:ht).clientLeft,y:se=ot.top+(Be.documentElement.scrollTop||ht.scrollTop)-E.clientTop};for(Se=C;Se&&Se!=E&&Se.nodeType;)me+=Se.offsetLeft||0,se+=Se.offsetTop||0,Se=Se.offsetParent;for(Se=C.parentNode;Se&&Se!=E&&Se.nodeType;)me-=Se.scrollLeft||0,se-=Se.scrollTop||0,Se=Se.parentNode}return{x:me,y:se}},parseStyle:function(C){return this.styles.parse(C)},serializeStyle:function(C,E){return this.styles.serialize(C,E)},addStyle:function(C){var me,se,ne=this.doc;if(this!==te.DOM&&ne===document){var Se=te.DOM.addedStyles;if((Se=Se||[])[C])return;Se[C]=!0,te.DOM.addedStyles=Se}(se=ne.getElementById("mceDefaultStyles"))||((se=ne.createElement("style")).id="mceDefaultStyles",se.type="text/css",(me=ne.getElementsByTagName("head")[0]).firstChild?me.insertBefore(se,me.firstChild):me.appendChild(se)),se.styleSheet?se.styleSheet.cssText+=C:se.appendChild(ne.createTextNode(C))},loadCSS:function(C){var me,E=this,ne=E.doc;return E!==te.DOM&&ne===document?void te.DOM.loadCSS(C):(C||(C=""),me=ne.getElementsByTagName("head")[0],void K(C.split(","),function(se){var Se;se=k._addCacheSuffix(se),E.files[se]||(E.files[se]=!0,Se=E.create("link",{rel:"stylesheet",href:se}),Z&&ne.documentMode&&ne.recalc&&(Se.onload=function(){ne.recalc&&ne.recalc(),Se.onload=null}),me.appendChild(Se))}))},addClass:function(C,E){this.$$(C).addClass(E)},removeClass:function(C,E){this.toggleClass(C,E,!1)},hasClass:function(C,E){return this.$$(C).hasClass(E)},toggleClass:function(C,E,ne){this.$$(C).toggleClass(E,ne).each(function(){""===this.className&&R(this).attr("class",null)})},show:function(C){this.$$(C).show()},hide:function(C){this.$$(C).hide()},isHidden:function(C){return"none"==this.$$(C).css("display")},uniqueId:function(C){return(C||"mce_")+this.counter++},setHTML:function(C,E){C=this.$$(C),Z?C.each(function(ne,me){if(!1!==me.canHaveHTML){for(;me.firstChild;)me.removeChild(me.firstChild);try{me.innerHTML="<br>"+E,me.removeChild(me.firstChild)}catch{R("<div></div>").html("<br>"+E).contents().slice(1).appendTo(me)}return E}}):C.html(E)},getOuterHTML:function(C){return 1==(C=this.get(C)).nodeType&&"outerHTML"in C?C.outerHTML:R("<div></div>").append(R(C).clone()).html()},setOuterHTML:function(C,E){var ne=this;ne.$$(C).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=E)}catch{}ne.remove(R(this).html(E),!0)})},decode:S.decode,encode:S.encodeAllRaw,insertAfter:function(C,E){return E=this.get(E),this.run(C,function(ne){var me,se;return me=E.parentNode,(se=E.nextSibling)?me.insertBefore(ne,se):me.appendChild(ne),ne})},replace:function(C,E,ne){return this.run(E,function(se){return re(se,"array")&&(C=C.cloneNode(!0)),ne&&K(Q(se.childNodes),function(Se){C.appendChild(Se)}),se.parentNode.replaceChild(C,se)})},rename:function(C,E){var me,ne=this;return C.nodeName!=E.toUpperCase()&&(me=ne.create(E),K(ne.getAttribs(C),function(se){ne.setAttrib(me,se.nodeName,ne.getAttrib(C,se.nodeName))}),ne.replace(me,C,1)),me||C},findCommonAncestor:function(C,E){for(var me,ne=C;ne;){for(me=E;me&&ne!=me;)me=me.parentNode;if(ne==me)break;ne=ne.parentNode}return!ne&&C.ownerDocument?C.ownerDocument.documentElement:ne},toHex:function(C){return this.styles.toHex(k.trim(C))},run:function(C,E,ne){var se,me=this;return"string"==typeof C&&(C=me.get(C)),!!C&&(ne=ne||this,C.nodeType||!C.length&&0!==C.length?E.call(ne,C):(se=[],K(C,function(Se,Be){Se&&("string"==typeof Se&&(Se=me.get(Se)),se.push(E.call(ne,Se,Be)))}),se))},getAttribs:function(C){var E;return(C=this.get(C))?Z?(E=[],"OBJECT"==C.nodeName?C.attributes:("OPTION"===C.nodeName&&this.getAttrib(C,"selected")&&E.push({specified:1,nodeName:"selected"}),C.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(me){E.push({specified:1,nodeName:me})}),E)):C.attributes:[]},isEmpty:function(C,E){var me,se,Se,Be,ht,ot,ne=this,rt=0;if(C=C.firstChild){ht=new x(C,C.parentNode),E=E||(ne.schema?ne.schema.getNonEmptyElements():null),Be=ne.schema?ne.schema.getWhiteSpaceElements():{};do{if(1===(Se=C.nodeType)){var ut=C.getAttribute("data-mce-bogus");if(ut){C=ht.next("all"===ut);continue}if(ot=C.nodeName.toLowerCase(),E&&E[ot]){if("br"===ot){rt++,C=ht.next();continue}return!1}for(me=(se=ne.getAttribs(C)).length;me--;)if("name"===(ot=se[me].nodeName)||"data-mce-bookmark"===ot)return!1}if(8==Se||3===Se&&!z.test(C.nodeValue)||3===Se&&C.parentNode&&Be[C.parentNode.nodeName]&&z.test(C.nodeValue))return!1;C=ht.next()}while(C)}return rt<=1},createRng:function(){var C=this.doc;return C.createRange?C.createRange():new T(this)},nodeIndex:$,split:function(C,E,ne){function me(rt){var lt,_t=rt.childNodes,ft=rt.nodeType;if(1!=ft||"bookmark"!=rt.getAttribute("data-mce-type")){for(lt=_t.length-1;lt>=0;lt--)me(_t[lt]);if(9!=ft){if(3==ft&&rt.nodeValue.length>0){var Pe=pe(rt.nodeValue).length;if(!se.isBlock(rt.parentNode)||Pe>0||0===Pe&&function ut($e){return $e.previousSibling&&"SPAN"==$e.previousSibling.nodeName&&$e.nextSibling&&"SPAN"==$e.nextSibling.nodeName}(rt))return}else if(1==ft&&(1==(_t=rt.childNodes).length&&_t[0]&&1==_t[0].nodeType&&"bookmark"==_t[0].getAttribute("data-mce-type")&&rt.parentNode.insertBefore(_t[0],rt),_t.length||/^(br|hr|input|img)$/i.test(rt.nodeName)))return;se.remove(rt)}return rt}}var Be,ht,ot,se=this,Se=se.createRng();if(C&&E)return Se.setStart(C.parentNode,se.nodeIndex(C)),Se.setEnd(E.parentNode,se.nodeIndex(E)),Be=Se.extractContents(),(Se=se.createRng()).setStart(E.parentNode,se.nodeIndex(E)+1),Se.setEnd(C.parentNode,se.nodeIndex(C)+1),ht=Se.extractContents(),(ot=C.parentNode).insertBefore(me(Be),C),ot.insertBefore(ne||E,C),ot.insertBefore(me(ht),C),se.remove(C),ne||E},bind:function(C,E,ne,me){var se=this;if(k.isArray(C)){for(var Se=C.length;Se--;)C[Se]=se.bind(C[Se],E,ne,me);return C}return!se.settings.collect||C!==se.doc&&C!==se.win||se.boundEvents.push([C,E,ne,me]),se.events.bind(C,E,ne,me||se)},unbind:function(C,E,ne){var se,me=this;if(k.isArray(C)){for(se=C.length;se--;)C[se]=me.unbind(C[se],E,ne);return C}if(me.boundEvents&&(C===me.doc||C===me.win))for(se=me.boundEvents.length;se--;){var Se=me.boundEvents[se];C!=Se[0]||E&&E!=Se[1]||ne&&ne!=Se[2]||this.events.unbind(Se[0],Se[1],Se[2])}return this.events.unbind(C,E,ne)},fire:function(C,E,ne){return this.events.fire(C,E,ne)},getContentEditable:function(C){var E;return C&&1==C.nodeType?(E=C.getAttribute("data-mce-contenteditable"))&&"inherit"!==E?E:"inherit"!==C.contentEditable?C.contentEditable:null:null},getContentEditableParent:function(C){for(var E=this.getRoot(),ne=null;C&&C!==E&&null===(ne=this.getContentEditable(C));C=C.parentNode);return ne},destroy:function(){var C=this;if(C.boundEvents){for(var E=C.boundEvents.length;E--;){var ne=C.boundEvents[E];this.events.unbind(ne[0],ne[1],ne[2])}C.boundEvents=null}W.setDocument&&W.setDocument(),C.win=C.doc=C.root=C.events=C.frag=null},isChildOf:function(C,E){for(;C;){if(E===C)return!0;C=C.parentNode}return!1},dumpRng:function(C){return"startContainer: "+C.startContainer.nodeName+", startOffset: "+C.startOffset+", endContainer: "+C.endContainer.nodeName+", endOffset: "+C.endOffset},_findSib:function(C,E,ne){var me=this,se=E;if(C)for("string"==typeof se&&(se=function(Se){return me.is(Se,E)}),C=C[ne];C;C=C[ne])if(se(C))return C;return null}},te.DOM=new te(document),te.nodeIndex=$,te}),Ne(Ge,[L,U],function(W,R){function _(){var pe,$={},te=[],K={},re=[],Q=0;this.isDone=function(Z){return 2==$[Z]},this.markDone=function(Z){$[Z]=2},this.add=this.load=function(Z,Y,z,C){$[Z]==pe&&(te.push(Z),$[Z]=0),Y&&(K[Z]||(K[Z]=[]),K[Z].push({success:Y,failure:C,scope:z||this}))},this.remove=function(Z){delete $[Z],delete K[Z]},this.loadQueue=function(Z,Y,z){this.loadScripts(te,Z,Y,z)},this.loadScripts=function(Z,Y,z,C){function E(se,Se){x(K[Se],function(Be){S(Be[se])&&Be[se].call(Be.scope)}),K[Se]=pe}var ne,me=[];re.push({success:Y,failure:C,scope:z||this}),(ne=function(){var se=T(Z);Z.length=0,x(se,function(Se){return 2===$[Se]?void E("success",Se):3===$[Se]?void E("failure",Se):void(1!==$[Se]&&($[Se]=1,Q++,function A(Z,Y,z){function C(){ne.remove(se),me&&(me.onreadystatechange=me.onload=me=null),Y()}var me,se,ne=I;se=ne.uniqueId(),(me=document.createElement("script")).id=se,me.type="text/javascript",me.src=R._addCacheSuffix(Z),"onreadystatechange"in me?me.onreadystatechange=function(){/loaded|complete/.test(me.readyState)&&C()}:me.onload=C,me.onerror=function E(){S(z)?z():typeof console<"u"&&console.log&&console.log("Failed to load script: "+Z)},(document.getElementsByTagName("head")[0]||document.body).appendChild(me)}(Se,function(){$[Se]=2,Q--,E("success",Se),ne()},function(){$[Se]=3,Q--,me.push(Se),E("failure",Se),ne()})))}),Q||(x(re,function(Se){0===me.length?S(Se.success)&&Se.success.call(Se.scope):S(Se.failure)&&Se.failure.call(Se.scope,me)}),re.length=0)})()}}var I=W.DOM,x=R.each,T=R.grep,S=function(A){return"function"==typeof A};return _.ScriptLoader=new _,_}),Ne(ye,[Ge,U],function(W,R){function _(){var x=this;x.items=[],x.urls={},x.lookup={}}var I=R.each;return _.prototype={get:function(x){return this.lookup[x]?this.lookup[x].instance:Ve},dependencies:function(x){var T;return this.lookup[x]&&(T=this.lookup[x].dependencies),T||[]},requireLangPack:function(x,T){var S=_.language;if(S&&!1!==_.languageLoad){if(T)if(-1!=(T=","+T+",").indexOf(","+S.substr(0,2)+","))S=S.substr(0,2);else if(-1==T.indexOf(","+S+","))return;W.ScriptLoader.add(this.urls[x]+"/langs/"+S+".js")}},add:function(x,T,S){return this.items.push(T),this.lookup[x]={instance:T,dependencies:S},T},remove:function(x){delete this.urls[x],delete this.lookup[x]},createUrl:function(x,T){return"object"==typeof T?T:{prefix:x.prefix,resource:T,suffix:x.suffix}},addComponents:function(x,T){var S=this.urls[x];I(T,function(A){W.ScriptLoader.add(S+"/"+A)})},load:function(x,T,S,A,k){function V(){var $=H.dependencies(x);I($,function(te){var K=H.createUrl(T,te);H.load(K.resource,K,Ve,Ve)}),S&&S.call(A||W)}var H=this,G=T;H.urls[x]||("object"==typeof T&&(G=T.prefix+T.resource+T.suffix),0!==G.indexOf("/")&&-1==G.indexOf("://")&&(G=_.baseURL+"/"+G),H.urls[x]=G.substring(0,G.lastIndexOf("/")),H.lookup[x]?V():W.ScriptLoader.add(G,V,A,k))}},_.PluginManager=new _,_.ThemeManager=new _,_}),Ne(Te,[],function(){function W(k){return function(V){return!!V&&V.nodeType==k}}function R(k){return k=k.toLowerCase().split(" "),function(V){var H,G;if(V&&V.nodeType)for(G=V.nodeName.toLowerCase(),H=0;H<k.length;H++)if(G===k[H])return!0;return!1}}function S(k){return function(V){return!(!A(V)||V.contentEditable!==k&&V.getAttribute("data-mce-contenteditable")!==k)}}var A=W(1);return{isText:W(3),isElement:A,isComment:W(8),isBr:R("br"),isContentEditableTrue:S("true"),isContentEditableFalse:S("false"),matchNodeNames:R,hasPropValue:function I(k,V){return function(H){return A(H)&&H[k]===V}},hasAttributeValue:function x(k,V){return function(H){return A(H)&&H.getAttribute(k)===V}},matchStyleValues:function _(k,V){return V=V.toLowerCase().split(" "),function(H){var G;if(A(H))for(G=0;G<V.length;G++)if(getComputedStyle(H,null).getPropertyValue(k)===V[G])return!0;return!1}},isBogus:function T(k){return A(k)&&k.hasAttribute("data-mce-bogus")}}}),Ne(Ue,[],function(){return{isZwsp:function W(I){return"\ufeff"==I},ZWSP:"\ufeff",trim:function R(I){return I.replace(new RegExp("\ufeff","g"),"")}}}),Ne(ce,[Te,Ue],function(W,R){function _(Y){return Z(Y)&&(Y=Y.parentNode),pe(Y)&&Y.hasAttribute("data-mce-caret")}function I(Y){return Z(Y)&&R.isZwsp(Y.data)}function x(Y){return _(Y)||I(Y)}function T(Y){var z=Y.parentNode;z&&z.removeChild(Y)}function G(Y){return Y.firstChild!==Y.lastChild||!W.isBr(Y.firstChild)}function te(Y){return Z(Y)&&Y.data[0]==R.ZWSP}function K(Y){return Z(Y)&&Y.data[Y.data.length-1]==R.ZWSP}var pe=W.isElement,Z=W.isText;return{isCaretContainer:x,isCaretContainerBlock:_,isCaretContainerInline:I,showCaretContainerBlock:function Q(Y){return Y&&Y.hasAttribute("data-mce-caret")?(function re(Y){var z=Y.getElementsByTagName("br"),C=z[z.length-1];W.isBogus(C)&&C.parentNode.removeChild(C)}(Y),Y.removeAttribute("data-mce-caret"),Y.removeAttribute("data-mce-bogus"),Y.removeAttribute("style"),Y.removeAttribute("_moz_abspos"),Y):null},insertInline:function k(Y,z){var E,ne,me;if(ne=Y.ownerDocument.createTextNode(R.ZWSP),me=Y.parentNode,z){if(Z(E=Y.previousSibling)){if(x(E))return E;if(K(E))return E.splitText(E.data.length-1)}me.insertBefore(ne,Y)}else{if(Z(E=Y.nextSibling)){if(x(E))return E;if(te(E))return E.splitText(1),E}Y.nextSibling?me.insertBefore(ne,Y.nextSibling):me.appendChild(ne)}return ne},insertBlock:function H(Y,z,C){var ne,me;return(ne=z.ownerDocument.createElement(Y)).setAttribute("data-mce-caret",C?"before":"after"),ne.setAttribute("data-mce-bogus","all"),ne.appendChild(function V(){var Y=document.createElement("br");return Y.setAttribute("data-mce-bogus","1"),Y}()),me=z.parentNode,C?me.insertBefore(ne,z):z.nextSibling?me.insertBefore(ne,z.nextSibling):me.appendChild(ne),ne},hasContent:G,remove:function $(Y){if(pe(Y)&&x(Y)&&(G(Y)?Y.removeAttribute("data-mce-caret"):T(Y)),Z(Y)){var z=R.trim(function S(Y){try{return Y.nodeValue}catch{return""}}(Y));!function A(Y,z){0===z.length?T(Y):Y.nodeValue=z}(Y,z)}},startsWithCaretContainer:te,endsWithCaretContainer:K}}),Ne(Oe,[U,ue,Te,be,ce],function(W,R,_,I,x){function T(Z){return re(Z)||Q(Z)}function A(Z,Y,z){for(;Z&&Z!==Y;){if(z(Z))return Z;Z=Z.parentNode}return null}function V(Z){return"_mce_caret"===Z.id}function H(Z,Y){return pe(Z)&&!1===function k(Z,Y,z){return null!==A(Z,Y,z)}(Z,Y,V)}function G(Z){this.walk=function(Y,z){function C($e){var ct;return 3===(ct=$e[0]).nodeType&&ct===se&&Se>=ct.nodeValue.length&&$e.splice(0,1),ct=$e[$e.length-1],0===ht&&$e.length>0&&ct===Be&&3===ct.nodeType&&$e.splice($e.length-1,1),$e}function E($e,ct,Mt){for(var zt=[];$e&&$e!=Mt;$e=$e[ct])zt.push($e);return zt}function ne($e,ct){do{if($e.parentNode==ct)return $e;$e=$e.parentNode}while($e)}function me($e,ct,Mt){var zt=Mt?"nextSibling":"previousSibling";for(_t=(lt=$e).parentNode;lt&&lt!=ct;lt=_t)_t=lt.parentNode,(ft=E(lt==$e?lt:lt[zt],zt)).length&&(Mt||ft.reverse(),z(C(ft)))}var ot,rt,ut,lt,_t,ft,Pe,se=Y.startContainer,Se=Y.startOffset,Be=Y.endContainer,ht=Y.endOffset;if((Pe=Z.select("td[data-mce-selected],th[data-mce-selected]")).length>0)K(Pe,function($e){z([$e])});else{if(1==se.nodeType&&se.hasChildNodes()&&(se=se.childNodes[Se]),1==Be.nodeType&&Be.hasChildNodes()&&(Be=function S(Z,Y){var z=Z.childNodes;return--Y>z.length-1?Y=z.length-1:Y<0&&(Y=0),z[Y]||Z}(Be,ht)),se==Be)return z(C([se]));for(ot=Z.findCommonAncestor(se,Be),lt=se;lt;lt=lt.parentNode){if(lt===Be)return me(se,ot,!0);if(lt===ot)break}for(lt=Be;lt;lt=lt.parentNode){if(lt===se)return me(Be,ot);if(lt===ot)break}rt=ne(se,ot)||se,ut=ne(Be,ot)||Be,me(se,rt,!0),(ft=E(rt==se?rt:rt.nextSibling,"nextSibling",ut==Be?ut.nextSibling:ut)).length&&z(C(ft)),me(Be,ut)}},this.split=function(Y){function z(se,Se){return se.splitText(Se)}var C=Y.startContainer,E=Y.startOffset,ne=Y.endContainer,me=Y.endOffset;return C==ne&&3==C.nodeType?E>0&&E<C.nodeValue.length&&(C=(ne=z(C,E)).previousSibling,me>E?(C=ne=z(ne,me-=E).previousSibling,me=ne.nodeValue.length,E=0):me=0):(3==C.nodeType&&E>0&&E<C.nodeValue.length&&(C=z(C,E),E=0),3==ne.nodeType&&me>0&&me<ne.nodeValue.length&&(me=(ne=z(ne,me).previousSibling).nodeValue.length)),{startContainer:C,startOffset:E,endContainer:ne,endOffset:me}},this.normalize=function(Y){function z(ne){function se(ct,Mt){for(var zt=new R(ct,Z.getParent(ct.parentNode,Z.isBlock)||lt);ct=zt[Mt?"prev":"next"]();)if("BR"===ct.nodeName)return!0}function ht(ct,Mt){var zt,yn,On;if(On=Z.getParent((Mt=Mt||ot).parentNode,Z.isBlock)||lt,ct&&"BR"==Mt.nodeName&&$e&&Z.isEmpty(On))return ot=Mt.parentNode,rt=Z.nodeIndex(Mt),void(C=!0);for(zt=new R(Mt,On);_t=zt[ct?"prev":"next"]();){if("false"===Z.getContentEditableParent(_t)||H(_t,Z.getRoot()))return;if(3===_t.nodeType&&_t.nodeValue.length>0)return ot=_t,rt=ct?_t.nodeValue.length:0,void(C=!0);if(Z.isBlock(_t)||ft[_t.nodeName.toLowerCase()])return;yn=_t}E&&yn&&(ot=yn,C=!0,rt=0)}var ot,rt,ut,_t,ft,Pe,$e,ct,lt=Z.getRoot();if(rt=Y[(ne?"start":"end")+"Offset"],$e=1==(ot=Y[(ne?"start":"end")+"Container"]).nodeType&&rt===ot.childNodes.length,ft=Z.schema.getNonEmptyElements(),Pe=ne,!pe(ot)){if(1==ot.nodeType&&rt>ot.childNodes.length-1&&(Pe=!1),9===ot.nodeType&&(ot=Z.getRoot(),rt=0),ot===lt){if(Pe&&(_t=ot.childNodes[rt>0?rt-1:0])&&(pe(_t)||ft[_t.nodeName]||"TABLE"==_t.nodeName))return;if(ot.hasChildNodes()){if(rt=Math.min(!Pe&&rt>0?rt-1:rt,ot.childNodes.length-1),ot=ot.childNodes[rt],rt=0,!E&&ot===lt.lastChild&&"TABLE"===ot.nodeName||function Se(ct){for(;ct&&ct!=lt;){if(Q(ct))return!0;ct=ct.parentNode}return!1}(ot)||pe(ot))return;if(ot.hasChildNodes()&&!/TABLE/.test(ot.nodeName)){_t=ot,ut=new R(ot,lt);do{if(Q(_t)||pe(_t)){C=!1;break}if(3===_t.nodeType&&_t.nodeValue.length>0){rt=Pe?0:_t.nodeValue.length,ot=_t,C=!0;break}if(ft[_t.nodeName.toLowerCase()]&&(!(ct=_t)||!/^(TD|TH|CAPTION)$/.test(ct.nodeName))){rt=Z.nodeIndex(_t),ot=_t.parentNode,"IMG"!=_t.nodeName||Pe||rt++,C=!0;break}}while(_t=Pe?ut.next():ut.prev())}}}E&&(3===ot.nodeType&&0===rt&&ht(!0),1===ot.nodeType&&((_t=ot.childNodes[rt])||(_t=ot.childNodes[rt-1]),!_t||"BR"!==_t.nodeName||function Be(ct,Mt){return ct.previousSibling&&ct.previousSibling.nodeName==Mt}(_t,"A")||se(_t)||se(_t,!0)||ht(!0,_t))),Pe&&!E&&3===ot.nodeType&&rt===ot.nodeValue.length&&ht(!1),C&&Y["set"+(ne?"Start":"End")](ot,rt)}}var C,E;return E=Y.collapsed,z(!0),E||z(),C&&E&&Y.collapse(!0),C}}var K=W.each,re=_.isContentEditableTrue,Q=_.isContentEditableFalse,pe=x.isCaretContainer;return G.compareRanges=function(Z,Y){if(Z&&Y){if(!Z.item&&!Z.duplicate)return Z.startContainer==Y.startContainer&&Z.startOffset==Y.startOffset;if(Z.item&&Y.item&&Z.item(0)===Y.item(0)||Z.isEqual&&Y.isEqual&&Y.isEqual(Z))return!0}return!1},G.getCaretRangeFromPoint=function(Z,Y,z){var C,E;if(z.caretPositionFromPoint)E=z.caretPositionFromPoint(Z,Y),(C=z.createRange()).setStart(E.offsetNode,E.offset),C.collapse(!0);else if(z.caretRangeFromPoint)C=z.caretRangeFromPoint(Z,Y);else if(z.body.createTextRange){C=z.body.createTextRange();try{C.moveToPoint(Z,Y),C.collapse(!0)}catch{C=function $(Z,Y,z){var C,E,ne;if(C=z.elementFromPoint(Z,Y),E=z.body.createTextRange(),C&&"HTML"!=C.tagName||(C=z.body),E.moveToElementText(C),(ne=(ne=W.toArray(E.getClientRects())).sort(function(me,se){return(me=Math.abs(Math.max(me.top-Y,me.bottom-Y)))-Math.abs(Math.max(se.top-Y,se.bottom-Y))})).length>0){Y=(ne[0].bottom+ne[0].top)/2;try{return E.moveToPoint(Z,Y),E.collapse(!0),E}catch{}}return null}(Z,Y,z)}return function te(Z,Y){var z=Z&&Z.parentElement?Z.parentElement():null;return Q(A(z,Y,T))?null:Z}(C,z.body)}return C},G.getSelectedNode=function(Z){var Y=Z.startContainer,z=Z.startOffset;return Y.hasChildNodes()&&Z.endOffset==z+1?Y.childNodes[z]:null},G.getNode=function(Z,Y){return 1==Z.nodeType&&Z.hasChildNodes()&&(Y>=Z.childNodes.length&&(Y=Z.childNodes.length-1),Z=Z.childNodes[Y]),Z},G}),Ne(qe,[Oe,D,y],function(W,R,_){return function(I){var T,S=[];"onselectionchange"in I.getDoc()||I.on("NodeChange Click MouseUp KeyUp Focus",function(A){var k,V;V={startContainer:(k=I.selection.getRng()).startContainer,startOffset:k.startOffset,endContainer:k.endContainer,endOffset:k.endOffset},"nodechange"!=A.type&&W.compareRanges(V,T)||I.fire("SelectionChange"),T=V}),I.on("contextmenu",function(){I.fire("SelectionChange")}),I.on("SelectionChange",function(){var A=I.selection.getStart(!0);!R.range&&I.selection.isCollapsed()||!function x(A){var k,V;if((V=I.$(A).parentsUntil(I.getBody()).add(A)).length===S.length){for(k=V.length;k>=0&&V[k]===S[k];k--);if(-1===k)return S=V,!0}return S=V,!1}(A)&&I.dom.isChildOf(A,I.getBody())&&I.nodeChanged({selectionChange:!0})}),I.on("MouseUp",function(A){A.isDefaultPrevented()||("IMG"==I.selection.getNode().nodeName?_.setEditorTimeout(I,function(){I.nodeChanged()}):I.nodeChanged())}),this.nodeChanged=function(A){var V,H,G,k=I.selection;I.initialized&&k&&!I.settings.disable_nodechange&&!I.readonly&&(G=I.getBody(),(V=k.getStart()||G).ownerDocument==I.getDoc()&&I.dom.isChildOf(V,G)||(V=G),"IMG"==V.nodeName&&k.isCollapsed()&&(V=V.parentNode),H=[],I.dom.getParent(V,function($){return $===G||void H.push($)}),(A=A||{}).element=V,A.parents=H,I.fire("NodeChange",A))}}}),Ne(xe,[],function(){function W(x,T,S){var A,k,V=S?"lastChild":"firstChild",H=S?"prev":"next";if(x[V])return x[V];if(x!==T){if(A=x[H])return A;for(k=x.parent;k&&k!==T;k=k.parent)if(A=k[H])return A}}function R(x,T){this.name=x,this.type=T,1===T&&(this.attributes=[],this.attributes.map={})}var _=/^[ \t\r\n]*$/,I={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return R.prototype={replace:function(x){var T=this;return x.parent&&x.remove(),T.insert(x,T),T.remove(),T},attr:function(x,T){var A,k,S=this;if("string"!=typeof x){for(k in x)S.attr(k,x[k]);return S}if(A=S.attributes){if(void 0!==T){if(null===T){if(x in A.map)for(delete A.map[x],k=A.length;k--;)if(A[k].name===x)return A=A.splice(k,1),S;return S}if(x in A.map){for(k=A.length;k--;)if(A[k].name===x){A[k].value=T;break}}else A.push({name:x,value:T});return A.map[x]=T,S}return A.map[x]}},clone:function(){var S,A,k,V,H,x=this,T=new R(x.name,x.type);if(k=x.attributes){for((H=[]).map={},S=0,A=k.length;S<A;S++)"id"!==(V=k[S]).name&&(H[H.length]={name:V.name,value:V.value},H.map[V.name]=V.value);T.attributes=H}return T.value=x.value,T.shortEnded=x.shortEnded,T},wrap:function(x){var T=this;return T.parent.insert(x,T),x.append(T),T},unwrap:function(){var T,S,x=this;for(T=x.firstChild;T;)S=T.next,x.insert(T,x,!0),T=S;x.remove()},remove:function(){var x=this,T=x.parent,S=x.next,A=x.prev;return T&&(T.firstChild===x?(T.firstChild=S,S&&(S.prev=null)):A.next=S,T.lastChild===x?(T.lastChild=A,A&&(A.next=null)):S.prev=A,x.parent=x.next=x.prev=null),x},append:function(x){var S,T=this;return x.parent&&x.remove(),(S=T.lastChild)?(S.next=x,x.prev=S,T.lastChild=x):T.lastChild=T.firstChild=x,x.parent=T,x},insert:function(x,T,S){var A;return x.parent&&x.remove(),A=T.parent||this,S?(T===A.firstChild?A.firstChild=x:T.prev.next=x,x.prev=T.prev,x.next=T,T.prev=x):(T===A.lastChild?A.lastChild=x:T.next.prev=x,x.next=T.next,x.prev=T,T.next=x),x.parent=A,x},getAll:function(x){var S,A=[];for(S=this.firstChild;S;S=W(S,this))S.name===x&&A.push(S);return A},empty:function(){var T,S,A,x=this;if(x.firstChild){for(T=[],A=x.firstChild;A;A=W(A,x))T.push(A);for(S=T.length;S--;)(A=T[S]).parent=A.firstChild=A.lastChild=A.next=A.prev=null}return x.firstChild=x.lastChild=null,x},isEmpty:function(x,T){var k,V,A=this.firstChild;if(T=T||{},A)do{if(1===A.type){if(A.attributes.map["data-mce-bogus"])continue;if(x[A.name])return!1;for(k=A.attributes.length;k--;)if("name"===(V=A.attributes[k].name)||0===V.indexOf("data-mce-bookmark"))return!1}if(8===A.type||3===A.type&&!_.test(A.value)||3===A.type&&A.parent&&T[A.parent.name]&&_.test(A.value))return!1}while(A=W(A,this));return!0},walk:function(x){return W(this,null,x)}},R.create=function(x,T){var S,A;if(S=new R(x,I[x]||1),T)for(A in T)S.attr(A,T[A]);return S},R}),Ne(We,[U],function(W){function R(G,$){return(G=W.trim(G))?G.split($||" "):[]}function I(G,$){var te;return G&&(te={},"string"==typeof G&&(G={"*":G}),A(G,function(K,re){te[re]=te[re.toUpperCase()]="map"==$?S(K,/[, ]/):V(K,/[, ]/)})),te}var x={},T={},S=W.makeMap,A=W.each,k=W.extend,V=W.explode,H=W.inArray;return function(G){function $(Mt,zt,yn){var On=G[Mt];return On?On=S(On,/[, ]/,S(On.toUpperCase(),/[, ]/)):(On=x[Mt])||(On=S(zt," ",S(zt.toUpperCase()," ")),On=k(On,yn),x[Mt]=On),On}function te(Mt){return new RegExp("^"+Mt.replace(/([?+*])/g,".$1")+"$")}function K(Mt){var zt,yn,On,Gn,Xn,qn,Bt,Ye,He,St,jt,on,un,Zt,Dn,tt,yt,Dt,nn,En=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,di=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,vi=/[*?+]/;if(Mt)for(Mt=R(Mt,","),z["@"]&&(tt=z["@"].attributes,yt=z["@"].attributesOrder),zt=0,yn=Mt.length;zt<yn;zt++)if(Xn=En.exec(Mt[zt])){if(He=Xn[2],Dn=Xn[3],Ye=Xn[5],qn={attributes:on={},attributesOrder:un=[]},"#"===(Zt=Xn[1])&&(qn.paddEmpty=!0),"-"===Zt&&(qn.removeEmpty=!0),"!"===Xn[4]&&(qn.removeEmptyAttrs=!0),tt){for(Dt in tt)on[Dt]=tt[Dt];un.push.apply(un,yt)}if(Ye)for(On=0,Gn=(Ye=R(Ye,"|")).length;On<Gn;On++)if(Xn=di.exec(Ye[On])){if(Bt={},jt=Xn[1],St=Xn[2].replace(/::/g,":"),Zt=Xn[3],nn=Xn[4],"!"===jt&&(qn.attributesRequired=qn.attributesRequired||[],qn.attributesRequired.push(St),Bt.required=!0),"-"===jt){delete on[St],un.splice(H(un,St),1);continue}Zt&&("="===Zt&&(qn.attributesDefault=qn.attributesDefault||[],qn.attributesDefault.push({name:St,value:nn}),Bt.defaultValue=nn),":"===Zt&&(qn.attributesForced=qn.attributesForced||[],qn.attributesForced.push({name:St,value:nn}),Bt.forcedValue=nn),"<"===Zt&&(Bt.validValues=S(nn,"?"))),vi.test(St)?(qn.attributePatterns=qn.attributePatterns||[],Bt.pattern=te(St),qn.attributePatterns.push(Bt)):(on[St]||un.push(St),on[St]=Bt)}tt||"@"!=He||(tt=on,yt=un),Dn&&(qn.outputName=He,z[Dn]=qn),vi.test(He)?(qn.pattern=te(He),E.push(qn)):z[He]=qn}}function re(Mt){z={},E=[],K(Mt),A(se,function(zt,yn){C[yn]=zt.children})}function Q(Mt){var zt=/^(~)?(.+)$/;Mt&&(x.text_block_elements=x.block_elements=null,A(R(Mt,","),function(yn){var On=zt.exec(yn),Gn="~"===On[1],Xn=Gn?"span":"div",qn=On[2];if(C[qn]=C[Xn],$e[qn]=Xn,Gn||(ut[qn.toUpperCase()]={},ut[qn]={}),!z[qn]){var Bt=z[Xn];delete(Bt=k({},Bt)).removeEmptyAttrs,delete Bt.removeEmpty,z[qn]=Bt}A(C,function(Ye,He){Ye[Xn]&&(C[He]=Ye=k({},C[He]),Ye[qn]=Ye[Xn])})}))}function pe(Mt){var zt=/^([+\-]?)(\w+)\[([^\]]+)\]$/;x[G.schema]=null,Mt&&A(R(Mt,","),function(yn){var Gn,Xn,On=zt.exec(yn);On&&(Gn=(Xn=On[1])?C[On[2]]:C[On[2]]={"#comment":{}},Gn=C[On[2]],A(R(On[3],"|"),function(qn){"-"===Xn?delete Gn[qn]:Gn[qn]={}}))})}function Z(Mt){var yn,zt=z[Mt];if(zt)return zt;for(yn=E.length;yn--;)if((zt=E[yn]).pattern.test(Mt))return zt}var ne,me,se,Se,Be,ht,ot,rt,ut,lt,_t,ft,Pe,Y=this,z={},C={},E=[],$e={},ct={};se=function _(G){function $(C,E,ne){function me(ht,ot){var ut,lt,rt={};for(ut=0,lt=ht.length;ut<lt;ut++)rt[ht[ut]]=ot||{};return rt}var se,Se,Be;for(E=E||"","string"==typeof(ne=ne||[])&&(ne=R(ne)),se=(C=R(C)).length;se--;)Be={attributes:me(Se=R([re,E].join(" "))),attributesOrder:Se,children:me(ne,T)},K[C[se]]=Be}function te(C,E){var ne,me,se,Se;for(ne=(C=R(C)).length,E=R(E);ne--;)for(me=K[C[ne]],se=0,Se=E.length;se<Se;se++)me.attributes[E[se]]={},me.attributesOrder.push(E[se])}var re,Q,pe,Z,Y,z,K={};return x[G]?x[G]:(re="id accesskey class dir lang style tabindex title",Q="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",pe="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=G&&(re+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",Q+=" article aside details dialog figure header footer hgroup section nav",pe+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=G&&(re+=" xml:lang",pe=[pe,z="acronym applet basefont big font strike tt"].join(" "),A(R(z),function(C){$(C,"",pe)}),Q=[Q,Y="center dir isindex noframes"].join(" "),Z=[Q,pe].join(" "),A(R(Y),function(C){$(C,"",Z)})),Z=Z||[Q,pe].join(" "),$("html","manifest","head body"),$("head","","base command link meta noscript script style title"),$("title hr noscript br"),$("base","href target"),$("link","href rel media hreflang type sizes hreflang"),$("meta","name http-equiv content charset"),$("style","media type scoped"),$("script","src async defer type charset"),$("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",Z),$("address dt dd div caption","",Z),$("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",pe),$("blockquote","cite",Z),$("ol","reversed start type","li"),$("ul","","li"),$("li","value",Z),$("dl","","dt dd"),$("a","href target rel media hreflang type",pe),$("q","cite",pe),$("ins del","cite datetime",Z),$("img","src sizes srcset alt usemap ismap width height"),$("iframe","src name width height",Z),$("embed","src type width height"),$("object","data type typemustmatch name usemap form width height",[Z,"param"].join(" ")),$("param","name value"),$("map","name",[Z,"area"].join(" ")),$("area","alt coords shape href target rel media hreflang type"),$("table","border","caption colgroup thead tfoot tbody tr"+("html4"==G?" col":"")),$("colgroup","span","col"),$("col","span"),$("tbody thead tfoot","","tr"),$("tr","","td th"),$("td","colspan rowspan headers",Z),$("th","colspan rowspan headers scope abbr",Z),$("form","accept-charset action autocomplete enctype method name novalidate target",Z),$("fieldset","disabled form name",[Z,"legend"].join(" ")),$("label","form for",pe),$("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),$("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==G?Z:pe),$("select","disabled form multiple name required size","option optgroup"),$("optgroup","disabled label","option"),$("option","disabled label selected value"),$("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),$("menu","type label",[Z,"li"].join(" ")),$("noscript","",Z),"html4"!=G&&($("wbr"),$("ruby","",[pe,"rt rp"].join(" ")),$("figcaption","",Z),$("mark rt rp summary bdi","",pe),$("canvas","width height",Z),$("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[Z,"track source"].join(" ")),$("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[Z,"track source"].join(" ")),$("picture","","img source"),$("source","src srcset type media sizes"),$("track","kind src srclang label default"),$("datalist","",[pe,"option"].join(" ")),$("article section nav aside header footer","",Z),$("hgroup","","h1 h2 h3 h4 h5 h6"),$("figure","",[Z,"figcaption"].join(" ")),$("time","datetime",pe),$("dialog","open",Z),$("command","type label icon disabled checked radiogroup command"),$("output","for form name",pe),$("progress","value max",pe),$("meter","value min max low high optimum",pe),$("details","open",[Z,"summary"].join(" ")),$("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=G&&(te("script","language xml:space"),te("style","xml:space"),te("object","declare classid code codebase codetype archive standby align border hspace vspace"),te("embed","align name hspace vspace"),te("param","valuetype type"),te("a","charset name rev shape coords"),te("br","clear"),te("applet","codebase archive code object alt name width height align hspace vspace"),te("img","name longdesc align border hspace vspace"),te("iframe","longdesc frameborder marginwidth marginheight scrolling align"),te("font basefont","size color face"),te("input","usemap align"),te("select","onchange"),te("textarea"),te("h1 h2 h3 h4 h5 h6 div p legend caption","align"),te("ul","type compact"),te("li","type"),te("ol dl menu dir","compact"),te("pre","width xml:space"),te("hr","align noshade size width"),te("isindex","prompt"),te("table","summary width frame rules cellspacing cellpadding align bgcolor"),te("col","width align char charoff valign"),te("colgroup","width align char charoff valign"),te("thead","align char charoff valign"),te("tr","align char charoff valign bgcolor"),te("th","axis align char charoff valign nowrap bgcolor width height"),te("form","accept"),te("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),te("tfoot","align char charoff valign"),te("tbody","align char charoff valign"),te("area","nohref"),te("body","background bgcolor text link vlink alink")),"html4"!=G&&(te("input button select textarea","autofocus"),te("input textarea","placeholder"),te("a","download"),te("link script img","crossorigin"),te("iframe","sandbox seamless allowfullscreen")),A(R("a form meter progress dfn"),function(C){K[C]&&delete K[C].children[C]}),delete K.caption.children.table,delete K.script,x[G]=K,K)}((G=G||{}).schema),!1===G.verify_html&&(G.valid_elements="*[*]"),ne=I(G.valid_styles),me=I(G.invalid_styles,"map"),rt=I(G.valid_classes,"map"),Se=$("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Be=$("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ht=$("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ot=$("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),lt=$("non_empty_elements","td th iframe video audio object script pre code",ht),_t=$("move_caret_before_on_enter_elements","table",lt),ft=$("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),ut=$("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",ft),Pe=$("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),A((G.special||"script noscript style textarea").split(" "),function(Mt){ct[Mt]=new RegExp("</"+Mt+"[^>]*>","gi")}),G.valid_elements?re(G.valid_elements):(A(se,function(Mt,zt){z[zt]={attributes:Mt.attributes,attributesOrder:Mt.attributesOrder},C[zt]=Mt.children}),"html5"!=G.schema&&A(R("strong/b em/i"),function(Mt){Mt=R(Mt,"/"),z[Mt[1]].outputName=Mt[0]}),A(R("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(Mt){z[Mt]&&(z[Mt].removeEmpty=!0)}),A(R("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(Mt){z[Mt].paddEmpty=!0}),A(R("span"),function(Mt){z[Mt].removeEmptyAttrs=!0})),Q(G.custom_elements),pe(G.valid_children),K(G.extended_valid_elements),pe("+ol[ul|ol],+ul[ul|ol]"),A({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Mt,zt){z[zt]&&(z[zt].parentsRequired=R(Mt))}),G.invalid_elements&&A(V(G.invalid_elements),function(Mt){z[Mt]&&delete z[Mt]}),Z("span")||K("span[!data-mce-type|*]"),Y.children=C,Y.getValidStyles=function(){return ne},Y.getInvalidStyles=function(){return me},Y.getValidClasses=function(){return rt},Y.getBoolAttrs=function(){return ot},Y.getBlockElements=function(){return ut},Y.getTextBlockElements=function(){return ft},Y.getTextInlineElements=function(){return Pe},Y.getShortEndedElements=function(){return ht},Y.getSelfClosingElements=function(){return Be},Y.getNonEmptyElements=function(){return lt},Y.getMoveCaretBeforeOnEnterElements=function(){return _t},Y.getWhiteSpaceElements=function(){return Se},Y.getSpecialElements=function(){return ct},Y.isValidChild=function(Mt,zt){var yn=C[Mt];return!(!yn||!yn[zt])},Y.isValid=function(Mt,zt){var yn,On,Gn=Z(Mt);if(Gn){if(!zt||Gn.attributes[zt])return!0;if(yn=Gn.attributePatterns)for(On=yn.length;On--;)if(yn[On].pattern.test(Mt))return!0}return!1},Y.getElementRule=Z,Y.getCustomElements=function(){return $e},Y.addValidElements=K,Y.setValidElements=re,Y.addCustomElements=Q,Y.addValidChildren=pe,Y.elements=z}}),Ne(et,[We,Ae,U],function(W,R,_){function I(S,A,k){var H,G,$,te,V=1;for(te=S.getShortEndedElements(),($=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=H=k;G=$.exec(A);){if(H=$.lastIndex,"/"===G[1])V--;else if(!G[1]){if(G[2]in te)continue;V++}if(0===V)break}return H}function x(S,A){function k(){}var V=this;S=S||{},V.schema=A=A||new W,!1!==S.fix_self_closing&&(S.fix_self_closing=!0),T("comment cdata text start end pi doctype".split(" "),function(H){H&&(V[H]=S[H]||k)}),V.parse=function(H){function G(on){var un,Zt;for(un=Z.length;un--&&Z[un].name!==on;);if(un>=0){for(Zt=Z.length-1;Zt>=un;Zt--)(on=Z[Zt]).valid&&te.end(on.name);Z.length=un}}function $(on,un,Zt,Dn,tt){var yt,Dt;if(Zt=(un=un.toLowerCase())in Se?un:Bt(Zt||Dn||tt||""),ht&&!ne&&0!==un.indexOf("data-")){if(!(yt=_t[un])&&ft){for(Dt=ft.length;Dt--&&!(yt=ft[Dt]).pattern.test(un););-1===Dt&&(yt=null)}if(!yt||yt.validValues&&!(Zt in yt.validValues))return}if(He[un]&&!S.allow_script_urls){var En=Zt.replace(/[\s\u0000-\u001F]+/g,"");try{En=decodeURIComponent(En)}catch{En=unescape(En)}if(St.test(En)||!S.allow_html_data_urls&&jt.test(En)&&!/^data:image\//i.test(En))return}Y.map[un]=Zt,Y.push({name:un,value:Zt})}var K,Q,pe,Y,z,C,E,ne,me,se,Se,Be,ht,ot,rt,ut,lt,_t,ft,Pe,$e,ct,zt,yn,On,Gn,Xn,Ye,te=this,re=0,Z=[],qn=0,Bt=R.decode,He=_.makeMap("src,href,data,background,formaction,poster"),St=/((java|vb)script|mhtml):/i,jt=/^data:/i;for(yn=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),On=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,se=A.getShortEndedElements(),zt=S.self_closing_elements||A.getSelfClosingElements(),Se=A.getBoolAttrs(),ht=S.validate,me=S.remove_internals,Ye=S.fix_self_closing,Gn=A.getSpecialElements();K=yn.exec(H);){if(re<K.index&&te.text(Bt(H.substr(re,K.index-re))),Q=K[6])":"===(Q=Q.toLowerCase()).charAt(0)&&(Q=Q.substr(1)),G(Q);else if(Q=K[7]){if(":"===(Q=Q.toLowerCase()).charAt(0)&&(Q=Q.substr(1)),Be=Q in se,Ye&&zt[Q]&&Z.length>0&&Z[Z.length-1].name===Q&&G(Q),!ht||(ot=A.getElementRule(Q))){if(rt=!0,ht&&(_t=ot.attributes,ft=ot.attributePatterns),(lt=K[8])?((ne=-1!==lt.indexOf("data-mce-type"))&&me&&(rt=!1),(Y=[]).map={},lt.replace(On,$)):(Y=[]).map={},ht&&!ne){if(Pe=ot.attributesRequired,$e=ot.attributesDefault,ot.removeEmptyAttrs&&!Y.length&&(rt=!1),ct=ot.attributesForced)for(z=ct.length;z--;)"{$uid}"===(Xn=(ut=ct[z]).value)&&(Xn="mce_"+qn++),Y.map[E=ut.name]=Xn,Y.push({name:E,value:Xn});if($e)for(z=$e.length;z--;)(E=(ut=$e[z]).name)in Y.map||("{$uid}"===(Xn=ut.value)&&(Xn="mce_"+qn++),Y.map[E]=Xn,Y.push({name:E,value:Xn}));if(Pe){for(z=Pe.length;z--&&!(Pe[z]in Y.map););-1===z&&(rt=!1)}if(ut=Y.map["data-mce-bogus"]){if("all"===ut){re=I(A,H,yn.lastIndex),yn.lastIndex=re;continue}rt=!1}}rt&&te.start(Q,Y,Be)}else rt=!1;if(pe=Gn[Q]){pe.lastIndex=re=K.index+K[0].length,(K=pe.exec(H))?(rt&&(C=H.substr(re,K.index-re)),re=K.index+K[0].length):(C=H.substr(re),re=H.length),rt&&(C.length>0&&te.text(C,!0),te.end(Q)),yn.lastIndex=re;continue}Be||(lt&&lt.indexOf("/")==lt.length-1?rt&&te.end(Q):Z.push({name:Q,valid:rt}))}else(Q=K[1])?(">"===Q.charAt(0)&&(Q=" "+Q),S.allow_conditional_comments||"[if"!==Q.substr(0,3).toLowerCase()||(Q=" "+Q),te.comment(Q)):(Q=K[2])?te.cdata(Q):(Q=K[3])?te.doctype(Q):(Q=K[4])&&te.pi(Q,K[5]);re=K.index+K[0].length}for(re<H.length&&te.text(Bt(H.substr(re))),z=Z.length-1;z>=0;z--)(Q=Z[z]).valid&&te.end(Q.name)}}var T=_.each;return x.findEndTag=I,x}),Ne(xt,[xe,We,et,U],function(W,R,_,I){var x=I.makeMap,T=I.each,S=I.explode,A=I.extend,k=function(H,G){H.padd_empty_with_br?G.empty().append(new W("br","1")).shortEnded=!0:G.empty().append(new W("#text","3")).value="\xa0"},V=function(H,G){return H&&H.firstChild===H.lastChild&&H.firstChild.name===G};return function(H,G){var te=this,K={},re=[],Q={},pe={};(H=H||{}).validate=!("validate"in H)||H.validate,H.root_name=H.root_name||"body",te.schema=G=G||new R,te.filterNode=function(Z){var Y,z,C;for((z in K&&((C=Q[z])?C.push(Z):Q[z]=[Z]),Y=re.length);Y--;)(z=re[Y].name)in Z.attributes.map&&((C=pe[z])?C.push(Z):pe[z]=[Z]);return Z},te.addNodeFilter=function(Z,Y){T(S(Z),function(z){var C=K[z];C||(K[z]=C=[]),C.push(Y)})},te.addAttributeFilter=function(Z,Y){T(S(Z),function(z){var C;for(C=0;C<re.length;C++)if(re[C].name===z)return void re[C].callbacks.push(Y);re.push({name:z,callbacks:[Y]})})},te.parse=function(Z,Y){function C(Ye,He){var jt,St=new W(Ye,He);return Ye in K&&((jt=Q[Ye])?jt.push(St):Q[Ye]=[St]),St}function E(Ye){var He,St,jt,on,un=G.getBlockElements();for(He=Ye.prev;He&&3===He.type;){if((jt=He.value.replace(zt,"")).length>0)return void(He.value=jt);if(St=He.next){if(3==St.type&&St.value.length){He=He.prev;continue}if(!un[St.name]&&"script"!=St.name&&"style"!=St.name){He=He.prev;continue}}on=He.prev,He.remove(),He=on}}var me,se,Se,Be,ht,ot,rt,ut,lt,_t,ft,Pe,$e,Mt,zt,yn,On,Gn,Xn,qn,Bt,ct=[];if(Y=Y||{},Q={},pe={},Pe=A(x("script,style,head,html,body,title,meta,param"),G.getBlockElements()),qn=G.getNonEmptyElements(),Xn=G.children,ft=H.validate,Bt="forced_root_block"in Y?Y.forced_root_block:H.forced_root_block,Gn=G.getWhiteSpaceElements(),$e=/^[ \t\r\n]+/,zt=/[ \t\r\n]+$/,yn=/[ \t\r\n]+/g,On=/^[ \t\r\n]+$/,me=new _({validate:ft,allow_script_urls:H.allow_script_urls,allow_conditional_comments:H.allow_conditional_comments,self_closing_elements:function ne(Ye){var He,St={};for(He in Ye)"li"!==He&&"p"!=He&&(St[He]=Ye[He]);return St}(G.getSelfClosingElements()),cdata:function(Ye){Se.append(C("#cdata",4)).value=Ye},text:function(Ye,He){var St;Mt||(Ye=Ye.replace(yn," "),Se.lastChild&&Pe[Se.lastChild.name]&&(Ye=Ye.replace($e,""))),0!==Ye.length&&((St=C("#text",3)).raw=!!He,Se.append(St).value=Ye)},comment:function(Ye){Se.append(C("#comment",8)).value=Ye},pi:function(Ye,He){Se.append(C(Ye,7)).value=He,E(Se)},doctype:function(Ye){Se.append(C("#doctype",10)).value=Ye,E(Se)},start:function(Ye,He,St){var jt,on,un,Zt,Dn;if(un=ft?G.getElementRule(Ye):{}){for((jt=C(un.outputName||Ye,1)).attributes=He,jt.shortEnded=St,Se.append(jt),(Dn=Xn[Se.name])&&Xn[jt.name]&&!Dn[jt.name]&&ct.push(jt),on=re.length;on--;)(Zt=re[on].name)in He.map&&((lt=pe[Zt])?lt.push(jt):pe[Zt]=[jt]);Pe[Ye]&&E(jt),St||(Se=jt),!Mt&&Gn[Ye]&&(Mt=!0)}},end:function(Ye){var He,St,jt,on,un;if(St=ft?G.getElementRule(Ye):{}){if(Pe[Ye]&&!Mt){if((He=Se.firstChild)&&3===He.type)if((jt=He.value.replace($e,"")).length>0)He.value=jt,He=He.next;else for(on=He.next,He.remove(),He=on;He&&3===He.type;)on=He.next,(0===(jt=He.value).length||On.test(jt))&&(He.remove(),He=on),He=on;if((He=Se.lastChild)&&3===He.type)if((jt=He.value.replace(zt,"")).length>0)He.value=jt,He=He.prev;else for(on=He.prev,He.remove(),He=on;He&&3===He.type;)on=He.prev,(0===(jt=He.value).length||On.test(jt))&&(He.remove(),He=on),He=on}if(Mt&&Gn[Ye]&&(Mt=!1),(St.removeEmpty||St.paddEmpty)&&Se.isEmpty(qn,Gn))if(St.paddEmpty)k(H,Se);else if(!Se.attributes.map.name&&!Se.attributes.map.id)return un=Se.parent,Pe[Se.name]?Se.empty().remove():Se.unwrap(),void(Se=un);Se=Se.parent}}},G),se=Se=new W(Y.context||H.root_name,11),me.parse(Z),ft&&ct.length&&(Y.context?Y.invalid=!0:function $(Z){var Y,z,C,E,ne,me,se,Se,Be,ht,ot,rt,ut,lt,_t,ft;for(rt=x("tr,td,th,tbody,thead,tfoot,table"),ht=G.getNonEmptyElements(),ot=G.getWhiteSpaceElements(),ut=G.getTextBlockElements(),lt=G.getSpecialElements(),Y=0;Y<Z.length;Y++)if((z=Z[Y]).parent&&!z.fixed)if(ut[z.name]&&"li"==z.parent.name){for(_t=z.next;_t&&ut[_t.name];)_t.name="li",_t.fixed=!0,z.parent.insert(_t,z.parent),_t=_t.next;z.unwrap(z)}else{for(E=[z],C=z.parent;C&&!G.isValidChild(C.name,z.name)&&!rt[C.name];C=C.parent)E.push(C);if(C&&E.length>1){for(E.reverse(),ne=me=te.filterNode(E[0].clone()),Be=0;Be<E.length-1;Be++){for(G.isValidChild(me.name,E[Be].name)?(se=te.filterNode(E[Be].clone()),me.append(se)):se=me,Se=E[Be].firstChild;Se&&Se!=E[Be+1];)ft=Se.next,se.append(Se),Se=ft;me=se}ne.isEmpty(ht,ot)?C.insert(z,E[0],!0):(C.insert(ne,E[0],!0),C.insert(z,ne)),((C=E[0]).isEmpty(ht,ot)||V(C,"br"))&&C.empty().remove()}else if(z.parent){if("li"===z.name){if((_t=z.prev)&&("ul"===_t.name||"ul"===_t.name)){_t.append(z);continue}if((_t=z.next)&&("ul"===_t.name||"ul"===_t.name)){_t.insert(z,_t.firstChild,!0);continue}z.wrap(te.filterNode(new W("ul",1)));continue}G.isValidChild(z.parent.name,"div")&&G.isValidChild("div",z.name)?z.wrap(te.filterNode(new W("div",1))):lt[z.name]?z.empty().remove():z.unwrap()}}}(ct)),Bt&&("body"==se.name||Y.isRootContent)&&function z(){function Ye(on){on&&((He=on.firstChild)&&3==He.type&&(He.value=He.value.replace($e,"")),(He=on.lastChild)&&3==He.type&&(He.value=He.value.replace(zt,"")))}var St,jt,He=se.firstChild;if(G.isValidChild(se.name,Bt.toLowerCase())){for(;He;)St=He.next,3==He.type||1==He.type&&"p"!==He.name&&!Pe[He.name]&&!He.attr("data-mce-type")?(jt||((jt=C(Bt,1)).attr(H.forced_root_block_attrs),se.insert(jt,He)),jt.append(He)):(Ye(jt),jt=null),He=St;Ye(jt)}}(),!Y.invalid){for(_t in Q){for(lt=K[_t],rt=(Be=Q[_t]).length;rt--;)Be[rt].parent||Be.splice(rt,1);for(ht=0,ot=lt.length;ht<ot;ht++)lt[ht](Be,_t,Y)}for(ht=0,ot=re.length;ht<ot;ht++)if((lt=re[ht]).name in pe){for(rt=(Be=pe[lt.name]).length;rt--;)Be[rt].parent||Be.splice(rt,1);for(rt=0,ut=lt.callbacks.length;rt<ut;rt++)lt.callbacks[rt](Be,lt.name,Y)}}return se},H.remove_trailing_brs&&te.addNodeFilter("br",function(Z){var Y,C,me,se,Se,Be,ot,rt,z=Z.length,E=A({},G.getBlockElements()),ne=G.getNonEmptyElements(),ht=G.getNonEmptyElements();for(E.body=1,Y=0;Y<z;Y++)if(me=(C=Z[Y]).parent,E[C.parent.name]&&C===me.lastChild){for(Se=C.prev;Se;){if("span"!==(Be=Se.name)||"bookmark"!==Se.attr("data-mce-type")){if("br"!==Be)break;if("br"===Be){C=null;break}}Se=Se.prev}C&&(C.remove(),me.isEmpty(ne,ht)&&(ot=G.getElementRule(me.name))&&(ot.removeEmpty?me.remove():ot.paddEmpty&&k(H,me)))}else{for(se=C;me&&me.firstChild===se&&me.lastChild===se&&(se=me,!E[me.name]);)me=me.parent;se===me&&!0!==H.padd_empty_with_br&&((rt=new W("#text",3)).value="\xa0",C.replace(rt))}}),H.allow_unsafe_link_target||te.addAttributeFilter("href",function(Z){function z(Se){var Be=new RegExp("("+se.replace(" ","|")+")","g");return Se&&(Se=I.trim(Se.replace(Be,""))),Se||null}for(var ne,me,E=Z.length,se="noopener noreferrer";E--;)me=(ne=Z[E]).attr("rel"),"a"===ne.name&&ne.attr("rel",(Se=me,"_blank"==ne.attr("target")?function Y(Se){return(Se=z(Se))?[Se,se].join(" "):se}(Se):z(Se)));var Se}),H.allow_html_in_named_anchor||te.addAttributeFilter("id,name",function(Z){for(var z,C,E,ne,Y=Z.length;Y--;)if("a"===(ne=Z[Y]).name&&ne.firstChild&&!ne.attr("href")){E=ne.parent,z=ne.lastChild;do{C=z.prev,E.insert(z,ne),z=C}while(z)}}),H.fix_list_elements&&te.addNodeFilter("ul,ol",function(Z){for(var z,C,Y=Z.length;Y--;)if("ul"===(C=(z=Z[Y]).parent).name||"ol"===C.name)if(z.prev&&"li"===z.prev.name)z.prev.append(z);else{var E=new W("li",1);E.attr("style","list-style-type: none"),z.wrap(E)}}),H.validate&&G.getValidClasses()&&te.addAttributeFilter("class",function(Z){for(var z,C,E,ne,me,Se,Be,Y=Z.length,se=G.getValidClasses();Y--;){for(C=(z=Z[Y]).attr("class").split(" "),me="",E=0;E<C.length;E++)ne=C[E],Be=!1,(Se=se["*"])&&Se[ne]&&(Be=!0),Se=se[z.name],!Be&&Se&&Se[ne]&&(Be=!0),Be&&(me&&(me+=" "),me+=ne);me.length||(me=null),z.attr("class",me)}})}}),Ne(ze,[Ae,U],function(W,R){var _=R.makeMap;return function(I){var T,S,A,k,V,x=[];return T=(I=I||{}).indent,S=_(I.indent_before||""),A=_(I.indent_after||""),k=W.getEncodeFunc(I.entity_encoding||"raw",I.entities),V="html"==I.element_format,{start:function(H,G,$){var te,K,re,Q;if(T&&S[H]&&x.length>0&&(Q=x[x.length-1]).length>0&&"\n"!==Q&&x.push("\n"),x.push("<",H),G)for(te=0,K=G.length;te<K;te++)x.push(" ",(re=G[te]).name,'="',k(re.value,!0),'"');x[x.length]=!$||V?">":" />",$&&T&&A[H]&&x.length>0&&(Q=x[x.length-1]).length>0&&"\n"!==Q&&x.push("\n")},end:function(H){var G;x.push("</",H,">"),T&&A[H]&&x.length>0&&(G=x[x.length-1]).length>0&&"\n"!==G&&x.push("\n")},text:function(H,G){H.length>0&&(x[x.length]=G?H:k(H))},cdata:function(H){x.push("<![CDATA[",H,"]]>")},comment:function(H){x.push("\x3c!--",H,"--\x3e")},pi:function(H,G){G?x.push("<?",H," ",k(G),"?>"):x.push("<?",H,"?>"),T&&x.push("\n")},doctype:function(H){x.push("<!DOCTYPE",H,">",T?"\n":"")},reset:function(){x.length=0},getContent:function(){return x.join("").replace(/\n$/,"")}}}}),Ne(Xe,[ze,We],function(W,R){return function(_,I){var x=this,T=new W(_);(_=_||{}).validate=!("validate"in _)||_.validate,x.schema=I=I||new R,x.writer=T,x.serialize=function(S){function A(H){var $,te,K,re,Q,pe,Z,Y,z,G=k[H.type];if(G)G(H);else{if($=H.name,te=H.shortEnded,K=H.attributes,V&&K&&K.length>1&&((pe=[]).map={},z=I.getElementRule(H.name))){for(Z=0,Y=z.attributesOrder.length;Z<Y;Z++)(re=z.attributesOrder[Z])in K.map&&(pe.map[re]=Q=K.map[re],pe.push({name:re,value:Q}));for(Z=0,Y=K.length;Z<Y;Z++)(re=K[Z].name)in pe.map||(pe.map[re]=Q=K.map[re],pe.push({name:re,value:Q}));K=pe}if(T.start(H.name,K,te),!te){if(H=H.firstChild)do{A(H)}while(H=H.next);T.end($)}}}var k,V;return V=_.validate,k={3:function(H){T.text(H.value,H.raw)},8:function(H){T.comment(H.value)},7:function(H){T.pi(H.name,H.value)},10:function(H){T.doctype(H.value)},4:function(H){T.cdata(H.value)},11:function(H){if(H=H.firstChild)do{A(H)}while(H=H.next)}},T.reset(),1!=S.type||_.inner?k[11](S):A(S),T.getContent()}}}),Ne(Je,[L,xt,et,Ae,Xe,xe,We,D,U,Ue],function(W,R,_,I,x,T,S,A,k,V){var G=k.each,$=k.trim,te=W.DOM;return function(K,re){function Q(me){var se=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+ne.join("|")+')="[^"]+"'].join("|"),"gi");return V.trim(me.replace(se,""))}function pe(me){var Be,ht,ot,rt,ut,se=me,Se=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,lt=re.schema;for(se=Q(se),ut=lt.getShortEndedElements();rt=Se.exec(se);)ht=Se.lastIndex,ot=rt[0].length,Be=ut[rt[1]]?ht:_.findEndTag(lt,se,ht),se=se.substring(0,ht-ot)+se.substring(Be),Se.lastIndex=ht-ot;return se}var z,C,E,ne=["data-mce-selected"];return re&&(z=re.dom,C=re.schema),z=z||te,C=C||new S(K),K.entity_encoding=K.entity_encoding||"named",K.remove_trailing_brs=!("remove_trailing_brs"in K)||K.remove_trailing_brs,(E=new R(K,C)).addAttributeFilter("data-mce-tabindex",function(me,se){for(var Be,Se=me.length;Se--;)(Be=me[Se]).attr("tabindex",Be.attributes.map["data-mce-tabindex"]),Be.attr(se,null)}),E.addAttributeFilter("src,href,style",function(me,se){for(var Be,ht,Se=me.length,ot="data-mce-"+se,rt=K.url_converter,ut=K.url_converter_scope;Se--;)void 0!==(ht=(Be=me[Se]).attributes.map[ot])?(Be.attr(se,ht.length>0?ht:null),Be.attr(ot,null)):(ht=Be.attributes.map[se],"style"===se?ht=z.serializeStyle(z.parseStyle(ht),Be.name):rt&&(ht=rt.call(ut,ht,se,Be.name)),Be.attr(se,ht.length>0?ht:null))}),E.addAttributeFilter("class",function(me){for(var Se,Be,se=me.length;se--;)(Be=(Se=me[se]).attr("class"))&&(Be=Se.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),Se.attr("class",Be.length>0?Be:null))}),E.addAttributeFilter("data-mce-type",function(me,se,Se){for(var ht,Be=me.length;Be--;)"bookmark"!==(ht=me[Be]).attributes.map["data-mce-type"]||Se.cleanup||ht.remove()}),E.addNodeFilter("noscript",function(me){for(var Se,se=me.length;se--;)(Se=me[se].firstChild)&&(Se.value=I.decode(Se.value))}),E.addNodeFilter("script,style",function(me,se){function Se(ut){return ut.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var ht,ot,rt,Be=me.length;Be--;)ot=(ht=me[Be]).firstChild?ht.firstChild.value:"","script"===se?((rt=ht.attr("type"))&&ht.attr("type","mce-no/type"==rt?null:rt.replace(/^mce\-/,"")),ot.length>0&&(ht.firstChild.value="// <![CDATA[\n"+Se(ot)+"\n// ]]>")):ot.length>0&&(ht.firstChild.value="\x3c!--\n"+Se(ot)+"\n--\x3e")}),E.addNodeFilter("#comment",function(me){for(var Se,se=me.length;se--;)0===(Se=me[se]).value.indexOf("[CDATA[")?(Se.name="#cdata",Se.type=4,Se.value=Se.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===Se.value.indexOf("mce:protected ")&&(Se.name="#text",Se.type=3,Se.raw=!0,Se.value=unescape(Se.value).substr(14))}),E.addNodeFilter("xml:namespace,input",function(me,se){for(var Be,Se=me.length;Se--;)7===(Be=me[Se]).type?Be.remove():1===Be.type&&("input"!==se||"type"in Be.attributes.map||Be.attr("type","text"))}),E.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(me,se){for(var Se=me.length;Se--;)me[Se].attr(se,null)}),{schema:C,addNodeFilter:E.addNodeFilter,addAttributeFilter:E.addAttributeFilter,serialize:function(me,se){var Be,ht,ot,rt,ut,lt;return A.ie&&z.select("script,style,select,map").length>0?(ut=me.innerHTML,me=me.cloneNode(!1),z.setHTML(me,ut)):me=me.cloneNode(!0),(Be=document.implementation).createHTMLDocument&&(ht=Be.createHTMLDocument(""),G("BODY"==me.nodeName?me.childNodes:[me],function(_t){ht.body.appendChild(ht.importNode(_t,!0))}),me="BODY"!=me.nodeName?ht.body.firstChild:ht.body,ot=z.doc,z.doc=ht),(se=se||{}).format=se.format||"html",se.selection&&(se.forced_root_block=""),se.no_events||(se.node=me,this.onPreProcess(se)),function H(K){function re(Z){return Z&&"br"===Z.name}var Q,pe;re(Q=K.lastChild)&&re(pe=Q.prev)&&(Q.remove(),pe.remove())}(lt=E.parse($(se.getInner?me.innerHTML:z.getOuterHTML(me)),se)),rt=new x(K,C),se.content=rt.serialize(lt),se.cleanup||(se.content=V.trim(se.content),se.content=se.content.replace(/\uFEFF/g,"")),se.no_events||this.onPostProcess(se),ot&&(z.doc=ot),se.node=null,se.content},addRules:function(me){C.addValidElements(me)},setRules:function(me){C.setValidElements(me)},onPreProcess:function(me){re&&re.fire("PreProcess",me)},onPostProcess:function(me){re&&re.fire("PostProcess",me)},addTempAttr:function Y(me){-1===k.inArray(ne,me)&&(E.addAttributeFilter(me,function(se,Se){for(var Be=se.length;Be--;)se[Be].attr(Se,null)}),ne.push(me))},trimHtml:Q,getTrimmedContent:function Z(){return pe(re.getBody().innerHTML)},trimContent:pe}}}),Ne(st,[],function(){return function W(R){function _(A,k){var V,G,$,te,K,re,Q,Z,H=0,pe=-1;if((V=A.duplicate()).collapse(k),(Z=V.parentElement()).ownerDocument===R.dom.doc){for(;"false"===Z.contentEditable;)Z=Z.parentNode;if(!Z.hasChildNodes())return{node:Z,inside:1};for(G=(te=Z.children).length-1;H<=G;)if(Q=Math.floor((H+G)/2),V.moveToElementText(K=te[Q]),(pe=V.compareEndPoints(k?"StartToStart":"EndToEnd",A))>0)G=Q-1;else{if(!(pe<0))return{node:K};H=Q+1}if(pe<0)for(K?V.collapse(!1):(V.moveToElementText(Z),V.collapse(!0),K=Z,$=!0),re=0;0!==V.compareEndPoints(k?"StartToStart":"StartToEnd",A)&&0!==V.move("character",1)&&Z==V.parentElement();)re++;else for(V.collapse(!0),re=0;0!==V.compareEndPoints(k?"StartToStart":"StartToEnd",A)&&0!==V.move("character",-1)&&Z==V.parentElement();)re++;return{node:K,position:pe,offset:re,inside:$}}}var x=this,T=R.dom,S=!1;this.getBookmark=function(A){function k($){var te,K,re,Q,pe=[];for(te=$.parentNode,K=T.getRoot().parentNode;te!=K&&9!==te.nodeType;){for(Q=(re=te.children).length;Q--;)if($===re[Q]){pe.push(Q);break}$=te,te=te.parentNode}return pe}function V($){var te;if(te=_(H,$))return{position:te.position,offset:te.offset,indexes:k(te.node),inside:te.inside}}var H=R.getRng(),G={};return 2===A&&(H.item?G.start={ctrl:!0,indexes:k(H.item(0))}:(G.start=V(!0),R.isCollapsed()||(G.end=V()))),G},this.moveToBookmark=function(A){function k($){var te,K,re,Q;for(te=T.getRoot(),K=$.length-1;K>=0;K--)(re=$[K])<=(Q=te.children).length-1&&(te=Q[re]);return te}function V($){var K,re,pe,te=A[$?"start":"end"];te&&(K=te.position>0,(re=G.createTextRange()).moveToElementText(k(te.indexes)),void 0!==(pe=te.offset)?(re.collapse(te.inside||K),re.moveStart("character",K?-pe:pe)):re.collapse($),H.setEndPoint($?"StartToStart":"EndToStart",re),$&&H.collapse(!0))}var H,G=T.doc.body;A.start&&(A.start.ctrl?((H=G.createControlRange()).addElement(k(A.start.indexes)),H.select()):(H=G.createTextRange(),V(!0),V(),H.select()))},this.addRange=function(A){function k(z){var C,E,ne,me,se;ne=T.create("a"),C=z?G:te,E=z?$:K,me=V.duplicate(),C!=Q&&C!=Q.documentElement||(C=pe,E=0),3==C.nodeType?(C.parentNode.insertBefore(ne,C),me.moveToElementText(ne),me.moveStart("character",E),T.remove(ne),V.setEndPoint(z?"StartToStart":"EndToEnd",me)):((se=C.childNodes).length?(E>=se.length?T.insertAfter(ne,se[se.length-1]):C.insertBefore(ne,se[E]),me.moveToElementText(ne)):C.canHaveHTML&&(C.innerHTML="<span>&#xFEFF;</span>",me.moveToElementText(ne=C.firstChild),me.collapse(S)),V.setEndPoint(z?"StartToStart":"EndToEnd",me),T.remove(ne))}var V,H,G,$,te,K,re,Z,Y,Q=R.dom.doc,pe=Q.body;if(G=A.startContainer,$=A.startOffset,te=A.endContainer,K=A.endOffset,V=pe.createTextRange(),G==te&&1==G.nodeType){if($==K&&!G.hasChildNodes()){if(G.canHaveHTML)return(re=G.previousSibling)&&!re.hasChildNodes()&&T.isBlock(re)?re.innerHTML="&#xFEFF;":re=null,G.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",V.moveToElementText(G.lastChild),V.select(),T.doc.selection.clear(),G.innerHTML="",void(re&&(re.innerHTML=""));$=T.nodeIndex(G),G=G.parentNode}if($==K-1)try{if(Y=G.childNodes[$],(H=pe.createControlRange()).addElement(Y),H.select(),(Z=R.getRng()).item&&Y===Z.item(0))return}catch{}}k(!0),k(),V.select()},this.getRangeAt=function I(){function A(re){var pe,Z,z,E,Q=_(k,re),Y=0;if(pe=Q.node,Z=Q.offset,!Q.inside||pe.hasChildNodes())if(void 0!==Z){if(Q.position<0){if(!(z=Q.inside?pe.firstChild:pe.nextSibling))return void V[re?"setStartAfter":"setEndAfter"](pe);if(!Z)return void(3==z.nodeType?V[re?"setStart":"setEnd"](z,0):V[re?"setStartBefore":"setEndBefore"](z));for(;z;){if(3==z.nodeType&&(Y+=(E=z.nodeValue).length)>=Z){pe=z,Y=E.length-(Y-=Z);break}z=z.nextSibling}}else{if(!(z=pe.previousSibling))return V[re?"setStartBefore":"setEndBefore"](pe);if(!Z)return void(3==pe.nodeType?V[re?"setStart":"setEnd"](z,pe.nodeValue.length):V[re?"setStartAfter":"setEndAfter"](z));for(;z;){if(3==z.nodeType&&(Y+=z.nodeValue.length)>=Z){pe=z,Y-=Z;break}z=z.previousSibling}}V[re?"setStart":"setEnd"](pe,Y)}else V[re?"setStartBefore":"setEndAfter"](pe);else V[re?"setStart":"setEnd"](pe,0)}var H,G,$,te,K,k=R.getRng(),V=T.createRng();if((H=k.item?k.item(0):k.parentElement()).ownerDocument!=T.doc)return V;if(G=R.isCollapsed(),k.item)return V.setStart(H.parentNode,T.nodeIndex(H)),V.setEnd(V.startContainer,V.startOffset+1),V;try{A(!0),G||A()}catch(re){if(-2147024809!=re.number)throw re;K=x.getBookmark(2),($=k.duplicate()).collapse(!0),H=$.parentElement(),G||(($=k.duplicate()).collapse(!1),(te=$.parentElement()).innerHTML=te.innerHTML),H.innerHTML=H.innerHTML,x.moveToBookmark(K),k=R.getRng(),A(!0),G||A()}return V}}}),Ne(Et,[D],function(W){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(R){return R.shiftKey||R.ctrlKey||R.altKey||this.metaKeyPressed(R)},metaKeyPressed:function(R){return W.mac?R.metaKey:R.ctrlKey&&!R.altKey}}}),Ne(Gt,[Et,U,y,D,Te],function(W,R,_,I,x){var S=x.isContentEditableFalse,A=x.isContentEditableTrue;return function(k,V){function H(tt){var yt=V.settings.object_resizing;return!1!==yt&&!I.iOS&&("string"!=typeof yt&&(yt="table,img,div"),"false"!==tt.getAttribute("data-mce-resize")&&tt!=V.getBody()&&V.dom.is(tt,yt))}function G(tt){var yt,Dt,En,di;Xn=(Xn=(yt=tt.screenX-Pe)*_t[2]+zt)<5?5:Xn,qn=(qn=(Dt=tt.screenY-$e)*_t[3]+yn)<5?5:qn,("IMG"==ot.nodeName&&!1!==V.settings.resize_img_proportional?!W.modifierPressed(tt):W.modifierPressed(tt)||"IMG"==ot.nodeName&&_t[2]*_t[3]!=0)&&(St(yt)>St(Dt)?(qn=jt(Xn*On),Xn=jt(qn/On)):(Xn=jt(qn/On),qn=jt(Xn*On))),Be.setStyles(rt,{width:Xn,height:qn}),Be.setStyles(ut,{left:En=(En=_t.startPos.x+yt)>0?En:0,top:di=(di=_t.startPos.y+Dt)>0?di:0,display:"block"}),ut.innerHTML=Xn+" &times; "+qn,_t[2]<0&&rt.clientWidth<=Xn&&Be.setStyle(rt,"left",ct+(zt-Xn)),_t[3]<0&&rt.clientHeight<=qn&&Be.setStyle(rt,"top",Mt+(yn-qn)),(yt=on.scrollWidth-un)+(Dt=on.scrollHeight-Zt)!=0&&Be.setStyles(ut,{left:En-yt,top:di-Dt}),Gn||(V.fire("ObjectResizeStart",{target:ot,width:zt,height:yn}),Gn=!0)}function $(){function tt(yt,Dt){Dt&&(ot.style[yt]||!V.schema.isValid(ot.nodeName.toLowerCase(),yt)?Be.setStyle(ot,yt,Dt):Be.setAttrib(ot,yt,Dt))}Gn=!1,tt("width",Xn),tt("height",qn),Be.unbind(Bt,"mousemove",G),Be.unbind(Bt,"mouseup",$),Ye!=Bt&&(Be.unbind(Ye,"mousemove",G),Be.unbind(Ye,"mouseup",$)),Be.remove(rt),Be.remove(ut),He&&"TABLE"!=ot.nodeName||te(ot),V.fire("ObjectResized",{target:ot,width:Xn,height:qn}),Be.setAttrib(ot,"style",Be.getAttrib(ot,"style")),V.nodeChanged()}function te(tt,yt,Dt){var nn,En,di,vi,yi;K(),ne(),nn=Be.getPos(tt,on),ct=nn.x,Mt=nn.y,yi=tt.getBoundingClientRect(),En=yi.width||yi.right-yi.left,di=yi.height||yi.bottom-yi.top,ot!=tt&&(E(),ot=tt,Xn=qn=0),vi=V.fire("ObjectSelected",{target:tt}),H(tt)&&!vi.isDefaultPrevented()?ht(lt,function(hi,nr){function Ri(Tn){Pe=Tn.screenX,$e=Tn.screenY,On=(yn=ot.clientHeight)/(zt=ot.clientWidth),_t=hi,hi.startPos={x:En*hi[0]+ct,y:di*hi[1]+Mt},un=on.scrollWidth,Zt=on.scrollHeight,rt=ot.cloneNode(!0),Be.addClass(rt,"mce-clonedresizable"),Be.setAttrib(rt,"data-mce-bogus","all"),rt.contentEditable=!1,rt.unSelectabe=!0,Be.setStyles(rt,{left:ct,top:Mt,margin:0}),rt.removeAttribute("data-mce-selected"),on.appendChild(rt),Be.bind(Bt,"mousemove",G),Be.bind(Bt,"mouseup",$),Ye!=Bt&&(Be.bind(Ye,"mousemove",G),Be.bind(Ye,"mouseup",$)),ut=Be.add(on,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},zt+" &times; "+yn)}var Bi;return yt?void(nr==yt&&Ri(Dt)):((Bi=Be.get("mceResizeHandle"+nr))&&Be.remove(Bi),Bi=Be.add(on,"div",{id:"mceResizeHandle"+nr,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+nr+"-resize; margin:0; padding:0"}),I.ie&&(Bi.contentEditable=!1),Be.bind(Bi,"mousedown",function(Tn){Tn.stopImmediatePropagation(),Tn.preventDefault(),Ri(Tn)}),hi.elm=Bi,void Be.setStyles(Bi,{left:En*hi[0]+ct-Bi.offsetWidth/2,top:di*hi[1]+Mt-Bi.offsetHeight/2}))}):K(),ot.setAttribute("data-mce-selected","1")}function K(){var tt,yt;for(tt in ne(),ot&&ot.removeAttribute("data-mce-selected"),lt)(yt=Be.get("mceResizeHandle"+tt))&&(Be.unbind(yt),Be.remove(yt))}function re(tt){function yt(En,di){if(En)do{if(En===di)return!0}while(En=En.parentNode)}var Dt,nn;if(!Gn&&!V.removed)return ht(Be.select("img[data-mce-selected],hr[data-mce-selected]"),function(En){En.removeAttribute("data-mce-selected")}),nn="mousedown"==tt.type?tt.target:k.getNode(),yt(nn=Be.$(nn).closest(He?"table":"table,img,hr")[0],on)&&(me(),yt(Dt=k.getStart(!0),nn)&&yt(k.getEnd(!0),nn)&&(!He||nn!=Dt&&"IMG"!==Dt.nodeName))?void te(nn):void K()}function Q(tt,yt,Dt){tt&&tt.attachEvent&&tt.attachEvent("on"+yt,Dt)}function pe(tt,yt,Dt){tt&&tt.detachEvent&&tt.detachEvent("on"+yt,Dt)}function Z(tt){var Dt,nn,En,vi,yi,hi,yt=tt.srcElement;for(nn in Dt=yt.getBoundingClientRect(),yi=ft.clientX-Dt.left,hi=ft.clientY-Dt.top,lt)if(vi=yt.offsetHeight*(En=lt[nn])[1],St(yt.offsetWidth*En[0]-yi)<8&&St(vi-hi)<8){_t=En;break}Gn=!0,V.fire("ObjectResizeStart",{target:ot,width:ot.clientWidth,height:ot.clientHeight}),V.getDoc().selection.empty(),te(yt,nn,ft)}function z(tt){return S(function T(k,V){for(;V&&V!=k;){if(A(V)||S(V))return V;V=V.parentNode}return null}(V.getBody(),tt))}function C(tt){var yt=tt.srcElement;if(z(yt))!function Y(tt){tt.preventDefault?tt.preventDefault():tt.returnValue=!1}(tt);else if(yt!=ot){if(V.fire("ObjectSelected",{target:yt}),E(),0===yt.id.indexOf("mceResizeHandle"))return void(tt.returnValue=!1);"IMG"!=yt.nodeName&&"TABLE"!=yt.nodeName||(K(),ot=yt,Q(yt,"resizestart",Z))}}function E(){pe(ot,"resizestart",Z)}function ne(){for(var tt in lt){var yt=lt[tt];yt.elm&&(Be.unbind(yt.elm),delete yt.elm)}}function me(){try{V.getDoc().execCommand("enableObjectResizing",!1,!1)}catch{}}function se(tt){var yt;if(He){yt=Bt.body.createControlRange();try{return yt.addElement(tt),yt.select(),!0}catch{}}}var ot,rt,ut,lt,_t,ft,Pe,$e,ct,Mt,zt,yn,On,Gn,Xn,qn,un,Zt,Be=V.dom,ht=R.each,Bt=V.getDoc(),Ye=document,He=I.ie&&I.ie<11,St=Math.abs,jt=Math.round,on=V.getBody();lt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var Dn=".mce-content-body";return V.contentStyles.push(Dn+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+Dn+" .mce-resizehandle:hover {background: #000}"+Dn+" img[data-mce-selected],"+Dn+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+Dn+" .mce-clonedresizable {position: absolute;"+(I.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+Dn+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),V.on("init",function(){He?(V.on("ObjectResized",function(yt){"TABLE"!=yt.target.nodeName&&(K(),se(yt.target))}),Q(on,"controlselect",C),V.on("mousedown",function(yt){ft=yt})):(me(),I.ie>=11&&(V.on("mousedown click",function(yt){var Dt=yt.target,nn=Dt.nodeName;Gn||!/^(TABLE|IMG|HR)$/.test(nn)||z(Dt)||(V.selection.select(Dt,"TABLE"==nn),"mousedown"==yt.type&&V.nodeChanged())}),V.dom.bind(on,"mscontrolselect",function(yt){function Dt(nn){_.setEditorTimeout(V,function(){V.selection.select(nn)})}return z(yt.target)?(yt.preventDefault(),void Dt(yt.target)):void(/^(TABLE|IMG|HR)$/.test(yt.target.nodeName)&&(yt.preventDefault(),"IMG"==yt.target.tagName&&Dt(yt.target)))})));var tt=_.throttle(function(yt){V.composing||re(yt)});V.on("nodechange ResizeEditor ResizeWindow drop",tt),V.on("keyup compositionend",function(yt){ot&&"TABLE"==ot.nodeName&&tt(yt)}),V.on("hide blur",K)}),V.on("remove",ne),{isResizable:H,showResizeRect:te,hideResizeRect:K,updateResizeRect:re,controlSelect:se,destroy:function Se(){ot=rt=null,He&&(E(),pe(on,"controlselect",C))}}}}),Ne(Tt,[],function(){var A=[].slice;return{constant:function W(k){return function(){return k}},negate:function R(k){return function(V){return!k(V)}},and:function x(){var k=A.call(arguments);return function(V){for(var H=0;H<k.length;H++)if(!k[H](V))return!1;return!0}},or:function I(){var k=A.call(arguments);return function(V){for(var H=0;H<k.length;H++)if(k[H](V))return!0;return!1}},curry:function T(k){var V=A.call(arguments);return V.length-1>=k.length?k.apply(this,V.slice(1)):function(){var H=V.concat([].slice.call(arguments));return T.apply(this,H)}},compose:function _(k,V){return function(H){return k(V(H))}},noop:function S(){}}}),Ne(Nt,[Te,O,ce],function(W,R,_){function I(Q){return!re(Q)&&(G(Q)?!$(Q.parentNode):te(Q)||H(Q)||K(Q)||V(Q))}function x(Q,pe){for(Q=Q.parentNode;Q&&Q!=pe;Q=Q.parentNode){if(V(Q))return!1;if(k(Q))return!0}return!0}var k=W.isContentEditableTrue,V=W.isContentEditableFalse,H=W.isBr,G=W.isText,$=W.matchNodeNames("script style textarea"),te=W.matchNodeNames("img input textarea hr iframe video audio object"),K=W.matchNodeNames("table"),re=_.isCaretContainer;return{isCaretCandidate:I,isInEditable:x,isAtomic:function S(Q){return te(Q)||function T(Q){return!!V(Q)&&!0!==R.reduce(Q.getElementsByTagName("*"),function(pe,Z){return pe||k(Z)},!1)}(Q)},isEditableCaretCandidate:function A(Q,pe){return I(Q)&&x(Q,pe)}}}),Ne(en,[],function(){function W(G){return G?{left:H(G.left),top:H(G.top),bottom:H(G.bottom),right:H(G.right),width:H(G.width),height:H(G.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function I(G,$,te){return G>=0&&G<=Math.min($.height,te.height)/2}function x(G,$){return G.bottom<$.top||!(G.top>$.bottom)&&I($.top-G.bottom,G,$)}function T(G,$){return G.top>$.bottom||!(G.bottom<$.top)&&I($.bottom-G.top,G,$)}function S(G,$){return G.left<$.left}function A(G,$){return G.right>$.right}var H=Math.round;return{clone:W,collapse:function R(G,$){return G=W(G),$||(G.left=G.left+G.width),G.right=G.left,G.width=0,G},isEqual:function _(G,$){return G.left===$.left&&G.top===$.top&&G.bottom===$.bottom&&G.right===$.right},isAbove:x,isBelow:T,isLeft:S,isRight:A,compare:function k(G,$){return x(G,$)?-1:T(G,$)?1:S(G,$)?-1:A(G,$)?1:0},containsXY:function V(G,$,te){return $>=G.left&&$<=G.right&&te>=G.top&&te<=G.bottom}}}),Ne(Ht,[],function(){var R=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:function W(_){return"string"==typeof _&&_.charCodeAt(0)>=768&&R.test(_)}}}),Ne(Mn,[Tt,Te,L,Oe,Nt,en,Ht],function(W,R,_,I,x,T,S){function A(E){return"createRange"in E?E.createRange():_.DOM.createRng()}function k(E){return E&&/[\r\n\t ]/.test(E)}function V(E){var se,ne=E.startContainer,me=E.startOffset;return!!(k(E.toString())&&pe(ne.parentNode)&&(se=ne.data,k(se[me-1])||k(se[me+1])))}function G(E,ne,me){function ht(){return me||(me=function H(E){function me(ut){var lt,_t;return _t=ut.getClientRects(),lt=T.clone(_t.length>0?_t[0]:ut.getBoundingClientRect()),Y(ut)&&0===lt.left?function ne(ut){var $e,lt=ut.ownerDocument,_t=A(lt),ft=lt.createTextNode("\xa0"),Pe=ut.parentNode;return Pe.insertBefore(ft,ut),_t.setStart(ft,0),_t.setEnd(ft,1),$e=T.clone(_t.getBoundingClientRect()),Pe.removeChild(ft),$e}(ut):lt}function se(ut,lt){return(ut=T.collapse(ut,lt)).width=1,ut.right=ut.left+1,ut}function Se(ut){0!==ut.height&&(ht.length>0&&T.isEqual(ut,ht[ht.length-1])||ht.push(ut))}function Be(ut,lt){var _t=A(ut.ownerDocument);if(lt<ut.data.length){if(S.isExtendingChar(ut.data[lt]))return ht;if(S.isExtendingChar(ut.data[lt-1])&&(_t.setStart(ut,lt),_t.setEnd(ut,lt+1),!V(_t)))return Se(se(me(_t),!1)),ht}lt>0&&(_t.setStart(ut,lt-1),_t.setEnd(ut,lt),V(_t)||Se(se(me(_t),!1))),lt<ut.data.length&&(_t.setStart(ut,lt),_t.setEnd(ut,lt+1),V(_t)||Se(se(me(_t),!0)))}var ot,rt,ht=[];if(Z(E.container()))return Be(E.container(),E.offset()),ht;if($(E.container()))if(E.isAtEnd())rt=C(E.container(),E.offset()),Z(rt)&&Be(rt,rt.data.length),Q(rt)&&!Y(rt)&&Se(se(me(rt),!1));else{if(rt=C(E.container(),E.offset()),Z(rt)&&Be(rt,0),Q(rt)&&E.isAtEnd())return Se(se(me(rt),!1)),ht;ot=C(E.container(),E.offset()-1),Q(ot)&&!Y(ot)&&(K(ot)||K(rt)||!Q(rt))&&Se(se(me(ot),!1)),Q(rt)&&Se(se(me(rt),!0))}return ht}(new G(E,ne))),me}return{container:W.constant(E),offset:W.constant(ne),toRange:function Be(){var lt;return(lt=A(E.ownerDocument)).setStart(E,ne),lt.setEnd(E,ne),lt},getClientRects:ht,isVisible:function ot(){return ht().length>0},isAtStart:function se(){return Z(E),0===ne},isAtEnd:function Se(){return Z(E)?ne>=E.data.length:ne>=E.childNodes.length},isEqual:function rt(lt){return lt&&E===lt.container()&&ne===lt.offset()},getNode:function ut(lt){return C(E,lt?ne-1:ne)}}}var $=R.isElement,te=x.isCaretCandidate,K=R.matchStyleValues("display","block table"),re=R.matchStyleValues("float","left right"),Q=W.and($,te,W.negate(re)),pe=W.negate(R.matchStyleValues("white-space","pre pre-line pre-wrap")),Z=R.isText,Y=R.isBr,z=_.nodeIndex,C=I.getNode;return G.fromRangeStart=function(E){return new G(E.startContainer,E.startOffset)},G.fromRangeEnd=function(E){return new G(E.endContainer,E.endOffset)},G.after=function(E){return new G(E.parentNode,z(E)+1)},G.before=function(E){return new G(E.parentNode,z(E))},G}),Ne(gn,[Te,L,Tt,O,Mn],function(W,R,_,I,x){function T(Y){var z=Y.parentNode;return pe(z)?T(z):z}function S(Y){return Y?I.reduce(Y.childNodes,function(z,C){return pe(C)&&"BR"!=C.nodeName?z=z.concat(S(C)):z.push(C),z},[]):[]}function k(Y){return function(z){return Y===z}}function V(Y){var z,C,E;return z=S(T(Y)),C=I.findIndex(z,k(Y),Y),z=z.slice(0,C+1),E=I.reduce(z,function(ne,me,se){return Q(me)&&Q(z[se-1])&&ne++,ne},0),z=I.filter(z,W.matchNodeNames(Y.nodeName)),(C=I.findIndex(z,k(Y),Y))-E}function H(Y){return(Q(Y)?"text()":Y.nodeName.toLowerCase())+"["+V(Y)+"]"}var Q=W.isText,pe=W.isBogus,Z=R.nodeIndex;return{create:function $(Y,z){var C,E,me,se,Se,ne=[];return C=z.container(),E=z.offset(),Q(C)?me=function A(Y,z){for(;(Y=Y.previousSibling)&&Q(Y);)z+=Y.data.length;return z}(C,E):(E>=(se=C.childNodes).length?(me="after",E=se.length-1):me="before",C=se[E]),ne.push(H(C)),Se=function G(Y,z,C){var E=[];for(z=z.parentNode;!(z==Y||C&&C(z));z=z.parentNode)E.push(z);return E}(Y,C),Se=I.filter(Se,_.negate(W.isBogus)),(ne=ne.concat(I.map(Se,function(Be){return H(Be)}))).reverse().join("/")+","+me},resolve:function re(Y,z){var C,E,ne;return z?(C=z.split(","),z=C[0].split("/"),ne=C.length>1?C[1]:"before",(E=I.reduce(z,function(me,se){return(se=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(se))?("text()"===se[1]&&(se[1]="#text"),function te(Y,z,C){var E=S(Y);return E=I.filter(E,function(ne,me){return!Q(ne)||!Q(E[me-1])}),(E=I.filter(E,W.matchNodeNames(z)))[C]}(me,se[1],parseInt(se[2],10))):null},Y))?Q(E)?function K(Y,z){for(var ne,C=Y,E=0;Q(C);){if(ne=C.data.length,z>=E&&z<=E+ne){Y=C,z-=E;break}if(!Q(C.nextSibling)){Y=C,z=ne;break}E+=ne,C=C.nextSibling}return z>Y.data.length&&(z=Y.data.length),new x(Y,z)}(E,parseInt(ne,10)):(ne="after"===ne?Z(E)+1:Z(E),new x(E.parentNode,ne)):null):null}}}),Ne(zn,[D,U,ce,gn,Mn,Te,Oe],function(W,R,_,I,x,T,S){function A(V){var H=V.dom;this.getBookmark=function(G,$){function te(se,Se){var Be=0;return R.each(H.select(se),function(ht){if("all"!==ht.getAttribute("data-mce-bogus"))return ht!=Se&&void Be++}),Be}function K(se){function Se(Be){var ht,ot,rt,ut=Be?"start":"end";ot=se[ut+"Offset"],1==(ht=se[ut+"Container"]).nodeType&&"TR"==ht.nodeName&&(ht=(rt=ht.childNodes)[Math.min(Be?ot:ot-1,rt.length-1)])&&se["set"+(Be?"Start":"End")](ht,ot=Be?0:ht.childNodes.length)}return Se(!0),Se(),se}var pe,Z,Y,z,C,E,me,ne="&#xFEFF;";if(2==G)return C=(E=V.getNode())?E.nodeName:null,pe=V.getRng(),k(E)||"IMG"==C?{name:C,index:te(C,E)}:V.tridentSel?V.tridentSel.getBookmark(G):(E=function Q(se){function Se(Be,ht){var ot;return T.isElement(Be)&&(Be=S.getNode(Be,ht),k(Be))?Be:_.isCaretContainer(Be)&&(T.isText(Be)&&_.isCaretContainerBlock(Be)&&(Be=Be.parentNode),k(ot=Be.previousSibling)||k(ot=Be.nextSibling))?ot:void 0}return Se(se.startContainer,se.startOffset)||Se(se.endContainer,se.endOffset)}(pe))?{name:C=E.tagName,index:te(C,E)}:function re(se){function Se(ot,rt){var ft,Pe,ut=ot[rt?"startContainer":"endContainer"],lt=ot[rt?"startOffset":"endOffset"],_t=[],$e=0;if(3==ut.nodeType){if($)for(ft=ut.previousSibling;ft&&3==ft.nodeType;ft=ft.previousSibling)lt+=ft.nodeValue.length;_t.push(lt)}else lt>=(Pe=ut.childNodes).length&&Pe.length&&($e=1,lt=Math.max(0,Pe.length-1)),_t.push(H.nodeIndex(Pe[lt],$)+$e);for(;ut&&ut!=Be;ut=ut.parentNode)_t.push(H.nodeIndex(ut,$));return _t}var Be=H.getRoot(),ht={};return ht.start=Se(se,!0),V.isCollapsed()||(ht.end=Se(se)),ht}(pe);if(3==G)return pe=V.getRng(),{start:I.create(H.getRoot(),x.fromRangeStart(pe)),end:I.create(H.getRoot(),x.fromRangeEnd(pe))};if(G)return{rng:V.getRng()};if(pe=V.getRng(),Y=H.uniqueId(),z=V.isCollapsed(),me="overflow:hidden;line-height:0px",pe.duplicate||pe.item){if(pe.item)return{name:C=(E=pe.item(0)).nodeName,index:te(C,E)};Z=pe.duplicate();try{pe.collapse(),pe.pasteHTML('<span data-mce-type="bookmark" id="'+Y+'_start" style="'+me+'">'+ne+"</span>"),z||(Z.collapse(!1),pe.moveToElementText(Z.parentElement()),0===pe.compareEndPoints("StartToEnd",Z)&&Z.move("character",-1),Z.pasteHTML('<span data-mce-type="bookmark" id="'+Y+'_end" style="'+me+'">'+ne+"</span>"))}catch{return null}}else{if("IMG"==(C=(E=V.getNode()).nodeName))return{name:C,index:te(C,E)};Z=K(pe.cloneRange()),z||(Z.collapse(!1),Z.insertNode(H.create("span",{"data-mce-type":"bookmark",id:Y+"_end",style:me},ne))),(pe=K(pe)).collapse(!0),pe.insertNode(H.create("span",{"data-mce-type":"bookmark",id:Y+"_start",style:me},ne))}return V.moveToBookmark({id:Y,keep:1}),{id:Y}},this.moveToBookmark=function(G){function $(E){var me,se,Se,Be,ne=G[E?"start":"end"];if(ne){for(Se=ne[0],se=pe,me=ne.length-1;me>=1;me--){if(ne[me]>(Be=se.childNodes).length-1)return;se=Be[ne[me]]}3===se.nodeType&&(Se=Math.min(ne[0],se.nodeValue.length)),1===se.nodeType&&(Se=Math.min(ne[0],se.childNodes.length)),E?Q.setStart(se,Se):Q.setEnd(se,Se)}return!0}function te(E){var me,se,Se,Be,ne=H.get(G.id+"_"+E),ht=G.keep;if(ne&&(me=ne.parentNode,"start"==E?(ht?(me=ne.firstChild,se=1):se=H.nodeIndex(ne),Z=Y=me,z=C=se):(ht?(me=ne.firstChild,se=1):se=H.nodeIndex(ne),Y=me,C=se),!ht)){for(Be=ne.previousSibling,Se=ne.nextSibling,R.each(R.grep(ne.childNodes),function(ot){3==ot.nodeType&&(ot.nodeValue=ot.nodeValue.replace(/\uFEFF/g,""))});ne=H.get(G.id+"_"+E);)H.remove(ne,1);Be&&Se&&Be.nodeType==Se.nodeType&&3==Be.nodeType&&!W.opera&&(se=Be.nodeValue.length,Be.appendData(Se.nodeValue),H.remove(Se),"start"==E?(Z=Y=Be,z=C=se):(Y=Be,C=se))}}function K(E){return!H.isBlock(E)||E.innerHTML||W.ie||(E.innerHTML='<br data-mce-bogus="1" />'),E}var Q,pe,Z,Y,z,C;if(G)if(R.isArray(G.start)){if(Q=H.createRng(),pe=H.getRoot(),V.tridentSel)return V.tridentSel.moveToBookmark(G);$(!0)&&$()&&V.setRng(Q)}else"string"==typeof G.start?V.setRng(function re(){var E,ne;return E=H.createRng(),ne=I.resolve(H.getRoot(),G.start),E.setStart(ne.container(),ne.offset()),ne=I.resolve(H.getRoot(),G.end),E.setEnd(ne.container(),ne.offset()),E}()):G.id?(te("start"),te("end"),Z&&((Q=H.createRng()).setStart(K(Z),z),Q.setEnd(K(Y),C),V.setRng(Q))):G.name?V.select(H.select(G.name)[G.index]):G.rng&&V.setRng(G.rng)}}var k=T.isContentEditableFalse;return A.isBookmarkNode=function(V){return V&&"SPAN"===V.tagName&&"bookmark"===V.getAttribute("data-mce-type")},A}),Ne(xi,[ue,st,Gt,Oe,zn,Te,D,U,Mn],function(W,R,_,I,x,T,S,A,k){function V(te,K,re,Q){var pe=this;pe.dom=te,pe.win=K,pe.serializer=re,pe.editor=Q,pe.bookmarkManager=new x(pe),pe.controlSelection=new _(pe,Q),pe.win.getSelection||(pe.tridentSel=new R(pe))}var H=A.each,G=A.trim,$=S.ie;return V.prototype={setCursorLocation:function(te,K){var re=this,Q=re.dom.createRng();te?(Q.setStart(te,K),Q.setEnd(te,K),re.setRng(Q),re.collapse(!1)):(re._moveEndPoint(Q,re.editor.getBody(),!0),re.setRng(Q))},getContent:function(te){var Z,Y,z,K=this,re=K.getRng(),Q=K.dom.create("body"),pe=K.getSel();return Z=Y="",(te=te||{}).get=!0,te.format=te.format||"html",te.selection=!0,K.editor.fire("BeforeGetContent",te),"text"==te.format?K.isCollapsed()?"":re.text||(pe.toString?pe.toString():""):(re.cloneContents?(z=re.cloneContents())&&Q.appendChild(z):re.item!==Ve||re.htmlText!==Ve?(Q.innerHTML="<br>"+(re.item?re.item(0).outerHTML:re.htmlText),Q.removeChild(Q.firstChild)):Q.innerHTML=re.toString(),/^\s/.test(Q.innerHTML)&&(Z=" "),/\s+$/.test(Q.innerHTML)&&(Y=" "),te.getInner=!0,te.content=K.isCollapsed()?"":Z+K.serializer.serialize(Q,te)+Y,K.editor.fire("GetContent",te),te.content)},setContent:function(te,K){var pe,Y,z,re=this,Q=re.getRng(),Z=re.win.document;if((K=K||{format:"html"}).set=!0,K.selection=!0,K.content=te,K.no_events||re.editor.fire("BeforeSetContent",K),te=K.content,Q.insertNode){te+='<span id="__caret">_</span>',Q.startContainer==Z&&Q.endContainer==Z?Z.body.innerHTML=te:(Q.deleteContents(),0===Z.body.childNodes.length?Z.body.innerHTML=te:Q.createContextualFragment?Q.insertNode(Q.createContextualFragment(te)):(Y=Z.createDocumentFragment(),z=Z.createElement("div"),Y.appendChild(z),z.outerHTML=te,Q.insertNode(Y))),pe=re.dom.get("__caret"),(Q=Z.createRange()).setStartBefore(pe),Q.setEndBefore(pe),re.setRng(Q),re.dom.remove("__caret");try{re.setRng(Q)}catch{}}else Q.item&&(Z.execCommand("Delete",!1,null),Q=re.getRng()),/^\s+/.test(te)?(Q.pasteHTML('<span id="__mce_tmp">_</span>'+te),re.dom.remove("__mce_tmp")):Q.pasteHTML(te);K.no_events||re.editor.fire("SetContent",K)},getStart:function(te){var Q,pe,Z,Y,K=this,re=K.getRng();if(re.duplicate||re.item){if(re.item)return re.item(0);for((Z=re.duplicate()).collapse(1),(Q=Z.parentElement()).ownerDocument!==K.dom.doc&&(Q=K.dom.getRoot()),pe=Y=re.parentElement();Y=Y.parentNode;)if(Y==Q){Q=pe;break}return Q}return 1==(Q=re.startContainer).nodeType&&Q.hasChildNodes()&&(te&&re.collapsed||(Q=Q.childNodes[Math.min(Q.childNodes.length-1,re.startOffset)])),Q&&3==Q.nodeType?Q.parentNode:Q},getEnd:function(te){var Q,pe,K=this,re=K.getRng();return re.duplicate||re.item?re.item?re.item(0):((re=re.duplicate()).collapse(0),(Q=re.parentElement()).ownerDocument!==K.dom.doc&&(Q=K.dom.getRoot()),Q&&"BODY"==Q.nodeName&&Q.lastChild||Q):(pe=re.endOffset,1==(Q=re.endContainer).nodeType&&Q.hasChildNodes()&&(te&&re.collapsed||(Q=Q.childNodes[pe>0?pe-1:pe])),Q&&3==Q.nodeType?Q.parentNode:Q)},getBookmark:function(te,K){return this.bookmarkManager.getBookmark(te,K)},moveToBookmark:function(te){return this.bookmarkManager.moveToBookmark(te)},select:function(te,K){var Z,re=this,Q=re.dom,pe=Q.createRng();if(re.lastFocusBookmark=null,te){if(!K&&re.controlSelection.controlSelect(te))return;Z=Q.nodeIndex(te),pe.setStart(te.parentNode,Z),pe.setEnd(te.parentNode,Z+1),K&&(re._moveEndPoint(pe,te,!0),re._moveEndPoint(pe,te)),re.setRng(pe)}return te},isCollapsed:function(){var K=this.getRng(),re=this.getSel();return!(!K||K.item)&&(K.compareEndPoints?0===K.compareEndPoints("StartToEnd",K):!re||K.collapsed)},collapse:function(te){var Q,K=this,re=K.getRng();re.item&&(Q=re.item(0),(re=K.win.document.body.createTextRange()).moveToElementText(Q)),re.collapse(!!te),K.setRng(re)},getSel:function(){var te=this.win;return te.getSelection?te.getSelection():te.document.selection},getRng:function(te){function K(ne,me,se){try{return me.compareBoundaryPoints(ne,se)}catch{return-1}}var Q,pe,Z,Y,z,C,re=this;if(!re.win||typeof(Y=re.win.document)>"u"||null===Y)return null;if(!te&&re.lastFocusBookmark){var E=re.lastFocusBookmark;return E.startContainer?((pe=Y.createRange()).setStart(E.startContainer,E.startOffset),pe.setEnd(E.endContainer,E.endOffset)):pe=E,pe}if(te&&re.tridentSel)return re.tridentSel.getRangeAt(0);try{(Q=re.getSel())&&(pe=Q.rangeCount>0?Q.getRangeAt(0):Q.createRange?Q.createRange():Y.createRange())}catch{}if((C=re.editor.fire("GetSelectionRange",{range:pe})).range!==pe)return C.range;if($&&pe&&pe.setStart&&Y.selection){try{z=Y.selection.createRange()}catch{}z&&z.item&&(Z=z.item(0),(pe=Y.createRange()).setStartBefore(Z),pe.setEndAfter(Z))}return pe||(pe=Y.createRange?Y.createRange():Y.body.createTextRange()),pe.setStart&&9===pe.startContainer.nodeType&&pe.collapsed&&(Z=re.dom.getRoot(),pe.setStart(Z,0),pe.setEnd(Z,0)),re.selectedRange&&re.explicitRange&&(0===K(pe.START_TO_START,pe,re.selectedRange)&&0===K(pe.END_TO_END,pe,re.selectedRange)?pe=re.explicitRange:(re.selectedRange=null,re.explicitRange=null)),pe},setRng:function(te,K){var Q,pe,re=this;if(te)if(te.select){re.explicitRange=null;try{te.select()}catch{}}else if(re.tridentSel){if(te.cloneRange)try{re.tridentSel.addRange(te)}catch{}}else{if(Q=re.getSel(),te=re.editor.fire("SetSelectionRange",{range:te}).range,Q){re.explicitRange=te;try{Q.removeAllRanges(),Q.addRange(te)}catch{}!1===K&&Q.extend&&(Q.collapse(te.endContainer,te.endOffset),Q.extend(te.startContainer,te.startOffset)),re.selectedRange=Q.rangeCount>0?Q.getRangeAt(0):null}te.collapsed||te.startContainer!=te.endContainer||!Q.setBaseAndExtent||S.ie||te.endOffset-te.startOffset<2&&te.startContainer.hasChildNodes()&&(pe=te.startContainer.childNodes[te.startOffset])&&"IMG"==pe.tagName&&(Q.setBaseAndExtent(te.startContainer,te.startOffset,te.endContainer,te.endOffset),Q.anchorNode===te.startContainer&&Q.focusNode===te.endContainer||Q.setBaseAndExtent(pe,0,pe,1)),re.editor.fire("AfterSetSelectionRange",{range:te})}},setNode:function(te){return this.setContent(this.dom.getOuterHTML(te)),te},getNode:function(){function te(E,ne){for(var me=E;E&&3===E.nodeType&&0===E.length;)E=ne?E.nextSibling:E.previousSibling;return E||me}var Q,pe,Z,Y,z,K=this,re=K.getRng(),C=K.dom.getRoot();return re?(pe=re.startContainer,Z=re.endContainer,Y=re.startOffset,z=re.endOffset,re.setStart?(Q=re.commonAncestorContainer,!re.collapsed&&(pe==Z&&z-Y<2&&pe.hasChildNodes()&&(Q=pe.childNodes[Y]),3===pe.nodeType&&3===Z.nodeType&&(pe=pe.length===Y?te(pe.nextSibling,!0):pe.parentNode,Z=0===z?te(Z.previousSibling,!1):Z.parentNode,pe&&pe===Z))?pe:Q&&3==Q.nodeType?Q.parentNode:Q):((Q=re.item?re.item(0):re.parentElement()).ownerDocument!==K.win.document&&(Q=C),Q)):C},getSelectedBlocks:function(te,K){var pe,Z,Q=this.dom,Y=[];if(Z=Q.getRoot(),te=Q.getParent(te||this.getStart(),Q.isBlock),K=Q.getParent(K||this.getEnd(),Q.isBlock),te&&te!=Z&&Y.push(te),te&&K&&te!=K){pe=te;for(var z=new W(te,Z);(pe=z.next())&&pe!=K;)Q.isBlock(pe)&&Y.push(pe)}return K&&te!=K&&K!=Z&&Y.push(K),Y},isForward:function(){var re,Q,te=this.dom,K=this.getSel();return!(K&&K.anchorNode&&K.focusNode)||((re=te.createRng()).setStart(K.anchorNode,K.anchorOffset),re.collapse(!0),(Q=te.createRng()).setStart(K.focusNode,K.focusOffset),Q.collapse(!0),re.compareBoundaryPoints(re.START_TO_START,Q)<=0)},normalize:function(){var K=this.getRng();return S.range&&new I(this.dom).normalize(K)&&this.setRng(K,this.isForward()),K},selectorChanged:function(te,K){var Q,re=this;return re.selectorChangedData||(re.selectorChangedData={},Q={},re.editor.on("NodeChange",function(pe){var Z=pe.element,Y=re.dom,z=Y.getParents(Z,null,Y.getRoot()),C={};H(re.selectorChangedData,function(E,ne){H(z,function(me){if(Y.is(me,ne))return Q[ne]||(H(E,function(se){se(!0,{node:me,selector:ne,parents:z})}),Q[ne]=E),C[ne]=E,!1})}),H(Q,function(E,ne){C[ne]||(delete Q[ne],H(E,function(me){me(!1,{node:Z,selector:ne,parents:z})}))})})),re.selectorChangedData[te]||(re.selectorChangedData[te]=[]),re.selectorChangedData[te].push(K),re},getScrollContainer:function(){for(var te,K=this.dom.getRoot();K&&"BODY"!=K.nodeName;){if(K.scrollHeight>K.clientHeight){te=K;break}K=K.parentNode}return te},scrollIntoView:function(te,K){function re(se){for(var Se=0,Be=0,ht=se;ht&&ht.nodeType;)Se+=ht.offsetLeft||0,Be+=ht.offsetTop||0,ht=ht.offsetParent;return{x:Se,y:Be}}var Q,pe,C,E,Z=this,Y=Z.dom,z=Y.getRoot(),ne=0;if(T.isElement(te)){if(!1===K&&(ne=te.offsetHeight),"BODY"!=z.nodeName){var me=Z.getScrollContainer();if(me)return Q=re(te).y-re(me).y+ne,E=me.clientHeight,void((Q<(C=me.scrollTop)||Q+25>C+E)&&(me.scrollTop=Q<C?Q:Q-E+25))}pe=Y.getViewPort(Z.editor.getWin()),Q=Y.getPos(te).y+ne,C=pe.y,E=pe.h,(Q<pe.y||Q+25>C+E)&&Z.editor.getWin().scrollTo(0,Q<C?Q:Q-E+25)}},placeCaretAt:function(te,K){this.setRng(I.getCaretRangeFromPoint(te,K,this.editor.getDoc()))},_moveEndPoint:function(te,K,re){var Q=K,pe=new W(K,Q),Z=this.dom.schema.getNonEmptyElements();do{if(3==K.nodeType&&0!==G(K.nodeValue).length)return void(re?te.setStart(K,0):te.setEnd(K,K.nodeValue.length));if(Z[K.nodeName]&&!/^(TD|TH)$/.test(K.nodeName))return void(re?te.setStartBefore(K):"BR"==K.nodeName?te.setEndBefore(K):te.setEndAfter(K));if(S.ie&&S.ie<11&&this.dom.isBlock(K)&&this.dom.isEmpty(K))return void(re?te.setStart(K,0):te.setEnd(K,0))}while(K=re?pe.next():pe.prev());"BODY"==Q.nodeName&&(re?te.setStart(Q,0):te.setEnd(Q,Q.childNodes.length))},getBoundingClientRect:function(){var te=this.getRng();return te.collapsed?k.fromRangeStart(te).getClientRects()[0]:te.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},V}),Ne(_i,[zn,U],function(W,R){var I=R.each;return function _(x){this.compare=function(T,S){function A(V){var H={};return I(x.getAttribs(V),function(G){var $=G.nodeName.toLowerCase();0!==$.indexOf("_")&&"style"!==$&&0!==$.indexOf("data-")&&(H[$]=x.getAttrib(V,$))}),H}function k(V,H){var G,$;for($ in V)if(V.hasOwnProperty($)){if(typeof(G=H[$])>"u"||V[$]!=G)return!1;delete H[$]}for($ in H)if(H.hasOwnProperty($))return!1;return!0}return!(T.nodeName!=S.nodeName||!k(A(T),A(S))||!k(x.parseStyle(x.getAttrib(T,"style")),x.parseStyle(x.getAttrib(S,"style")))||W.isBookmarkNode(T)||W.isBookmarkNode(S))}}}),Ne(mi,[L,U,We],function(W,R,_){function I(H,G){function te(z){var C;return function $(z,C){C.classes.length&&V.addClass(z,C.classes.join(" ")),V.setAttribs(z,C.attrs)}(C=V.create((pe="string"==typeof z?{name:z,classes:[],attrs:{}}:z).name),pe),C}var Q,pe,Z,Y=G&&G.schema||new _({});return H&&H.length?(Q=te(pe=H[0]),(Z=V.create("div")).appendChild(function re(z,C,E){var ne,me,se,Se=C.length&&C[0],Be=Se&&Se.name;if(se=function K(z,C){var E="string"!=typeof z?z.nodeName.toLowerCase():z,me=Y.getElementRule(E).parentsRequired;return!(!me||!me.length)&&(C&&-1!==R.inArray(me,C)?C:me[0])}(z,Be))Be==se?(me=C[0],C=C.slice(1)):me=se;else if(Se)me=C[0],C=C.slice(1);else if(!E)return z;return me&&(ne=te(me)).appendChild(z),E&&(ne||(ne=V.create("div")).appendChild(z),R.each(E,function(ht){var ot=te(ht);ne.insertBefore(ot,z)})),re(ne,C,me&&me.siblings)}(Q,H.slice(1),pe.siblings)),Z):""}function T(H){var G,$={classes:[],attrs:{}};return"*"!==(H=$.selector=R.trim(H))&&(G=H.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(te,K,re,Q,pe){switch(K){case"#":$.attrs.id=re;break;case".":$.classes.push(re);break;case":":-1!==R.inArray("checked disabled enabled read-only required".split(" "),re)&&($.attrs[re]=re)}if("["==Q){var Z=pe.match(/([\w\-]+)(?:\=\"([^\"]+))?/);Z&&($.attrs[Z[1]]=Z[2])}return""})),$.name=G||"div",$}function S(H){return H&&"string"==typeof H?(H=(H=H.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),R.map(H.split(/(?:>|\s+(?![^\[\]]+\]))/),function(G){var $=R.map(G.split(/(?:~\+|~|\+)/),T),te=$.pop();return $.length&&(te.siblings=$),te}).reverse()):[]}var k=R.each,V=W.DOM;return{getCssText:function A(H,G){function $(z){return z.replace(/%(\w+)/g,"")}var te,K,re,Q,Z,Y,pe="";if(!1===(Y=H.settings.preview_styles))return"";if("string"!=typeof Y&&(Y="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof G){if(!(G=H.formatter.get(G)))return;G=G[0]}return"preview"in G&&!1===(Y=G.preview)?"":(te=G.block||G.inline||"span",(Q=S(G.selector)).length?(Q[0].name||(Q[0].name=te),te=G.selector,K=I(Q,H)):K=I([te],H),re=V.select(te,K)[0]||K.firstChild,k(G.styles,function(z,C){(z=$(z))&&V.setStyle(re,C,z)}),k(G.attributes,function(z,C){(z=$(z))&&V.setAttrib(re,C,z)}),k(G.classes,function(z){z=$(z),V.hasClass(re,z)||V.addClass(re,z)}),H.fire("PreviewFormats"),V.setStyles(K,{position:"absolute",left:-65535}),H.getBody().appendChild(K),Z=V.getStyle(H.getBody(),"fontSize",!0),Z=/px$/.test(Z)?parseInt(Z,10):0,k(Y.split(" "),function(z){var C=V.getStyle(re,z,!0);if(!("background-color"==z&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(C)&&(C=V.getStyle(H.getBody(),z,!0),"#ffffff"==V.toHex(C).toLowerCase())||"color"==z&&"#000000"==V.toHex(C).toLowerCase())){if("font-size"==z&&/em|%$/.test(C)){if(0===Z)return;C=(C=parseFloat(C,10)/(/%$/.test(C)?100:1))*Z+"px"}"border"==z&&C&&(pe+="padding:0 2px;"),pe+=z+":"+C+";"}}),H.fire("AfterPreviewFormats"),V.remove(K),pe)},parseSelector:S,selectorToHtml:function x(H,G){return I(S(H),G)}}}),Ne(Pi,[O,Te,oe],function(W,R,_){var T={},S=W.filter,A=W.each;return function I(k,V){var H=T[k];H||(T[k]=H=[]),T[k].push(V)}("pre",function(k){var $,te,G=k.selection.getRng();$=R.matchNodeNames("pre"),G.collapsed||(te=k.selection.getSelectedBlocks(),A(S(S(te,$),function V(K){return $(K.previousSibling)&&-1!=W.indexOf(te,K.previousSibling)}),function(K){!function H(K,re){_(re).remove(),_(K).append("<br><br>").append(re.childNodes)}(K.previousSibling,K)}))}),{postProcess:function x(k,V){A(T[k],function(H){H(V)})}}}),Ne(gi,[ue,Oe,zn,_i,Tt,U,mi,Pi],function(W,R,_,I,x,T,S,A){return function(k){function V(Ft){return Ft.nodeType&&(Ft=Ft.nodeName),!!k.schema.getTextBlockElements()[Ft.toLowerCase()]}function H(Ft){return/^(TH|TD)$/.test(Ft.nodeName)}function $(Ft,qt){return Zt.getParents(Ft,qt,Zt.getRoot())}function te(Ft){return 1===Ft.nodeType&&"_mce_caret"===Ft.id}function Q(Ft){return Ft?un[Ft]:un}function pe(Ft,qt){Ft&&("string"!=typeof Ft?xn(Ft,function(je,vt){pe(vt,je)}):(xn(qt=qt.length?qt:[qt],function(je){je.deep===Ri&&(je.deep=!je.selector),je.split===Ri&&(je.split=!je.selector||je.inline),je.remove===Ri&&je.selector&&!je.inline&&(je.remove="none"),je.selector&&je.inline&&(je.mixed=!0,je.block_expand=!0),"string"==typeof je.classes&&(je.classes=je.classes.split(/\s+/))}),un[Ft]=qt))}function Y(Ft,qt){var je=Q(qt);if(je)for(var vt=0;vt<je.length;vt++)if(!1===je[vt].inherit&&Zt.is(Ft,je[vt].selector))return!0;return!1}function z(Ft){var qt;return k.dom.getParent(Ft,function(je){return(qt=k.dom.getStyle(je,"text-decoration"))&&"none"!==qt}),qt}function C(Ft){var qt;1===Ft.nodeType&&Ft.parentNode&&1===Ft.parentNode.nodeType&&(qt=z(Ft.parentNode),k.dom.getStyle(Ft,"color")&&qt?k.dom.setStyle(Ft,"text-decoration",qt):k.dom.getStyle(Ft,"text-decoration")===qt&&k.dom.setStyle(Ft,"text-decoration",null))}function E(Ft,qt,je){function vt(jn,$n){if($n=$n||Pt,jn){if($n.onformat&&$n.onformat(jn,$n,qt,je),xn($n.styles,function(Kn,oi){Zt.setStyle(jn,oi,zt(Kn,qt))}),$n.styles){var Yn=Zt.getAttrib(jn,"style");Yn&&jn.setAttribute("data-mce-style",Yn)}xn($n.attributes,function(Kn,oi){Zt.setAttrib(jn,oi,zt(Kn,qt))}),xn($n.classes,function(Kn){Kn=zt(Kn,qt),Zt.hasClass(jn,Kn)||Zt.addClass(jn,Kn)})}}function Ut(jn,$n){var Yn=!1;return!!Pt.selector&&(xn(jn,function(Kn){if(!("collapsed"in Kn)||Kn.collapsed===ii)return Zt.is($n,Kn.selector)&&!te($n)?(vt($n,Kn),Yn=!0,!1):void 0}),Yn)}function Ln(jn,$n,Yn){var oi,Di,Kn=[],sr=!0;vt(Di=Zt.create(oi=Pt.inline||Pt.block)),tt.walk(jn,function(zi){var Vr;xn(zi,function br(mr){var Tr,mo,Eo,$r;if($r=sr,Tr=mr.nodeName.toLowerCase(),mo=mr.parentNode.nodeName.toLowerCase(),1===mr.nodeType&&Bi(mr)&&($r=sr,sr="true"===Bi(mr),Eo=!0),lt(Tr,"br"))return Vr=0,void(Pt.block&&Zt.remove(mr));if(Pt.wrapper&&se(mr,Ft,qt))Vr=0;else{if(sr&&!Eo&&Pt.block&&!Pt.wrapper&&V(Tr)&&yt(mo,oi))return vt(mr=Zt.rename(mr,oi)),Kn.push(mr),void(Vr=0);if(Pt.selector){var lo=Ut(dn,mr);if(!Pt.inline||lo)return void(Vr=0)}!sr||Eo||!yt(oi,Tr)||!yt(mo,oi)||!Yn&&3===mr.nodeType&&1===mr.nodeValue.length&&65279===mr.nodeValue.charCodeAt(0)||te(mr)||Pt.inline&&Dt(mr)?(Vr=0,xn(wi(mr.childNodes),br),Eo&&(sr=$r),Vr=0):(Vr||(Vr=Zt.clone(Di,yi),mr.parentNode.insertBefore(Vr,mr),Kn.push(Vr)),Vr.appendChild(mr))}})}),!0===Pt.links&&xn(Kn,function(zi){!function br(Vr){"A"===Vr.nodeName&&vt(Vr,Pt),xn(wi(Vr.childNodes),br)}(zi)}),xn(Kn,function(zi){function br($r){var lo=0;return xn($r.childNodes,function(Zo){yn(Zo)||Jt(Zo)||lo++}),lo}function Vr($r){var lo=!1;return xn($r.childNodes,function(Zo){if(ft(Zo))return lo=Zo,!1}),lo}var mo;if(mo=br(zi),!(Kn.length>1)&&Dt(zi)||0!==mo){if(Pt.inline||Pt.wrapper){if(Pt.exact||1!==mo||(zi=function Tr($r){var lo,Zo;return(lo=Vr($r))&&!Jt(lo)&&ut(lo,Pt)&&(vt(Zo=Zt.clone(lo,yi)),Zt.replace(Zo,$r,hi),Zt.remove(lo,1)),Zo||$r}(zi)),xn(dn,function($r){xn(Zt.select($r.inline,zi),function(lo){Jt(lo)||qn($r,qt,lo,$r.exact?lo:null)})}),se(zi.parentNode,Ft,qt)&&qn(Pt,qt,zi)&&(zi=0),Pt.merge_with_parents&&Zt.getParent(zi.parentNode,function($r){if(se($r,Ft,qt))return qn(Pt,qt,zi)&&(zi=0),hi}),!Dt(zi)&&!ct(zi,"fontSize")){var Eo=function mr($r,lo){do{if(1!==br($r)||!($r=Vr($r)))break;if(lo($r))return $r}while($r);return null}(zi,Pe("fontSize"));Eo&&E("fontsize",{value:ct(Eo,"fontSize")},zi)}zi&&!1!==Pt.merge_siblings&&(zi=He(Ye(zi),zi),zi=He(zi,Ye(zi,hi)))}}else Zt.remove(zi,1)})}var wn,kn,dn=Q(Ft),Pt=dn[0],ii=!je&&Dn.isCollapsed();if("false"!==Bi(Dn.getNode())){if(Pt){if(je)je.nodeType?Ut(dn,je)||((kn=Zt.createRng()).setStartBefore(je),kn.setEndAfter(je),Ln(Gn(kn,dn),0,!0)):Ln(je,0,!0);else if(ii&&Pt.inline&&!Zt.select("td[data-mce-selected],th[data-mce-selected]").length)jt("apply",Ft,qt);else{var Xt=k.selection.getNode();nn||!dn[0].defaultBlock||Zt.getParent(Xt,Zt.isBlock)||E(dn[0].defaultBlock),k.selection.setRng(function sn(){var $n=k.selection.getRng(),Yn=$n.startContainer,Kn=$n.endContainer;if(Yn!=Kn&&0===$n.endOffset){var oi=function jn(sr,zi){var br=new W(zi);for(je=br.prev2();je;je=br.prev2())if(3==je.nodeType&&je.data.length>0||je.childNodes.length>1||je==sr||"BR"==je.tagName)return je}(Yn,Kn);$n.setEnd(oi,3==oi.nodeType?oi.data.length:oi.childNodes.length)}return $n}()),wn=Dn.getBookmark(),Ln(Gn(Dn.getRng(hi),dn)),Pt.styles&&((Pt.styles.color||Pt.styles.textDecoration)&&(ui(Xt,C,"childNodes"),C(Xt)),Pt.styles.backgroundColor&&_t(Xt,Pe("fontSize"),function $e(Ft,qt){return x.curry(function(je,vt,Ut){Zt.setStyle(Ut,je,vt)},Ft,qt)}("backgroundColor",zt(Pt.styles.backgroundColor,qt)))),Dn.moveToBookmark(wn),on(Dn.getRng(hi)),k.nodeChanged()}A.postProcess(Ft,k)}}else{je=Dn.getNode();for(var Pn=0,cn=dn.length;Pn<cn;Pn++)if(dn[Pn].ceFalseOverride&&Zt.is(je,dn[Pn].selector))return void vt(je,dn[Pn])}}function ne(Ft,qt,je,vt){function Ut(Yn){var Kn,oi,Di,sr,zi;if(1===Yn.nodeType&&Bi(Yn)&&(sr=cn,cn="true"===Bi(Yn),zi=!0),Kn=wi(Yn.childNodes),cn&&!zi)for(oi=0,Di=kn.length;oi<Di&&!qn(kn[oi],qt,Yn,Yn);oi++);if(ii.deep&&Kn.length){for(oi=0,Di=Kn.length;oi<Di;oi++)Ut(Kn[oi]);zi&&(cn=sr)}}function dn(Yn){return function Ln(Yn,Kn,oi,Di){var sr,zi,br,Vr,mr,Tr;if(Yn){for(Tr=Yn.parentNode,sr=Kn.parentNode;sr&&sr!=Tr;sr=sr.parentNode){for(zi=Zt.clone(sr,yi),mr=0;mr<kn.length;mr++)if(qn(kn[mr],qt,zi,zi)){zi=0;break}zi&&(br&&zi.appendChild(br),Vr||(Vr=zi),br=zi)}!Di||ii.mixed&&Dt(Yn)||(Kn=Zt.split(Yn,Kn)),br&&(oi.parentNode.insertBefore(br,oi),Vr.appendChild(oi))}return Kn}(function sn(Yn){var Kn;return xn($(Yn.parentNode).reverse(),function(oi){var Di;Kn||"_start"==oi.id||"_end"==oi.id||(Di=se(oi,Ft,qt,vt))&&!1!==Di.split&&(Kn=oi)}),Kn}(Yn),Yn,Yn,!0)}function Pt(Yn){var Kn=Zt.get(Yn?"_start":"_end"),oi=Kn[Yn?"firstChild":"lastChild"];return Jt(oi)&&(oi=oi[Yn?"firstChild":"lastChild"]),3==oi.nodeType&&0===oi.data.length&&(oi=Yn?Kn.previousSibling||Kn.nextSibling:Kn.nextSibling||Kn.previousSibling),Zt.remove(Kn,!0),oi}function wn(Yn){var Kn,oi,Di=Yn.commonAncestorContainer;if(Yn=Gn(Yn,kn,hi),ii.split){if((Kn=St(Yn,hi))!=(oi=St(Yn))){if(/^(TR|TH|TD)$/.test(Kn.nodeName)&&Kn.firstChild&&(Kn="TR"==Kn.nodeName?Kn.firstChild.firstChild||Kn:Kn.firstChild||Kn),Di&&/^T(HEAD|BODY|FOOT|R)$/.test(Di.nodeName)&&H(oi)&&oi.firstChild&&(oi=oi.firstChild||oi),Zt.isChildOf(Kn,oi)&&!Dt(oi)&&!H(Kn)&&!H(oi))return dn(Kn=On(Kn,"span",{id:"_start","data-mce-type":"bookmark"})),void(Kn=Pt(hi));Kn=On(Kn,"span",{id:"_start","data-mce-type":"bookmark"}),oi=On(oi,"span",{id:"_end","data-mce-type":"bookmark"}),dn(Kn),dn(oi),Kn=Pt(hi),oi=Pt()}else Kn=oi=dn(Kn);Yn.startContainer=Kn.parentNode?Kn.parentNode:Kn,Yn.startOffset=En(Kn),Yn.endContainer=oi.parentNode?oi.parentNode:oi,Yn.endOffset=En(oi)+1}tt.walk(Yn,function(sr){xn(sr,function(zi){Ut(zi),1===zi.nodeType&&"underline"===k.dom.getStyle(zi,"text-decoration")&&zi.parentNode&&"underline"===z(zi.parentNode)&&qn({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,zi)})})}var Xt,Pn,kn=Q(Ft),ii=kn[0],cn=!0;if(je)je.nodeType?((Pn=Zt.createRng()).setStartBefore(je),Pn.setEndAfter(je),wn(Pn)):wn(je);else if("false"!==Bi(Dn.getNode()))Dn.isCollapsed()&&ii.inline&&!Zt.select("td[data-mce-selected],th[data-mce-selected]").length?jt("remove",Ft,qt,vt):(Xt=Dn.getBookmark(),wn(Dn.getRng(hi)),Dn.moveToBookmark(Xt),ii.inline&&Se(Ft,qt,Dn.getStart())&&on(Dn.getRng(!0)),k.nodeChanged());else{je=Dn.getNode();for(var jn=0,$n=kn.length;jn<$n&&(!kn[jn].ceFalseOverride||!qn(kn[jn],qt,je,je));jn++);}}function se(Ft,qt,je,vt){function Ut(wn,kn,ii){var Xt,Pn,jn,cn=kn[ii];if(kn.onmatch)return kn.onmatch(wn,kn,ii);if(cn)if(cn.length===Ri){for(Xt in cn)if(cn.hasOwnProperty(Xt)&&(Pn="attributes"===ii?Zt.getAttrib(wn,Xt):ct(wn,Xt),vt&&!Pn&&!kn.exact||(!vt||kn.exact)&&!lt(Pn,Mt(zt(cn[Xt],je),Xt))))return}else for(jn=0;jn<cn.length;jn++)if("attributes"===ii?Zt.getAttrib(wn,cn[jn]):ct(wn,cn[jn]))return kn;return kn}var Ln,dn,Pt,sn=Q(qt);if(sn&&Ft)for(dn=0;dn<sn.length;dn++)if(ut(Ft,Ln=sn[dn])&&Ut(Ft,Ln,"attributes")&&Ut(Ft,Ln,"styles")){if(Pt=Ln.classes)for(dn=0;dn<Pt.length;dn++)if(!Zt.hasClass(Ft,Pt[dn]))return;return Ln}}function Se(Ft,qt,je){function vt(sn){var Ln=Zt.getRoot();return sn!==Ln&&(sn=Zt.getParent(sn,function(dn){return!!Y(dn,Ft)||dn.parentNode===Ln||!!se(dn,Ft,qt,!0)}),se(sn,Ft,qt))}var Ut;return je?vt(je):vt(je=Dn.getNode())||(Ut=Dn.getStart())!=je&&vt(Ut)?hi:yi}function ut(Ft,qt){return lt(Ft,qt.inline)||lt(Ft,qt.block)?hi:qt.selector?1==Ft.nodeType&&Zt.is(Ft,qt.selector):void 0}function lt(Ft,qt){return qt=""+((qt=qt||"").nodeName||qt),(Ft=""+((Ft=Ft||"").nodeName||Ft)).toLowerCase()==qt.toLowerCase()}function _t(Ft,qt,je){xn(Ft.childNodes,function(vt){ft(vt)&&(qt(vt)&&je(vt),vt.hasChildNodes()&&_t(vt,qt,je))})}function ft(Ft){return 1==Ft.nodeType&&!Jt(Ft)&&!yn(Ft)&&!te(Ft)}function Pe(Ft){return x.curry(function(qt,je){return!(!je||!ct(je,qt))},Ft)}function ct(Ft,qt){return Mt(Zt.getStyle(Ft,qt),qt)}function Mt(Ft,qt){return"color"!=qt&&"backgroundColor"!=qt||(Ft=Zt.toHex(Ft)),"fontWeight"==qt&&700==Ft&&(Ft="bold"),"fontFamily"==qt&&(Ft=Ft.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+Ft}function zt(Ft,qt){return"string"!=typeof Ft?Ft=Ft(qt):qt&&(Ft=Ft.replace(/%(\w+)/g,function(je,vt){return qt[vt]||je})),Ft}function yn(Ft){return Ft&&3===Ft.nodeType&&/^([\t \r\n]+|)$/.test(Ft.nodeValue)}function On(Ft,qt,je){var vt=Zt.create(qt,je);return Ft.parentNode.insertBefore(vt,Ft),vt.appendChild(Ft),vt}function Gn(Ft,qt,je){function vt($n){var Kn,oi,Di,sr,zi,br;if(Kn=oi=$n?Xt:cn,sr=$n?"previousSibling":"nextSibling",zi=Zt.getRoot(),3==Kn.nodeType&&!yn(Kn)&&($n?Pn>0:jn<Kn.nodeValue.length))return Kn;for(;;){if(!qt[0].block_expand&&Dt(oi))return oi;for(Di=oi[sr];Di;Di=Di[sr])if(!Jt(Di)&&!yn(Di)&&("BR"!=(br=Di).nodeName||!br.getAttribute("data-mce-bogus")||br.nextSibling))return oi;if(oi==zi||oi.parentNode==zi){Kn=oi;break}oi=oi.parentNode}return Kn}function Ut($n,Yn){for(Yn===Ri&&(Yn=3===$n.nodeType?$n.length:$n.childNodes.length);$n&&$n.hasChildNodes();)($n=$n.childNodes[Yn])&&(Yn=3===$n.nodeType?$n.length:$n.childNodes.length);return{node:$n,offset:Yn}}function sn($n){for(var Yn=$n;Yn;){if(1===Yn.nodeType&&Bi(Yn))return"false"===Bi(Yn)?Yn:$n;Yn=Yn.parentNode}return $n}function Ln($n,Yn,Kn){function oi(Vr,mr){var Tr,mo,Eo=Vr.nodeValue;return typeof mr>"u"&&(mr=Kn?Eo.length:0),Kn?-1===(Tr=(Tr=Eo.lastIndexOf(" ",mr))>(mo=Eo.lastIndexOf("\xa0",mr))?Tr:mo)||je||Tr++:(Tr=Eo.indexOf(" ",mr),mo=Eo.indexOf("\xa0",mr),Tr=-1!==Tr&&(-1===mo||Tr<mo)?Tr:mo),Tr}var Di,sr,zi,br;if(3===$n.nodeType){if(-1!==(zi=oi($n,Yn)))return{container:$n,offset:zi};br=$n}for(Di=new W($n,Zt.getParent($n,Dt)||k.getBody());sr=Di[Kn?"prev":"next"]();)if(3===sr.nodeType){if(br=sr,-1!==(zi=oi(sr)))return{container:sr,offset:zi}}else if(Dt(sr))break;if(br)return{container:br,offset:Yn=Kn?0:br.length}}function dn($n,Yn){var Kn,oi,Di,sr;for(3==$n.nodeType&&0===$n.nodeValue.length&&$n[Yn]&&($n=$n[Yn]),Kn=$($n),oi=0;oi<Kn.length;oi++)for(Di=0;Di<qt.length;Di++)if((!("collapsed"in(sr=qt[Di]))||sr.collapsed===Ft.collapsed)&&Zt.is(Kn[oi],sr.selector))return Kn[oi];return $n}function Pt($n,Yn){var Kn,oi=Zt.getRoot();if(qt[0].wrapper||(Kn=Zt.getParent($n,qt[0].block,oi)),Kn||(Kn=Zt.getParent(3==$n.nodeType?$n.parentNode:$n,function(Di){return Di!=oi&&V(Di)})),Kn&&qt[0].wrapper&&(Kn=$(Kn,"ul,ol").reverse()[0]||Kn),!Kn)for(Kn=$n;Kn[Yn]&&!Dt(Kn[Yn])&&!lt(Kn=Kn[Yn],"br"););return Kn||$n}var wn,kn,ii,Xt=Ft.startContainer,Pn=Ft.startOffset,cn=Ft.endContainer,jn=Ft.endOffset;if(1==Xt.nodeType&&Xt.hasChildNodes()&&3==(Xt=Xt.childNodes[Pn>(wn=Xt.childNodes.length-1)?wn:Pn]).nodeType&&(Pn=0),1==cn.nodeType&&cn.hasChildNodes()&&3==(cn=cn.childNodes[jn>(wn=cn.childNodes.length-1)?wn:jn-1]).nodeType&&(jn=cn.nodeValue.length),Xt=sn(Xt),cn=sn(cn),(Jt(Xt.parentNode)||Jt(Xt))&&3==(Xt=(Xt=Jt(Xt)?Xt:Xt.parentNode).nextSibling||Xt).nodeType&&(Pn=0),(Jt(cn.parentNode)||Jt(cn))&&3==(cn=(cn=Jt(cn)?cn:cn.parentNode).previousSibling||cn).nodeType&&(jn=cn.length),qt[0].inline&&(Ft.collapsed&&((ii=Ln(Xt,Pn,!0))&&(Xt=ii.container,Pn=ii.offset),(ii=Ln(cn,jn))&&(cn=ii.container,jn=ii.offset)),(kn=Ut(cn,jn)).node)){for(;kn.node&&0===kn.offset&&kn.node.previousSibling;)kn=Ut(kn.node.previousSibling);kn.node&&kn.offset>0&&3===kn.node.nodeType&&" "===kn.node.nodeValue.charAt(kn.offset-1)&&kn.offset>1&&(cn=kn.node).splitText(kn.offset-1)}return(qt[0].inline||qt[0].block_expand)&&(qt[0].inline&&3==Xt.nodeType&&0!==Pn||(Xt=vt(!0)),qt[0].inline&&3==cn.nodeType&&jn!==cn.nodeValue.length||(cn=vt())),qt[0].selector&&qt[0].expand!==yi&&!qt[0].inline&&(Xt=dn(Xt,"previousSibling"),cn=dn(cn,"nextSibling")),(qt[0].block||qt[0].selector)&&(Xt=Pt(Xt,"previousSibling"),cn=Pt(cn,"nextSibling"),qt[0].block&&(Dt(Xt)||(Xt=vt(!0)),Dt(cn)||(cn=vt()))),1==Xt.nodeType&&(Pn=En(Xt),Xt=Xt.parentNode),1==cn.nodeType&&(jn=En(cn)+1,cn=cn.parentNode),{startContainer:Xt,startOffset:Pn,endContainer:cn,endOffset:jn}}function qn(Ft,qt,je,vt){var Ut,sn,Ln;if(!ut(je,Ft)&&!function Xn(Ft,qt){return qt.links&&"A"==Ft.tagName}(je,Ft))return yi;if("all"!=Ft.remove)for(xn(Ft.styles,function(Pt,wn){Pt=Mt(zt(Pt,qt),wn),"number"==typeof wn&&(wn=Pt,vt=0),(Ft.remove_similar||!vt||lt(ct(vt,wn),Pt))&&Zt.setStyle(je,wn,""),Ln=1}),Ln&&""===Zt.getAttrib(je,"style")&&(je.removeAttribute("style"),je.removeAttribute("data-mce-style")),xn(Ft.attributes,function(Pt,wn){var kn;if(Pt=zt(Pt,qt),"number"==typeof wn&&(wn=Pt,vt=0),!vt||lt(Zt.getAttrib(vt,wn),Pt)){if("class"==wn&&(Pt=Zt.getAttrib(je,wn))&&(kn="",xn(Pt.split(/\s+/),function(ii){/mce\-\w+/.test(ii)&&(kn+=(kn?" ":"")+ii)}),kn))return void Zt.setAttrib(je,wn,kn);"class"==wn&&je.removeAttribute("className"),vi.test(wn)&&je.removeAttribute("data-mce-"+wn),je.removeAttribute(wn)}}),xn(Ft.classes,function(Pt){Pt=zt(Pt,qt),vt&&!Zt.hasClass(vt,Pt)||Zt.removeClass(je,Pt)}),sn=Zt.getAttribs(je),Ut=0;Ut<sn.length;Ut++){var dn=sn[Ut].nodeName;if(0!==dn.indexOf("_")&&0!==dn.indexOf("data-"))return yi}return"none"!=Ft.remove?(function Bt(Ft,qt){function je(sn,Ln,dn){return!(sn=Ye(sn,Ln,dn))||"BR"==sn.nodeName||Dt(sn)}var Ut,vt=Ft.parentNode;qt.block&&(nn?vt==Zt.getRoot()&&(qt.list_block&&lt(Ft,qt.list_block)||xn(wi(Ft.childNodes),function(sn){yt(nn,sn.nodeName.toLowerCase())?Ut?Ut.appendChild(sn):(Ut=On(sn,nn),Zt.setAttribs(Ut,k.settings.forced_root_block_attrs)):Ut=0})):Dt(Ft)&&!Dt(vt)&&(je(Ft,yi)||je(Ft.firstChild,hi,1)||Ft.insertBefore(Zt.create("br"),Ft.firstChild),je(Ft,hi)||je(Ft.lastChild,yi,1)||Ft.appendChild(Zt.create("br")))),qt.selector&&qt.inline&&!lt(qt.inline,Ft)||Zt.remove(Ft,1)}(je,Ft),hi):void 0}function Ye(Ft,qt,je){if(Ft)for(qt=qt?"nextSibling":"previousSibling",Ft=je?Ft:Ft[qt];Ft;Ft=Ft[qt])if(1==Ft.nodeType||!yn(Ft))return Ft}function He(Ft,qt){function je(Ln,dn){for(vt=Ln;vt;vt=vt[dn]){if(3==vt.nodeType&&0!==vt.nodeValue.length)return Ln;if(1==vt.nodeType&&!Jt(vt))return vt}return Ln}var vt,Ut,sn=new I(Zt);if(Ft&&qt&&(Ft=je(Ft,"previousSibling"),qt=je(qt,"nextSibling"),sn.compare(Ft,qt))){for(vt=Ft.nextSibling;vt&&vt!=qt;)Ut=vt,vt=vt.nextSibling,Ft.appendChild(Ut);return Zt.remove(qt),xn(wi(qt.childNodes),function(Ln){Ft.appendChild(Ln)}),Ft}return qt}function St(Ft,qt){var je,vt,Ut;return vt=Ft[qt?"startOffset":"endOffset"],1==(je=Ft[qt?"startContainer":"endContainer"]).nodeType&&(!qt&&vt&&vt--,je=je.childNodes[vt>(Ut=je.childNodes.length-1)?Ut:vt]),3===je.nodeType&&qt&&vt>=je.nodeValue.length&&(je=new W(je,k.getBody()).next()||je),3!==je.nodeType||qt||0!==vt||(je=new W(je,k.getBody()).prev()||je),je}function jt(Ft,qt,je,vt){function Ut(cn){var jn=Zt.create("span",{id:Xt,"data-mce-bogus":!0,style:Pn?"color:red":""});return cn&&jn.appendChild(k.getDoc().createTextNode(di)),jn}function sn(cn,jn){for(;cn;){if(3===cn.nodeType&&cn.nodeValue!==di||cn.childNodes.length>1)return!1;jn&&1===cn.nodeType&&jn.push(cn),cn=cn.firstChild}return!0}function Ln(cn){for(;cn;){if(cn.id===Xt)return cn;cn=cn.parentNode}}function dn(cn){var jn;if(cn)for(cn=(jn=new W(cn,cn)).current();cn;cn=jn.next())if(3===cn.nodeType)return cn}function Pt(cn,jn){var $n,Yn;if(cn)Yn=Dn.getRng(!0),sn(cn)?(!1!==jn&&(Yn.setStartBefore(cn),Yn.setEndBefore(cn)),Zt.remove(cn)):(($n=dn(cn)).nodeValue.charAt(0)===di&&($n.deleteData(0,1),Yn.startContainer==$n&&Yn.startOffset>0&&Yn.setStart($n,Yn.startOffset-1),Yn.endContainer==$n&&Yn.endOffset>0&&Yn.setEnd($n,Yn.endOffset-1)),Zt.remove(cn,1)),Dn.setRng(Yn);else if(!(cn=Ln(Dn.getStart())))for(;cn=Zt.get(Xt);)Pt(cn,!1)}function ii(){var cn;(cn=Ln(Dn.getStart()))&&!Zt.isEmpty(cn)&&ui(cn,function(jn){1!=jn.nodeType||jn.id===Xt||Zt.isEmpty(jn)||Zt.setAttrib(jn,"data-mce-bogus",null)},"childNodes")}var Xt="_mce_caret",Pn=k.settings.caret_debug;k._hasCaretEvents||(In=function(){var jn,cn=[];if(sn(Ln(Dn.getStart()),cn))for(jn=cn.length;jn--;)Zt.setAttrib(cn[jn],"data-mce-bogus","1")},Tn=function(cn){var jn=cn.keyCode;Pt(),8==jn&&Dn.isCollapsed()&&Dn.getStart().innerHTML==di&&Pt(Ln(Dn.getStart())),37!=jn&&39!=jn||Pt(Ln(Dn.getStart())),ii()},k.on("SetContent",function(cn){cn.selection&&ii()}),k._hasCaretEvents=!0),"apply"==Ft?function wn(){var cn,jn,$n,Yn,Kn,Di;Yn=(cn=Dn.getRng(!0)).startOffset,Di=cn.startContainer.nodeValue,(jn=Ln(Dn.getStart()))&&($n=dn(jn));var sr=/[^\s\u00a0\u00ad\u200b\ufeff]/;Di&&Yn>0&&Yn<Di.length&&sr.test(Di.charAt(Yn))&&sr.test(Di.charAt(Yn-1))?(Kn=Dn.getBookmark(),cn.collapse(!0),cn=Gn(cn,Q(qt)),cn=tt.split(cn),E(qt,je,cn),Dn.moveToBookmark(Kn)):(jn&&$n.nodeValue===di||($n=(jn=Ut(!0)).firstChild,cn.insertNode(jn),Yn=1),E(qt,je,jn),Dn.setCursorLocation($n,Yn))}():function kn(){var jn,Yn,Kn,oi,Di,zi,br,cn=Dn.getRng(!0),sr=[];for(oi=jn=cn.startContainer,3==jn.nodeType&&(cn.startOffset!=jn.nodeValue.length&&(Kn=!0),oi=oi.parentNode);oi;){if(se(oi,qt,je,vt)){Di=oi;break}oi.nextSibling&&(Kn=!0),sr.push(oi),oi=oi.parentNode}if(Di)if(Kn)Yn=Dn.getBookmark(),cn.collapse(!0),cn=Gn(cn,Q(qt),!0),cn=tt.split(cn),ne(qt,je,cn),Dn.moveToBookmark(Yn);else{for(oi=br=Ut(),zi=sr.length-1;zi>=0;zi--)oi.appendChild(Zt.clone(sr[zi],!1)),oi=oi.firstChild;oi.appendChild(Zt.doc.createTextNode(di)),oi=oi.firstChild;var Vr=Zt.getParent(Di,V);Vr&&Zt.isEmpty(Vr)?Di.parentNode.replaceChild(br,Di):Zt.insertAfter(br,Di),Dn.setCursorLocation(oi,1),Zt.isEmpty(Di)&&Zt.remove(Di)}}()}function on(Ft){var vt,Ut,sn,Ln,dn,qt=Ft.startContainer,je=Ft.startOffset;if((Ft.startContainer!=Ft.endContainer||!function G(Ft){return Ft&&/^(IMG)$/.test(Ft.nodeName)}(Ft.startContainer.childNodes[Ft.startOffset]))&&(3==qt.nodeType&&je>=qt.nodeValue.length&&(je=En(qt),qt=qt.parentNode,vt=!0),1==qt.nodeType))for(qt=(Ln=qt.childNodes)[Math.min(je,Ln.length-1)],Ut=new W(qt,Zt.getParent(qt,Zt.isBlock)),(je>Ln.length-1||vt)&&Ut.next(),sn=Ut.current();sn;sn=Ut.next())if(3==sn.nodeType&&!yn(sn))return dn=Zt.create("a",{"data-mce-bogus":"all"},di),sn.parentNode.insertBefore(dn,sn),Ft.setStart(sn,0),Dn.setRng(Ft),void Zt.remove(dn)}var nr,Ri,Tn,In,un={},Zt=k.dom,Dn=k.selection,tt=new R(Zt),yt=k.schema.isValidChild,Dt=Zt.isBlock,nn=k.settings.forced_root_block,En=Zt.nodeIndex,di="\ufeff",vi=/^(src|href|style)$/,yi=!1,hi=!0,Bi=Zt.getContentEditable,Jt=_.isBookmarkNode,xn=T.each,wi=T.grep,ui=T.walk;(0,T.extend)(this,{get:Q,register:pe,unregister:function Z(Ft){return Ft&&un[Ft]&&delete un[Ft],un},apply:E,remove:ne,toggle:function me(Ft,qt,je){var vt=Q(Ft);!Se(Ft,qt,je)||"toggle"in vt[0]&&!vt[0].toggle?E(Ft,qt,je):ne(Ft,qt,je)},match:Se,matchAll:function Be(Ft,qt){var je,vt=[],Ut={};return je=Dn.getStart(),Zt.getParent(je,function(sn){var Ln,dn;for(Ln=0;Ln<Ft.length;Ln++)!Ut[dn=Ft[Ln]]&&se(sn,dn,qt)&&(Ut[dn]=!0,vt.push(dn))},Zt.getRoot()),vt},matchNode:se,canApply:function ht(Ft){var vt,Ut,sn,Ln,qt=Q(Ft);if(qt)for(vt=$(Dn.getStart()),sn=qt.length-1;sn>=0;sn--){if(!(Ln=qt[sn].selector)||qt[sn].defaultBlock)return hi;for(Ut=vt.length-1;Ut>=0;Ut--)if(Zt.is(vt[Ut],Ln))return hi}return yi},formatChanged:function ot(Ft,qt,je){var vt;return nr||(nr={},vt={},k.on("NodeChange",function(Ut){var sn=$(Ut.element),Ln={};sn=T.grep(sn,function(dn){return 1==dn.nodeType&&!dn.getAttribute("data-mce-bogus")}),xn(nr,function(dn,Pt){xn(sn,function(wn){return se(wn,Pt,{},dn.similar)?(vt[Pt]||(xn(dn,function(kn){kn(!0,{node:wn,format:Pt,parents:sn})}),vt[Pt]=dn),Ln[Pt]=dn,!1):!Y(wn,Pt)&&void 0})}),xn(vt,function(dn,Pt){Ln[Pt]||(delete vt[Pt],xn(dn,function(wn){wn(!1,{node:Ut.element,format:Pt,parents:sn})}))})})),xn(Ft.split(","),function(Ut){nr[Ut]||(nr[Ut]=[],nr[Ut].similar=je),nr[Ut].push(qt)}),this},getCssText:function rt(Ft){return S.getCssText(k,Ft)}}),function K(){pe({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(Ft,qt,je){xn(je,function(vt,Ut){Zt.setAttrib(Ft,Ut,vt)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),xn("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(Ft){pe(Ft,{block:Ft,remove:"all"})}),pe(k.settings.formats)}(),function re(){k.addShortcut("meta+b","bold_desc","Bold"),k.addShortcut("meta+i","italic_desc","Italic"),k.addShortcut("meta+u","underline_desc","Underline");for(var Ft=1;Ft<=6;Ft++)k.addShortcut("access+"+Ft,"",["FormatBlock",!1,"h"+Ft]);k.addShortcut("access+7","",["FormatBlock",!1,"p"]),k.addShortcut("access+8","",["FormatBlock",!1,"div"]),k.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),k.on("BeforeGetContent",function(Ft){In&&"raw"!=Ft.format&&In()}),k.on("mouseup keydown",function(Ft){Tn&&Tn(Ft)})}}),Ne(Oi,[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(x,T){var S=x.length+T.length+2,A=new Array(S),k=new Array(S),H=function(K,re,Q,pe,Z){var Y=$(K,re,Q,pe);if(null===Y||Y.start===re&&Y.diag===re-pe||Y.end===K&&Y.diag===K-Q)for(var z=K,C=Q;z<re||C<pe;)z<re&&C<pe&&x[z]===T[C]?(Z.push([0,x[z]]),++z,++C):re-K>pe-Q?(Z.push([2,x[z]]),++z):(Z.push([1,T[C]]),++C);else{H(K,Y.start,Q,Y.start-Y.diag,Z);for(var E=Y.start;E<Y.end;++E)Z.push([0,x[E]]);H(Y.end,re,Y.end-Y.diag,pe,Z)}},G=function(K,re,Q,pe){for(var Z=K;Z-re<pe&&Z<Q&&x[Z]===T[Z-re];)++Z;return function(K,re,Q){return{start:K,end:re,diag:Q}}(K,Z,re)},$=function(K,re,Q,pe){var Z=re-K,Y=pe-Q;if(0===Z||0===Y)return null;var z=Z-Y,C=Y+Z,E=(C%2==0?C:C+1)/2;A[1+E]=K,k[1+E]=re+1;for(var ne=0;ne<=E;++ne){for(var me=-ne;me<=ne;me+=2){var se=me+E;A[se]=me===-ne||me!=ne&&A[se-1]<A[se+1]?A[se+1]:A[se-1]+1;for(var Se=A[se],Be=Se-K+Q-me;Se<re&&Be<pe&&x[Se]===T[Be];)A[se]=++Se,++Be;if(z%2!=0&&z-ne<=me&&me<=z+ne&&k[se-z]<=A[se])return G(k[se-z],me+K-Q,re,pe)}for(me=z-ne;me<=z+ne;me+=2){for(k[se=me+E-z]=me===z-ne||me!=z+ne&&k[se+1]<=k[se-1]?k[se+1]-1:k[se-1],Be=(Se=k[se]-1)-K+Q-me;Se>=K&&Be>=Q&&x[Se]===T[Be];)k[se]=Se--,Be--;if(z%2==0&&-ne<=me&&me<=ne&&k[se]<=A[se+z])return G(k[se],me+K-Q,re,pe)}}},te=[];return H(0,x.length,0,T.length,te),te}}}),Ne(bn,[O,Ae,Oi],function(W,R,_){var I=function(H){return 1===H.nodeType?H.outerHTML:3===H.nodeType?R.encodeRaw(H.data,!1):8===H.nodeType?"\x3c!--"+H.data+"--\x3e":""};return{read:function(H){return W.map(H.childNodes,I)},write:function(H,G){var $=W.map(G.childNodes,I);return function(H,G){var $=0;W.each(H,function(te){te[0]===_.KEEP?$++:te[0]===_.INSERT?(function(H,G,$){var te=function(H){var G,$,te;for(te=document.createElement("div"),G=document.createDocumentFragment(),H&&(te.innerHTML=H);$=te.firstChild;)G.appendChild($);return G}(G);if(H.hasChildNodes()&&$<H.childNodes.length){var K=H.childNodes[$];K.parentNode.insertBefore(te,K)}else H.appendChild(te)}(G,te[1],$),$++):te[0]===_.DELETE&&function(H,G){if(H.hasChildNodes()&&G<H.childNodes.length){var $=H.childNodes[G];$.parentNode.removeChild($)}}(G,$)})}(_.diff($,H),G),G}}}),Ne(_n,[O,bn],function(W,R){var I=function(V){return{type:"fragmented",fragments:V,content:"",bookmark:null,beforeBookmark:null}},x=function(V){return{type:"complete",fragments:null,content:V,bookmark:null,beforeBookmark:null}},A=function(V){return"fragmented"===V.type?V.fragments.join(""):V.content};return{createFragmentedLevel:I,createCompleteLevel:x,createFromEditor:function(V){var H,G,$;return H=R.read(V.getBody()),function(V){return-1!==V.indexOf("</iframe>")}(G=($=W.map(H,function(te){return V.serializer.trimContent(te)})).join(""))?I($):x(G)},applyToEditor:function(V,H,G){"fragmented"===H.type?R.write(H.fragments,V.getBody()):V.setContent(H.content,{format:"raw"}),V.selection.moveToBookmark(G?H.beforeBookmark:H.bookmark)},isEq:function(V,H){return A(V)===A(H)}}}),Ne(fn,[Et,U,_n],function(W,R,_){return function(I){function x(te){I.setDirty(te)}function T(te){A.typing=!1,A.add({},te)}function S(){A.typing&&(A.typing=!1,A.add())}var H,G,A=this,k=0,V=[],$=0;return I.on("init",function(){A.add()}),I.on("BeforeExecCommand",function(te){var K=te.command;"Undo"!==K&&"Redo"!==K&&"mceRepaint"!==K&&(S(),A.beforeChange())}),I.on("ExecCommand",function(te){var K=te.command;"Undo"!==K&&"Redo"!==K&&"mceRepaint"!==K&&T(te)}),I.on("ObjectResizeStart Cut",function(){A.beforeChange()}),I.on("SaveContent ObjectResized blur",T),I.on("DragEnd",T),I.on("KeyUp",function(te){var K=te.keyCode;te.isDefaultPrevented()||((K>=33&&K<=36||K>=37&&K<=40||45===K||te.ctrlKey)&&(T(),I.nodeChanged()),46!==K&&8!==K||I.nodeChanged(),G&&A.typing&&(I.isDirty()||(x(V[0]&&!_.isEq(_.createFromEditor(I),V[0])),I.isDirty()&&I.fire("change",{level:V[0],lastLevel:null})),I.fire("TypingUndo"),G=!1,I.nodeChanged()))}),I.on("KeyDown",function(te){var K=te.keyCode;if(!te.isDefaultPrevented()){if(K>=33&&K<=36||K>=37&&K<=40||45===K)return void(A.typing&&T(te));!(K<16||K>20)||224===K||91===K||A.typing||te.ctrlKey&&!te.altKey||te.metaKey||(A.beforeChange(),A.typing=!0,A.add({},te),G=!0)}}),I.on("MouseDown",function(te){A.typing&&T(te)}),I.addShortcut("meta+z","","Undo"),I.addShortcut("meta+y,meta+shift+z","","Redo"),I.on("AddUndo Undo Redo ClearUndos",function(te){te.isDefaultPrevented()||I.nodeChanged()}),A={data:V,typing:!1,beforeChange:function(){$||(H=I.selection.getBookmark(2,!0))},add:function(te,K){var re,pe,Z,Q=I.settings;if(Z=_.createFromEditor(I),te=R.extend(te=te||{},Z),$||I.removed||I.fire("BeforeAddUndo",{level:te,lastLevel:pe=V[k],originalEvent:K}).isDefaultPrevented()||pe&&_.isEq(pe,te))return null;if(V[k]&&(V[k].beforeBookmark=H),Q.custom_undo_redo_levels&&V.length>Q.custom_undo_redo_levels){for(re=0;re<V.length-1;re++)V[re]=V[re+1];V.length--,k=V.length}te.bookmark=I.selection.getBookmark(2,!0),k<V.length-1&&(V.length=k+1),V.push(te),k=V.length-1;var Y={level:te,lastLevel:pe,originalEvent:K};return I.fire("AddUndo",Y),k>0&&(x(!0),I.fire("change",Y)),te},undo:function(){var te;return A.typing&&(A.add(),A.typing=!1),k>0&&(te=V[--k],_.applyToEditor(I,te,!0),x(!0),I.fire("undo",{level:te})),te},redo:function(){var te;return k<V.length-1&&(te=V[++k],_.applyToEditor(I,te,!1),x(!0),I.fire("redo",{level:te})),te},clear:function(){V=[],k=0,A.typing=!1,A.data=V,I.fire("ClearUndos")},hasUndo:function(){return k>0||A.typing&&V[0]&&!_.isEq(_.createFromEditor(I),V[0])},hasRedo:function(){return k<V.length-1&&!A.typing},transact:function(te){S(),A.beforeChange();try{$++,te()}finally{$--}return A.add()},extra:function(te,K){var Q;A.transact(te)&&(Q=V[k].bookmark,_.applyToEditor(I,V[k-1],!0),A.transact(K)&&(V[k-1].beforeBookmark=Q))}}}}),Ne(Wn,[ue,Oe,ce,D],function(W,R,_,I){var x=I.ie&&I.ie<11;return function(T){var A=T.dom,k=T.selection,V=T.settings,H=T.undoManager,G=T.schema,$=G.getNonEmptyElements(),te=G.getMoveCaretBeforeOnEnterElements();T.on("keydown",function(K){13==K.keyCode&&!1!==function S(K){function re(Ye){return Ye&&A.isBlock(Ye)&&!/^(TD|TH|CAPTION|FORM)$/.test(Ye.nodeName)&&!/^(fixed|absolute)/i.test(Ye.style.position)&&"true"!==A.getContentEditable(Ye)}function pe(Ye){var He;A.isBlock(Ye)&&(He=k.getRng(),Ye.appendChild(A.create("span",null,"\xa0")),k.select(Ye),Ye.lastChild.outerHTML="",k.setRng(He))}function Y(Ye){var St,jt,on,Zt,un=Ye;if(Ye){if(I.ie&&I.ie<9&&$e&&$e.firstChild&&$e.firstChild==$e.lastChild&&"BR"==$e.firstChild.tagName&&A.remove($e.firstChild),/^(LI|DT|DD)$/.test(Ye.nodeName)){var Dn=function He(tt){for(;tt;){if(1==tt.nodeType||3==tt.nodeType&&tt.data&&/[\r\n\s]/.test(tt.data))return tt;tt=tt.nextSibling}}(Ye.firstChild);Dn&&/^(UL|OL|DL)$/.test(Dn.nodeName)&&Ye.insertBefore(A.doc.createTextNode("\xa0"),Ye.firstChild)}if(on=A.createRng(),I.ie||Ye.normalize(),Ye.hasChildNodes()){for(St=new W(Ye,Ye);jt=St.current();){if(3==jt.nodeType){on.setStart(jt,0),on.setEnd(jt,0);break}if(te[jt.nodeName.toLowerCase()]){on.setStartBefore(jt),on.setEndBefore(jt);break}un=jt,jt=St.next()}jt||(on.setStart(un,0),on.setEnd(un,0))}else"BR"==Ye.nodeName?Ye.nextSibling&&A.isBlock(Ye.nextSibling)?((!ct||ct<9)&&(Zt=A.create("br"),Ye.parentNode.insertBefore(Zt,Ye)),on.setStartBefore(Ye),on.setEndBefore(Ye)):(on.setStartAfter(Ye),on.setEndAfter(Ye)):(on.setStart(Ye,0),on.setEnd(Ye,0));k.setRng(on),A.remove(Zt),k.scrollIntoView(Ye)}}function z(Ye){var He=V.forced_root_block;He&&He.toLowerCase()===Ye.tagName.toLowerCase()&&A.setAttribs(Ye,V.forced_root_block_attrs)}function C(Ye){Ye.innerHTML=x?"":'<br data-mce-bogus="1">'}function E(Ye){var St,jt,on,He=ft,un=G.getTextInlineElements();if(Ye||"TABLE"==Gn?z(St=A.create(Ye||qn)):St=$e.cloneNode(!1),on=St,!1!==V.keep_styles)do{if(un[He.nodeName]){if("_mce_caret"==He.id)continue;jt=He.cloneNode(!1),A.setAttrib(jt,"id",""),St.hasChildNodes()?(jt.appendChild(St.firstChild),St.appendChild(jt)):(on=jt,St.appendChild(jt))}}while((He=He.parentNode)&&He!=_t);return x||(on.innerHTML='<br data-mce-bogus="1">'),St}function ne(Ye){var He,St,jt;if(3==ft.nodeType&&(Ye?Pe>0:Pe<ft.nodeValue.length))return!1;if(ft.parentNode==$e&&Bt&&!Ye||Ye&&1==ft.nodeType&&ft==$e.firstChild)return!0;if("TABLE"===ft.nodeName||ft.previousSibling&&"TABLE"==ft.previousSibling.nodeName)return Bt&&!Ye||!Bt&&Ye;for(He=new W(ft,$e),3==ft.nodeType&&(Ye&&0===Pe?He.prev():Ye||Pe!=ft.nodeValue.length||He.next());St=He.current();){if(1===St.nodeType){if(!St.getAttribute("data-mce-bogus")&&(jt=St.nodeName.toLowerCase(),$[jt]&&"br"!==jt))return!1}else if(3===St.nodeType&&!/^[ \t\r\n]*$/.test(St.nodeValue))return!1;Ye?He.prev():He.next()}return!0}function Se(){T.execCommand("InsertLineBreak",!1,K)}function rt(){zt=/^(H[1-6]|PRE|FIGURE)$/.test(Gn)&&"HGROUP"!=Xn?E(qn):E(),V.end_container_on_empty_block&&re(On)&&A.isEmpty($e)?zt=A.split(On,$e):A.insertAfter(zt,$e),Y(zt)}var ut,lt,_t,ft,Pe,$e,ct,Mt,zt,yn,On,Gn,Xn,qn,Bt;if(ut=k.getRng(!0),!K.isDefaultPrevented()){if(!ut.collapsed)return void T.execCommand("Delete");if(new R(A).normalize(ut),ft=ut.startContainer,Pe=ut.startOffset,qn=(qn=(V.force_p_newlines?"p":"")||V.forced_root_block)?qn.toUpperCase():"",ct=A.doc.documentMode,Mt=K.shiftKey,1==ft.nodeType&&ft.hasChildNodes()&&(Bt=Pe>ft.childNodes.length-1,ft=ft.childNodes[Math.min(Pe,ft.childNodes.length-1)]||ft,Pe=Bt&&3==ft.nodeType?ft.nodeValue.length:0),_t=function ht(Ye){var St,jt,He=A.getRoot();for(St=Ye;St!==He&&"false"!==A.getContentEditable(St);)"true"===A.getContentEditable(St)&&(jt=St),St=St.parentNode;return St!==He?jt:He}(ft)){if(H.beforeChange(),!A.isBlock(_t)&&_t!=A.getRoot())return void(qn&&!Mt||Se());if((qn&&!Mt||!qn&&Mt)&&(ft=function me(Ye,He){var St,jt,on,un,Zt,Dn,tt=qn||"P";if(!(jt=A.getParent(Ye,A.isBlock))||!re(jt)){if(Dn=(jt=jt||_t)==T.getBody()||function Q(Ye){return Ye&&/^(TD|TH|CAPTION)$/.test(Ye.nodeName)}(jt)?jt.nodeName.toLowerCase():jt.parentNode.nodeName.toLowerCase(),!jt.hasChildNodes())return z(St=A.create(tt)),jt.appendChild(St),ut.setStart(St,0),ut.setEnd(St,0),St;for(un=Ye;un.parentNode!=jt;)un=un.parentNode;for(;un&&!A.isBlock(un);)on=un,un=un.previousSibling;if(on&&G.isValidChild(Dn,tt.toLowerCase())){for(z(St=A.create(tt)),on.parentNode.insertBefore(St,on),un=on;un&&!A.isBlock(un);)Zt=un.nextSibling,St.appendChild(un),un=Zt;ut.setStart(Ye,He),ut.setEnd(Ye,He)}}return Ye}(ft,Pe)),$e=A.getParent(ft,A.isBlock),On=$e?A.getParent($e.parentNode,A.isBlock):null,Gn=$e?$e.nodeName.toUpperCase():"","LI"!=(Xn=On?On.nodeName.toUpperCase():"")||K.ctrlKey||($e=On,Gn=Xn),T.undoManager.typing&&(T.undoManager.typing=!1,T.undoManager.add()),/^(LI|DT|DD)$/.test(Gn)){if(!qn&&Mt)return void Se();if(A.isEmpty($e))return void function se(){function Ye(jt){for(var on=On[jt?"firstChild":"lastChild"];on&&1!=on.nodeType;)on=on[jt?"nextSibling":"previousSibling"];return on===$e}function He(){var jt=On.parentNode;return/^(LI|DT|DD)$/.test(jt.nodeName)?jt:On}if(On!=T.getBody()){var St=On.parentNode.nodeName;/^(OL|UL|LI)$/.test(St)&&(qn="LI"),zt=qn?E(qn):A.create("BR"),Ye(!0)&&Ye()?"LI"==St?A.insertAfter(zt,He()):A.replace(zt,On):Ye(!0)?"LI"==St?(A.insertAfter(zt,He()),zt.appendChild(A.doc.createTextNode(" ")),zt.appendChild(On)):On.parentNode.insertBefore(zt,On):Ye()?(A.insertAfter(zt,He()),pe(zt)):(On=He(),(lt=ut.cloneRange()).setStartAfter($e),lt.setEndAfter(On),yn=lt.extractContents(),"LI"==qn&&"LI"==yn.firstChild.nodeName?(zt=yn.firstChild,A.insertAfter(yn,On)):(A.insertAfter(yn,On),A.insertAfter(zt,On))),A.remove($e),Y(zt),H.add()}}()}if("PRE"==Gn&&!1!==V.br_in_pre){if(!Mt)return void Se()}else if(!qn&&!Mt&&"LI"!=Gn||qn&&Mt)return void Se();qn&&$e===T.getBody()||(qn=qn||"P",_.isCaretContainerBlock($e)?(zt=_.showCaretContainerBlock($e),A.isEmpty($e)&&C($e),Y(zt)):ne()?rt():ne(!0)?(pe(zt=$e.parentNode.insertBefore(E(),$e)),Y($e)):((lt=ut.cloneRange()).setEndAfter($e),function Be(Ye){do{3===Ye.nodeType&&(Ye.nodeValue=Ye.nodeValue.replace(/^[\r\n]+/,"")),Ye=Ye.firstChild}while(Ye)}(yn=lt.extractContents()),zt=yn.firstChild,A.insertAfter(yn,$e),function Z(Ye){var jt,He=Ye,St=[];if(He){for(;He=He.firstChild;){if(A.isBlock(He))return;1!=He.nodeType||$[He.nodeName.toLowerCase()]||St.push(He)}for(jt=St.length;jt--;)(!(He=St[jt]).hasChildNodes()||He.firstChild==He.lastChild&&""===He.firstChild.nodeValue||"A"==He.nodeName&&" "===(He.innerText||He.textContent))&&A.remove(He)}}(zt),function ot(Ye){var He;x||(Ye.normalize(),(He=Ye.lastChild)&&!/^(left|right)$/gi.test(A.getStyle(He,"float",!0))||A.add(Ye,"br"))}($e),A.isEmpty($e)&&C($e),zt.normalize(),A.isEmpty(zt)?(A.remove(zt),rt()):Y(zt)),A.setAttrib(zt,"id",""),T.fire("NewBlock",{newBlock:zt}),H.typing=!1,H.add())}}}(K)&&K.preventDefault()})}}),Ne(Bn,[],function(){return function(W){var _=W.settings,I=W.dom,x=W.selection,T=W.schema,S=T.getBlockElements();_.forced_root_block&&W.on("NodeChange",function R(){var V,H,G,$,te,K,re,pe,Z,Y,z,C,A=x.getStart(),k=W.getBody(),Q=-16777215;if(C=_.forced_root_block,A&&1===A.nodeType&&C){for(;A&&A!=k;){if(S[A.nodeName])return;A=A.parentNode}if((V=x.getRng()).setStart){H=V.startContainer,G=V.startOffset,$=V.endContainer,te=V.endOffset;try{Z=W.getDoc().activeElement===k}catch{}}else V.item&&(A=V.item(0),(V=W.getDoc().body.createTextRange()).moveToElementText(A)),Z=V.parentElement().ownerDocument===W.getDoc(),(Y=V.duplicate()).collapse(!0),G=-1*Y.move("character",Q),Y.collapsed||((Y=V.duplicate()).collapse(!1),te=-1*Y.move("character",Q)-G);for(A=k.firstChild,z=k.nodeName.toLowerCase();A;)if((3===A.nodeType||1==A.nodeType&&!S[A.nodeName])&&T.isValidChild(z,C.toLowerCase())){if(3===A.nodeType&&0===A.nodeValue.length){re=A,A=A.nextSibling,I.remove(re);continue}K||(K=I.create(C,W.settings.forced_root_block_attrs),A.parentNode.insertBefore(K,A),pe=!0),re=A,A=A.nextSibling,K.appendChild(re)}else K=null,A=A.nextSibling;if(pe&&Z){if(V.setStart)V.setStart(H,G),V.setEnd($,te),x.setRng(V);else try{(V=W.getDoc().body.createTextRange()).moveToElementText(k),V.collapse(!0),V.moveStart("character",G),te>0&&V.moveEnd("character",te),V.select()}catch{}W.nodeChanged()}}})}}),Ne(Nn,[Tt,ue,Te,Mn,ce,Nt],function(W,R,_,I,x,T){function S(rt){return rt>0}function A(rt){return rt<0}function k(rt,ut){for(var lt;lt=rt(ut);)if(!me(lt))return lt;return null}function H(rt,ut){for(rt=rt.parentNode;rt&&rt!=ut;rt=rt.parentNode)if(z(rt))return rt;return ut}function G(rt,ut){for(;rt&&rt!=ut;){if(E(rt))return rt;rt=rt.parentNode}return null}function re(rt,ut){var lt=ut.ownerDocument.createRange();return rt?(lt.setStartBefore(ut),lt.setEndBefore(ut)):(lt.setStartAfter(ut),lt.setEndAfter(ut)),lt}function Q(rt,ut,lt){return G(ut,rt)==G(lt,rt)}function pe(rt,ut,lt){var _t,ft;for(ft=rt?"previousSibling":"nextSibling";lt&&lt!=ut;){if(ne(_t=lt[ft])&&(_t=_t[ft]),C(_t)){if(Q(ut,_t,lt))return _t;break}if(Be(_t))break;lt=lt.parentNode}return null}function Y(rt,ut){return C(function K(rt,ut){var lt,_t;return ut?(lt=ut.container(),_t=ut.offset(),Se(lt)?lt.childNodes[_t+rt]:null):null}(rt,ut))}var z=_.isContentEditableTrue,C=_.isContentEditableFalse,E=_.matchStyleValues("display","block table table-cell table-caption"),ne=x.isCaretContainer,me=x.isCaretContainerBlock,se=W.curry,Se=_.isElement,Be=T.isCaretCandidate,ht=se(re,!0),ot=se(re,!1);return{isForwards:S,isBackwards:A,findNode:function V(rt,ut,lt,_t,ft){var Pe=new R(rt,_t);if(A(ut)){if((C(rt)||me(rt))&&lt(rt=k(Pe.prev,!0)))return rt;for(;rt=k(Pe.prev,ft);)if(lt(rt))return rt}if(S(ut)){if((C(rt)||me(rt))&&lt(rt=k(Pe.next,!0)))return rt;for(;rt=k(Pe.next,ft);)if(lt(rt))return rt}return null},getEditingHost:H,getParentBlock:G,isInSameBlock:function $(rt,ut,lt){return G(rt.container(),lt)==G(ut.container(),lt)},isInSameEditingHost:function te(rt,ut,lt){return H(rt.container(),lt)==H(ut.container(),lt)},isBeforeContentEditableFalse:se(Y,0),isAfterContentEditableFalse:se(Y,-1),normalizeRange:function Z(rt,ut,lt){var _t,ft,Pe,$e,ct=se(pe,!0,ut),Mt=se(pe,!1,ut);if(Pe=lt.startOffset,x.isCaretContainerBlock(ft=lt.startContainer)){if(Se(ft)||(ft=ft.parentNode),"before"==($e=ft.getAttribute("data-mce-caret"))&&C(_t=ft.nextSibling))return ht(_t);if("after"==$e&&C(_t=ft.previousSibling))return ot(_t)}if(!lt.collapsed)return lt;if(_.isText(ft)){if(ne(ft)){if(1===rt){if(_t=Mt(ft))return ht(_t);if(_t=ct(ft))return ot(_t)}if(-1===rt){if(_t=ct(ft))return ot(_t);if(_t=Mt(ft))return ht(_t)}return lt}if(x.endsWithCaretContainer(ft)&&Pe>=ft.data.length-1)return 1===rt&&(_t=Mt(ft))?ht(_t):lt;if(x.startsWithCaretContainer(ft)&&Pe<=1)return-1===rt&&(_t=ct(ft))?ot(_t):lt;if(Pe===ft.data.length)return(_t=Mt(ft))?ht(_t):lt;if(0===Pe)return(_t=ct(ft))?ot(_t):lt}return lt}}}),Ne(ei,[Te,Nt,Mn,Nn,O,Tt],function(W,R,_,I,x,T){function A(z,C){return z.hasChildNodes()&&C<z.childNodes.length?z.childNodes[C]:null}function k(z,C){if(re(z)){if(pe(C.previousSibling)&&!$(C.previousSibling))return _.before(C);if($(C))return _(C,0)}if(Q(z)){if(pe(C.nextSibling)&&!$(C.nextSibling))return _.after(C);if($(C))return _(C,C.data.length)}return Q(z)?K(C)?_.before(C):_.after(C):_.before(C)}function H(z,C,E){var ne,me,se,Se,Be,ht,ot;if(!te(E)||!C)return null;if(ne=(ot=C).container(),me=ot.offset(),$(ne)){if(Q(z)&&me>0)return _(ne,--me);if(re(z)&&me<ne.length)return _(ne,++me);se=ne}else{if(Q(z)&&me>0&&(Se=A(ne,me-1),pe(Se)))return!Z(Se)&&(Be=I.findNode(Se,z,Y,Se))?$(Be)?_(Be,Be.data.length):_.after(Be):$(Se)?_(Se,Se.data.length):_.before(Se);if(re(z)&&me<ne.childNodes.length&&(Se=A(ne,me),pe(Se)))return function V(z,C){var E;return!!W.isBr(z)&&!!(E=H(1,_.after(z),C))&&!I.isInSameBlock(_.before(z),_.before(E),C)}(Se,E)?H(z,_.after(Se),E):!Z(Se)&&(Be=I.findNode(Se,z,Y,Se))?$(Be)?_(Be,0):_.before(Be):$(Se)?_(Se,0):_.after(Se);se=ot.getNode()}return(re(z)&&ot.isAtEnd()||Q(z)&&ot.isAtStart())&&(se=I.findNode(se,z,T.constant(!0),E,!0),Y(se))?k(z,se):(Se=I.findNode(se,z,Y,E),ht=x.last(x.filter(function S(z,C){for(var E=[];z&&z!=C;)E.push(z),z=z.parentNode;return E}(ne,E),G)),!ht||Se&&ht.contains(Se)?Se?k(z,Se):null:ot=re(z)?_.after(ht):_.before(ht))}var G=W.isContentEditableFalse,$=W.isText,te=W.isElement,K=W.isBr,re=I.isForwards,Q=I.isBackwards,pe=R.isCaretCandidate,Z=R.isAtomic,Y=R.isEditableCaretCandidate;return function(z){return{next:function(C){return H(1,C,z)},prev:function(C){return H(-1,C,z)}}}}),Ne(Vi,[U,ei,Mn],function(W,R,_){var S=function(Z){return W.grep(Z.childNodes,function(Y){return"LI"===Y.nodeName})},k=function(Z){return Z.length>0&&function(Z){return!Z.firstChild}(Z[Z.length-1])?Z.slice(0,-1):Z},V=function(Z,Y){var z=Z.getParent(Y,Z.isBlock);return z&&"LI"===z.nodeName?z:null},te=function(Z,Y){var z=_.after(Z),E=new R(Y).prev(z);return E?E.toRange():null};return{isListFragment:function(Z){var Y=Z.firstChild,z=Z.lastChild;return Y&&"meta"===Y.name&&(Y=Y.next),z&&"mce_marker"===z.attr("id")&&(z=z.prev),!(!Y||Y!==z||"ul"!==Y.name&&"ol"!==Y.name)},insertAtCaret:function(Z,Y,z,C){var E=function(Z,Y,z){var C=Y.serialize(z);return function(Z){var Y=Z.firstChild,z=Z.lastChild;return Y&&"META"===Y.nodeName&&Y.parentNode.removeChild(Y),z&&"mce_marker"===z.id&&z.parentNode.removeChild(z),Z}(Z.createFragment(C))}(Y,Z,C),ne=V(Y,z.startContainer),me=k(S(E.firstChild)),Be=Y.getRoot(),ht=function(ot){var rt=_.fromRangeStart(z),ut=new R(Y.getRoot()),lt=1===ot?ut.prev(rt):ut.next(rt);return!lt||V(Y,lt.getNode())!==ne};return ht(1)?function(Z,Y,z){var C=Z.parentNode;return W.each(Y,function(E){C.insertBefore(E,Z)}),function(Z,Y){var z=_.before(Z),E=new R(Y).next(z);return E?E.toRange():null}(Z,z)}(ne,me,Be):ht(2)?function(Z,Y,z,C){return C.insertAfter(Y.reverse(),Z),te(Y[0],z)}(ne,me,Be,Y):function(Z,Y,z,C){var E=function(Z,Y){var z=Y.cloneRange(),C=Y.cloneRange();return z.setStartBefore(Z),C.setEndAfter(Z),[z.cloneContents(),C.cloneContents()]}(Z,C),ne=Z.parentNode;return ne.insertBefore(E[0],Z),W.each(Y,function(me){ne.insertBefore(me,Z)}),ne.insertBefore(E[1],Z),ne.removeChild(Z),te(Y[Y.length-1],z)}(ne,me,Be,z)},isParentBlockLi:function(Z,Y){return!!V(Z,Y)},trimListItems:k,listItems:S}}),Ne($i,[D,U,Xe,ei,Mn,_i,Te,Vi],function(W,R,_,I,x,T,S,A){var k=S.matchNodeNames("td th");return{insertAtCaret:function(te,K){var re=function(te){var K;return"string"!=typeof te?(K=R.extend({paste:te.paste,data:{paste:te.paste}},te),{content:te.content,details:K}):{content:te,details:{}}}(K);!function(te,K,re){var me,se,Se,Be,ht,ot,rt,ut,lt,_t,ft,Pe,$e=te.schema.getTextInlineElements(),ct=te.selection,Mt=te.dom;/^ | $/.test(K)&&(K=function Q(Gn){function Xn(He){return Bt[He]&&3==Bt[He].nodeType}var qn,Bt,Ye;return Ye=(qn=ct.getRng(!0)).startOffset,3==(Bt=qn.startContainer).nodeType&&(Ye>0?Gn=Gn.replace(/^&nbsp;/," "):Xn("previousSibling")||(Gn=Gn.replace(/^ /,"&nbsp;")),Ye<Bt.length?Gn=Gn.replace(/&nbsp;(<br>|)$/," "):Xn("nextSibling")||(Gn=Gn.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),Gn}(K)),me=te.parser,Pe=re.merge,se=new _({validate:te.settings.validate},te.schema),ft='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',te.fire("BeforeSetContent",ot={content:K,format:"html",selection:!0}),-1==(K=ot.content).indexOf("{$caret}")&&(K+="{$caret}"),K=K.replace(/\{\$caret\}/,ft);var zt=(ut=ct.getRng()).startContainer||(ut.parentElement?ut.parentElement():null),yn=te.getBody();zt===yn&&ct.isCollapsed()&&Mt.isBlock(yn.firstChild)&&function E(Gn){return Gn&&!te.schema.getShortEndedElements()[Gn.nodeName]}(yn.firstChild)&&Mt.isEmpty(yn.firstChild)&&((ut=Mt.createRng()).setStart(yn.firstChild,0),ut.setEnd(yn.firstChild,0),ct.setRng(ut)),ct.isCollapsed()||(te.selection.setRng(te.selection.getRng()),te.getDoc().execCommand("Delete",!1,null),function pe(){var Gn,Xn,qn;qn=(Gn=ct.getRng(!0)).startOffset,3==(Xn=Gn.startContainer).nodeType&&Gn.collapsed&&("\xa0"===Xn.data[qn]?(Xn.deleteData(qn,1),/[\u00a0| ]$/.test(K)||(K+=" ")):"\xa0"===Xn.data[qn-1]&&(Xn.deleteData(qn-1,1),/[\u00a0| ]$/.test(K)||(K=" "+K)))}());var On={context:(Se=ct.getNode()).nodeName.toLowerCase(),data:re.data};if(ht=me.parse(K,On),!0===re.paste&&A.isListFragment(ht)&&A.isParentBlockLi(Mt,Se))return ut=A.insertAtCaret(se,Mt,te.selection.getRng(!0),ht),te.selection.setRng(ut),void te.fire("SetContent",ot);if(function Y(Gn){for(var Xn=Gn;Xn=Xn.walk();)1===Xn.type&&Xn.attr("data-mce-fragment","1")}(ht),"mce_marker"==(lt=ht.lastChild).attr("id"))for(rt=lt,lt=lt.prev;lt;lt=lt.walk(!0))if(3==lt.type||!Mt.isBlock(lt.name)){te.schema.isValidChild(lt.parent.name,"span")&&lt.parent.insert(rt,lt,"br"===lt.name);break}if(te._selectionOverrides.showBlockCaretContainer(Se),On.invalid){for(ct.setContent(ft),Se=ct.getNode(),Be=te.getBody(),9==Se.nodeType?Se=lt=Be:lt=Se;lt!==Be;)Se=lt,lt=lt.parentNode;K=Se==Be?Be.innerHTML:Mt.getOuterHTML(Se),K=se.serialize(me.parse(K.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return se.serialize(ht)}))),Se==Be?Mt.setHTML(Be,K):Mt.setOuterHTML(Se,K)}else K=se.serialize(ht),function(te,K,re){if("all"===re.getAttribute("data-mce-bogus"))re.parentNode.insertBefore(te.dom.createFragment(K),re);else{var Q=re.firstChild;!Q||Q===re.lastChild&&"BR"===Q.nodeName?te.dom.setHTML(re,K):te.selection.setContent(K)}}(te,K,Se);(function Z(){if(Pe){var Gn=te.getBody(),Xn=new T(Mt);R.each(Mt.select("*[data-mce-fragment]"),function(qn){for(var Bt=qn.parentNode;Bt&&Bt!=Gn;Bt=Bt.parentNode)$e[qn.nodeName.toLowerCase()]&&Xn.compare(Bt,qn)&&Mt.remove(qn,!0)})}})(),function ne(Gn){var Bt,Ye,He;if(Gn){if(ct.scrollIntoView(Gn),Bt=function Xn(St){for(var jt=te.getBody();St&&St!==jt;St=St.parentNode)if("false"===te.dom.getContentEditable(St))return St;return null}(Gn))return Mt.remove(Gn),void ct.select(Bt);ut=Mt.createRng(),(lt=Gn.previousSibling)&&3==lt.nodeType?(ut.setStart(lt,lt.nodeValue.length),W.ie||(_t=Gn.nextSibling)&&3==_t.nodeType&&(lt.appendData(_t.data),_t.parentNode.removeChild(_t))):(ut.setStartBefore(Gn),ut.setEndBefore(Gn)),Ye=Mt.getParent(Gn,Mt.isBlock),Mt.remove(Gn),Ye&&Mt.isEmpty(Ye)&&(te.$(Ye).empty(),ut.setStart(Ye,0),ut.setEnd(Ye,0),k(Ye)||function C(Gn){return!!Gn.getAttribute("data-mce-fragment")}(Ye)||!(He=function qn(St){var jt=x.fromRangeStart(St);if(jt=new I(te.getBody()).next(jt))return jt.toRange()}(ut))?Mt.add(Ye,Mt.create("br",{"data-mce-bogus":"1"})):(ut=He,Mt.remove(Ye))),ct.setRng(ut)}}(Mt.get("mce_marker")),function z(Gn){R.each(Gn.getElementsByTagName("*"),function(Xn){Xn.removeAttribute("data-mce-fragment")})}(te.getBody()),te.fire("SetContent",ot),te.addVisual()}(te,re.content,re.details)}}}),Ne(Li,[D,U,Oe,ue,$i,Te],function(W,R,_,I,x,T){var S=R.each,A=R.extend,k=R.map,V=R.inArray,H=R.explode,G=W.ie&&W.ie<11,$=!0,te=!1;return function(K){function Q(Pe){var $e;if(!K.quirks.isHidden()){if(Pe=Pe.toLowerCase(),$e=lt.state[Pe])return $e(Pe);try{return K.getDoc().queryCommandState(Pe)}catch{}return!1}}function Z(Pe,$e){$e=$e||"exec",S(Pe,function(ct,Mt){S(Mt.toLowerCase().split(","),function(zt){lt[$e][zt]=ct})})}function me(Pe,$e,ct){return $e===Ve&&($e=te),ct===Ve&&(ct=null),K.getDoc().execCommand(Pe,$e,ct)}function se(Pe){return ut.match(Pe)}function Se(Pe,$e){ut.toggle(Pe,$e?{value:$e}:Ve),K.nodeChanged()}function Be(Pe){ft=rt.getBookmark(Pe)}function ht(){rt.moveToBookmark(ft)}var ot,rt,ut,ft,lt={state:{},exec:{},value:{}},_t=K.settings;K.on("PreInit",function(){ot=K.dom,rt=K.selection,_t=K.settings,ut=K.formatter}),A(this,{execCommand:function re(Pe,$e,ct,Mt){var zt,yn,On=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(Pe)||Mt&&Mt.skip_focus||K.focus(),(Mt=K.fire("BeforeExecCommand",{command:Pe,ui:$e,value:ct})).isDefaultPrevented())return!1;if(yn=Pe.toLowerCase(),zt=lt.exec[yn])return zt(yn,$e,ct),K.fire("ExecCommand",{command:Pe,ui:$e,value:ct}),!0;if(S(K.plugins,function(Gn){if(Gn.execCommand&&Gn.execCommand(Pe,$e,ct))return K.fire("ExecCommand",{command:Pe,ui:$e,value:ct}),On=!0,!1}),On)return On;if(K.theme&&K.theme.execCommand&&K.theme.execCommand(Pe,$e,ct))return K.fire("ExecCommand",{command:Pe,ui:$e,value:ct}),!0;try{On=K.getDoc().execCommand(Pe,$e,ct)}catch{}return!!On&&(K.fire("ExecCommand",{command:Pe,ui:$e,value:ct}),!0)},queryCommandState:Q,queryCommandValue:function pe(Pe){var $e;if(!K.quirks.isHidden()){if(Pe=Pe.toLowerCase(),$e=lt.value[Pe])return $e(Pe);try{return K.getDoc().queryCommandValue(Pe)}catch{}}},queryCommandSupported:function z(Pe){if(Pe=Pe.toLowerCase(),lt.exec[Pe])return!0;try{return K.getDoc().queryCommandSupported(Pe)}catch{}return!1},addCommands:Z,addCommand:function Y(Pe,$e,ct){Pe=Pe.toLowerCase(),lt.exec[Pe]=function(Mt,zt,yn,On){return $e.call(ct||K,zt,yn,On)}},addQueryStateHandler:function C(Pe,$e,ct){Pe=Pe.toLowerCase(),lt.state[Pe]=function(){return $e.call(ct||K)}},addQueryValueHandler:function E(Pe,$e,ct){Pe=Pe.toLowerCase(),lt.value[Pe]=function(){return $e.call(ct||K)}},hasCustomCommand:function ne(Pe){return Pe=Pe.toLowerCase(),!!lt.exec[Pe]}}),Z({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){K.undoManager.add()},"Cut,Copy,Paste":function(Pe){var ct,$e=K.getDoc();try{me(Pe)}catch{ct=$}if("paste"!==Pe||$e.queryCommandEnabled(Pe)||(ct=!0),ct||!$e.queryCommandSupported(Pe)){var Mt=K.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");W.mac&&(Mt=Mt.replace(/Ctrl\+/g,"\u2318+")),K.notificationManager.open({text:Mt,type:"error"})}},unlink:function(){if(rt.isCollapsed()){var Pe=K.dom.getParent(K.selection.getStart(),"a");Pe&&K.dom.remove(Pe,!0)}else ut.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(Pe){var $e=Pe.substring(7);"full"==$e&&($e="justify"),S("left,center,right,justify".split(","),function(ct){$e!=ct&&ut.remove("align"+ct)}),"none"!=$e&&Se("align"+$e)},"InsertUnorderedList,InsertOrderedList":function(Pe){var $e,ct;me(Pe),($e=ot.getParent(rt.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((ct=$e.parentNode).nodeName)&&(Be(),ot.split(ct,$e),ht())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(Pe){Se(Pe)},"ForeColor,HiliteColor,FontName":function(Pe,$e,ct){Se(Pe,ct)},FontSize:function(Pe,$e,ct){var Mt,zt;ct>=1&&ct<=7&&(zt=H(_t.font_size_style_values),ct=(Mt=H(_t.font_size_classes))?Mt[ct-1]||ct:zt[ct-1]||ct),Se(Pe,ct)},RemoveFormat:function(Pe){ut.remove(Pe)},mceBlockQuote:function(){Se("blockquote")},FormatBlock:function(Pe,$e,ct){return Se(ct||"p")},mceCleanup:function(){var Pe=rt.getBookmark();K.setContent(K.getContent({cleanup:$}),{cleanup:$}),rt.moveToBookmark(Pe)},mceRemoveNode:function(Pe,$e,ct){var Mt=ct||rt.getNode();Mt!=K.getBody()&&(Be(),K.dom.remove(Mt,$),ht())},mceSelectNodeDepth:function(Pe,$e,ct){var Mt=0;ot.getParent(rt.getNode(),function(zt){if(1==zt.nodeType&&Mt++==ct)return rt.select(zt),te},K.getBody())},mceSelectNode:function(Pe,$e,ct){rt.select(ct)},mceInsertContent:function(Pe,$e,ct){x.insertAtCaret(K,ct)},mceInsertRawHTML:function(Pe,$e,ct){rt.setContent("tiny_mce_marker"),K.setContent(K.getContent().replace(/tiny_mce_marker/g,function(){return ct}))},mceToggleFormat:function(Pe,$e,ct){Se(ct)},mceSetContent:function(Pe,$e,ct){K.setContent(ct)},"Indent,Outdent":function(Pe){var $e,ct,Mt;ct=/[a-z%]+$/i.exec($e=_t.indentation),$e=parseInt($e,10),Q("InsertUnorderedList")||Q("InsertOrderedList")?me(Pe):(_t.forced_root_block||ot.getParent(rt.getNode(),ot.isBlock)||ut.apply("div"),S(rt.getSelectedBlocks(),function(zt){if("false"!==ot.getContentEditable(zt)&&"LI"!==zt.nodeName){var yn=K.getParam("indent_use_margin",!1)?"margin":"padding";yn="TABLE"===zt.nodeName?"margin":yn,yn+="rtl"==ot.getStyle(zt,"direction",!0)?"Right":"Left","outdent"==Pe?(Mt=Math.max(0,parseInt(zt.style[yn]||0,10)-$e),ot.setStyle(zt,yn,Mt?Mt+ct:"")):(Mt=parseInt(zt.style[yn]||0,10)+$e+ct,ot.setStyle(zt,yn,Mt))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){K.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){K.hasVisual=!K.hasVisual,K.addVisual()},mceReplaceContent:function(Pe,$e,ct){K.execCommand("mceInsertContent",!1,ct.replace(/\{\$selection\}/g,rt.getContent({format:"text"})))},mceInsertLink:function(Pe,$e,ct){var Mt;"string"==typeof ct&&(ct={href:ct}),Mt=ot.getParent(rt.getNode(),"a"),ct.href=ct.href.replace(" ","%20"),Mt&&ct.href||ut.remove("link"),ct.href&&ut.apply("link",ct,Mt)},selectAll:function(){var $e,Pe=ot.getRoot();if(rt.getRng().setStart){var ct=ot.getParent(rt.getStart(),T.isContentEditableTrue);ct&&(($e=ot.createRng()).selectNodeContents(ct),rt.setRng($e))}else($e=rt.getRng()).item||($e.moveToElementText(Pe),$e.select())},delete:function(){me("Delete");var Pe=K.getBody();ot.isEmpty(Pe)&&(K.setContent(""),Pe.firstChild&&ot.isBlock(Pe.firstChild)?K.selection.setCursorLocation(Pe.firstChild,0):K.selection.setCursorLocation(Pe,0))},mceNewDocument:function(){K.setContent("")},InsertLineBreak:function(Pe,$e,ct){var yn,On,Gn,zt=ct,Xn=rt.getRng(!0);new _(ot).normalize(Xn);var qn=Xn.startOffset,Bt=Xn.startContainer;if(1==Bt.nodeType&&Bt.hasChildNodes()){var Ye=qn>Bt.childNodes.length-1;Bt=Bt.childNodes[Math.min(qn,Bt.childNodes.length-1)]||Bt,qn=Ye&&3==Bt.nodeType?Bt.nodeValue.length:0}var He=ot.getParent(Bt,ot.isBlock),St=He?He.nodeName.toUpperCase():"",jt=He?ot.getParent(He.parentNode,ot.isBlock):null,on=jt?jt.nodeName.toUpperCase():"";"LI"!=on||zt&&zt.ctrlKey||(He=jt,St=on),Bt&&3==Bt.nodeType&&qn>=Bt.nodeValue.length&&(G||function Mt(){for(var tt,Dn=new I(Bt,He),yt=K.schema.getNonEmptyElements();tt=Dn.next();)if(yt[tt.nodeName.toLowerCase()]||tt.length>0)return!0}()||(yn=ot.create("br"),Xn.insertNode(yn),Xn.setStartAfter(yn),Xn.setEndAfter(yn),On=!0)),yn=ot.create("br"),Xn.insertNode(yn);var Zt=ot.doc.documentMode;return G&&"PRE"==St&&(!Zt||Zt<8)&&yn.parentNode.insertBefore(ot.doc.createTextNode("\r"),yn),Gn=ot.create("span",{},"&nbsp;"),yn.parentNode.insertBefore(Gn,yn),rt.scrollIntoView(Gn),ot.remove(Gn),On?(Xn.setStartBefore(yn),Xn.setEndBefore(yn)):(Xn.setStartAfter(yn),Xn.setEndAfter(yn)),rt.setRng(Xn),K.undoManager.add(),$}}),Z({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(Pe){var $e="align"+Pe.substring(7),ct=rt.isCollapsed()?[ot.getParent(rt.getNode(),ot.isBlock)]:rt.getSelectedBlocks(),Mt=k(ct,function(zt){return!!ut.matchNode(zt,$e)});return-1!==V(Mt,$)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(Pe){return se(Pe)},mceBlockQuote:function(){return se("blockquote")},Outdent:function(){var Pe;return _t.inline_styles&&((Pe=ot.getParent(rt.getStart(),ot.isBlock))&&parseInt(Pe.style.paddingLeft,10)>0||(Pe=ot.getParent(rt.getEnd(),ot.isBlock))&&parseInt(Pe.style.paddingLeft,10)>0)?$:Q("InsertUnorderedList")||Q("InsertOrderedList")||!_t.inline_styles&&!!ot.getParent(rt.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(Pe){var $e=ot.getParent(rt.getNode(),"ul,ol");return $e&&("insertunorderedlist"===Pe&&"UL"===$e.tagName||"insertorderedlist"===Pe&&"OL"===$e.tagName)}},"state"),Z({"FontSize,FontName":function(Pe){var ct,$e=0;return(ct=ot.getParent(rt.getNode(),"span"))&&($e="fontsize"==Pe?ct.style.fontSize:ct.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),$e}},"value"),Z({Undo:function(){K.undoManager.undo()},Redo:function(){K.undoManager.redo()}})}}),Ne(Cn,[U],function(W){function R(S,A){var V,H,k=this;if(S=I(S),V=(A=k.settings=A||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(S)||/^\s*#/.test(S))k.source=S;else{var G=0===S.indexOf("//");0!==S.indexOf("/")||G||(S=(V&&V.protocol||"http")+"://mce_host"+S),/^[\w\-]*:?\/\//.test(S)||(H=A.base_uri?A.base_uri.path:new R(location.href).directory,""===A.base_uri.protocol?S="//mce_host"+k.toAbsPath(H,S):(S=/([^#?]*)([#?]?.*)/.exec(S),S=(V&&V.protocol||"http")+"://mce_host"+k.toAbsPath(H,S[1])+S[2])),S=S.replace(/@@/g,"(mce_at)"),S=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(S),_(x,function($,te){var K=S[te];K&&(K=K.replace(/\(mce_at\)/g,"@@")),k[$]=K}),V&&(k.protocol||(k.protocol=V.protocol),k.userInfo||(k.userInfo=V.userInfo),k.port||"mce_host"!==k.host||(k.port=V.port),k.host&&"mce_host"!==k.host||(k.host=V.host),k.source=""),G&&(k.protocol="")}}var _=W.each,I=W.trim,x="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),T={ftp:21,http:80,https:443,mailto:25};return R.prototype={setPath:function(S){var A=this;S=/^(.*?)\/?(\w+)?$/.exec(S),A.path=S[0],A.directory=S[1],A.file=S[2],A.source="",A.getURI()},toRelative:function(S){var k,A=this;if("./"===S)return S;if("mce_host"!=(S=new R(S,{base_uri:A})).host&&A.host!=S.host&&S.host||A.port!=S.port||A.protocol!=S.protocol&&""!==S.protocol)return S.getURI();var V=A.getURI(),H=S.getURI();return V==H||"/"==V.charAt(V.length-1)&&V.substr(0,V.length-1)==H?V:(k=A.toRelPath(A.path,S.path),S.query&&(k+="?"+S.query),S.anchor&&(k+="#"+S.anchor),k)},toAbsolute:function(S,A){return(S=new R(S,{base_uri:this})).getURI(A&&this.isSameOrigin(S))},isSameOrigin:function(S){if(this.host==S.host&&this.protocol==S.protocol){if(this.port==S.port)return!0;var A=T[this.protocol];if(A&&(this.port||A)==(S.port||A))return!0}return!1},toRelPath:function(S,A){var k,G,$,V=0,H="";if(S=(S=S.substring(0,S.lastIndexOf("/"))).split("/"),k=A.split("/"),S.length>=k.length)for(G=0,$=S.length;G<$;G++)if(G>=k.length||S[G]!=k[G]){V=G+1;break}if(S.length<k.length)for(G=0,$=k.length;G<$;G++)if(G>=S.length||S[G]!=k[G]){V=G+1;break}if(1===V)return A;for(G=0,$=S.length-(V-1);G<$;G++)H+="../";for(G=V-1,$=k.length;G<$;G++)H+=G!=V-1?"/"+k[G]:k[G];return H},toAbsPath:function(S,A){var k,G,$,V=0,H=[];for(G=/\/$/.test(A)?"/":"",S=S.split("/"),A=A.split("/"),_(S,function(te){te&&H.push(te)}),S=H,k=A.length-1,H=[];k>=0;k--)0!==A[k].length&&"."!==A[k]&&(".."!==A[k]?V>0?V--:H.push(A[k]):V++);return 0!==($=(k=S.length-V)<=0?H.reverse().join("/"):S.slice(0,k).join("/")+"/"+H.reverse().join("/")).indexOf("/")&&($="/"+$),G&&$.lastIndexOf("/")!==$.length-1&&($+=G),$},getURI:function(S){var A,k=this;return k.source&&!S||(A="",S||(A+=k.protocol?k.protocol+"://":"//",k.userInfo&&(A+=k.userInfo+"@"),k.host&&(A+=k.host),k.port&&(A+=":"+k.port)),k.path&&(A+=k.path),k.query&&(A+="?"+k.query),k.anchor&&(A+="#"+k.anchor),k.source=A),k.source}},R.parseDataUri=function(S){var A,k;return S=decodeURIComponent(S).split(","),(k=/data:([^;]+)/.exec(S[0]))&&(A=k[1]),{type:A,data:S[1]}},R.getDocumentBaseUrl=function(S){var A;return A=0!==S.protocol.indexOf("http")&&"file:"!==S.protocol?S.href:S.protocol+"//"+S.host+S.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(A)&&(A=A.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(A)||(A+="/")),A},R}),Ne(Rn,[U],function(W){function R(){}var x,T,_=W.each,I=W.extend;return R.extend=x=function(S){function A(){var re,Q,pe,Z=this;if(!T&&(Z.init&&Z.init.apply(Z,arguments),Q=Z.Mixins))for(re=Q.length;re--;)(pe=Q[re]).init&&pe.init.apply(Z,arguments)}function k(){return this}function V(re,Q){return function(){var Y,Z=this._super;return this._super=G[re],Y=Q.apply(this,arguments),this._super=Z,Y}}var $,te,K,G=this.prototype;for(te in T=!0,$=new this,T=!1,S.Mixins&&(_(S.Mixins,function(re){for(var Q in re)"init"!==Q&&(S[Q]=re[Q])}),G.Mixins&&(S.Mixins=G.Mixins.concat(S.Mixins))),S.Methods&&_(S.Methods.split(","),function(re){S[re]=k}),S.Properties&&_(S.Properties.split(","),function(re){var Q="_"+re;S[re]=function(pe){var Z=this;return void 0!==pe?(Z[Q]=pe,Z):Z[Q]}}),S.Statics&&_(S.Statics,function(re,Q){A[Q]=re}),S.Defaults&&G.Defaults&&(S.Defaults=I({},G.Defaults,S.Defaults)),S)$[te]="function"==typeof(K=S[te])&&G[te]?V(te,K):K;return A.prototype=$,A.constructor=A,A.extend=x,A},R}),Ne(ti,[U],function(W){function R(I){function x(){return!1}function T(){return!0}function A(re,Q,pe,Z){var Y,z,C;if(!1===Q&&(Q=x),Q)for(Q={func:Q},Z&&W.extend(Q,Z),C=(z=re.toLowerCase().split(" ")).length;C--;)(Y=te[re=z[C]])||(Y=te[re]=[],K(re,!0)),pe?Y.unshift(Q):Y.push(Q);return G}function k(re,Q){var pe,Z,Y,z,C;if(re)for(pe=(z=re.toLowerCase().split(" ")).length;pe--;){if(Z=te[re=z[pe]],!re){for(Y in te)K(Y,!1),delete te[Y];return G}if(Z){if(Q)for(C=Z.length;C--;)Z[C].func===Q&&(Z=Z.slice(0,C).concat(Z.slice(C+1)),te[re]=Z);else Z.length=0;Z.length||(K(re,!1),delete te[re])}}else{for(re in te)K(re,!1);te={}}return G}var $,K,G=this,te={};$=(I=I||{}).scope||G,K=I.toggleEvent||x,G.fire=function S(re,Q){var pe,Z,Y,z;if(re=re.toLowerCase(),(Q=Q||{}).type=re,Q.target||(Q.target=$),Q.preventDefault||(Q.preventDefault=function(){Q.isDefaultPrevented=T},Q.stopPropagation=function(){Q.isPropagationStopped=T},Q.stopImmediatePropagation=function(){Q.isImmediatePropagationStopped=T},Q.isDefaultPrevented=x,Q.isPropagationStopped=x,Q.isImmediatePropagationStopped=x),I.beforeFire&&I.beforeFire(Q),pe=te[re])for(Z=0,Y=pe.length;Z<Y;Z++){if((z=pe[Z]).once&&k(re,z.func),Q.isImmediatePropagationStopped())return Q.stopPropagation(),Q;if(!1===z.func.call($,Q))return Q.preventDefault(),Q}return Q},G.on=A,G.off=k,G.once=function V(re,Q,pe){return A(re,Q,pe,{once:!0})},G.has=function H(re){return re=re.toLowerCase(),!(!te[re]||0===te[re].length)}}var _=W.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return R.isNative=function(I){return!!_[I.toLowerCase()]},R}),Ne(fi,[],function(){function W(R){this.create=R.create}return W.create=function(R,_){return new W({create:function(I,x){function T(k){I.set(x,k.value)}var A;return I.on("change:"+x,function S(k){R.set(_,k.value)}),R.on("change:"+_,T),(A=I._bindings)||(A=I._bindings=[],I.on("destroy",function(){for(var k=A.length;k--;)A[k]()})),A.push(function(){R.off("change:"+_,T)}),R.get(_)}})},W}),Ne(si,[ti],function(W){function R(_){return _._eventDispatcher||(_._eventDispatcher=new W({scope:_,toggleEvent:function(I,x){W.isNative(I)&&_.toggleNativeEvent&&_.toggleNativeEvent(I,x)}})),_._eventDispatcher}return{fire:function(_,I,x){var T=this;if(T.removed&&"remove"!==_)return I;if(I=R(T).fire(_,I,x),!1!==x&&T.parent)for(var S=T.parent();S&&!I.isPropagationStopped();)S.fire(_,I,!1),S=S.parent();return I},on:function(_,I,x){return R(this).on(_,I,x)},off:function(_,I){return R(this).off(_,I)},once:function(_,I){return R(this).once(_,I)},hasEventListeners:function(_){return R(this).has(_)}}}),Ne(Jn,[fi,si,Rn,U],function(W,R,_,I){function x(S){return S.nodeType>0}function T(S,A){var k,V;if(S===A)return!0;if(null===S||null===A||"object"!=typeof S||"object"!=typeof A)return S===A;if(I.isArray(A)){if(S.length!==A.length)return!1;for(k=S.length;k--;)if(!T(S[k],A[k]))return!1}if(x(S)||x(A))return S===A;for(k in V={},A){if(!T(S[k],A[k]))return!1;V[k]=!0}for(k in S)if(!V[k]&&!T(S[k],A[k]))return!1;return!0}return _.extend({Mixins:[R],init:function(S){var A,k;for(A in S=S||{})(k=S[A])instanceof W&&(S[A]=k.create(this,A));this.data=S},set:function(S,A){var k,V,H=this.data[S];if(A instanceof W&&(A=A.create(this,S)),"object"==typeof S){for(k in S)this.set(k,S[k]);return this}return T(H,A)||(this.data[S]=A,this.fire("change:"+S,V={target:this,name:S,value:A,oldValue:H}),this.fire("change",V)),this},get:function(S){return this.data[S]},has:function(S){return S in this.data},bind:function(S){return W.create(this,S)},destroy:function(){this.fire("destroy")}})}),Ne(bi,[Rn],function(W){var T,_=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,I=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,x=/^\s*|\s*$/g,S=W.extend({init:function(A){function te(Q,pe,Z){function Y(C){C&&pe.push(C)}var z;return Y(function k(Q){if(Q)return Q=Q.toLowerCase(),function(pe){return"*"===Q||pe.type===Q}}((z=_.exec(Q.replace(x,"")))[1])),Y(function V(Q){if(Q)return function(pe){return pe._name===Q}}(z[2])),Y(function H(Q){if(Q)return Q=Q.split("."),function(pe){for(var Z=Q.length;Z--;)if(!pe.classes.contains(Q[Z]))return!1;return!0}}(z[3])),Y(function G(Q,pe,Z){if(Q)return function(Y){var z=Y[Q]?Y[Q]():"";return pe?"="===pe?z===Z:"*="===pe?z.indexOf(Z)>=0:"~="===pe?(" "+z+" ").indexOf(" "+Z+" ")>=0:"!="===pe?z!=Z:"^="===pe?0===z.indexOf(Z):"$="===pe&&z.substr(z.length-Z.length)===Z:!!Z}}(z[4],z[5],z[6])),Y(function $(Q){var pe;if(Q)return(Q=/(?:not\((.+)\))|(.+)/i.exec(Q))[1]?(pe=K(Q[1],[]),function(Z){return!re(Z,pe)}):(Q=Q[2],function(Z,Y,z){return"first"===Q?0===Y:"last"===Q?Y===z-1:"even"===Q?Y%2==0:"odd"===Q?Y%2==1:!!Z[Q]&&Z[Q]()})}(z[7])),pe.pseudo=!!z[7],pe.direct=Z,pe}function K(Q,pe){var Y,z,C,Z=[];do{if(I.exec(""),(z=I.exec(Q))&&(Q=z[3],Z.push(z[1]),z[2])){Y=z[3];break}}while(z);for(Y&&K(Y,pe),Q=[],C=0;C<Z.length;C++)">"!=Z[C]&&Q.push(te(Z[C],[],">"===Z[C-1]));return pe.push(Q),pe}var re=this.match;this._selectors=K(A,[])},match:function(A,k){var V,H,G,$,te,K,re,Q,pe,Z,Y,z,C;for(V=0,H=(k=k||this._selectors).length;V<H;V++){for(C=A,z=0,G=($=(te=k[V]).length)-1;G>=0;G--)for(Q=te[G];C;){if(Q.pseudo)for(pe=Z=(Y=C.parent().items()).length;pe--&&Y[pe]!==C;);for(K=0,re=Q.length;K<re;K++)if(!Q[K](C,pe,Z)){K=re+1;break}if(K===re){z++;break}if(G===$-1)break;C=C.parent()}if(z===$)return!0}return!1},find:function(A){function k(te,K,re){var Q,pe,Z,Y,z,C=K[re];for(Q=0,pe=te.length;Q<pe;Q++){for(z=te[Q],Z=0,Y=C.length;Z<Y;Z++)if(!C[Z](z,Q,pe)){Z=Y+1;break}if(Z===Y)re==K.length-1?V.push(z):z.items&&k(z.items(),K,re+1);else if(C.direct)return;z.items&&k(z.items(),K,re)}}var H,G,V=[],$=this._selectors;if(A.items){for(H=0,G=$.length;H<G;H++)k(A.items(),$[H],0);G>1&&(V=function R(A){for(var H,k=[],V=A.length;V--;)(H=A[V]).__checked||(k.push(H),H.__checked=1);for(V=k.length;V--;)delete k[V].__checked;return k}(V))}return T||(T=S.Collection),new T(V)}});return S}),Ne(Ii,[U,bi,Rn],function(W,R,_){var I,x,T=Array.prototype.push,S=Array.prototype.slice;return x={length:0,init:function(A){A&&this.add(A)},add:function(A){var k=this;return W.isArray(A)?T.apply(k,A):A instanceof I?k.add(A.toArray()):T.call(k,A),k},set:function(A){var H,k=this,V=k.length;for(k.length=0,k.add(A),H=k.length;H<V;H++)delete k[H];return k},filter:function(A){var V,H,$,te,G=[];for("string"==typeof A?(A=new R(A),te=function(K){return A.match(K)}):te=A,V=0,H=this.length;V<H;V++)te($=this[V])&&G.push($);return new I(G)},slice:function(){return new I(S.apply(this,arguments))},eq:function(A){return-1===A?this.slice(A):this.slice(A,+A+1)},each:function(A){return W.each(this,A),this},toArray:function(){return W.toArray(this)},indexOf:function(A){for(var V=this.length;V--&&this[V]!==A;);return V},reverse:function(){return new I(W.toArray(this).reverse())},hasClass:function(A){return!!this[0]&&this[0].classes.contains(A)},prop:function(A,k){var G,V=this;return void 0!==k?(V.each(function($){$[A]&&$[A](k)}),V):(G=V[0])&&G[A]?G[A]():void 0},exec:function(A){var V=W.toArray(arguments).slice(1);return this.each(function(H){H[A]&&H[A].apply(H,V)}),this},remove:function(){for(var A=this.length;A--;)this[A].remove();return this},addClass:function(A){return this.each(function(k){k.classes.add(A)})},removeClass:function(A){return this.each(function(k){k.classes.remove(A)})}},W.each("fire on off show hide append prepend before after reflow".split(" "),function(A){x[A]=function(){var k=W.toArray(arguments);return this.each(function(V){A in V&&V[A].apply(V,k)}),this}}),W.each("text name disabled active selected checked visible parent value data".split(" "),function(A){x[A]=function(k){return this.prop(A,k)}}),I=_.extend(x),R.Collection=I,I}),Ne(Ai,[D,U,L],function(W,R,_){var I=0,x={id:function(){return"mceu_"+I++},create:function(T,S,A){var k=document.createElement(T);return _.DOM.setAttribs(k,S),"string"==typeof A?k.innerHTML=A:R.each(A,function(V){V.nodeType&&k.appendChild(V)}),k},createFragment:function(T){return _.DOM.createFragment(T)},getWindowSize:function(){return _.DOM.getViewPort()},getSize:function(T){var S,A;if(T.getBoundingClientRect){var k=T.getBoundingClientRect();S=Math.max(k.width||k.right-k.left,T.offsetWidth),A=Math.max(k.height||k.bottom-k.bottom,T.offsetHeight)}else S=T.offsetWidth,A=T.offsetHeight;return{width:S,height:A}},getPos:function(T,S){return _.DOM.getPos(T,S||x.getContainer())},getContainer:function(){return W.container?W.container:document.body},getViewPort:function(T){return _.DOM.getViewPort(T)},get:function(T){return document.getElementById(T)},addClass:function(T,S){return _.DOM.addClass(T,S)},removeClass:function(T,S){return _.DOM.removeClass(T,S)},hasClass:function(T,S){return _.DOM.hasClass(T,S)},toggleClass:function(T,S,A){return _.DOM.toggleClass(T,S,A)},css:function(T,S,A){return _.DOM.setStyle(T,S,A)},getRuntimeStyle:function(T,S){return _.DOM.getStyle(T,S,!0)},on:function(T,S,A,k){return _.DOM.bind(T,S,A,k)},off:function(T,S,A){return _.DOM.unbind(T,S,A)},fire:function(T,S,A){return _.DOM.fire(T,S,A)},innerHtml:function(T,S){_.DOM.setHTML(T,S)}};return x}),Ne(Wi,[],function(){return{parseBox:function(W){var R;if(W)return"number"==typeof W?{top:W=W||0,left:W,bottom:W,right:W}:(1===(R=(W=W.split(" ")).length)?W[1]=W[2]=W[3]=W[0]:2===R?(W[2]=W[0],W[3]=W[1]):3===R&&(W[3]=W[1]),{top:parseInt(W[0],10)||0,right:parseInt(W[1],10)||0,bottom:parseInt(W[2],10)||0,left:parseInt(W[3],10)||0})},measureBox:function(W,R){function I(x){var T=parseFloat(function _(x){var T=document.defaultView;return T?(x=x.replace(/[A-Z]/g,function(S){return"-"+S}),T.getComputedStyle(W,null).getPropertyValue(x)):W.currentStyle[x]}(x),10);return isNaN(T)?0:T}return{top:I(R+"TopWidth"),right:I(R+"RightWidth"),bottom:I(R+"BottomWidth"),left:I(R+"LeftWidth")}}}}),Ne(qi,[U],function(W){function R(){}function _(I){this.cls=[],this.cls._map={},this.onchange=I||R,this.prefix=""}return W.extend(_.prototype,{add:function(I){return I&&!this.contains(I)&&(this.cls._map[I]=!0,this.cls.push(I),this._change()),this},remove:function(I){if(this.contains(I)){for(var x=0;x<this.cls.length&&this.cls[x]!==I;x++);this.cls.splice(x,1),delete this.cls._map[I],this._change()}return this},toggle:function(I,x){var T=this.contains(I);return T!==x&&(T?this.remove(I):this.add(I),this._change()),this},contains:function(I){return!!this.cls._map[I]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),_.prototype.toString=function(){var I;if(this.clsValue)return this.clsValue;I="";for(var x=0;x<this.cls.length;x++)x>0&&(I+=" "),I+=this.prefix+this.cls[x];return I},_}),Ne(Br,[y],function(W){var _,R={};return{add:function(I){var x=I.parent();if(x){if(!x._layout||x._layout.isNative())return;R[x._id]||(R[x._id]=x),_||(_=!0,W.requestAnimationFrame(function(){var T,S;for(T in _=!1,R)(S=R[T]).state.get("rendered")&&S.reflow();R={}},document.body))}},remove:function(I){R[I._id]&&delete R[I._id]}}}),Ne(vr,[Rn,U,ti,Jn,Ii,Ai,oe,Wi,qi,Br],function(W,R,_,I,x,T,S,A,k,V){function H(Z){return Z._eventDispatcher||(Z._eventDispatcher=new _({scope:Z,toggleEvent:function(Y,z){z&&_.isNative(Y)&&(Z._nativeEvents||(Z._nativeEvents={}),Z._nativeEvents[Y]=!0,Z.state.get("rendered")&&G(Z))}})),Z._eventDispatcher}function G(Z){function Y(rt){var ut=Z.getParentCtrl(rt.target);ut&&ut.fire(rt.type,rt)}function z(){var rt=Se._lastHoverCtrl;rt&&(rt.fire("mouseleave",{target:rt.getEl()}),rt.parents().each(function(ut){ut.fire("mouseleave",{target:ut.getEl()})}),Se._lastHoverCtrl=null)}function C(rt){var ft,Pe,$e,ut=Z.getParentCtrl(rt.target),lt=Se._lastHoverCtrl,_t=0;if(ut!==lt){if(Se._lastHoverCtrl=ut,(Pe=ut.parents().toArray().reverse()).push(ut),lt){for(($e=lt.parents().toArray().reverse()).push(lt),_t=0;_t<$e.length&&Pe[_t]===$e[_t];_t++);for(ft=$e.length-1;ft>=_t;ft--)(lt=$e[ft]).fire("mouseleave",{target:lt.getEl()})}for(ft=_t;ft<Pe.length;ft++)(ut=Pe[ft]).fire("mouseenter",{target:ut.getEl()})}}function E(rt){rt.preventDefault(),"mousewheel"==rt.type?(rt.deltaY=-.025*rt.wheelDelta,rt.wheelDeltaX&&(rt.deltaX=-.025*rt.wheelDeltaX)):(rt.deltaX=0,rt.deltaY=rt.detail),rt=Z.fire("wheel",rt)}var ne,me,se,Se,Be,ht;if(Be=Z._nativeEvents){for((se=Z.parents().toArray()).unshift(Z),ne=0,me=se.length;!Se&&ne<me;ne++)Se=se[ne]._eventsRoot;for(Se||(Se=se[se.length-1]||Z),Z._eventsRoot=Se,me=ne,ne=0;ne<me;ne++)se[ne]._eventsRoot=Se;var ot=Se._delegates;for(ht in ot||(ot=Se._delegates={}),Be){if(!Be)return!1;"wheel"!==ht||te?("mouseenter"===ht||"mouseleave"===ht?Se._hasMouseEnter||(S(Se.getEl()).on("mouseleave",z).on("mouseover",C),Se._hasMouseEnter=1):ot[ht]||(S(Se.getEl()).on(ht,Y),ot[ht]=!0),Be[ht]=!1):$?S(Z.getEl()).on("mousewheel",E):S(Z.getEl()).on("DOMMouseScroll",E)}}}var re,$="onmousewheel"in document,te=!1,K="mce-",Q=0,pe={Statics:{classPrefix:K},isRtl:function(){return re.rtl},classPrefix:K,init:function(Z){function Y(ne){var me;for(ne=ne.split(" "),me=0;me<ne.length;me++)z.classes.add(ne[me])}var C,E,z=this;z.settings=Z=R.extend({},z.Defaults,Z),z._id=Z.id||"mceu_"+Q++,z._aria={role:Z.role},z._elmCache={},z.$=S,z.state=new I({visible:!0,active:!1,disabled:!1,value:""}),z.data=new I(Z.data),z.classes=new k(function(){z.state.get("rendered")&&(z.getEl().className=this.toString())}),z.classes.prefix=z.classPrefix,(C=Z.classes)&&(z.Defaults&&(E=z.Defaults.classes)&&C!=E&&Y(E),Y(C)),R.each("title text name visible disabled active value".split(" "),function(ne){ne in Z&&z[ne](Z[ne])}),z.on("click",function(){if(z.disabled())return!1}),z.settings=Z,z.borderBox=A.parseBox(Z.border),z.paddingBox=A.parseBox(Z.padding),z.marginBox=A.parseBox(Z.margin),Z.hidden&&z.hide()},Properties:"parent,name",getContainerElm:function(){return T.getContainer()},getParentCtrl:function(Z){for(var Y,z=this.getRoot().controlIdLookup;Z&&z&&!(Y=z[Z.id]);)Z=Z.parentNode;return Y},initLayoutRect:function(){var z,C,ne,me,se,Se,Be,ht,ot,rt,Z=this,Y=Z.settings,E=Z.getEl();z=Z.borderBox=Z.borderBox||A.measureBox(E,"border"),Z.paddingBox=Z.paddingBox||A.measureBox(E,"padding"),Z.marginBox=Z.marginBox||A.measureBox(E,"margin"),rt=T.getSize(E),se=(ht=Y.minWidth)||rt.width,Se=(ot=Y.minHeight)||rt.height,ne=Y.width,me=Y.height,Be=typeof(Be=Y.autoResize)<"u"?Be:!ne&&!me;var ut=z.left+z.right,lt=z.top+z.bottom,_t=Y.maxWidth||65535,ft=Y.maxHeight||65535;return Z._layoutRect=C={x:Y.x||0,y:Y.y||0,w:ne=ne||se,h:me=me||Se,deltaW:ut,deltaH:lt,contentW:ne-ut,contentH:me-lt,innerW:ne-ut,innerH:me-lt,startMinWidth:ht||0,startMinHeight:ot||0,minW:Math.min(se,_t),minH:Math.min(Se,ft),maxW:_t,maxH:ft,autoResize:Be,scrollW:0},Z._lastLayoutRect={},C},layoutRect:function(Z){var C,E,ne,me,se,Se,Y=this,z=Y._layoutRect;return z||(z=Y.initLayoutRect()),Z?(ne=z.deltaW,me=z.deltaH,Z.x!==se&&(z.x=Z.x),Z.y!==se&&(z.y=Z.y),Z.minW!==se&&(z.minW=Z.minW),Z.minH!==se&&(z.minH=Z.minH),(E=Z.w)!==se&&(z.w=E=(E=E<z.minW?z.minW:E)>z.maxW?z.maxW:E,z.innerW=E-ne),(E=Z.h)!==se&&(z.h=E=(E=E<z.minH?z.minH:E)>z.maxH?z.maxH:E,z.innerH=E-me),(E=Z.innerW)!==se&&(z.innerW=E=(E=E<z.minW-ne?z.minW-ne:E)>z.maxW-ne?z.maxW-ne:E,z.w=E+ne),(E=Z.innerH)!==se&&(z.innerH=E=(E=E<z.minH-me?z.minH-me:E)>z.maxH-me?z.maxH-me:E,z.h=E+me),Z.contentW!==se&&(z.contentW=Z.contentW),Z.contentH!==se&&(z.contentH=Z.contentH),(C=Y._lastLayoutRect).x===z.x&&C.y===z.y&&C.w===z.w&&C.h===z.h||((Se=re.repaintControls)&&Se.map&&!Se.map[Y._id]&&(Se.push(Y),Se.map[Y._id]=!0),C.x=z.x,C.y=z.y,C.w=z.w,C.h=z.h),Y):z},repaint:function(){var Y,z,C,E,ne,me,se,Se,Be,ht,Z=this;Be=document.createRange?function(ot){return ot}:Math.round,Y=Z.getEl().style,me=(ne=Z.borderBox).left+ne.right,se=ne.top+ne.bottom,(E=Z._layoutRect).x!==(Se=Z._lastRepaintRect||{}).x&&(Y.left=Be(E.x)+"px",Se.x=E.x),E.y!==Se.y&&(Y.top=Be(E.y)+"px",Se.y=E.y),E.w!==Se.w&&(ht=Be(E.w-me),Y.width=(ht>=0?ht:0)+"px",Se.w=E.w),E.h!==Se.h&&(ht=Be(E.h-se),Y.height=(ht>=0?ht:0)+"px",Se.h=E.h),Z._hasBody&&E.innerW!==Se.innerW&&(ht=Be(E.innerW),(C=Z.getEl("body"))&&((z=C.style).width=(ht>=0?ht:0)+"px"),Se.innerW=E.innerW),Z._hasBody&&E.innerH!==Se.innerH&&(ht=Be(E.innerH),(C=C||Z.getEl("body"))&&((z=z||C.style).height=(ht>=0?ht:0)+"px"),Se.innerH=E.innerH),Z._lastRepaintRect=Se,Z.fire("repaint",{},!1)},updateLayoutRect:function(){var Z=this;Z.parent()._lastRect=null,T.css(Z.getEl(),{width:"",height:""}),Z._layoutRect=Z._lastRepaintRect=Z._lastLayoutRect=null,Z.initLayoutRect()},on:function(Z,Y){var C=this;return H(C).on(Z,function z(E){var ne,me;return"string"!=typeof E?E:function(se){return ne||C.parentsAndSelf().each(function(Se){var Be=Se.settings.callbacks;if(Be&&(ne=Be[E]))return me=Se,!1}),ne?ne.call(me,se):(se.action=E,void this.fire("execute",se))}}(Y)),C},off:function(Z,Y){return H(this).off(Z,Y),this},fire:function(Z,Y,z){var C=this;if((Y=Y||{}).control||(Y.control=C),Y=H(C).fire(Z,Y),!1!==z&&C.parent)for(var E=C.parent();E&&!Y.isPropagationStopped();)E.fire(Z,Y,!1),E=E.parent();return Y},hasEventListeners:function(Z){return H(this).has(Z)},parents:function(Z){var z,C=new x;for(z=this.parent();z;z=z.parent())C.add(z);return Z&&(C=C.filter(Z)),C},parentsAndSelf:function(Z){return new x(this).add(this.parents(Z))},next:function(){var Z=this.parent().items();return Z[Z.indexOf(this)+1]},prev:function(){var Z=this.parent().items();return Z[Z.indexOf(this)-1]},innerHtml:function(Z){return this.$el.html(Z),this},getEl:function(Z){var Y=Z?this._id+"-"+Z:this._id;return this._elmCache[Y]||(this._elmCache[Y]=S("#"+Y)[0]),this._elmCache[Y]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch{}return this},blur:function(){return this.getEl().blur(),this},aria:function(Z,Y){var z=this,C=z.getEl(z.ariaTarget);return typeof Y>"u"?z._aria[Z]:(z._aria[Z]=Y,z.state.get("rendered")&&C.setAttribute("role"==Z?Z:"aria-"+Z,Y),z)},encode:function(Z,Y){return!1!==Y&&(Z=this.translate(Z)),(Z||"").replace(/[&<>"]/g,function(z){return"&#"+z.charCodeAt(0)+";"})},translate:function(Z){return re.translate?re.translate(Z):Z},before:function(Z){var Y=this,z=Y.parent();return z&&z.insert(Z,z.items().indexOf(Y),!0),Y},after:function(Z){var Y=this,z=Y.parent();return z&&z.insert(Z,z.items().indexOf(Y)),Y},remove:function(){var C,E,Z=this,Y=Z.getEl(),z=Z.parent();if(Z.items){var ne=Z.items().toArray();for(E=ne.length;E--;)ne[E].remove()}z&&z.items&&(C=[],z.items().each(function(se){se!==Z&&C.push(se)}),z.items().set(C),z._lastRect=null),Z._eventsRoot&&Z._eventsRoot==Z&&S(Y).off();var me=Z.getRoot().controlIdLookup;return me&&delete me[Z._id],Y&&Y.parentNode&&Y.parentNode.removeChild(Y),Z.state.set("rendered",!1),Z.state.destroy(),Z.fire("remove"),Z},renderBefore:function(Z){return S(Z).before(this.renderHtml()),this.postRender(),this},renderTo:function(Z){return S(Z||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var z,C,E,ne,me,Z=this,Y=Z.settings;for(ne in Z.$el=S(Z.getEl()),Z.state.set("rendered",!0),Y)0===ne.indexOf("on")&&Z.on(ne.substr(2),Y[ne]);if(Z._eventsRoot){for(E=Z.parent();!me&&E;E=E.parent())me=E._eventsRoot;if(me)for(ne in me._nativeEvents)Z._nativeEvents[ne]=!0}G(Z),Y.style&&(z=Z.getEl())&&(z.setAttribute("style",Y.style),z.style.cssText=Y.style),Z.settings.border&&Z.$el.css({"border-top-width":(C=Z.borderBox).top,"border-right-width":C.right,"border-bottom-width":C.bottom,"border-left-width":C.left});var se=Z.getRoot();for(var Se in se.controlIdLookup||(se.controlIdLookup={}),se.controlIdLookup[Z._id]=Z,Z._aria)Z.aria(Se,Z._aria[Se]);!1===Z.state.get("visible")&&(Z.getEl().style.display="none"),Z.bindStates(),Z.state.on("change:visible",function(Be){var ot,ht=Be.value;Z.state.get("rendered")&&(Z.getEl().style.display=!1===ht?"none":"",Z.getEl().getBoundingClientRect()),(ot=Z.parent())&&(ot._lastRect=null),Z.fire(ht?"show":"hide"),V.add(Z)}),Z.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(Z){var E,ne,me,se,Se,Be,z=this.getEl(),C=z.parentNode,ht=function Y(ot,rt){var ut,lt,_t=ot;for(ut=lt=0;_t&&_t!=rt&&_t.nodeType;)ut+=_t.offsetLeft||0,lt+=_t.offsetTop||0,_t=_t.offsetParent;return{x:ut,y:lt}}(z,C);return E=ht.x,ne=ht.y,me=z.offsetWidth,se=z.offsetHeight,Se=C.clientWidth,Be=C.clientHeight,"end"==Z?(E-=Se-me,ne-=Be-se):"center"==Z&&(E-=Se/2-me/2,ne-=Be/2-se/2),C.scrollLeft=E,C.scrollTop=ne,this},getRoot:function(){for(var Y,Z=this,z=[];Z;){if(Z.rootControl){Y=Z.rootControl;break}z.push(Z),Y=Z,Z=Z.parent()}Y||(Y=this);for(var C=z.length;C--;)z[C].rootControl=Y;return Y},reflow:function(){V.remove(this);var Z=this.parent();return Z._layout&&!Z._layout.isNative()&&Z.reflow(),this}};return R.each("text title visible disabled active value".split(" "),function(Z){pe[Z]=function(Y){return 0===arguments.length?this.state.get(Z):(typeof Y<"u"&&this.state.set(Z,Y),this)}}),re=W.extend(pe)}),Ne(cr,[],function(){var R,W={};return{add:function(_,I){W[_.toLowerCase()]=I},has:function(_){return!!W[_.toLowerCase()]},create:function(_,I){var x,T,S;if(!R){for(T in S=tinymce.ui)W[T.toLowerCase()]=S[T];R=!0}if("string"==typeof _?(I=I||{}).type=_:_=(I=_).type,_=_.toLowerCase(),!(x=W[_]))throw new Error("Could not find control by type: "+_);return(x=new x(I)).type=_,x}}}),Ne(Jr,[],function(){return function(W){function R(E){return E&&1===E.nodeType}function _(E){return R(E=E||z)?E.getAttribute("role"):null}function I(E){for(var ne,me=E||z;me=me.parentNode;)if(ne=_(me))return ne}function x(E){var ne=z;if(R(ne))return ne.getAttribute("aria-"+E)}function T(E){var ne=E.tagName.toUpperCase();return"INPUT"==ne||"TEXTAREA"==ne||"SELECT"==ne}function A(E){var me=[];return function ne(se){if(1==se.nodeType&&"none"!=se.style.display&&!se.disabled){(function S(E){return!(!T(E)||E.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(_(E))})(se)&&me.push(se);for(var Se=0;Se<se.childNodes.length;Se++)ne(se.childNodes[Se])}}(E||Y.getEl()),me}function k(E){var ne,me;(me=(E=E||C).parents().toArray()).unshift(E);for(var se=0;se<me.length&&!(ne=me[se]).settings.ariaRoot;se++);return ne}function H(E,ne){return E<0?E=ne.length-1:E>=ne.length&&(E=0),ne[E]&&ne[E].focus(),E}function G(E,ne){var me=-1,se=k();ne=ne||A(se.getEl());for(var Se=0;Se<ne.length;Se++)ne[Se]===z&&(me=Se);se.lastAriaIndex=H(me+=E,ne)}function $(){"tablist"==I()?G(-1,A(z.parentNode)):C.parent().submenu?pe():G(-1)}function te(){var E=_(),ne=I();"tablist"==ne?G(1,A(z.parentNode)):"menuitem"==E&&"menu"==ne&&x("haspopup")?Z():G(1)}function K(){G(-1)}function re(){var E=_(),ne=I();"menuitem"==E&&"menubar"==ne?Z():"button"==E&&x("haspopup")?Z({key:"down"}):G(1)}function pe(){C.fire("cancel")}function Z(E){C.fire("click",{target:z,aria:E=E||{}})}var z,C,Y=W.root;try{z=document.activeElement}catch{z=document.body}return C=Y.getParentCtrl(z),Y.on("keydown",function(E){function ne(me,se){T(z)||"slider"!==_(z)&&!1!==se(me)&&me.preventDefault()}if(!E.isDefaultPrevented())switch(E.keyCode){case 37:ne(E,$);break;case 39:ne(E,te);break;case 38:ne(E,K);break;case 40:ne(E,re);break;case 27:pe();break;case 14:case 13:case 32:ne(E,Z);break;case 9:!1!==function Q(E){if("tablist"==I()){var me=A(C.getEl("body"))[0];me&&me.focus()}else G(E.shiftKey?-1:1)}(E)&&E.preventDefault()}}),Y.on("focusin",function(E){z=E.target,C=E.control}),{focusFirst:function V(E){var ne=k(E),me=A(ne.getEl());H(ne.settings.ariaRemember&&"lastAriaIndex"in ne?ne.lastAriaIndex:0,me)}}}}),Ne(hr,[vr,Ii,bi,cr,Jr,U,oe,qi,Br],function(W,R,_,I,x,T,S,A,k){var V={};return W.extend({init:function(H){var G=this;G._super(H),(H=G.settings).fixed&&G.state.set("fixed",!0),G._items=new R,G.isRtl()&&G.classes.add("rtl"),G.bodyClasses=new A(function(){G.state.get("rendered")&&(G.getEl("body").className=this.toString())}),G.bodyClasses.prefix=G.classPrefix,G.classes.add("container"),G.bodyClasses.add("container-body"),H.containerCls&&G.classes.add(H.containerCls),G._layout=I.create((H.layout||"")+"layout"),G.add(G.settings.items?G.settings.items:G.render()),G._hasBody=!0},items:function(){return this._items},find:function(H){return(H=V[H]=V[H]||new _(H)).find(this)},add:function(H){var G=this;return G.items().add(G.create(H)).parent(G),G},focus:function(H){var $,te,K,G=this;return H&&(te=G.keyboardNav||G.parents().eq(-1)[0].keyboardNav)?void te.focusFirst(G):(K=G.find("*"),G.statusbar&&K.add(G.statusbar.items()),K.each(function(re){return re.settings.autofocus?($=null,!1):void(re.canFocus&&($=$||re))}),$&&$.focus(),G)},replace:function(H,G){for(var $,te=this.items(),K=te.length;K--;)if(te[K]===H){te[K]=G;break}K>=0&&(($=G.getEl())&&$.parentNode.removeChild($),($=H.getEl())&&$.parentNode.removeChild($)),G.parent(this)},create:function(H){var $,G=this,te=[];return T.isArray(H)||(H=[H]),T.each(H,function(K){K&&(K instanceof W||("string"==typeof K&&(K={type:K}),$=T.extend({},G.settings.defaults,K),K.type=$.type=$.type||K.type||G.settings.defaultType||($.defaults?$.defaults.type:null),K=I.create($)),te.push(K))}),te},renderNew:function(){var H=this;return H.items().each(function(G,$){var te;G.parent(H),G.state.get("rendered")||((te=H.getEl("body")).hasChildNodes()&&$<=te.childNodes.length-1?S(te.childNodes[$]).before(G.renderHtml()):S(te).append(G.renderHtml()),G.postRender(),k.add(G))}),H._layout.applyClasses(H.items().filter(":visible")),H._lastRect=null,H},append:function(H){return this.add(H).renderNew()},prepend:function(H){var G=this;return G.items().set(G.create(H).concat(G.items().toArray())),G.renderNew()},insert:function(H,G,$){var K,re,Q;return H=this.create(H),K=this.items(),!$&&G<K.length-1&&(G+=1),G>=0&&G<K.length&&(re=K.slice(0,G).toArray(),Q=K.slice(G).toArray(),K.set(re.concat(H,Q))),this.renderNew()},fromJSON:function(H){for(var $ in H)this.find("#"+$).value(H[$]);return this},toJSON:function(){var G={};return this.find("*").each(function($){var te=$.name(),K=$.value();te&&typeof K<"u"&&(G[te]=K)}),G},renderHtml:function(){var H=this,G=H._layout,$=this.settings.role;return H.preRender(),G.preRender(H),'<div id="'+H._id+'" class="'+H.classes+'"'+($?' role="'+this.settings.role+'"':"")+'><div id="'+H._id+'-body" class="'+H.bodyClasses+'">'+(H.settings.html||"")+G.renderHtml(H)+"</div></div>"},postRender:function(){var G,H=this;return H.items().exec("postRender"),H._super(),H._layout.postRender(H),H.state.set("rendered",!0),H.settings.style&&H.$el.css(H.settings.style),H.settings.border&&H.$el.css({"border-top-width":(G=H.borderBox).top,"border-right-width":G.right,"border-bottom-width":G.bottom,"border-left-width":G.left}),H.parent()||(H.keyboardNav=new x({root:H})),H},initLayoutRect:function(){var H=this,G=H._super();return H._layout.recalc(H),G},recalc:function(){var H=this,G=H._layoutRect,$=H._lastRect;if(!$||$.w!=G.w||$.h!=G.h)return H._layout.recalc(H),G=H.layoutRect(),H._lastRect={x:G.x,y:G.y,w:G.w,h:G.h},!0},reflow:function(){var H;if(k.remove(this),this.visible()){for(W.repaintControls=[],W.repaintControls.map={},this.recalc(),H=W.repaintControls.length;H--;)W.repaintControls[H].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),W.repaintControls=[]}return this}})}),Ne(dr,[oe],function(W){function _(I){var x,T;if(I.changedTouches)for(x="screenX screenY pageX pageY clientX clientY".split(" "),T=0;T<x.length;T++)I[x[T]]=I.changedTouches[0][x[T]]}return function(I,x){function T(){return A.getElementById(x.handle||I)}var S,k,V,H,G,$,te,A=x.document||document;x=x||{},V=function(K){var Q,pe,re=function R(I){var x,T,S,A,k,V,H,$=Math.max;return S=$((x=I.documentElement).scrollWidth,(T=I.body).scrollWidth),A=$(x.clientWidth,T.clientWidth),k=$(x.offsetWidth,T.offsetWidth),V=$(x.scrollHeight,T.scrollHeight),H=$(x.clientHeight,T.clientHeight),{width:S<k?A:S,height:V<$(x.offsetHeight,T.offsetHeight)?H:V}}(A);_(K),K.preventDefault(),k=K.button,Q=T(),$=K.screenX,te=K.screenY,pe=window.getComputedStyle?window.getComputedStyle(Q,null).getPropertyValue("cursor"):Q.runtimeStyle.cursor,S=W("<div></div>").css({position:"absolute",top:0,left:0,width:re.width,height:re.height,zIndex:2147483647,opacity:1e-4,cursor:pe}).appendTo(A.body),W(A).on("mousemove touchmove",G).on("mouseup touchend",H),x.start(K)},G=function(K){return _(K),K.button!==k?H(K):(K.deltaX=K.screenX-$,K.deltaY=K.screenY-te,K.preventDefault(),void x.drag(K))},H=function(K){_(K),W(A).off("mousemove touchmove",G).off("mouseup touchend",H),S.remove(),x.stop&&x.stop(K)},this.destroy=function(){W(T()).off()},W(T()).on("mousedown touchstart",V)}}),Ne(Mr,[oe,dr],function(W,R){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function _(){function S(H,G,$,te,K,re){var Q,pe,Z,Y,C,E,ne,me;if(pe=x.getEl("scroll"+H)){if(ne=G.toLowerCase(),me=$.toLowerCase(),W(x.getEl("absend")).css(ne,x.layoutRect()[te]-1),!K)return void W(pe).css("display","none");W(pe).css("display","block"),Q=x.getEl("body"),Z=x.getEl("scroll"+H+"t"),Y=Q["client"+$]-2*T,C=(Y-=A&&k?pe["client"+re]:0)/Q["scroll"+$],(E={})[ne]=Q["offset"+G]+T,E[me]=Y,W(pe).css(E),(E={})[ne]=Q["scroll"+G]*C,E[me]=Y*C,W(Z).css(E)}}var A,k,V;V=x.getEl("body"),k=V.scrollHeight>V.clientHeight,S("h","Left","Width","contentW",A=V.scrollWidth>V.clientWidth,"Height"),S("v","Top","Height","contentH",k,"Width")}var x=this,T=2;x.settings.autoScroll&&(x._hasScroll||(x._hasScroll=!0,function I(){function S(A,k,V,H,G){var $,te=x._id+"-scroll"+A,K=x.classPrefix;W(x.getEl()).append('<div id="'+te+'" class="'+K+"scrollbar "+K+"scrollbar-"+A+'"><div id="'+te+'t" class="'+K+'scrollbar-thumb"></div></div>'),x.draghelper=new R(te+"t",{start:function(){$=x.getEl("body")["scroll"+k],W("#"+te).addClass(K+"active")},drag:function(re){var Q,pe,Z,Y,z=x.layoutRect();pe=z.contentW>z.innerW,Z=z.contentH>z.innerH,Y=x.getEl("body")["client"+V]-2*T,Q=(Y-=pe&&Z?x.getEl("scroll"+A)["client"+G]:0)/x.getEl("body")["scroll"+V],x.getEl("body")["scroll"+k]=$+re["delta"+H]/Q},stop:function(){W("#"+te).removeClass(K+"active")}})}x.classes.add("scroll"),S("v","Top","Height","Y","Width"),S("h","Left","Width","X","Height")}(),x.on("wheel",function(S){var A=x.getEl("body");A.scrollLeft+=10*(S.deltaX||0),A.scrollTop+=10*S.deltaY,_()}),W(x.getEl("body")).on("scroll",_)),_())}}}),Ne(jr,[hr,Mr],function(W,R){return W.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[R],renderHtml:function(){var _=this,I=_._layout,x=_.settings.html;return _.preRender(),I.preRender(_),typeof x>"u"?x='<div id="'+_._id+'-body" class="'+_.bodyClasses+'">'+I.renderHtml(_)+"</div>":("function"==typeof x&&(x=x.call(_)),_._hasBody=!1),'<div id="'+_._id+'" class="'+_.classes+'" hidefocus="1" tabindex="-1" role="group">'+(_._preBodyHtml||"")+x+"</div>"}})}),Ne(ao,[Ai],function(W){function R(_,I,x){var T,S,A,k,V,H,G,$,te,K;return te=W.getViewPort(),A=(S=W.getPos(I)).x,k=S.y,_.state.get("fixed")&&"static"==W.getRuntimeStyle(document.body,"position")&&(A-=te.x,k-=te.y),T=_.getEl(),V=(K=W.getSize(T)).width,H=K.height,G=(K=W.getSize(I)).width,$=K.height,"b"===(x=(x||"").split(""))[0]&&(k+=$),"r"===x[1]&&(A+=G),"c"===x[0]&&(k+=Math.round($/2)),"c"===x[1]&&(A+=Math.round(G/2)),"b"===x[3]&&(k-=H),"r"===x[4]&&(A-=V),"c"===x[3]&&(k-=Math.round(H/2)),"c"===x[4]&&(A-=Math.round(V/2)),{x:A,y:k,w:V,h:H}}return{testMoveRel:function(_,I){for(var x=W.getViewPort(),T=0;T<I.length;T++){var S=R(this,_,I[T]);if(this.state.get("fixed")){if(S.x>0&&S.x+S.w<x.w&&S.y>0&&S.y+S.h<x.h)return I[T]}else if(S.x>x.x&&S.x+S.w<x.w+x.x&&S.y>x.y&&S.y+S.h<x.h+x.y)return I[T]}return I[0]},moveRel:function(_,I){"string"!=typeof I&&(I=this.testMoveRel(_,I));var x=R(this,_,I);return this.moveTo(x.x,x.y)},moveBy:function(_,I){var x=this,T=x.layoutRect();return x.moveTo(T.x+_,T.y+I),x},moveTo:function(_,I){function x(k,V,H){return k<0||k+H>V&&(k=V-H)<0?0:k}var T=this;if(T.settings.constrainToViewport){var S=W.getViewPort(window),A=T.layoutRect();_=x(_,S.w+S.x,A.w),I=x(I,S.h+S.y,A.h)}return T.state.get("rendered")?T.layoutRect({x:_,y:I}).repaint():(T.settings.x=_,T.settings.y=I),T.fire("move",{x:_,y:I}),T}}}),Ne(Ar,[Ai],function(W){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(R,_){if(R<=1||_<=1){var I=W.getWindowSize();R=R<=1?R*I.w:R,_=_<=1?_*I.h:_}return this._layoutRect.autoResize=!1,this.layoutRect({minW:R,minH:_,w:R,h:_}).reflow()},resizeBy:function(R,_){var x=this.layoutRect();return this.resizeTo(x.w+R,x.h+_)}}}),Ne(Yr,[jr,ao,Ar,Ai,oe,y],function(W,R,_,I,x,T){function S(C,E){for(;C;){if(C==E)return!0;C=C.parent()}}function G(C){function E(me,se){for(var Se,Be=0;Be<pe.length;Be++)if(pe[Be]!=C)for(Se=pe[Be].parent();Se&&(Se=Se.parent());)Se==C&&pe[Be].fixed(me).moveBy(0,se).repaint()}var ne=I.getViewPort().y;C.settings.autofix&&(C.state.get("fixed")?C._autoFixY>ne&&(C.fixed(!1).layoutRect({y:C._autoFixY}).repaint(),E(!1,C._autoFixY-ne)):(C._autoFixY=C.layoutRect().y,C._autoFixY<ne&&(C.fixed(!0).layoutRect({y:0}).repaint(),E(!0,ne-C._autoFixY))))}function $(C,E){var ne,se,me=z.zIndex||65535;if(C)Z.push(E);else for(ne=Z.length;ne--;)Z[ne]===E&&Z.splice(ne,1);if(Z.length)for(ne=0;ne<Z.length;ne++)Z[ne].modal&&(me++,se=Z[ne]),Z[ne].getEl().style.zIndex=me,Z[ne].zIndex=me,me++;var Se=x("#"+E.classPrefix+"modal-block",E.getContainerElm())[0];se?x(Se).css("z-index",se.zIndex-1):Se&&(Se.parentNode.removeChild(Se),Y=!1),z.currentZIndex=me}function te(C){var E;for(E=pe.length;E--;)pe[E]===C&&pe.splice(E,1);for(E=Z.length;E--;)Z[E]===C&&Z.splice(E,1)}var K,re,Q,Y,pe=[],Z=[],z=W.extend({Mixins:[R,_],init:function(C){var E=this;E._super(C),E._eventsRoot=E,E.classes.add("floatpanel"),C.autohide&&(function k(){K||(K=function(C){2!=C.button&&function A(C){for(var E=pe.length;E--;){var ne=pe[E],me=ne.getParentCtrl(C.target);if(ne.settings.autohide){if(me&&(S(me,ne)||ne.parent()===me))continue;(C=ne.fire("autohide",{target:C.target})).isDefaultPrevented()||ne.hide()}}}(C)},x(document).on("click touchstart",K))}(),function H(){if(!Q){var C=document.documentElement,E=C.clientWidth,ne=C.clientHeight;Q=function(){document.all&&E==C.clientWidth&&ne==C.clientHeight||(E=C.clientWidth,ne=C.clientHeight,z.hideAll())},x(window).on("resize",Q)}}(),pe.push(E)),C.autofix&&(function V(){re||(re=function(){var C;for(C=pe.length;C--;)G(pe[C])},x(window).on("scroll",re))}(),E.on("move",function(){G(this)})),E.on("postrender show",function(ne){if(ne.control==E){var me,se=E.classPrefix;E.modal&&!Y&&((me=x("#"+se+"modal-block",E.getContainerElm()))[0]||(me=x('<div id="'+se+'modal-block" class="'+se+"reset "+se+'fade"></div>').appendTo(E.getContainerElm())),T.setTimeout(function(){me.addClass(se+"in"),x(E.getEl()).addClass(se+"in")}),Y=!0),$(!0,E)}}),E.on("show",function(){E.parents().each(function(ne){if(ne.state.get("fixed"))return E.fixed(!0),!1})}),C.popover&&(E._preBodyHtml='<div class="'+E.classPrefix+'arrow"></div>',E.classes.add("popover").add("bottom").add(E.isRtl()?"end":"start")),E.aria("label",C.ariaLabel),E.aria("labelledby",E._id),E.aria("describedby",E.describedBy||E._id+"-none")},fixed:function(C){var E=this;if(E.state.get("fixed")!=C){if(E.state.get("rendered")){var ne=I.getViewPort();C?E.layoutRect().y-=ne.y:E.layoutRect().y+=ne.y}E.classes.toggle("fixed",C),E.state.set("fixed",C)}return E},show:function(){var E,C=this,ne=C._super();for(E=pe.length;E--&&pe[E]!==C;);return-1===E&&pe.push(C),ne},hide:function(){return te(this),$(!1,this),this._super()},hideAll:function(){z.hideAll()},close:function(){var C=this;return C.fire("close").isDefaultPrevented()||(C.remove(),$(!1,C)),C},remove:function(){te(this),this._super()},postRender:function(){var C=this;return C.settings.bodyRole&&this.getEl("body").setAttribute("role",C.settings.bodyRole),C._super()}});return z.hideAll=function(){for(var C=pe.length;C--;){var E=pe[C];E&&E.settings.autohide&&(E.hide(),pe.splice(C,1))}},z}),Ne(Xr,[Yr,jr,Ai,oe,dr,Wi,D,y],function(W,R,_,I,x,T,S,A){function k(re){var Z,pe=I("meta[name=viewport]")[0];!1!==S.overrideViewPort&&(pe||((pe=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(pe)),(Z=pe.getAttribute("content"))&&typeof te<"u"&&(te=Z),pe.setAttribute("content",re?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":te))}var $=[],te="",K=W.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(re){var Q=this;Q._super(re),Q.isRtl()&&Q.classes.add("rtl"),Q.classes.add("window"),Q.bodyClasses.add("window-body"),Q.state.set("fixed",!0),re.buttons&&(Q.statusbar=new R({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:Q.isRtl()?"start":"end",defaults:{type:"button"},items:re.buttons}),Q.statusbar.classes.add("foot"),Q.statusbar.parent(Q)),Q.on("click",function(pe){var Z=Q.classPrefix+"close";(_.hasClass(pe.target,Z)||_.hasClass(pe.target.parentNode,Z))&&Q.close()}),Q.on("cancel",function(){Q.close()}),Q.aria("describedby",Q.describedBy||Q._id+"-none"),Q.aria("label",re.title),Q._fullscreen=!1},recalc:function(){var pe,Z,Y,z,re=this,Q=re.statusbar;re._fullscreen&&(re.layoutRect(_.getWindowSize()),re.layoutRect().contentH=re.layoutRect().innerH),re._super(),pe=re.layoutRect(),re.settings.title&&!re._fullscreen&&(Z=pe.headerW)>pe.w&&(Y=pe.x-Math.max(0,Z/2),re.layoutRect({w:Z,x:Y}),z=!0),Q&&(Q.layoutRect({w:re.layoutRect().innerW}).recalc(),(Z=Q.layoutRect().minW+pe.deltaW)>pe.w&&(Y=pe.x-Math.max(0,Z-pe.w),re.layoutRect({w:Z,x:Y}),z=!0)),z&&re.recalc()},initLayoutRect:function(){var Z,re=this,Q=re._super(),pe=0;if(re.settings.title&&!re._fullscreen){Z=re.getEl("head");var Y=_.getSize(Z);Q.headerW=Y.width,Q.headerH=Y.height,pe+=Q.headerH}re.statusbar&&(pe+=re.statusbar.layoutRect().h),Q.deltaH+=pe,Q.minH+=pe,Q.h+=pe;var z=_.getWindowSize();return Q.x=re.settings.x||Math.max(0,z.w/2-Q.w/2),Q.y=re.settings.y||Math.max(0,z.h/2-Q.h/2),Q},renderHtml:function(){var re=this,Q=re._layout,pe=re._id,Z=re.classPrefix,Y=re.settings,z="",C="",E=Y.html;return re.preRender(),Q.preRender(re),Y.title&&(z='<div id="'+pe+'-head" class="'+Z+'window-head"><div id="'+pe+'-title" class="'+Z+'title">'+re.encode(Y.title)+'</div><div id="'+pe+'-dragh" class="'+Z+'dragh"></div><button type="button" class="'+Z+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),Y.url&&(E='<iframe src="'+Y.url+'" tabindex="-1"></iframe>'),typeof E>"u"&&(E=Q.renderHtml(re)),re.statusbar&&(C=re.statusbar.renderHtml()),'<div id="'+pe+'" class="'+re.classes+'" hidefocus="1"><div class="'+re.classPrefix+'reset" role="application">'+z+'<div id="'+pe+'-body" class="'+re.bodyClasses+'">'+E+"</div>"+C+"</div></div>"},fullscreen:function(re){var Z,z,Q=this,pe=document.documentElement,Y=Q.classPrefix;if(re!=Q._fullscreen)if(I(window).on("resize",function(){var E;if(Q._fullscreen)if(Z)Q._timer||(Q._timer=A.setTimeout(function(){var me=_.getWindowSize();Q.moveTo(0,0).resizeTo(me.w,me.h),Q._timer=0},50));else{E=(new Date).getTime();var ne=_.getWindowSize();Q.moveTo(0,0).resizeTo(ne.w,ne.h),(new Date).getTime()-E>50&&(Z=!0)}}),z=Q.layoutRect(),Q._fullscreen=re,re){Q._initial={x:z.x,y:z.y,w:z.w,h:z.h},Q.borderBox=T.parseBox("0"),Q.getEl("head").style.display="none",z.deltaH-=z.headerH+2,I([pe,document.body]).addClass(Y+"fullscreen"),Q.classes.add("fullscreen");var C=_.getWindowSize();Q.moveTo(0,0).resizeTo(C.w,C.h)}else Q.borderBox=T.parseBox(Q.settings.border),Q.getEl("head").style.display="",z.deltaH+=z.headerH,I([pe,document.body]).removeClass(Y+"fullscreen"),Q.classes.remove("fullscreen"),Q.moveTo(Q._initial.x,Q._initial.y).resizeTo(Q._initial.w,Q._initial.h);return Q.reflow()},postRender:function(){var Q,re=this;setTimeout(function(){re.classes.add("in"),re.fire("open")},0),re._super(),re.statusbar&&re.statusbar.postRender(),re.focus(),this.dragHelper=new x(re._id+"-dragh",{start:function(){Q={x:re.layoutRect().x,y:re.layoutRect().y}},drag:function(pe){re.moveTo(Q.x+pe.deltaX,Q.y+pe.deltaY)}}),re.on("submit",function(pe){pe.isDefaultPrevented()||re.close()}),$.push(re),k(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var Q,re=this;for(re.dragHelper.destroy(),re._super(),re.statusbar&&this.statusbar.remove(),function V(re,Q){(function H(){for(var re=0;re<$.length;re++)if($[re]._fullscreen)return!0;return!1})()&&!1===Q&&I([document.documentElement,document.body]).removeClass(re+"fullscreen")}(re.classPrefix,!1),Q=$.length;Q--;)$[Q]===re&&$.splice(Q,1);k($.length>0)},getContentWindow:function(){var re=this.getEl().getElementsByTagName("iframe")[0];return re?re.contentWindow:null}});return function G(){if(!S.desktop){var Q={w:window.innerWidth,h:window.innerHeight};A.setInterval(function(){var pe=window.innerWidth,Z=window.innerHeight;Q.w==pe&&Q.h==Z||(Q={w:pe,h:Z},I(window).trigger("resize"))},100)}I(window).on("resize",function re(){var pe,Y,Z=_.getWindowSize();for(pe=0;pe<$.length;pe++)Y=$[pe].layoutRect(),$[pe].moveTo($[pe].settings.x||Math.max(0,Z.w/2-Y.w/2),$[pe].settings.y||Math.max(0,Z.h/2-Y.h/2))})}(),K}),Ne(An,[Xr],function(W){var R=W.extend({init:function(_){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(_){function I(S,A,k){return{type:"button",text:S,subtype:k?"primary":"",onClick:function(V){V.control.parents()[1].close(),T(A)}}}var x,T=_.callback||function(){};switch(_.buttons){case R.OK_CANCEL:x=[I("Ok",!0,!0),I("Cancel",!1)];break;case R.YES_NO:case R.YES_NO_CANCEL:x=[I("Yes",1,!0),I("No",0)],_.buttons==R.YES_NO_CANCEL&&x.push(I("Cancel",-1));break;default:x=[I("Ok",!0,!0)]}return new W({padding:20,x:_.x,y:_.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:x,title:_.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:_.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:_.onClose,onCancel:function(){T(!1)}}).renderTo(document.body).reflow()},alert:function(_,I){return"string"==typeof _&&(_={text:_}),_.callback=I,R.msgBox(_)},confirm:function(_,I){return"string"==typeof _&&(_={text:_}),_.callback=I,_.buttons=R.OK_CANCEL,R.msgBox(_)}}});return R}),Ne(Fn,[Xr,An],function(W,R){return function(_){function I(){if(A.length)return A[A.length-1]}function x(k){_.fire("OpenWindow",{win:k})}function T(k){_.fire("CloseWindow",{win:k})}var S=this,A=[];S.windows=A,_.on("remove",function(){for(var k=A.length;k--;)A[k].close()}),S.open=function(k,V){var H;return _.editorManager.setActive(_),k.title=k.title||" ",k.url=k.url||k.file,k.url&&(k.width=parseInt(k.width||320,10),k.height=parseInt(k.height||240,10)),k.body&&(k.items={defaults:k.defaults,type:k.bodyType||"form",items:k.body,data:k.data,callbacks:k.commands}),k.url||k.buttons||(k.buttons=[{text:"Ok",subtype:"primary",onclick:function(){H.find("form")[0].submit()}},{text:"Cancel",onclick:function(){H.close()}}]),H=new W(k),A.push(H),H.on("close",function(){for(var G=A.length;G--;)A[G]===H&&A.splice(G,1);A.length||_.focus(),T(H)}),k.data&&H.on("postRender",function(){this.find("*").each(function(G){var $=G.name();$ in k.data&&G.value(k.data[$])})}),H.features=k||{},H.params=V||{},1===A.length&&_.nodeChanged(),x(H=H.renderTo().reflow()),H},S.alert=function(k,V,H){var G;(G=R.alert(k,function(){V?V.call(H||this):_.focus()})).on("close",function(){T(G)}),x(G)},S.confirm=function(k,V,H){var G;(G=R.confirm(k,function($){V.call(H||this,$)})).on("close",function(){T(G)}),x(G)},S.close=function(){I()&&I().close()},S.getParams=function(){return I()?I().params:null},S.setParams=function(k){I()&&(I().params=k)},S.getWindows=function(){return A}}}),Ne(pi,[vr,ao],function(W,R){return W.extend({Mixins:[R],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var _=this,I=_.classPrefix;return'<div id="'+_._id+'" class="'+_.classes+'" role="presentation"><div class="'+I+'tooltip-arrow"></div><div class="'+I+'tooltip-inner">'+_.encode(_.state.get("text"))+"</div></div>"},bindStates:function(){var _=this;return _.state.on("change:text",function(I){_.getEl().lastChild.innerHTML=_.encode(I.value)}),_._super()},repaint:function(){var I,x;(I=this.getEl().style).left=(x=this._layoutRect).x+"px",I.top=x.y+"px",I.zIndex=131070}})}),Ne(ai,[vr,pi],function(W,R){var _,I=W.extend({init:function(x){var T=this;T._super(x),x=T.settings,T.canFocus=!0,x.tooltip&&!1!==I.tooltips&&(T.on("mouseenter",function(S){var A=T.tooltip().moveTo(-65535);if(S.control==T){var k=A.text(x.tooltip).show().testMoveRel(T.getEl(),["bc-tc","bc-tl","bc-tr"]);A.classes.toggle("tooltip-n","bc-tc"==k),A.classes.toggle("tooltip-nw","bc-tl"==k),A.classes.toggle("tooltip-ne","bc-tr"==k),A.moveRel(T.getEl(),k)}else A.hide()}),T.on("mouseleave mousedown click",function(){T.tooltip().hide()})),T.aria("label",x.ariaLabel||x.tooltip)},tooltip:function(){return _||(_=new R({type:"tooltip"})).renderTo(),_},postRender:function(){var x=this,T=x.settings;x._super(),x.parent()||!T.width&&!T.height||(x.initLayoutRect(),x.repaint()),T.autofocus&&x.focus()},bindStates:function(){function x(A){S.aria("disabled",A),S.classes.toggle("disabled",A)}function T(A){S.aria("pressed",A),S.classes.toggle("active",A)}var S=this;return S.state.on("change:disabled",function(A){x(A.value)}),S.state.on("change:active",function(A){T(A.value)}),S.state.get("disabled")&&x(!0),S.state.get("active")&&T(!0),S._super()},remove:function(){this._super(),_&&(_.remove(),_=null)}});return I}),Ne(Ei,[ai],function(W){return W.extend({Defaults:{value:0},init:function(R){var _=this;_._super(R),_.classes.add("progress"),_.settings.filter||(_.settings.filter=function(I){return Math.round(I)})},renderHtml:function(){var I=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+I+'bar-container"><div class="'+I+'bar"></div></div><div class="'+I+'text">0%</div></div>'},postRender:function(){var R=this;return R._super(),R.value(R.settings.value),R},bindStates:function(){function R(I){I=_.settings.filter(I),_.getEl().lastChild.innerHTML=I+"%",_.getEl().firstChild.firstChild.style.width=I+"%"}var _=this;return _.state.on("change:value",function(I){R(I.value)}),R(_.state.get("value")),_._super()}})}),Ne(Ji,[vr,ao,Ei,y],function(W,R,_,I){return W.extend({Mixins:[R],Defaults:{classes:"widget notification"},init:function(x){var T=this;T._super(x),x.text&&T.text(x.text),x.icon&&(T.icon=x.icon),x.color&&(T.color=x.color),x.type&&T.classes.add("notification-"+x.type),x.timeout&&(x.timeout<0||x.timeout>0)&&!x.closeButton?T.closeButton=!1:(T.classes.add("has-close"),T.closeButton=!0),x.progressBar&&(T.progressBar=new _),T.on("click",function(S){-1!=S.target.className.indexOf(T.classPrefix+"close")&&T.close()})},renderHtml:function(){var x=this,T=x.classPrefix,S="",A="",k="",V="";return x.icon&&(S='<i class="'+T+"ico "+T+"i-"+x.icon+'"></i>'),x.color&&(V=' style="background-color: '+x.color+'"'),x.closeButton&&(A='<button type="button" class="'+T+'close" aria-hidden="true">\xd7</button>'),x.progressBar&&(k=x.progressBar.renderHtml()),'<div id="'+x._id+'" class="'+x.classes+'"'+V+' role="presentation">'+S+'<div class="'+T+'notification-inner">'+x.state.get("text")+"</div>"+k+A+"</div>"},postRender:function(){var x=this;return I.setTimeout(function(){x.$el.addClass(x.classPrefix+"in")}),x._super()},bindStates:function(){var x=this;return x.state.on("change:text",function(T){x.getEl().childNodes[1].innerHTML=T.value}),x.progressBar&&x.progressBar.bindStates(),x._super()},close:function(){var x=this;return x.fire("close").isDefaultPrevented()||x.remove(),x},repaint:function(){var T,S;(T=this.getEl().style).left=(S=this._layoutRect).x+"px",T.top=S.y+"px",T.zIndex=65534}})}),Ne(rr,[Ji,y,U],function(W,R,_){return function(I){function x(){if($.length)return $[$.length-1]}function A(){if($.length>0){var te=$.slice(0,1)[0],K=I.inline?I.getElement():I.getContentAreaContainer();if(te.moveRel(K,"tc-tc"),$.length>1)for(var re=1;re<$.length;re++)$[re].moveRel($[re-1].getEl(),"bc-tc")}}var G=this,$=[];G.notifications=$,I.on("remove",function(){for(var te=$.length;te--;)$[te].close()}),I.on("ResizeEditor",A),I.on("ResizeWindow",function T(){R.requestAnimationFrame(function(){(function S(){for(var te=0;te<$.length;te++)$[te].moveTo(0,0)})(),A()})}),G.open=function(te){if(!I.removed){var K;I.editorManager.setActive(I);var re=function k(te,K){if(!function H(te){return!te.progressBar&&!te.timeout}(K))return null;var re=_.grep(te,function(Q){return function V(te,K){return te.type===K.settings.type&&te.text===K.settings.text}(K,Q)});return 0===re.length?null:re[0]}($,te);return null===re?(K=new W(te),$.push(K),te.timeout>0&&(K.timer=setTimeout(function(){K.close()},te.timeout)),K.on("close",function(){var Q=$.length;for(K.timer&&I.getWin().clearTimeout(K.timer);Q--;)$[Q]===K&&$.splice(Q,1);A()}),K.renderTo(),A()):K=re,K}},G.close=function(){x()&&x().close()},G.getNotifications=function(){return $},I.on("SkinLoaded",function(){var te=I.settings.service_message;te&&I.notificationManager.open({text:te,type:"warning",timeout:0,icon:""})})}}),Ne(or,[L],function(W){return{create:function R(I,x,T){for(var S=[];x&&x!=I;x=x.parentNode)S.push(W.nodeIndex(x,T));return S},resolve:function _(I,x){var T,S,A;for(S=I,T=x.length-1;T>=0;T--){if(x[T]>(A=S.childNodes).length-1)return null;S=A[x[T]]}return S}}}),Ne(Hi,[Et,Oe,ue,or,xe,Ae,D,U,y,ce,Mn,ei],function(W,R,_,I,x,T,S,A,k,V,H,G){return function($){function te(Tn,In){try{$.getDoc().execCommand(Tn,!1,In)}catch{}}function K(){return $.getDoc().documentMode||6}function re(Tn){return Tn.isDefaultPrevented()}function Q(Tn){var In,Jt;Tn.dataTransfer&&($.selection.isCollapsed()&&"IMG"==Tn.target.tagName&&nn.select(Tn.target),(In=$.selection.getContent()).length>0&&(Jt=Ri+escape($.id)+","+escape(In),Tn.dataTransfer.setData(Bi,Jt)))}function pe(Tn){var In;return Tn.dataTransfer&&(In=Tn.dataTransfer.getData(Bi))&&In.indexOf(Ri)>=0?(In=In.substr(Ri.length).split(","),{id:unescape(In[0]),html:unescape(In[1])}):null}function Z(Tn){$.queryCommandSupported("mceInsertClipboardContent")?$.execCommand("mceInsertClipboardContent",!1,{content:Tn}):$.execCommand("mceInsertContent",!1,Tn)}function C(){$.shortcuts.add("meta+a",null,"SelectAll")}function ne(){$.on("keydown",function(Tn){if(!re(Tn)&&Tn.keyCode===tt){if(!$.getBody().getElementsByTagName("hr").length)return;if(nn.isCollapsed()&&0===nn.getRng(!0).startOffset){var In=nn.getNode(),Jt=In.previousSibling;if("HR"==In.nodeName)return Dt.remove(In),void Tn.preventDefault();Jt&&Jt.nodeName&&"hr"===Jt.nodeName.toLowerCase()&&(Dt.remove(Jt),Tn.preventDefault())}}})}function ht(){$.on("keydown",function(Tn){if(!re(Tn)&&Tn.keyCode===tt&&nn.isCollapsed()&&0===nn.getRng(!0).startOffset){var In=nn.getNode().previousSibling;if(In&&In.nodeName&&"table"===In.nodeName.toLowerCase())return Tn.preventDefault(),!1}})}function Gn(){$.inline||($.contentStyles.push("body {min-height: 150px}"),$.on("click",function(Tn){var In;if("HTML"==Tn.target.nodeName){if(S.ie>11)return void $.getBody().focus();In=$.selection.getRng(),$.getBody().focus(),$.selection.setRng(In),$.selection.normalize(),$.nodeChanged()}}))}function un(){function Tn(In){var Jt=new G(In.getBody()),xn=In.selection.getRng(),wi=H.fromRangeStart(xn),ui=H.fromRangeEnd(xn),Ni=Jt.prev(wi),Ft=Jt.next(ui);return!In.selection.isCollapsed()&&(!Ni||Ni.isAtStart()&&wi.isEqual(Ni))&&(!Ft||Ft.isAtEnd()&&wi.isEqual(Ft))}$.on("keypress",function(In){!re(In)&&!nn.isCollapsed()&&In.charCode>31&&!W.metaKeyPressed(In)&&Tn($)&&(In.preventDefault(),$.setContent(String.fromCharCode(In.charCode)),$.selection.select($.getBody(),!0),$.selection.collapse(!1),$.nodeChanged())}),$.on("keydown",function(In){var Jt=In.keyCode;re(In)||Jt!=yt&&Jt!=tt||Tn($)&&(In.preventDefault(),$.setContent(""),$.nodeChanged())})}var Zt=A.each,Dn=$.$,tt=W.BACKSPACE,yt=W.DELETE,Dt=$.dom,nn=$.selection,En=$.settings,di=$.parser,vi=$.serializer,yi=S.gecko,hi=S.ie,nr=S.webkit,Ri="data:text/mce-internal,",Bi=hi?"Text":"URL";return function ut(){$.on("keydown",function(Tn){var In,Jt,xn,wi,ui;if(!re(Tn)&&Tn.keyCode==W.BACKSPACE&&(Jt=(In=nn.getRng()).startContainer,xn=In.startOffset,wi=Dt.getRoot(),ui=Jt,In.collapsed&&0===xn)){for(;ui&&ui.parentNode&&ui.parentNode.firstChild==ui&&ui.parentNode!=wi;)ui=ui.parentNode;"BLOCKQUOTE"===ui.tagName&&($.formatter.toggle("blockquote",null,ui),(In=Dt.createRng()).setStart(Jt,0),In.setEnd(Jt,0),nn.setRng(In))}})}(),function z(){function Tn(Jt){var xn=Dt.create("body"),wi=Jt.cloneContents();return xn.appendChild(wi),nn.serializer.serialize(xn,{format:"html"})}$.on("keydown",function(Jt){var wi,ui,xn=Jt.keyCode;if(!re(Jt)&&(xn==yt||xn==tt)){if(wi=$.selection.isCollapsed(),ui=$.getBody(),wi&&!Dt.isEmpty(ui)||!wi&&!function In(Jt){if(!Jt.setStart){if(Jt.item)return!1;var xn=Jt.duplicate();return xn.moveToElementText($.getBody()),R.compareRanges(Jt,xn)}var wi=Tn(Jt),ui=Dt.createRng();return ui.selectNode($.getBody()),wi===Tn(ui)}($.selection.getRng()))return;Jt.preventDefault(),$.setContent(""),ui.firstChild&&Dt.isBlock(ui.firstChild)?$.selection.setCursorLocation(ui.firstChild,0):$.selection.setCursorLocation(ui,0),$.nodeChanged()}})}(),S.windowsPhone||function zt(){$.on("keyup focusin mouseup",function(Tn){65==Tn.keyCode&&W.metaKeyPressed(Tn)||nn.normalize()},!0)}(),nr&&(un(),function Y(){function Tn(Pt){var wn=vt.schema.getBlockElements(),kn=$.getBody();if("BR"!=Pt.nodeName)return!1;for(;Pt!=kn&&!wn[Pt.nodeName];Pt=Pt.parentNode)if(Pt.nextSibling)return!1;return!0}function In(Pt,wn){var kn;for(kn=Pt.nextSibling;kn&&kn!=wn;kn=kn.nextSibling)if((3!=kn.nodeType||0!==Dn.trim(kn.data).length)&&kn!==wn)return!1;return kn===wn}function Jt(Pt,wn,kn){var ii,Xt,Pn;if(vt.isChildOf(Pt,$.getBody()))for(Pn=vt.schema.getNonEmptyElements(),ii=new _(kn||Pt,Pt);Xt=ii[wn?"next":"prev"]();)if(Pn[Xt.nodeName]&&!Tn(Xt)||3==Xt.nodeType&&Xt.data.length>0)return Xt}function Ft(Pt){var wn,kn,ii;(function ui(Pt){var wn=Ut.getRng();if(wn=function wi(Pt,wn){var kn,ii,Xt,Pn,cn,jn;if(!Pt.collapsed)return Pt;if(jn=Pt.startOffset,3==(cn=Pt.startContainer).nodeType)if(wn){if(jn<cn.data.length)return Pt}else if(jn>0)return Pt;kn=R.getNode(cn,jn),Xt=vt.getParent(kn,vt.isBlock),ii=Jt($.getBody(),wn,kn),Pn=vt.getParent(ii,vt.isBlock);var $n=1===cn.nodeType&&jn>cn.childNodes.length-1;if(!kn||!ii)return Pt;if(Pn&&Xt!=Pn)if(wn){if(!In(Xt,Pn))return Pt;1==kn.nodeType?"BR"==kn.nodeName?Pt.setStartBefore(kn):Pt.setStartAfter(kn):Pt.setStart(kn,kn.data.length),1==ii.nodeType?Pt.setEnd(ii,0):Pt.setEndBefore(ii)}else{if(!In(Pn,Xt))return Pt;1==ii.nodeType?"BR"==ii.nodeName?Pt.setStartBefore(ii):Pt.setStartAfter(ii):Pt.setStart(ii,ii.data.length),1==kn.nodeType&&$n?Pt.setEndAfter(kn):Pt.setEndBefore(kn)}return Pt}(wn,Pt),function xn(Pt){var wn,kn,ii,Xt,Pn;if(!Pt.collapsed&&(wn=vt.getParent(R.getNode(Pt.startContainer,Pt.startOffset),vt.isBlock),kn=vt.getParent(R.getNode(Pt.endContainer,Pt.endOffset),vt.isBlock),Pn=$.schema.getTextBlockElements(),wn!=kn&&Pn[wn.nodeName]&&Pn[kn.nodeName]&&"false"!==vt.getContentEditable(wn)&&"false"!==vt.getContentEditable(kn)))return Pt.deleteContents(),ii=Jt(wn,!1),Xt=Jt(kn,!0),vt.isEmpty(kn)||Dn(wn).append(kn.childNodes),Dn(kn).remove(),ii?1==ii.nodeType?"BR"==ii.nodeName?(Pt.setStartBefore(ii),Pt.setEndBefore(ii)):(Pt.setStartAfter(ii),Pt.setEndAfter(ii)):(Pt.setStart(ii,ii.data.length),Pt.setEnd(ii,ii.data.length)):Xt&&(1==Xt.nodeType?(Pt.setStartBefore(Xt),Pt.setEndBefore(Xt)):(Pt.setStart(Xt,0),Pt.setEnd(Xt,0))),Ut.setRng(Pt),!0}(wn))return!0})(Pt)||(A.each($.getBody().getElementsByTagName("*"),function(Xt){"SPAN"==Xt.tagName&&Xt.setAttribute("mce-data-marked",1),!Xt.hasAttribute("data-mce-style")&&Xt.hasAttribute("style")&&$.dom.setAttrib(Xt,"style",$.dom.getAttrib(Xt,"style"))}),(wn=new sn(function(){})).observe($.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),$.getDoc().execCommand(Pt?"ForwardDelete":"Delete",!1,null),kn=$.selection.getRng(),ii=kn.startContainer.parentNode,A.each(wn.takeRecords(),function(Xt){if(vt.isChildOf(Xt.target,$.getBody())){if("style"==Xt.attributeName){var Pn=Xt.target.getAttribute("data-mce-style");Pn?Xt.target.setAttribute("style",Pn):Xt.target.removeAttribute("style")}A.each(Xt.addedNodes,function(cn){var jn,$n;"SPAN"!=cn.nodeName||cn.getAttribute("mce-data-marked")||(cn==ii&&(jn=kn.startOffset,$n=cn.firstChild),vt.remove(cn,!0),$n&&(kn.setStart($n,jn),kn.setEnd($n,jn),$.selection.setRng(kn)))})}}),wn.disconnect(),A.each($.dom.select("span[mce-data-marked]"),function(Xt){Xt.removeAttribute("mce-data-marked")}))}function qt(Pt){$.undoManager.transact(function(){Ft(Pt)})}var Ln,dn,je=$.getDoc(),vt=$.dom,Ut=$.selection,sn=window.MutationObserver;sn||(Ln=!0,sn=function(){function Pt(Xt){var Pn=Xt.relatedNode||Xt.target;kn.push({target:Pn,addedNodes:[Pn]})}function wn(Xt){kn.push({target:Xt.relatedNode||Xt.target,attributeName:Xt.attrName})}var ii,kn=[];this.observe=function(Xt){(ii=Xt).addEventListener("DOMSubtreeModified",Pt,!1),ii.addEventListener("DOMNodeInsertedIntoDocument",Pt,!1),ii.addEventListener("DOMNodeInserted",Pt,!1),ii.addEventListener("DOMAttrModified",wn,!1)},this.disconnect=function(){ii.removeEventListener("DOMSubtreeModified",Pt,!1),ii.removeEventListener("DOMNodeInsertedIntoDocument",Pt,!1),ii.removeEventListener("DOMNodeInserted",Pt,!1),ii.removeEventListener("DOMAttrModified",wn,!1)},this.takeRecords=function(){return kn}}),$.on("keydown",function(Pt){var wn=Pt.keyCode==yt,kn=Pt.ctrlKey||Pt.metaKey;if(!re(Pt)&&(wn||Pt.keyCode==tt)){var ii=$.selection.getRng(),Xt=ii.startContainer,Pn=ii.startOffset;if(wn&&Pt.shiftKey)return;if(function Ni(Pt,wn){function kn(sr,zi){return Di=Dn(zi).parents().filter(function(br,Vr){return!!$.schema.getTextInlineElements()[Vr.nodeName]}),cn=sr.cloneNode(!1),(Di=A.map(Di,function(br){return br=br.cloneNode(!1),cn.hasChildNodes()&&br.appendChild(cn.firstChild),cn.appendChild(br),cn.appendChild(br),br})).length?(oi=vt.create("br"),Di[0].appendChild(oi),vt.replace(cn,sr),wn.setStartBefore(oi),wn.setEndBefore(oi),$.selection.setRng(wn),oi):null}function ii(sr){return sr&&$.schema.getTextBlockElements()[sr.tagName]}var Xt,Pn,cn,jn,$n,Yn,Kn,oi,Di;if(wn.collapsed&&(Kn=wn.startOffset,ii(Pn=vt.getParent(Yn=wn.startContainer,vt.isBlock))))if(1==Yn.nodeType){if((Yn=Yn.childNodes[Kn])&&"BR"!=Yn.tagName)return;if($n=Pt?Pn.nextSibling:Pn.previousSibling,vt.isEmpty(Pn)&&ii($n)&&vt.isEmpty($n)&&kn(Pn,Yn))return vt.remove($n),!0}else if(3==Yn.nodeType){if(Xt=I.create(Pn,Yn),jn=Pn.cloneNode(!0),Yn=I.resolve(jn,Xt),Pt){if(Kn>=Yn.data.length)return;Yn.deleteData(Kn,1)}else{if(Kn<=0)return;Yn.deleteData(Kn-1,1)}if(vt.isEmpty(jn))return kn(Pn,Yn)}}(wn,ii))return void Pt.preventDefault();if(!kn&&ii.collapsed&&3==Xt.nodeType&&(wn?Pn<Xt.data.length:Pn>0))return;Pt.preventDefault(),kn&&$.selection.getSel().modify("extend",wn?"forward":"backward",Pt.metaKey?"lineboundary":"word"),Ft(wn)}}),$.on("keypress",function(Pt){var wn,kn,ii,Xt,Pn,cn;!re(Pt)&&!Ut.isCollapsed()&&Pt.charCode>31&&!W.metaKeyPressed(Pt)&&(wn=$.selection.getRng(),cn=String.fromCharCode(Pt.charCode),Pt.preventDefault(),kn=Dn(wn.startContainer).parents().filter(function(jn,$n){return!!$.schema.getTextInlineElements()[$n.nodeName]}),Ft(!0),(kn=kn.filter(function(jn,$n){return!Dn.contains($.getBody(),$n)})).length?(ii=vt.createFragment(),kn.each(function(jn,$n){$n=$n.cloneNode(!1),ii.hasChildNodes()?($n.appendChild(ii.firstChild),ii.appendChild($n)):(Pn=$n,ii.appendChild($n)),ii.appendChild($n)}),Pn.appendChild($.getDoc().createTextNode(cn)),Xt=vt.getParent(wn.startContainer,vt.isBlock),vt.isEmpty(Xt)?Dn(Xt).empty().append(ii):wn.insertNode(ii),wn.setStart(Pn.firstChild,1),wn.setEnd(Pn.firstChild,1),$.selection.setRng(wn)):$.selection.setContent(cn))}),$.addCommand("Delete",function(){Ft()}),$.addCommand("ForwardDelete",function(){Ft(!0)}),Ln||($.on("dragstart",function(Pt){dn=Ut.getRng(),Q(Pt)}),$.on("drop",function(Pt){if(!re(Pt)){var wn=pe(Pt);wn&&(Pt.preventDefault(),k.setEditorTimeout($,function(){var kn=R.getCaretRangeFromPoint(Pt.x,Pt.y,je);dn&&(Ut.setRng(dn),dn=null,qt()),Ut.setRng(kn),Z(wn.html)}))}}),$.on("cut",function(Pt){re(Pt)||!Pt.clipboardData||$.selection.isCollapsed()||(Pt.preventDefault(),Pt.clipboardData.clearData(),Pt.clipboardData.setData("text/html",$.selection.getContent()),Pt.clipboardData.setData("text/plain",$.selection.getContent({format:"text"})),k.setEditorTimeout($,function(){qt(!0)}))}))}(),function E(){$.settings.content_editable||Dt.bind($.getDoc(),"mousedown mouseup",function(Tn){var In;if(Tn.target==$.getDoc().documentElement)if(In=nn.getRng(),$.getBody().focus(),"mousedown"==Tn.type){if(V.isCaretContainer(In.startContainer))return;nn.placeCaretAt(Tn.clientX,Tn.clientY)}else nn.setRng(In)})}(),function se(){$.on("click",function(Tn){var In=Tn.target;/^(IMG|HR)$/.test(In.nodeName)&&"false"!==Dt.getContentEditableParent(In)&&(Tn.preventDefault(),nn.select(In),$.nodeChanged()),"A"==In.nodeName&&Dt.hasClass(In,"mce-item-anchor")&&(Tn.preventDefault(),nn.select(In))})}(),function ft(){En.forced_root_block&&$.on("init",function(){te("DefaultParagraphSeparator",En.forced_root_block)})}(),function Ye(){$.on("init",function(){$.dom.bind($.getBody(),"submit",function(Tn){Tn.preventDefault()})})}(),ht(),function He(){di.addNodeFilter("br",function(Tn){for(var In=Tn.length;In--;)"Apple-interchange-newline"==Tn[In].attr("class")&&Tn[In].remove()})}(),S.iOS?(function On(){$.inline||$.on("keydown",function(){document.activeElement==document.body&&$.getWin().focus()})}(),Gn(),function Bt(){$.on("click",function(Tn){var In=Tn.target;do{if("A"===In.tagName)return void Tn.preventDefault()}while(In=In.parentNode)}),$.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):C()),hi&&S.ie<11&&(ne(),function Be(){document.body.setAttribute("role","application")}(),function ot(){K()>7||(te("RespectVisibilityInDesign",!0),$.contentStyles.push(".mceHideBrInPre pre br {display: none}"),Dt.addClass($.getBody(),"mceHideBrInPre"),di.addNodeFilter("pre",function(Tn){for(var Jt,xn,wi,ui,In=Tn.length;In--;)for(xn=(Jt=Tn[In].getAll("br")).length;xn--;)(ui=(wi=Jt[xn]).prev)&&3===ui.type&&"\n"!=ui.value.charAt(ui.value-1)?ui.value+="\n":wi.parent.insert(new x("#text",3),wi,!0).value="\n"}),vi.addNodeFilter("pre",function(Tn){for(var Jt,xn,ui,In=Tn.length;In--;)for(xn=(Jt=Tn[In].getAll("br")).length;xn--;)(ui=Jt[xn].prev)&&3==ui.type&&(ui.value=ui.value.replace(/\r?\n$/,""))}))}(),function rt(){Dt.bind($.getBody(),"mouseup",function(){var Tn,In=nn.getNode();"IMG"==In.nodeName&&((Tn=Dt.getStyle(In,"width"))&&(Dt.setAttrib(In,"width",Tn.replace(/[^0-9%]+/g,"")),Dt.setStyle(In,"width","")),(Tn=Dt.getStyle(In,"height"))&&(Dt.setAttrib(In,"height",Tn.replace(/[^0-9%]+/g,"")),Dt.setStyle(In,"height","")))})}(),function Pe(){$.on("keydown",function(Tn){var In;re(Tn)||Tn.keyCode!=tt||(In=$.getDoc().selection.createRange())&&In.item&&(Tn.preventDefault(),$.undoManager.beforeChange(),Dt.remove(In.item(0)),$.undoManager.add())})}(),function $e(){var Tn;K()>=10&&(Tn="",Zt("p div h1 h2 h3 h4 h5 h6".split(" "),function(In,Jt){Tn+=(Jt>0?",":"")+In+":empty"}),$.contentStyles.push(Tn+"{padding-right: 1px !important}"))}(),function ct(){K()<9&&(di.addNodeFilter("noscript",function(Tn){for(var Jt,xn,In=Tn.length;In--;)(xn=(Jt=Tn[In]).firstChild)&&Jt.attr("data-mce-innertext",xn.value)}),vi.addNodeFilter("noscript",function(Tn){for(var Jt,xn,wi,In=Tn.length;In--;)Jt=Tn[In],(xn=Tn[In].firstChild)?xn.value=T.decode(xn.value):(wi=Jt.attributes.map["data-mce-innertext"])&&(Jt.attr("data-mce-innertext",null),(xn=new x("#text",3)).value=wi,xn.raw=!0,Jt.append(xn))}))}(),function Mt(){function Tn(qt,je){var vt=wi.createTextRange();try{vt.moveToPoint(qt,je)}catch{vt=null}return vt}function In(qt){var je;qt.button?(je=Tn(qt.x,qt.y))&&(je.compareEndPoints("StartToStart",Ni)>0?je.setEndPoint("StartToStart",Ni):je.setEndPoint("EndToEnd",Ni),je.select()):Jt()}function Jt(){var qt=xn.selection.createRange();Ni&&!qt.item&&0===qt.compareEndPoints("StartToEnd",qt)&&Ni.select(),Dt.unbind(xn,"mouseup",Jt),Dt.unbind(xn,"mousemove",In),Ni=ui=0}var ui,Ni,Ft,xn=Dt.doc,wi=xn.body;xn.documentElement.unselectable=!0,Dt.bind(xn,"mousedown contextmenu",function(qt){if("HTML"===qt.target.nodeName){if(ui&&Jt(),(Ft=xn.documentElement).scrollHeight>Ft.clientHeight)return;ui=1,(Ni=Tn(qt.x,qt.y))&&(Dt.bind(xn,"mouseup",Jt),Dt.bind(xn,"mousemove",In),Dt.getRoot().focus(),Ni.select())}})}()),S.ie>=11&&(Gn(),ht()),S.ie&&(C(),function qn(){te("AutoUrlDetect",!1)}(),function St(){$.on("dragstart",function(Tn){Q(Tn)}),$.on("drop",function(Tn){if(!re(Tn)){var In=pe(Tn);if(In&&In.id!=$.id){Tn.preventDefault();var Jt=R.getCaretRangeFromPoint(Tn.x,Tn.y,$.getDoc());nn.setRng(Jt),Z(In.html)}}})}()),yi&&(un(),ne(),function me(){window.Range.prototype.getClientRects||$.on("mousedown",function(Tn){if(!re(Tn)&&"HTML"===Tn.target.nodeName){var In=$.getBody();In.blur(),k.setEditorTimeout($,function(){In.focus()})}})}(),function Se(){function Tn(){var Jt=Dt.getAttribs(nn.getStart().cloneNode(!1));return function(){var xn=nn.getStart();xn!==$.getBody()&&(Dt.setAttrib(xn,"style",null),Zt(Jt,function(wi){xn.setAttributeNode(wi.cloneNode(!0))}))}}function In(){return!nn.isCollapsed()&&Dt.getParent(nn.getStart(),Dt.isBlock)!=Dt.getParent(nn.getEnd(),Dt.isBlock)}$.on("keypress",function(Jt){var xn;if(!re(Jt)&&(8==Jt.keyCode||46==Jt.keyCode)&&In())return xn=Tn(),$.getDoc().execCommand("delete",!1,null),xn(),Jt.preventDefault(),!1}),Dt.bind($.getDoc(),"cut",function(Jt){var xn;!re(Jt)&&In()&&(xn=Tn(),k.setEditorTimeout($,function(){xn()}))})}(),function lt(){En.readonly||$.on("BeforeExecCommand MouseDown",function Tn(){te("StyleWithCSS",!1),te("enableInlineTableEditing",!1),En.object_resizing||te("enableObjectResizing",!1)})}(),function _t(){$.on("SetContent ExecCommand",function(In){"setcontent"!=In.type&&"mceInsertLink"!==In.command||function Tn(){Zt(Dt.select("a"),function(In){var Jt=In.parentNode,xn=Dt.getRoot();if(Jt.lastChild===In){for(;Jt&&!Dt.isBlock(Jt);){if(Jt.parentNode.lastChild!==Jt||Jt===xn)return;Jt=Jt.parentNode}Dt.add(Jt,"br",{"data-mce-bogus":1})}})}()})}(),function yn(){$.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function Xn(){S.mac&&$.on("keydown",function(Tn){!W.metaKeyPressed(Tn)||Tn.shiftKey||37!=Tn.keyCode&&39!=Tn.keyCode||(Tn.preventDefault(),$.selection.getSel().modify("move",37==Tn.keyCode?"backward":"forward","lineboundary"))})}(),ht()),{refreshContentEditable:function jt(){},isHidden:function on(){var Tn;return yi?!(Tn=$.selection.getSel())||!Tn.rangeCount||0===Tn.rangeCount:0}}}}),Ne(Fi,[si,L,U],function(W,R,_){function I(k,V){return"selectionchange"==V?k.getDoc():!k.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(V)?k.getDoc().documentElement:k.settings.event_root?(k.eventRoot||(k.eventRoot=T.select(k.settings.event_root)[0]),k.eventRoot):k.getBody()}function x(k,V){function H(te){return!te.hidden&&!te.readonly}var $,G=I(k,V);if(k.delegates||(k.delegates={}),!k.delegates[V])if(k.settings.event_root){if(S||(S={},k.editorManager.on("removeEditor",function(){var te;if(!k.editorManager.activeEditor&&S){for(te in S)k.dom.unbind(I(k,te));S=null}})),S[V])return;S[V]=$=function(te){for(var K=te.target,re=k.editorManager.editors,Q=re.length;Q--;){var pe=re[Q].getBody();(pe===K||T.isChildOf(K,pe))&&H(re[Q])&&re[Q].fire(V,te)}},T.bind(G,V,$)}else T.bind(G,V,$=function(te){H(k)&&k.fire(V,te)}),k.delegates[V]=$}var S,T=R.DOM,A={bindPendingEventDelegates:function(){var k=this;_.each(k._pendingNativeEvents,function(V){x(k,V)})},toggleNativeEvent:function(k,V){var H=this;"focus"!=k&&"blur"!=k&&(V?H.initialized?x(H,k):H._pendingNativeEvents?H._pendingNativeEvents.push(k):H._pendingNativeEvents=[k]:H.initialized&&(H.dom.unbind(I(H,k),k,H.delegates[k]),delete H.delegates[k]))},unbindAllNativeEvents:function(){var V,k=this;if(k.delegates){for(V in k.delegates)k.dom.unbind(I(k,V),V,k.delegates[V]);delete k.delegates}k.inline||(k.getBody().onload=null,k.dom.unbind(k.getWin()),k.dom.unbind(k.getDoc())),k.dom.unbind(k.getBody()),k.dom.unbind(k.getContainer())}};return _.extend({},W,A)}),Ne(yr,[],function(){function W(x,T,S){try{x.getDoc().execCommand(T,!1,S)}catch{}}function _(x,T){x._clickBlocker&&(x._clickBlocker.unbind(),x._clickBlocker=null),T?(x._clickBlocker=function R(x){var T,S;return T=x.getBody(),S=function(A){x.dom.getParents(A.target,"a").length>0&&A.preventDefault()},x.dom.bind(T,"click",S),{unbind:function(){x.dom.unbind(T,"click",S)}}}(x),x.selection.controlSelection.hideResizeRect(),x.readonly=!0,x.getBody().contentEditable=!1):(x.readonly=!1,x.getBody().contentEditable=!0,W(x,"StyleWithCSS",!1),W(x,"enableInlineTableEditing",!1),W(x,"enableObjectResizing",!1),x.focus(),x.nodeChanged())}return{setMode:function I(x,T){T!=(x.readonly?"readonly":"design")&&(x.initialized?_(x,"readonly"==T):x.on("init",function(){_(x,"readonly"==T)}),x.fire("SwitchMode",{mode:T}))}}}),Ne(ir,[U,D],function(W,R){var _=W.each,I=W.explode,x={f9:120,f10:121,f11:122},T=W.makeMap("alt,ctrl,shift,meta,access");return function(S){function A(Q){var pe,Z,Y={};for(Z in _(I(Q,"+"),function(z){z in T?Y[z]=!0:/^[0-9]{2,}$/.test(z)?Y.keyCode=parseInt(z,10):(Y.charCode=z.charCodeAt(0),Y.keyCode=x[z]||z.toUpperCase().charCodeAt(0))}),pe=[Y.keyCode],T)Y[Z]?pe.push(Z):Y[Z]=!1;return Y.id=pe.join(","),Y.access&&(Y.alt=!0,R.mac?Y.ctrl=!0:Y.shift=!0),Y.meta&&(R.mac?Y.meta=!0:(Y.ctrl=!0,Y.meta=!1)),Y}function k(Q,pe,Z,Y){var z;return(z=W.map(I(Q,">"),A))[z.length-1]=W.extend(z[z.length-1],{func:Z,scope:Y||S}),W.extend(z[0],{desc:S.translate(pe),subpatterns:z.slice(1)})}function G(Q,pe){return!!pe&&pe.ctrl==Q.ctrlKey&&pe.meta==Q.metaKey&&pe.alt==Q.altKey&&pe.shift==Q.shiftKey&&!!(Q.keyCode==pe.keyCode||Q.charCode&&Q.charCode==pe.charCode)&&(Q.preventDefault(),!0)}function $(Q){return Q.func?Q.func.call(Q.scope):null}var K={},re=[];S.on("keyup keypress keydown",function(Q){!function V(Q){return Q.altKey||Q.ctrlKey||Q.metaKey}(Q)&&!function H(Q){return"keydown"===Q.type&&Q.keyCode>=112&&Q.keyCode<=123}(Q)||Q.isDefaultPrevented()||(_(K,function(pe){if(G(Q,pe))return re=pe.subpatterns.slice(0),"keydown"==Q.type&&$(pe),!0}),G(Q,re[0])&&(1===re.length&&"keydown"==Q.type&&$(re[0]),re.shift()))}),this.add=function(Q,pe,Z,Y){var z;return z=Z,"string"==typeof Z?Z=function(){S.execCommand(z,!1,null)}:W.isArray(z)&&(Z=function(){S.execCommand(z[0],z[1],z[2])}),_(I(W.trim(Q.toLowerCase())),function(C){var E=k(C,pe,Z,Y);K[E.id]=E}),!0},this.remove=function(Q){var pe=k(Q);return!!K[pe.id]&&(delete K[pe.id],!0)}}}),Ne(_r,[m,U,Tt],function(W,R,_){return function(I,x){function T(Y){var z;return z={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[Y.blob().type.toLowerCase()]||"dat",Y.filename()+"."+z}function k(Y,z,C,E){var ne,me;(ne=new XMLHttpRequest).open("POST",x.url),ne.withCredentials=x.credentials,ne.upload.onprogress=function(se){E(se.loaded/se.total*100)},ne.onerror=function(){C("Image upload failed due to a XHR Transport error. Code: "+ne.status)},ne.onload=function(){var se;return 200!=ne.status?void C("HTTP Error: "+ne.status):(se=JSON.parse(ne.responseText))&&"string"==typeof se.location?void z(function S(Y,z){return Y?Y.replace(/\/$/,"")+"/"+z.replace(/^\//,""):z}(x.basePath,se.location)):void C("Invalid JSON: "+ne.responseText)},(me=new FormData).append("file",Y.blob(),Y.filename()),ne.send(me)}function H(Y,z){return{url:z,blobInfo:Y,status:!0}}function G(Y,z){return{url:"",blobInfo:Y,status:!1,error:z}}function $(Y,z){R.each(Z[Y],function(C){C(z)}),delete Z[Y]}function Q(Y,z){return Y=R.grep(Y,function(C){return!I.isUploaded(C.blobUri())}),W.all(R.map(Y,function(C){return I.isPending(C.blobUri())?function re(Y){var z=Y.blobUri();return new W(function(C){Z[z]=Z[z]||[],Z[z].push(C)})}(C):function te(Y,z,C){return I.markPending(Y.blobUri()),new W(function(E){var ne,me,se=function(){};try{var Se=function(){ne&&(ne.close(),me=se)};me=function(ot){ot<0||ot>100||(ne||(ne=C()),ne.progressBar.value(ot))},z(function A(Y){return{id:Y.id,blob:Y.blob,base64:Y.base64,filename:_.constant(T(Y))}}(Y),function(ot){Se(),I.markUploaded(Y.blobUri(),ot),$(Y.blobUri(),H(Y,ot)),E(H(Y,ot))},function(ot){Se(),I.removeFailed(Y.blobUri()),$(Y.blobUri(),G(Y,ot)),E(G(Y,ot))},me)}catch(ot){E(G(Y,ot.message))}})}(C,x.handler,z)}))}var Z={};return x=R.extend({credentials:!1,handler:k},x),{upload:function pe(Y,z){return!x.url&&function K(Y){return Y===k}(x.handler)?function V(){return new W(function(Y){Y([])})}():Q(Y,z)}}}}),Ne(Ur,[m],function(W){function _(S){var A,k;return S=decodeURIComponent(S).split(","),(k=/data:([^;]+)/.exec(S[0]))&&(A=k[1]),{type:A,data:S[1]}}return{uriToBlob:function x(S){return 0===S.indexOf("blob:")?function R(S){return new W(function(A){var k=new XMLHttpRequest;k.open("GET",S,!0),k.responseType="blob",k.onload=function(){200==this.status&&A(this.response)},k.send()})}(S):0===S.indexOf("data:")?function I(S){return new W(function(A){var k,V,H;S=_(S);try{k=atob(S.data)}catch{return void A(new Blob([]))}for(V=new Uint8Array(k.length),H=0;H<V.length;H++)V[H]=k.charCodeAt(H);A(new Blob([V],{type:S.type}))})}(S):null},blobToDataUri:function T(S){return new W(function(A){var k=new FileReader;k.onloadend=function(){A(k.result)},k.readAsDataURL(S)})},parseDataUri:_}}),Ne(Ir,[m,O,Tt,Ur,D],function(W,R,_,I,x){var T=0,S=function(A){return(A||"blobid")+T++};return function(A,k){var H={};return{findAll:function V(G,$){var K,re;return $||($=_.constant(!0)),K=R.filter(G.getElementsByTagName("img"),function(Q){var pe=Q.src;return!!x.fileApi&&!Q.hasAttribute("data-mce-bogus")&&!Q.hasAttribute("data-mce-placeholder")&&!(!pe||pe==x.transparentSrc)&&(0===pe.indexOf("blob:")?!A.isUploaded(pe):0===pe.indexOf("data:")&&$(Q))}),re=R.map(K,function(Q){var pe;return H[Q.src]?new W(function(Z){H[Q.src].then(function(Y){Z({image:Q,blobInfo:Y.blobInfo})})}):(pe=new W(function(Z){!function te(Q,pe){var Z,Y;0===Q.src.indexOf("blob:")?(Y=k.getByUri(Q.src))?pe({image:Q,blobInfo:Y}):I.uriToBlob(Q.src).then(function(z){I.blobToDataUri(z).then(function(C){Z=I.parseDataUri(C).data,Y=k.create(S(),z,Z),k.add(Y),pe({image:Q,blobInfo:Y})})}):(Z=I.parseDataUri(Q.src).data,(Y=k.findFirst(function(z){return z.base64()===Z}))?pe({image:Q,blobInfo:Y}):I.uriToBlob(Q.src).then(function(z){Y=k.create(S(),z,Z),k.add(Y),pe({image:Q,blobInfo:Y})}))}(Q,Z)}).then(function(Z){return delete H[Z.image.src],Z}).catch(function(Z){return delete H[Q.src],Z}),H[Q.src]=pe,pe)}),W.all(re)}}}}),Ne(kr,[O,Tt],function(W,R){return function(){function x(G){return T(function($){return $.id()===G})}function T(G){return W.filter(V,G)[0]}var V=[],H=R.constant;return{create:function _(G,$,te,K){return{id:H(G),filename:H(K||G),blob:H($),base64:H(te),blobUri:H(URL.createObjectURL($))}},add:function I(G){x(G.id())||V.push(G)},get:x,getByUri:function S(G){return T(function($){return $.blobUri()==G})},findFirst:T,removeByUri:function A(G){V=W.filter(V,function($){return $.blobUri()!==G||(URL.revokeObjectURL($.blobUri()),!1)})},destroy:function k(){W.each(V,function(G){URL.revokeObjectURL(G.blobUri())}),V=[]}}}}),Ne(Ci,[],function(){return function(){function W($,te){return{status:$,resultUri:te}}function R($){return $ in G}var G={};return{hasBlobUri:R,getResultUri:function _($){var te=G[$];return te?te.resultUri:null},isPending:function I($){return!!R($)&&1===G[$].status},isUploaded:function x($){return!!R($)&&2===G[$].status},markPending:function T($){G[$]=W(1,null)},markUploaded:function S($,te){G[$]=W(2,te)},removeFailed:function A($){delete G[$]},destroy:function k(){G={}}}}}),Ne(fr,[ye],function(W){var R=W.PluginManager,x=function(k,V){k.notificationManager.open({type:"error",text:V})},T=function(k,V){k._skinLoaded?x(k,V):k.on("SkinLoaded",function(){x(k,V)})};return{pluginLoadError:function(k,V){T(k,function(k,V){var H=function(k,V){for(var H in R.urls)if(R.urls[H]+"/plugin"+V+".js"===k)return H;return null}(V,k.suffix);return H?"Failed to load plugin: "+H+" from url "+V:"Failed to load plugin url: "+V}(k,V))},uploadError:function(k,V){T(k,"Failed to upload image: "+V)}}}),Ne(so,[O,_r,Ir,kr,Ci,fr],function(W,R,_,I,x,T){return function(S){function A(se){return function(Se){return S.selection?se(Se):[]}}function V(se,Se,Be){var ht=0;do{-1!==(ht=se.indexOf(Se,ht))&&(se=se.substring(0,ht)+Be+se.substr(ht+Se.length),ht+=Be.length-Se.length+1)}while(-1!==ht);return se}function H(se,Se,Be){return se=V(se,'src="'+Se+'"','src="'+Be+'"'),V(se,'data-mce-src="'+Se+'"','data-mce-src="'+Be+'"')}function G(se,Se){W.each(S.undoManager.data,function(Be){"fragmented"===Be.type?Be.fragments=W.map(Be.fragments,function(ht){return H(ht,se,Se)}):Be.content=H(Be.content,se,Se)})}function $(){return S.notificationManager.open({text:S.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function K(se){return C||(C=new R(me,{url:ne.images_upload_url,basePath:ne.images_upload_base_path,credentials:ne.images_upload_credentials,handler:ne.images_upload_handler})),pe().then(A(function(Se){var Be;return Be=W.map(Se,function(ht){return ht.blobInfo}),C.upload(Be,$).then(A(function(ht){return ht=W.map(ht,function(ot,rt){var ut=Se[rt].image;return ot.status&&!1!==S.settings.images_replace_blob_uris?function te(se,Se){z.removeByUri(se.src),G(se.src,Se),S.$(se).attr({src:ne.images_reuse_filename?Se+"?"+(new Date).getTime():Se,"data-mce-src":S.convertURL(Se,"src")})}(ut,ot.url):ot.error&&T.uploadError(S,ot.error),{element:ut,status:ot.status}}),se&&se(ht),ht}))}))}function re(se){if(!1!==ne.automatic_uploads)return K(se)}function Q(se){return!ne.images_dataimg_filter||ne.images_dataimg_filter(se)}function pe(){return E||(E=new _(me,z)),E.findAll(S.getBody(),Q).then(A(function(se){return W.each(se,function(Se){G(Se.image.src,Se.blobInfo.blobUri()),Se.image.src=Se.blobInfo.blobUri(),Se.image.removeAttribute("data-mce-src")}),se}))}function Y(se){return se.replace(/src="(blob:[^"]+)"/g,function(Se,Be){var ht=me.getResultUri(Be);if(ht)return'src="'+ht+'"';var ot=z.getByUri(Be);return ot||(ot=W.reduce(S.editorManager.editors,function(rt,ut){return rt||ut.editorUpload.blobCache.getByUri(Be)},null)),ot?'src="data:'+ot.blob().type+";base64,"+ot.base64()+'"':Se})}var C,E,z=new I,ne=S.settings,me=new x;return S.on("setContent",function(){!1!==S.settings.automatic_uploads?re():pe()}),S.on("RawSaveContent",function(se){se.content=Y(se.content)}),S.on("getContent",function(se){se.source_view||"raw"==se.format||(se.content=Y(se.content))}),S.on("PostRender",function(){S.parser.addNodeFilter("img",function(se){W.each(se,function(Se){var Be=Se.attr("src");if(!z.getByUri(Be)){var ht=me.getResultUri(Be);ht&&Se.attr("src",ht)}})})}),{blobCache:z,uploadImages:K,uploadImagesAuto:re,scanForImages:pe,destroy:function Z(){z.destroy(),me.destroy(),E=C=null}}}}),Ne(yo,[ce,Mn,Te,Oe,oe,en,y],function(W,R,_,I,x,T,S){var A=_.isContentEditableFalse;return function(k,V){function te(){(function G(){var z,C,E,ne,me;for(z=x("*[contentEditable=false]",k),ne=0;ne<z.length;ne++)W.endsWithCaretContainer(E=(C=z[ne]).previousSibling)&&(1==(me=E.data).length?E.parentNode.removeChild(E):E.deleteData(me.length-1,1)),W.startsWithCaretContainer(E=C.nextSibling)&&(1==(me=E.data).length?E.parentNode.removeChild(E):E.deleteData(0,1))})(),Y&&(W.remove(Y),Y=null),Z&&(Z.remove(),Z=null),clearInterval(pe)}var pe,Z,Y;return{show:function $(z,C){var E,ne;return te(),V(C)?(Y=W.insertBlock("p",C,z),E=function H(z,C){var ne,me,se,Se,Be,E=T.collapse(z.getBoundingClientRect(),C);return"BODY"==k.tagName?(ne=k.ownerDocument.documentElement,me=k.scrollLeft||ne.scrollLeft,se=k.scrollTop||ne.scrollTop):(Be=k.getBoundingClientRect(),me=k.scrollLeft-Be.left,se=k.scrollTop-Be.top),E.left+=me,E.right+=me,E.top+=se,E.bottom+=se,E.width=1,(Se=z.offsetWidth-z.clientWidth)>0&&(C&&(Se*=-1),E.left+=Se,E.right+=Se),E}(C,z),x(Y).css("top",E.top),Z=x('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(E).appendTo(k),z&&Z.addClass("mce-visual-caret-before"),function K(){pe=S.setInterval(function(){x("div.mce-visual-caret",k).toggleClass("mce-visual-caret-hidden")},500)}(),(ne=C.ownerDocument.createRange()).setStart(Y,0),ne.setEnd(Y,0),ne):(Y=W.insertInline(C,z),ne=C.ownerDocument.createRange(),A(Y.nextSibling)?(ne.setStart(Y,0),ne.setEnd(Y,0)):(ne.setStart(Y,1),ne.setEnd(Y,1)),ne)},hide:te,getCss:function Q(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function re(){S.clearInterval(pe)}}}}),Ne(po,[O,Te,en],function(W,R,_){return{getClientRects:function I(x){function T(A){return W.map(A,function(k){return(k=_.clone(k)).node=x,k})}if(W.isArray(x))return W.reduce(x,function(A,k){return A.concat(I(k))},[]);if(R.isElement(x))return T(x.getClientRects());if(R.isText(x)){var S=x.ownerDocument.createRange();return S.setStart(x,0),S.setEnd(x,x.data.length),T(S.getClientRects())}}}}),Ne(Qr,[Tt,O,po,Nt,Nn,ei,Mn,en],function(W,R,_,I,x,T,S,A){function V(Q,pe,Z,Y,z,C){function E(Be){var ht,ot,rt;for(rt=_.getClientRects(Be),-1==Q&&(rt=rt.reverse()),ht=0;ht<rt.length;ht++)if(!Z(ot=rt[ht],Se)){if(se.length>0&&pe(ot,R.last(se))&&ne++,ot.line=ne,z(ot))return!0;se.push(ot)}}var me,Se,ne=0,se=[];return(Se=R.last(C.getClientRects()))&&(E(me=C.getNode()),function k(Q,pe,Z,Y){for(;Y=x.findNode(Y,Q,I.isEditableCaretCandidate,pe);)if(Z(Y))return}(Q,Y,E,me)),se}var te=W.curry;return{upUntil:te(V,-1,A.isAbove,A.isBelow),downUntil:te(V,1,A.isBelow,A.isAbove),positionsUntil:function $(Q,pe,Z,Y){function z(rt){return R.last(rt.getClientRects())}var E,ne,me,se,ht,ot,C=new T(pe),Se=[],Be=0;1==Q?(E=C.next,ne=A.isBelow,me=A.isAbove,se=S.after(Y)):(E=C.prev,ne=A.isAbove,me=A.isBelow,se=S.before(Y)),ot=z(se);do{if(se.isVisible()&&!me(ht=z(se),ot)){if(Se.length>0&&ne(ht,R.last(Se))&&Be++,(ht=A.clone(ht)).position=se,ht.line=Be,Z(ht))return Se;Se.push(ht)}}while(se=E(se));return Se},isAboveLine:te(function H(Q,pe){return pe.line>Q}),isLine:te(function G(Q,pe){return pe.line===Q})}}),Ne(Co,[Tt,O,Te,po,en,Nn,Nt],function(W,R,_,I,x,T,S){function A(Z,Y){return Math.abs(Z.left-Y)}function k(Z,Y){return Math.abs(Z.right-Y)}function V(Z,Y){function z(C,E){return C>=E.left&&C<=E.right}return R.reduce(Z,function(C,E){var ne,me;return ne=Math.min(A(C,Y),k(C,Y)),me=Math.min(A(E,Y),k(E,Y)),z(Y,E)?E:z(Y,C)?C:me==ne&&re(E.node)||me<ne?E:C})}function H(Z,Y,z,C){for(;C=Q(C,Z,S.isEditableCaretCandidate,Y);)if(z(C))return}function G(Z,Y){function z(E,ne){var me;return me=R.filter(I.getClientRects(ne),function(se){return!E(se,Y)}),C=C.concat(me),0===me.length}var C=[];return C.push(Y),H(-1,Z,pe(z,x.isAbove),Y.node),H(1,Z,pe(z,x.isBelow),Y.node),C}var re=_.isContentEditableFalse,Q=T.findNode,pe=W.curry;return{findClosestClientRect:V,findLineNodeRects:G,closestCaret:function K(Z,Y,z){var C,E;return C=I.getClientRects(function $(Z){return R.filter(R.toArray(Z.getElementsByTagName("*")),re)}(Z)),(E=V(C=R.filter(C,function(ne){return z>=ne.top&&z<=ne.bottom}),Y))&&(E=V(G(Z,E),Y))&&re(E.node)?function te(Z,Y){return{node:Z.node,before:A(Z,Y)<k(Z,Y)}}(E,Y):null}}}),Ne(Xo,[],function(){var W=function(A){var k,V,H,G;return{top:(G=A.getBoundingClientRect()).top+(H=(k=A.ownerDocument).defaultView).pageYOffset-(V=k.documentElement).clientTop,left:G.left+H.pageXOffset-V.clientLeft}};return{calc:function(A,k){return function(A,k,V){return{pageX:V.left-A.left+k.left,pageY:V.top-A.top+k.top}}(function(A){return A.inline?W(A.getBody()):{left:0,top:0}}(A),function(A){var k=A.getBody();return A.inline?{left:k.scrollLeft,top:k.scrollTop}:{left:0,top:0}}(A),function(A,k){if(k.target.ownerDocument!==A.getDoc()){var V=W(A.getContentAreaContainer()),H=function(A){var k=A.getBody(),V=A.getDoc().documentElement;return A.inline?{left:k.scrollLeft,top:k.scrollTop}:{left:k.scrollLeft||V.scrollLeft,top:k.scrollTop||V.scrollTop}}(A);return{left:k.pageX-V.left+H.left,top:k.pageY-V.top+H.top}}return{left:k.pageX,top:k.pageY}}(A,k))}}}),Ne(oa,[Te,O,Tt,y,L,Xo],function(W,R,_,I,x,T){var S=W.isContentEditableFalse,A=W.isContentEditableTrue,K=function(Be){Be&&Be.parentNode&&Be.parentNode.removeChild(Be)},ne=function(Be){Be.dragging=!1,Be.element=null,K(Be.ghost)},me=function(Be){var ot,rt,ut,lt,_t,ft,ht={};ot=x.DOM,ft=document,rt=function(Be,ht){return function(ot){if(function(Be){return 0===Be.button}(ot)){var rt=R.find(ht.dom.getParents(ot.target),_.or(S,A));if(function(Be,ht){return S(ht)&&ht!==Be}(ht.getBody(),rt)){var ut=ht.dom.getPos(rt),lt=ht.getBody(),_t=ht.getDoc().documentElement;Be.element=rt,Be.screenX=ot.screenX,Be.screenY=ot.screenY,Be.maxX=(ht.inline?lt.scrollWidth:_t.offsetWidth)-2,Be.maxY=(ht.inline?lt.scrollHeight:_t.offsetHeight)-2,Be.relX=ot.pageX-ut.x,Be.relY=ot.pageY-ut.y,Be.width=rt.offsetWidth,Be.height=rt.offsetHeight,Be.ghost=function(Be,ht,ot,rt){var ut=ht.cloneNode(!0);Be.dom.setStyles(ut,{width:ot,height:rt}),Be.dom.setAttrib(ut,"data-mce-selected",null);var lt=Be.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return Be.dom.setStyles(lt,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:ot,height:rt}),Be.dom.setStyles(ut,{margin:0,boxSizing:"border-box"}),lt.appendChild(ut),lt}(ht,rt,Be.width,Be.height)}}}}(ht,Be),ut=function(Be,ht){var ot=I.throttle(function(rt,ut){ht._selectionOverrides.hideFakeCaret(),ht.selection.placeCaretAt(rt,ut)},0);return function(rt){var ut=Math.max(Math.abs(rt.screenX-Be.screenX),Math.abs(rt.screenY-Be.screenY));if(function(Be){return Be.element}(Be)&&!Be.dragging&&ut>10){if(ht.fire("dragstart",{target:Be.element}).isDefaultPrevented())return;Be.dragging=!0,ht.focus()}if(Be.dragging){var _t=function(Be,ht){return{pageX:ht.pageX-Be.relX,pageY:ht.pageY+5}}(Be,T.calc(ht,rt));(function(Be,ht){Be.parentNode!==ht&&ht.appendChild(Be)})(Be.ghost,ht.getBody()),function(Be,ht,ot,rt,ut,lt){var _t=0,ft=0;Be.style.left=ht.pageX+"px",Be.style.top=ht.pageY+"px",ht.pageX+ot>ut&&(_t=ht.pageX+ot-ut),ht.pageY+rt>lt&&(ft=ht.pageY+rt-lt),Be.style.width=ot-_t+"px",Be.style.height=rt-ft+"px"}(Be.ghost,_t,Be.width,Be.height,Be.maxX,Be.maxY),ot(rt.clientX,rt.clientY)}}}(ht,Be),lt=function(Be,ht){return function(ot){if(Be.dragging&&function(Be,ht,ot){return ht!==ot&&!Be.dom.isChildOf(ht,ot)&&!S(ht)}(ht,function(Be){var ot=Be.getSel().getRangeAt(0).startContainer;return 3===ot.nodeType?ot.parentNode:ot}(ht.selection),Be.element)){var rt=function(Be){var ht=Be.cloneNode(!0);return ht.removeAttribute("data-mce-selected"),ht}(Be.element),ut=ht.fire("drop",{targetClone:rt,clientX:ot.clientX,clientY:ot.clientY});ut.isDefaultPrevented()||(rt=ut.targetClone,ht.undoManager.transact(function(){K(Be.element),ht.insertContent(ht.dom.getOuterHTML(rt)),ht._selectionOverrides.hideFakeCaret()}))}ne(Be)}}(ht,Be),_t=function(Be,ht){return function(){ne(Be),Be.dragging&&ht.fire("dragend")}}(ht,Be),Be.on("mousedown",rt),Be.on("mousemove",ut),Be.on("mouseup",lt),ot.bind(ft,"mousemove",ut),ot.bind(ft,"mouseup",_t),Be.on("remove",function(){ot.unbind(ft,"mousemove",ut),ot.unbind(ft,"mouseup",_t)})};return{init:function(Be){me(Be),function(Be){Be.on("drop",function(ht){var ot=typeof ht.clientX<"u"?Be.getDoc().elementFromPoint(ht.clientX,ht.clientY):null;(S(ot)||S(Be.dom.getContentEditableParent(ot)))&&ht.preventDefault()})}(Be)}}}),Ne(Lo,[D,ei,Mn,ce,Nn,yo,Qr,Co,Te,Oe,en,Et,Tt,O,y,oa],function(W,R,_,I,x,T,S,A,k,V,H,G,$,te,K,re){function Q(se,Se){for(;Se=se(Se);)if(Se.isVisible())return Se;return Se}var Z=$.curry,Y=k.isContentEditableTrue,z=k.isContentEditableFalse,C=k.isElement,E=x.isAfterContentEditableFalse,ne=x.isBeforeContentEditableFalse,me=V.getSelectedNode;return function pe(se){function ht(Jt){return se.dom.isBlock(Jt)}function ot(Jt){Jt&&se.selection.setRng(Jt)}function rt(){return se.selection.getRng()}function ut(Jt,xn){se.selection.scrollIntoView(Jt,xn)}function lt(Jt,xn,wi){return se.fire("ShowCaret",{target:xn,direction:Jt,before:wi}).isDefaultPrevented()?null:(ut(xn,-1===Jt),Ri.show(wi,xn))}function _t(Jt){return se.fire("BeforeObjectSelected",{target:Jt}).isDefaultPrevented()?null:function ft(Jt){var xn=Jt.ownerDocument.createRange();return xn.selectNode(Jt),xn}(Jt)}function $e(Jt,xn){return xn=x.normalizeRange(Jt,vi,xn),-1==Jt?_.fromRangeStart(xn):_.fromRangeEnd(xn)}function yn(Jt,xn){var ui,Ft;if(xn.collapsed&&se.settings.forced_root_block){if(!(ui=se.dom.getParent(xn.startContainer,"PRE")))return;(1==Jt?hi(_.fromRangeStart(xn)):nr(_.fromRangeStart(xn)))||(Ft=function wi(){var qt=se.dom.create(se.settings.forced_root_block);return(!W.ie||W.ie>=11)&&(qt.innerHTML='<br data-mce-bogus="1">'),qt}(),1==Jt?se.$(ui).after(Ft):se.$(ui).before(Ft),se.selection.select(Ft,!0),se.selection.collapse())}}function On(Jt,xn,wi,ui){var Ni;return(Ni=function Mt(Jt,xn,wi,ui){var Ni,Ft,qt,je;return!ui.collapsed&&(Ni=me(ui),z(Ni))?lt(Jt,Ni,-1==Jt):(je=function ct(Jt){return I.isCaretContainerBlock(Jt.startContainer)}(ui),wi(Ft=$e(Jt,ui))?_t(Ft.getNode(-1==Jt)):(Ft=xn(Ft))?wi(Ft)?lt(Jt,Ft.getNode(-1==Jt),1==Jt):wi(qt=xn(Ft))&&function Pe(Jt,xn){var wi=x.isInSameBlock(Jt,xn);return!(wi||!k.isBr(Jt.getNode()))||wi}(Ft,qt)?lt(Jt,qt.getNode(-1==Jt),1==Jt):je?Ye(Ft.toRange()):null:je?ui:null)}(Jt,xn,wi,ui))?Ni:(Ni=yn(Jt,ui))||null}function Gn(Jt,xn,wi){var ui;return(ui=function zt(Jt,xn,wi){var ui,Ni,Ft,qt,je,vt,Ut,sn,Ln;if(Ln=me(wi),ui=$e(Jt,wi),Ni=xn(vi,S.isAboveLine(1),ui),Ft=te.filter(Ni,S.isLine(1)),je=te.last(ui.getClientRects()),ne(ui)&&(Ln=ui.getNode()),E(ui)&&(Ln=ui.getNode(!0)),!je)return null;if((qt=A.findClosestClientRect(Ft,vt=je.left))&&z(qt.node))return Ut=Math.abs(vt-qt.left),sn=Math.abs(vt-qt.right),lt(Jt,qt.node,Ut<sn);if(Ln){var dn=S.positionsUntil(Jt,vi,S.isAboveLine(1),Ln);if((qt=A.findClosestClientRect(te.filter(dn,S.isLine(1)),vt))||(qt=te.last(te.filter(dn,S.isLine(0)))))return Ye(qt.position.toRange())}}(Jt,xn,wi))?ui:(ui=yn(Jt,wi))||null}function qn(Jt){Jt.hasAttribute("data-mce-caret")&&(I.showCaretContainerBlock(Jt),ot(rt()),ut(Jt[0]))}function Bt(Jt){var xn,wi;return Jt=x.normalizeRange(1,vi,Jt),xn=_.fromRangeStart(Jt),z(xn.getNode())?lt(1,xn.getNode(),!xn.isAtEnd()):z(xn.getNode(!0))?lt(1,xn.getNode(!0),!1):(wi=se.dom.getParent(xn.getNode(),$.or(z,Y)),z(wi)?lt(1,wi,!1):null)}function Ye(Jt){return Jt&&Jt.collapsed&&Bt(Jt)||Jt}function He(Jt){var xn,wi,ui,Ni;return z(Jt)?(z(Jt.previousSibling)&&(ui=Jt.previousSibling),(wi=nr(_.before(Jt)))||(xn=hi(_.after(Jt))),xn&&C(xn.getNode())&&(Ni=xn.getNode()),I.remove(Jt.previousSibling),I.remove(Jt.nextSibling),se.dom.remove(Jt),se.dom.isEmpty(se.getBody())?(se.setContent(""),void se.focus()):ui?_.after(ui).toRange():Ni?_.before(Ni).toRange():wi?wi.toRange():xn?xn.toRange():null):null}function St(Jt){var xn=se.schema.getTextBlockElements();return Jt.nodeName in xn}function jt(Jt){return se.dom.isEmpty(Jt)}function on(Jt,xn,wi){var Ni,Ft,qt,je,ui=se.dom;if(Ni=ui.getParent(xn.getNode(),ui.isBlock),Ft=ui.getParent(wi.getNode(),ui.isBlock),-1===Jt){if(je=wi.getNode(!0),E(wi)&&ht(je))return St(Ni)?(jt(Ni)&&ui.remove(Ni),_.after(je).toRange()):He(wi.getNode(!0))}else if(je=xn.getNode(),ne(xn)&&ht(je))return St(Ft)?(jt(Ft)&&ui.remove(Ft),_.before(je).toRange()):He(xn.getNode());if(Ni===Ft||!St(Ni)||!St(Ft))return null;for(;qt=Ni.firstChild;)Ft.appendChild(qt);return se.dom.remove(Ni),wi.toRange()}function un(Jt,xn,wi,ui){var Ni,Ft,qt,je;return!ui.collapsed&&(Ni=me(ui),z(Ni))?Ye(He(Ni)):wi(Ft=$e(Jt,ui))&&I.isCaretContainerBlock(ui.startContainer)?(je=-1==Jt?yi.prev(Ft):yi.next(Ft))?Ye(je.toRange()):ui:xn(Ft)?Ye(He(Ft.getNode(-1==Jt))):xn(qt=-1==Jt?yi.prev(Ft):yi.next(Ft))?-1===Jt?on(Jt,Ft,qt):on(Jt,qt,Ft):void 0}function tt(Jt){return I.isCaretContainer(Jt)||I.startsWithCaretContainer(Jt)||I.endsWithCaretContainer(Jt)}function yt(Jt){return tt(Jt.startContainer)||tt(Jt.endContainer)}function Dt(Jt){var xn,Ni,Ft,qt,je,vt,Ut,sn,Ln,dn,wi=se.$,ui=se.dom;if(!Jt)return null;if(Jt.collapsed){if(!yt(Jt)){if(sn=$e(1,Jt),z(sn.getNode()))return lt(1,sn.getNode(),!sn.isAtEnd());if(z(sn.getNode(!0)))return lt(1,sn.getNode(!0),!1)}return null}return je=Jt.startOffset,vt=Jt.endOffset,3==(qt=Jt.startContainer).nodeType&&0==je&&z(qt.parentNode)&&(je=ui.nodeIndex(qt=qt.parentNode),qt=qt.parentNode),1!=qt.nodeType?null:(vt==je+1&&(xn=qt.childNodes[je]),z(xn)?(Ln=dn=xn.cloneNode(!0),(Ut=se.fire("ObjectSelected",{target:xn,targetClone:Ln})).isDefaultPrevented()?null:(Ln=Ut.targetClone,0===(Ni=wi("#"+Bi)).length&&(Ni=wi('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",Bi)).appendTo(se.getBody()),Jt=se.dom.createRng(),Ln===dn&&W.ie?(Ni.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(Ln),Jt.setStartAfter(Ni[0].firstChild.firstChild),Jt.setEndAfter(Ln)):(Ni.empty().append("\xa0").append(Ln).append("\xa0"),Jt.setStart(Ni[0].firstChild,1),Jt.setEnd(Ni[0].lastChild,0)),Ni.css({top:ui.getPos(xn,se.getBody()).y}),Ni[0].focus(),(Ft=se.selection.getSel()).removeAllRanges(),Ft.addRange(Jt),se.$("*[data-mce-selected]").removeAttr("data-mce-selected"),xn.setAttribute("data-mce-selected",1),Tn=xn,di(),Jt)):null)}function nn(){Tn&&(Tn.removeAttribute("data-mce-selected"),se.$("#"+Bi).remove(),Tn=null)}function di(){Ri.hide()}var Tn,vi=se.getBody(),yi=new R(vi),hi=Z(Q,yi.next),nr=Z(Q,yi.prev),Ri=new T(se.getBody(),ht),Bi="sel-"+se.dom.uniqueId(),In=se.$;return W.ceFalse&&(function Zt(){function Jt(Xt,Pn){if(!1===Xt.isDefaultPrevented()){var cn=Pn(rt());cn&&(Xt.preventDefault(),ot(cn))}}function xn(Xt){for(var Pn=se.getBody();Xt&&Xt!=Pn;){if(Y(Xt)||z(Xt))return Xt;Xt=Xt.parentNode}return null}var je=Z(On,1,hi,ne),vt=Z(On,-1,nr,E),Ut=Z(un,1,ne,E),sn=Z(un,-1,E,ne),Ln=Z(Gn,-1,S.upUntil),dn=Z(Gn,1,S.downUntil);se.on("mouseup",function(){var Xt=rt();Xt.collapsed&&ot(Bt(Xt))}),se.on("click",function(Xt){var Pn;(Pn=xn(Xt.target))&&(z(Pn)&&(Xt.preventDefault(),se.focus()),Y(Pn)&&se.dom.isChildOf(Pn,se.selection.getNode())&&nn())}),se.on("blur NewBlock",function(){nn(),di()});(function ui(Xt){var Pn=!1;Xt.on("touchstart",function(){Pn=!1}),Xt.on("touchmove",function(){Pn=!0}),Xt.on("touchend",function(cn){var jn=xn(cn.target);z(jn)&&(Pn||(cn.preventDefault(),Dt(_t(jn))))})})(se),se.on("mousedown",function(Xt){var Pn;if(Pn=xn(Xt.target))z(Pn)?(Xt.preventDefault(),Dt(_t(Pn))):function wi(Xt,Pn,cn){return!cn.collapsed&&te.reduce(cn.getClientRects(),function(jn,$n){return jn||H.containsXY($n,Xt,Pn)},!1)}(Xt.clientX,Xt.clientY,se.selection.getRng())||se.selection.placeCaretAt(Xt.clientX,Xt.clientY);else{nn(),di();var cn=A.closestCaret(vi,Xt.clientX,Xt.clientY);cn&&(function(Xt,Pn){var cn=se.dom.getParent(Xt,se.dom.isBlock),jn=se.dom.getParent(Pn,se.dom.isBlock);return cn&&!function(Xt,Pn){return se.dom.getParent(Xt,se.dom.isBlock)===se.dom.getParent(Pn,se.dom.isBlock)}(cn,jn)&&function(Xt){var Pn=new R(Xt);if(!Xt.firstChild)return!1;var cn=_.before(Xt.firstChild),jn=Pn.next(cn);return jn&&!ne(jn)&&!E(jn)}(cn)}(Xt.target,cn.node)||(Xt.preventDefault(),se.getBody().focus(),ot(lt(1,cn.node,cn.before))))}}),se.on("keydown",function(Xt){if(!G.modifierPressed(Xt))switch(Xt.keyCode){case G.RIGHT:Jt(Xt,je);break;case G.DOWN:Jt(Xt,dn);break;case G.LEFT:Jt(Xt,vt);break;case G.UP:Jt(Xt,Ln);break;case G.DELETE:Jt(Xt,Ut);break;case G.BACKSPACE:Jt(Xt,sn);break;default:z(se.selection.getNode())&&function(Xt){return!(Xt.keyCode>=112&&Xt.keyCode<=123)}(Xt)&&Xt.preventDefault()}}),se.on("keyup compositionstart",function(Xt){(function Ft(Xt){var Pn=function Xn(){return In("*[data-mce-caret]")[0]}();if(Pn)return"compositionstart"==Xt.type?(Xt.preventDefault(),Xt.stopPropagation(),void qn(Pn)):void(I.hasContent(Pn)&&qn(Pn))})(Xt),function qt(Xt){var Pn;switch(Xt.keyCode){case G.DELETE:case G.BACKSPACE:Pn=function Ni(){var Xt,Pn=xn(se.selection.getNode());Y(Pn)&&ht(Pn)&&se.dom.isEmpty(Pn)&&(Xt=se.dom.create("br",{"data-mce-bogus":"1"}),se.$(Pn).empty().append(Xt),se.selection.setRng(_.before(Xt).toRange()))}()}Pn&&Xt.preventDefault()}(Xt)},!0),se.on("cut",function(){var Xt=se.selection.getNode();z(Xt)&&K.setEditorTimeout(se,function(){ot(Ye(He(Xt)))})}),se.on("getSelectionRange",function(Xt){var Pn=Xt.range;if(Tn){if(!Tn.parentNode)return void(Tn=null);(Pn=Pn.cloneRange()).selectNode(Tn),Xt.range=Pn}}),se.on("setSelectionRange",function(Xt){var Pn;(Pn=Dt(Xt.range))&&(Xt.range=Pn)}),se.on("AfterSetSelectionRange",function(Xt){var Pn=Xt.range;yt(Pn)||di(),function Se(Jt){return se.dom.hasClass(Jt,"mce-offscreen-selection")}(Pn.startContainer.parentNode)||nn()}),se.on("focus",function(){K.setEditorTimeout(se,function(){se.selection.setRng(Ye(se.selection.getRng()))},0)}),se.on("copy",function(Xt){var Pn=Xt.clipboardData;if(!Xt.isDefaultPrevented()&&Xt.clipboardData&&!W.ie){var cn=function Be(){var Jt=se.dom.get(Bi);return Jt&&Jt.getElementsByTagName("*")[0]}();cn&&(Xt.preventDefault(),Pn.clearData(),Pn.setData("text/html",cn.outerHTML),Pn.setData("text/plain",cn.outerText))}}),re.init(se)}(),function Dn(){var Jt=se.contentStyles,xn=".mce-content-body";Jt.push(Ri.getCss()),Jt.push(xn+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+xn+" *[contentEditable=false] {cursor: default;}"+xn+" *[contentEditable=true] {cursor: text;}")}()),{showBlockCaretContainer:qn,hideFakeCaret:di,destroy:function En(){Ri.destroy(),Tn=null}}}}),Ne(Kr,[],function(){var W=0;return{uuid:function(I){return I+W+++function(){var I=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+I()+I()+I()}()}}}),Ne(Yi,[],function(){return{add:function(R,_,I){var x=R.sidebars?R.sidebars:[];x.push({name:_,settings:I}),R.sidebars=x}}}),Ne(Zr,[L,oe,ye,qe,xe,Je,Xe,xi,gi,fn,Wn,Bn,Li,Cn,Ge,B,Fn,rr,We,xt,Hi,D,U,y,Fi,yr,ir,so,Lo,Kr,Yi,fr],function(W,R,_,I,x,T,S,A,k,V,H,G,$,te,K,re,Q,pe,Z,Y,z,C,E,ne,me,se,Se,Be,ht,ot,rt,ut){function lt(Bt,Ye,He){var jt,on,un,St=this;jt=St.documentBaseUrl=He.documentBaseURL,on=He.baseURI,Ye=$e({id:Bt,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:jt,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:St.convertURL,url_converter_scope:St,ie7_compat:!0},un=He.defaultSettings,Ye),un&&un.external_plugins&&Ye.external_plugins&&(Ye.external_plugins=$e({},un.external_plugins,Ye.external_plugins)),St.settings=Ye,_.language=Ye.language||"en",_.languageLoad=Ye.language_load,_.baseURL=He.baseURL,St.id=Ye.id=Bt,St.setDirty(!1),St.plugins={},St.documentBaseURI=new te(Ye.document_base_url||jt,{base_uri:on}),St.baseURI=on,St.contentCSS=[],St.contentStyles=[],St.shortcuts=new Se(St),St.loadedCSS={},St.editorCommands=new $(St),St.suffix=He.suffix,St.editorManager=He,St.inline=Ye.inline,St.settings.content_editable=St.inline,Ye.cache_suffix&&(C.cacheSuffix=Ye.cache_suffix.replace(/^[\?\&]+/,"")),!1===Ye.override_viewport&&(C.overrideViewPort=!1),He.fire("SetupEditor",St),St.execCallback("setup",St),St.$=R.overrideDefaults(function(){return{context:St.inline?St.getBody():St.getDoc(),element:St.getBody()}})}var _t=W.DOM,ft=_.ThemeManager,Pe=_.PluginManager,$e=E.extend,ct=E.each,Mt=E.explode,zt=E.inArray,yn=E.trim,On=E.resolve,Gn=re.Event,Xn=C.gecko,qn=C.ie;return lt.prototype={render:function(){var He=this,St=He.settings,jt=He.id,on=He.suffix;if(Gn.domLoaded){if(He.getElement()&&C.contentEditable){St.inline?He.inline=!0:(He.orgVisibility=He.getElement().style.visibility,He.getElement().style.visibility="hidden");var un=He.getElement().form||_t.getParent(jt,"form");un&&(He.formElement=un,St.hidden_input&&!/TEXTAREA|INPUT/i.test(He.getElement().nodeName)&&(_t.insertAfter(_t.create("input",{type:"hidden",name:jt}),jt),He.hasHiddenInput=!0),He.formEventDelegate=function(Zt){He.fire(Zt.type,Zt)},_t.bind(un,"submit reset",He.formEventDelegate),He.on("reset",function(){He.setContent(He.startContent,{format:"raw"})}),!St.submit_patch||un.submit.nodeType||un.submit.length||un._mceOldSubmit||(un._mceOldSubmit=un.submit,un.submit=function(){return He.editorManager.triggerSave(),He.setDirty(!1),un._mceOldSubmit(un)})),He.windowManager=new Q(He),He.notificationManager=new pe(He),"xml"==St.encoding&&He.on("GetContent",function(Zt){Zt.save&&(Zt.content=_t.encode(Zt.content))}),St.add_form_submit_trigger&&He.on("submit",function(){He.initialized&&He.save()}),St.add_unload_trigger&&(He._beforeUnload=function(){!He.initialized||He.destroyed||He.isHidden()||He.save({format:"raw",no_events:!0,set_dirty:!1})},He.editorManager.on("BeforeUnload",He._beforeUnload)),He.editorManager.add(He),function Ye(){var Zt=K.ScriptLoader;if(St.language&&"en"!=St.language&&!St.language_url&&(St.language_url=He.editorManager.baseURL+"/langs/"+St.language+".js"),St.language_url&&Zt.add(St.language_url),St.theme&&"function"!=typeof St.theme&&"-"!=St.theme.charAt(0)&&!ft.urls[St.theme]){var Dn=St.theme_url;Dn=Dn?He.documentBaseURI.toAbsolute(Dn):"themes/"+St.theme+"/theme"+on+".js",ft.load(St.theme,Dn)}E.isArray(St.plugins)&&(St.plugins=St.plugins.join(" ")),ct(St.external_plugins,function(tt,yt){Pe.load(yt,tt),St.plugins+=" "+yt}),ct(St.plugins.split(/[ ,]/),function(tt){if((tt=yn(tt))&&!Pe.urls[tt])if("-"==tt.charAt(0)){tt=tt.substr(1,tt.length);var yt=Pe.dependencies(tt);ct(yt,function(Dt){Dt=Pe.createUrl({prefix:"plugins/",resource:Dt,suffix:"/plugin"+on+".js"},Dt),Pe.load(Dt.resource,Dt)})}else Pe.load(tt,{prefix:"plugins/",resource:tt,suffix:"/plugin"+on+".js"})}),Zt.loadQueue(function(){He.removed||He.init()},He,function(tt){ut.pluginLoadError(He,tt[0]),He.removed||He.init()})}()}}else _t.bind(window,"ready",function Bt(){_t.unbind(window,"ready",Bt),He.render()})},init:function(){var jt,on,un,Zt,Dn,tt,yt,Dt,nn,En,di,Ye=this,He=Ye.settings,St=Ye.getElement(),vi=[];if(Ye.rtl=He.rtl_ui||Ye.editorManager.i18n.rtl,Ye.editorManager.i18n.setCode(He.language),He.aria_label=He.aria_label||_t.getAttrib(St,"aria-label",Ye.getLang("aria.rich_text_area")),Ye.fire("ScriptsLoaded"),He.theme&&("function"!=typeof He.theme?(He.theme=He.theme.replace(/-/,""),tt=ft.get(He.theme),Ye.theme=new tt(Ye,ft.urls[He.theme]),Ye.theme.init&&Ye.theme.init(Ye,ft.urls[He.theme]||Ye.documentBaseUrl.replace(/\/$/,""),Ye.$)):Ye.theme=He.theme),ct(He.plugins.replace(/\-/g,"").split(/[ ,]/),function Bt(Ri){var Tn,In,Bi=Pe.get(Ri);if(Tn=Pe.urls[Ri]||Ye.documentBaseUrl.replace(/\/$/,""),Ri=yn(Ri),Bi&&-1===zt(vi,Ri)){if(ct(Pe.dependencies(Ri),function(Jt){Bt(Jt)}),Ye.plugins[Ri])return;In=new Bi(Ye,Tn,Ye.$),Ye.plugins[Ri]=In,In.init&&(In.init(Ye,Tn),vi.push(Ri))}}),He.render_ui&&Ye.theme&&(Ye.orgDisplay=St.style.display,"function"!=typeof He.theme?(on=He.height||St.style.height||St.offsetHeight,un=He.min_height||100,(En=/^[0-9\.]+(|px)$/i).test(""+(jt=He.width||St.style.width||St.offsetWidth))&&(jt=Math.max(parseInt(jt,10),100)),En.test(""+on)&&(on=Math.max(parseInt(on,10),un)),Dn=Ye.theme.renderUI({targetNode:St,width:jt,height:on,deltaWidth:He.delta_width,deltaHeight:He.delta_height}),He.content_editable||(on=(Dn.iframeHeight||on)+("number"==typeof on?Dn.deltaHeight||0:""))<un&&(on=un)):((Dn=He.theme(Ye,St)).editorContainer.nodeType&&(Dn.editorContainer.id=Dn.editorContainer.id||Ye.id+"_parent"),Dn.iframeContainer.nodeType&&(Dn.iframeContainer.id=Dn.iframeContainer.id||Ye.id+"_iframecontainer"),on=Dn.iframeHeight||St.offsetHeight),Ye.editorContainer=Dn.editorContainer),He.content_css&&ct(Mt(He.content_css),function(Ri){Ye.contentCSS.push(Ye.documentBaseURI.toAbsolute(Ri))}),He.content_style&&Ye.contentStyles.push(He.content_style),He.content_editable)return St=Zt=Dn=null,Ye.initContentBody();if(Ye.iframeHTML=He.doctype+"<html><head>",He.document_base_url!=Ye.documentBaseUrl&&(Ye.iframeHTML+='<base href="'+Ye.documentBaseURI.getURI()+'" />'),!C.caretAfter&&He.ie7_compat&&(Ye.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),Ye.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(di=0;di<Ye.contentCSS.length;di++){var yi=Ye.contentCSS[di];Ye.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+E._addCacheSuffix(yi)+'" />',Ye.loadedCSS[yi]=!0}-1!=(Dt=He.body_id||"tinymce").indexOf("=")&&(Dt=(Dt=Ye.getParam("body_id","","hash"))[Ye.id]||Dt),-1!=(nn=He.body_class||"").indexOf("=")&&(nn=(nn=Ye.getParam("body_class","","hash"))[Ye.id]||""),He.content_security_policy&&(Ye.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+He.content_security_policy+'" />'),Ye.iframeHTML+='</head><body id="'+Dt+'" class="mce-content-body '+nn+'" data-id="'+Ye.id+'"><br></body></html>';var hi='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+Ye.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&C.ie&&C.ie<12&&(yt=hi);var nr=_t.create("iframe",{id:Ye.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:Ye.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:on,display:"block"}});if(nr.onload=function(){nr.onload=null,Ye.fire("load")},_t.setAttrib(nr,"src",yt||'javascript:""'),Ye.contentAreaContainer=Dn.iframeContainer,Ye.iframeElement=nr,Zt=_t.add(Dn.iframeContainer,nr),qn)try{Ye.getDoc()}catch{Zt.src=yt=hi}Dn.editorContainer&&(_t.get(Dn.editorContainer).style.display=Ye.orgDisplay,Ye.hidden=_t.isHidden(Dn.editorContainer)),Ye.getElement().style.display="none",_t.setAttrib(Ye.id,"aria-hidden",!0),yt||Ye.initContentBody(),St=Zt=Dn=null},initContentBody:function(Bt){var on,un,Ye=this,He=Ye.settings,St=Ye.getElement(),jt=Ye.getDoc();He.inline||(Ye.getElement().style.visibility=Ye.orgVisibility),Bt||He.content_editable||(jt.open(),jt.write(Ye.iframeHTML),jt.close()),He.content_editable&&(Ye.on("remove",function(){var Zt=this.getBody();_t.removeClass(Zt,"mce-content-body"),_t.removeClass(Zt,"mce-edit-focus"),_t.setAttrib(Zt,"contentEditable",null)}),_t.addClass(St,"mce-content-body"),Ye.contentDocument=jt=He.content_document||document,Ye.contentWindow=He.content_window||window,Ye.bodyElement=St,He.content_document=He.content_window=null,He.root_name=St.nodeName.toLowerCase()),(on=Ye.getBody()).disabled=!0,Ye.readonly=He.readonly,Ye.readonly||(Ye.inline&&"static"==_t.getStyle(on,"position",!0)&&(on.style.position="relative"),on.contentEditable=Ye.getParam("content_editable_state",!0)),on.disabled=!1,Ye.editorUpload=new Be(Ye),Ye.schema=new Z(He),Ye.dom=new W(jt,{keep_values:!0,url_converter:Ye.convertURL,url_converter_scope:Ye,hex_colors:He.force_hex_style_colors,class_filter:He.class_filter,update_styles:!0,root_element:Ye.inline?Ye.getBody():null,collect:He.content_editable,schema:Ye.schema,onSetAttrib:function(Zt){Ye.fire("SetAttrib",Zt)}}),Ye.parser=new Y(He,Ye.schema),Ye.parser.addAttributeFilter("src,href,style,tabindex",function(Zt,Dn){for(var yt,nn,En,tt=Zt.length,Dt=Ye.dom;tt--;)if(nn=(yt=Zt[tt]).attr(Dn),!yt.attributes.map[En="data-mce-"+Dn]){if(0===nn.indexOf("data:")||0===nn.indexOf("blob:"))continue;"style"===Dn?((nn=Dt.serializeStyle(Dt.parseStyle(nn),yt.name)).length||(nn=null),yt.attr(En,nn),yt.attr(Dn,nn)):"tabindex"===Dn?(yt.attr(En,nn),yt.attr(Dn,null)):yt.attr(En,Ye.convertURL(nn,Dn,yt.name))}}),Ye.parser.addNodeFilter("script",function(Zt){for(var tt,yt,Dn=Zt.length;Dn--;)0!==(yt=(tt=Zt[Dn]).attr("type")||"no/type").indexOf("mce-")&&tt.attr("type","mce-"+yt)}),Ye.parser.addNodeFilter("#cdata",function(Zt){for(var tt,Dn=Zt.length;Dn--;)(tt=Zt[Dn]).type=8,tt.name="#comment",tt.value="[CDATA["+tt.value+"]]"}),Ye.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(Zt){for(var tt,Dn=Zt.length,yt=Ye.schema.getNonEmptyElements();Dn--;)(tt=Zt[Dn]).isEmpty(yt)&&0===tt.getAll("br").length&&(tt.append(new x("br",1)).shortEnded=!0)}),Ye.serializer=new T(He,Ye),Ye.selection=new A(Ye.dom,Ye.getWin(),Ye.serializer,Ye),Ye.formatter=new k(Ye),Ye.undoManager=new V(Ye),Ye.forceBlocks=new G(Ye),Ye.enterKey=new H(Ye),Ye._nodeChangeDispatcher=new I(Ye),Ye._selectionOverrides=new ht(Ye),Ye.fire("PreInit"),He.browser_spellcheck||He.gecko_spellcheck||(jt.body.spellcheck=!1,_t.setAttrib(on,"spellcheck","false")),Ye.quirks=new z(Ye),Ye.fire("PostRender"),He.directionality&&(on.dir=He.directionality),He.nowrap&&(on.style.whiteSpace="nowrap"),He.protect&&Ye.on("BeforeSetContent",function(Zt){ct(He.protect,function(Dn){Zt.content=Zt.content.replace(Dn,function(tt){return"\x3c!--mce:protected "+escape(tt)+"--\x3e"})})}),Ye.on("SetContent",function(){Ye.addVisual(Ye.getBody())}),He.padd_empty_editor&&Ye.on("PostProcess",function(Zt){Zt.content=Zt.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),Ye.load({initial:!0,format:"html"}),Ye.startContent=Ye.getContent({format:"raw"}),Ye.initialized=!0,Ye.bindPendingEventDelegates(),Ye.fire("init"),Ye.focus(!0),Ye.nodeChanged({initial:!0}),Ye.execCallback("init_instance_callback",Ye),Ye.on("compositionstart compositionend",function(Zt){Ye.composing="compositionstart"===Zt.type}),Ye.contentStyles.length>0&&(un="",ct(Ye.contentStyles,function(Zt){un+=Zt+"\r\n"}),Ye.dom.addStyle(un)),ct(Ye.contentCSS,function(Zt){Ye.loadedCSS[Zt]||(Ye.dom.loadCSS(Zt),Ye.loadedCSS[Zt]=!0)}),He.auto_focus&&ne.setEditorTimeout(Ye,function(){var Zt;(Zt=!0===He.auto_focus?Ye:Ye.editorManager.get(He.auto_focus)).destroyed||Zt.focus()},100),St=jt=on=null},focus:function(Bt){var on,un,tt,He=this,St=He.selection,jt=He.settings.content_editable,Zt=He.getDoc(),Dn=He.getBody();if(!Bt){if((on=St.getRng()).item&&(un=on.item(0)),He.quirks.refreshContentEditable(),tt=function Ye(yt){return He.dom.getParent(yt,function(Dt){return"true"===He.dom.getContentEditable(Dt)})}(St.getNode()),He.$.contains(Dn,tt))return tt.focus(),St.normalize(),void He.editorManager.setActive(He);if(jt||(C.opera||He.getBody().focus(),He.getWin().focus()),Xn||jt){if(Dn.setActive)try{Dn.setActive()}catch{Dn.focus()}else Dn.focus();jt&&St.normalize()}un&&un.ownerDocument==Zt&&((on=Zt.body.createControlRange()).addElement(un),on.select())}He.editorManager.setActive(He)},execCallback:function(Bt){var St,Ye=this,He=Ye.settings[Bt];if(He)return Ye.callbackLookup&&(St=Ye.callbackLookup[Bt])&&(He=St.func,St=St.scope),"string"==typeof He&&(St=(St=He.replace(/\.\w+$/,""))?On(St):0,He=On(He),Ye.callbackLookup=Ye.callbackLookup||{},Ye.callbackLookup[Bt]={func:He,scope:St}),He.apply(St||Ye,Array.prototype.slice.call(arguments,1))},translate:function(Bt){var Ye=this.settings.language||"en",He=this.editorManager.i18n;return Bt?(Bt=He.data[Ye+"."+Bt]||Bt.replace(/\{\#([^\}]+)\}/g,function(St,jt){return He.data[Ye+"."+jt]||"{#"+jt+"}"}),this.editorManager.translate(Bt)):""},getLang:function(Bt,Ye){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+Bt]||(Ye!==Ve?Ye:"{#"+Bt+"}")},getParam:function(Bt,Ye,He){var jt,St=Bt in this.settings?this.settings[Bt]:Ye;return"hash"===He?(jt={},"string"==typeof St?ct(St.indexOf("=")>0?St.split(/[;,](?![^=;,]*(?:[;,]|$))/):St.split(","),function(on){on=on.split("="),jt[yn(on[0])]=yn(on.length>1?on[1]:on)}):jt=St,jt):St},nodeChanged:function(Bt){this._nodeChangeDispatcher.nodeChanged(Bt)},addButton:function(Bt,Ye){var He=this;Ye.cmd&&(Ye.onclick=function(){He.execCommand(Ye.cmd)}),Ye.text||Ye.icon||(Ye.icon=Bt),He.buttons=He.buttons||{},Ye.tooltip=Ye.tooltip||Ye.title,He.buttons[Bt]=Ye},addSidebar:function(Bt,Ye){return rt.add(this,Bt,Ye)},addMenuItem:function(Bt,Ye){var He=this;Ye.cmd&&(Ye.onclick=function(){He.execCommand(Ye.cmd)}),He.menuItems=He.menuItems||{},He.menuItems[Bt]=Ye},addContextToolbar:function(Bt,Ye){var St,He=this;He.contextToolbars=He.contextToolbars||[],"string"==typeof Bt&&(St=Bt,Bt=function(jt){return He.dom.is(jt,St)}),He.contextToolbars.push({id:ot.uuid("mcet"),predicate:Bt,items:Ye})},addCommand:function(Bt,Ye,He){this.editorCommands.addCommand(Bt,Ye,He)},addQueryStateHandler:function(Bt,Ye,He){this.editorCommands.addQueryStateHandler(Bt,Ye,He)},addQueryValueHandler:function(Bt,Ye,He){this.editorCommands.addQueryValueHandler(Bt,Ye,He)},addShortcut:function(Bt,Ye,He,St){this.shortcuts.add(Bt,Ye,He,St)},execCommand:function(Bt,Ye,He,St){return this.editorCommands.execCommand(Bt,Ye,He,St)},queryCommandState:function(Bt){return this.editorCommands.queryCommandState(Bt)},queryCommandValue:function(Bt){return this.editorCommands.queryCommandValue(Bt)},queryCommandSupported:function(Bt){return this.editorCommands.queryCommandSupported(Bt)},show:function(){var Bt=this;Bt.hidden&&(Bt.hidden=!1,Bt.inline?Bt.getBody().contentEditable=!0:(_t.show(Bt.getContainer()),_t.hide(Bt.id)),Bt.load(),Bt.fire("show"))},hide:function(){var Bt=this,Ye=Bt.getDoc();Bt.hidden||(qn&&Ye&&!Bt.inline&&Ye.execCommand("SelectAll"),Bt.save(),Bt.inline?(Bt.getBody().contentEditable=!1,Bt==Bt.editorManager.focusedEditor&&(Bt.editorManager.focusedEditor=null)):(_t.hide(Bt.getContainer()),_t.setStyle(Bt.id,"display",Bt.orgDisplay)),Bt.hidden=!0,Bt.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(Bt,Ye){this.fire("ProgressState",{state:Bt,time:Ye})},load:function(Bt){var St,He=this.getElement();if(He)return(Bt=Bt||{}).load=!0,St=this.setContent(He.value!==Ve?He.value:He.innerHTML,Bt),Bt.element=He,Bt.no_events||this.fire("LoadContent",Bt),Bt.element=He=null,St},save:function(Bt){var St,jt,Ye=this,He=Ye.getElement();if(He&&Ye.initialized)return(Bt=Bt||{}).save=!0,Bt.element=He,Bt.content=Ye.getContent(Bt),Bt.no_events||Ye.fire("SaveContent",Bt),"raw"==Bt.format&&Ye.fire("RawSaveContent",Bt),St=Bt.content,/TEXTAREA|INPUT/i.test(He.nodeName)?He.value=St:(Ye.inline||(He.innerHTML=St),(jt=_t.getParent(Ye.id,"form"))&&ct(jt.elements,function(on){if(on.name==Ye.id)return on.value=St,!1})),Bt.element=He=null,!1!==Bt.set_dirty&&Ye.setDirty(!1),St},setContent:function(Bt,Ye){var jt,on,He=this,St=He.getBody();return(Ye=Ye||{}).format=Ye.format||"html",Ye.set=!0,Ye.content=Bt,Ye.no_events||He.fire("BeforeSetContent",Ye),0===(Bt=Ye.content).length||/^\s+$/.test(Bt)?(on=qn&&qn<11?"":'<br data-mce-bogus="1">',"TABLE"==St.nodeName?Bt="<tr><td>"+on+"</td></tr>":/^(UL|OL)$/.test(St.nodeName)&&(Bt="<li>"+on+"</li>"),(jt=He.settings.forced_root_block)&&He.schema.isValidChild(St.nodeName.toLowerCase(),jt.toLowerCase())?Bt=He.dom.createHTML(jt,He.settings.forced_root_block_attrs,Bt=on):qn||Bt||(Bt='<br data-mce-bogus="1">'),He.dom.setHTML(St,Bt),He.fire("SetContent",Ye)):("raw"!==Ye.format&&(Bt=new S({validate:He.validate},He.schema).serialize(He.parser.parse(Bt,{isRootContent:!0}))),Ye.content=yn(Bt),He.dom.setHTML(St,Ye.content),Ye.no_events||He.fire("SetContent",Ye)),Ye.content},getContent:function(Bt){var He,Ye=this,St=Ye.getBody();return(Bt=Bt||{}).format=Bt.format||"html",Bt.get=!0,Bt.getInner=!0,Bt.no_events||Ye.fire("BeforeGetContent",Bt),He="raw"==Bt.format?E.trim(Ye.serializer.getTrimmedContent()):"text"==Bt.format?St.innerText||St.textContent:Ye.serializer.serialize(St,Bt),Bt.content="text"!=Bt.format?yn(He):He,Bt.no_events||Ye.fire("GetContent",Bt),Bt.content},insertContent:function(Bt,Ye){Ye&&(Bt=$e({content:Bt},Ye)),this.execCommand("mceInsertContent",!1,Bt)},isDirty:function(){return!this.isNotDirty},setDirty:function(Bt){var Ye=!this.isNotDirty;this.isNotDirty=!Bt,Bt&&Bt!=Ye&&this.fire("dirty")},setMode:function(Bt){se.setMode(this,Bt)},getContainer:function(){var Bt=this;return Bt.container||(Bt.container=_t.get(Bt.editorContainer||Bt.id+"_parent")),Bt.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=_t.get(this.id)),this.targetElm},getWin:function(){var Ye;return this.contentWindow||(Ye=this.iframeElement)&&(this.contentWindow=Ye.contentWindow),this.contentWindow},getDoc:function(){var Ye;return this.contentDocument||(Ye=this.getWin())&&(this.contentDocument=Ye.document),this.contentDocument},getBody:function(){var Bt=this.getDoc();return this.bodyElement||(Bt?Bt.body:null)},convertURL:function(Bt,Ye,He){var jt=this.settings;return jt.urlconverter_callback?this.execCallback("urlconverter_callback",Bt,He,!0,Ye):!jt.convert_urls||He&&"LINK"==He.nodeName||0===Bt.indexOf("file:")||0===Bt.length?Bt:jt.relative_urls?this.documentBaseURI.toRelative(Bt):Bt=this.documentBaseURI.toAbsolute(Bt,jt.remove_script_host)},addVisual:function(Bt){var jt,Ye=this,He=Ye.settings,St=Ye.dom;Bt=Bt||Ye.getBody(),Ye.hasVisual===Ve&&(Ye.hasVisual=He.visual),ct(St.select("table,a",Bt),function(on){var un;switch(on.nodeName){case"TABLE":return jt=He.visual_table_class||"mce-item-table",void((un=St.getAttrib(on,"border"))&&"0"!=un||!Ye.hasVisual?St.removeClass(on,jt):St.addClass(on,jt));case"A":return void(St.getAttrib(on,"href",!1)||(un=St.getAttrib(on,"name")||on.id,jt=He.visual_anchor_class||"mce-item-anchor",un&&Ye.hasVisual?St.addClass(on,jt):St.removeClass(on,jt)))}}),Ye.fire("VisualAid",{element:Bt,hasVisual:Ye.hasVisual})},remove:function(){var Bt=this;Bt.removed||(Bt.save(),Bt.removed=1,Bt.unbindAllNativeEvents(),Bt.hasHiddenInput&&_t.remove(Bt.getElement().nextSibling),Bt.inline||(qn&&qn<10&&Bt.getDoc().execCommand("SelectAll",!1,null),_t.setStyle(Bt.id,"display",Bt.orgDisplay),Bt.getBody().onload=null),Bt.fire("remove"),Bt.editorManager.remove(Bt),_t.remove(Bt.getContainer()),Bt._selectionOverrides.destroy(),Bt.editorUpload.destroy(),Bt.destroy())},destroy:function(Bt){var He,Ye=this;if(!Ye.destroyed){if(!Bt&&!Ye.removed)return void Ye.remove();Bt||(Ye.editorManager.off("beforeunload",Ye._beforeUnload),Ye.theme&&Ye.theme.destroy&&Ye.theme.destroy(),Ye.selection.destroy(),Ye.dom.destroy()),(He=Ye.formElement)&&(He._mceOldSubmit&&(He.submit=He._mceOldSubmit,He._mceOldSubmit=null),_t.unbind(He,"submit reset",Ye.formEventDelegate)),Ye.contentAreaContainer=Ye.formElement=Ye.container=Ye.editorContainer=null,Ye.bodyElement=Ye.contentDocument=Ye.contentWindow=null,Ye.iframeElement=Ye.targetElm=null,Ye.selection&&(Ye.selection=Ye.selection.win=Ye.selection.dom=Ye.selection.dom.doc=null),Ye.destroyed=1}},uploadImages:function(Bt){return this.editorUpload.uploadImages(Bt)},_scanForImages:function(){return this.editorUpload.scanForImages()}},$e(lt.prototype,me),lt}),Ne(go,[U],function(W){var R={},_="en";return{setCode:function(I){I&&(_=I,this.rtl=!!this.data[I]&&"rtl"===this.data[I]._dir)},getCode:function(){return _},rtl:!1,add:function(I,x){var T=R[I];for(var S in T||(R[I]=T={}),x)T[S]=x[S];this.setCode(I)},translate:function(I){function x(V){return W.is(V,"function")?Object.prototype.toString.call(V):T(V)?"":""+V}function T(V){return""===V||null===V||W.is(V,"undefined")}function S(V){return V=x(V),W.hasOwn(A,V)?x(A[V]):V}var A=R[_]||{};if(T(I))return"";if(W.is(I,"object")&&W.hasOwn(I,"raw"))return x(I.raw);if(W.is(I,"array")){var k=I.slice(1);I=S(I[0]).replace(/\{([0-9]+)\}/g,function(V,H){return W.hasOwn(k,H)?x(k[H]):V})}return S(I).replace(/{context:\w+}$/,"")},data:R}}),Ne(X,[L,y,D],function(W,R,_){function I(V){function H(){try{return document.activeElement}catch{return document.body}}V.on("AddEditor",function te(re){var Q=re.editor;Q.on("init",function(){(Q.inline||_.ie)&&("onbeforedeactivate"in document&&_.ie<9?Q.dom.bind(Q.getBody(),"beforedeactivate",function(pe){if(pe.target==Q.getBody())try{Q.lastRng=Q.selection.getRng()}catch{}}):Q.on("nodechange mouseup keyup",function(pe){var Z=H();"nodechange"==pe.type&&pe.selectionChange||(Z&&Z.id==Q.id+"_ifr"&&(Z=Q.getBody()),Q.dom.isChildOf(Z,Q.getBody())&&(Q.lastRng=Q.selection.getRng()))}),_.webkit&&!x&&(x=function(){var pe=V.activeEditor;if(pe&&pe.selection){var Z=pe.selection.getRng();Z&&!Z.collapsed&&(Q.lastRng=Z)}},A.bind(document,"selectionchange",x)))}),Q.on("setcontent",function(){Q.lastRng=null}),Q.on("mousedown",function(){Q.selection.lastFocusBookmark=null}),Q.on("focusin",function(){var Z,pe=V.focusedEditor;Q.selection.lastFocusBookmark&&(Z=function $(re,Q){var pe;return Q.startContainer?((pe=re.getDoc().createRange()).setStart(Q.startContainer,Q.startOffset),pe.setEnd(Q.endContainer,Q.endOffset)):pe=Q,pe}(Q,Q.selection.lastFocusBookmark),Q.selection.lastFocusBookmark=null,Q.selection.setRng(Z)),pe!=Q&&(pe&&pe.fire("blur",{focusedEditor:Q}),V.setActive(Q),V.focusedEditor=Q,Q.fire("focus",{blurredEditor:pe}),Q.focus(!0)),Q.lastRng=null}),Q.on("focusout",function(){R.setEditorTimeout(Q,function(){var pe=V.focusedEditor;k(Q,H())||pe!=Q||(Q.fire("blur",{focusedEditor:null}),V.focusedEditor=null,Q.selection&&(Q.selection.lastFocusBookmark=null))})}),T||(T=function(pe){var Y,Z=V.activeEditor;Y=pe.target,Z&&Y.ownerDocument==document&&(Z.selection&&Y!=Z.getBody()&&(Z.selection.lastFocusBookmark=function G(re,Q){return Q&&Q.startContainer?re.isChildOf(Q.startContainer,re.getRoot())&&re.isChildOf(Q.endContainer,re.getRoot())?{startContainer:Q.startContainer,startOffset:Q.startOffset,endContainer:Q.endContainer,endOffset:Q.endOffset}:void 0:Q}(Z.dom,Z.lastRng)),Y==document.body||k(Z,Y)||V.focusedEditor!=Z||(Z.fire("blur",{focusedEditor:null}),V.focusedEditor=null))},A.bind(document,"focusin",T)),Q.inline&&!S&&(S=function(pe){var Z=V.activeEditor,Y=Z.dom;if(Z.inline&&Y&&!Y.isChildOf(pe.target,Z.getBody())){var z=Z.selection.getRng();z.collapsed||(Z.lastRng=z)}},A.bind(document,"mouseup",S))}),V.on("RemoveEditor",function K(re){V.focusedEditor==re.editor&&(V.focusedEditor=null),V.activeEditor||(A.unbind(document,"selectionchange",x),A.unbind(document,"focusin",T),A.unbind(document,"mouseup",S),x=T=S=null)})}var x,T,S,A=W.DOM,k=function(V,H){var G=V?V.settings.custom_ui_selector:"";return null!==A.getParent(H,function(te){return I.isEditorUIElement(te)||!!G&&V.dom.is(te,G)})};return I.isEditorUIElement=function(V){return-1!==V.className.toString().indexOf("mce-")},I._isUIElement=k,I}),Ne(De,[Zr,oe,L,Cn,D,U,m,si,go,X,ye],function(W,R,_,I,x,T,S,A,k,V,H){function G(ne){pe(C.editors,function(me){me.fire("scroll"===ne.type?"ScrollWindow":"ResizeWindow",ne)})}function $(ne,me){me!==E&&(me?R(window).on("resize scroll",G):R(window).off("resize scroll",G),E=me)}function te(ne){var se,me=C.editors;delete me[ne.id];for(var Se=0;Se<me.length;Se++)if(me[Se]==ne){me.splice(Se,1),se=!0;break}return C.activeEditor==ne&&(C.activeEditor=me[0]),C.focusedEditor==ne&&(C.focusedEditor=null),se}var z,C,re=_.DOM,Q=T.explode,pe=T.each,Z=T.extend,Y=0,E=!1;return C={$:R,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:k,activeEditor:null,setup:function(){var me,se,Be,ht,ne=this,Se="";if(se=I.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(se)&&(se=se.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(se)||(se+="/")),Be=window.tinymce||window.tinyMCEPreInit)me=Be.base||Be.baseURL,Se=Be.suffix;else{for(var ot=document.getElementsByTagName("script"),rt=0;rt<ot.length;rt++){var ut=(ht=ot[rt].src).substring(ht.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(ht)){-1!=ut.indexOf(".min")&&(Se=".min"),me=ht.substring(0,ht.lastIndexOf("/"));break}}!me&&document.currentScript&&(-1!=(ht=document.currentScript.src).indexOf(".min")&&(Se=".min"),me=ht.substring(0,ht.lastIndexOf("/")))}ne.baseURL=new I(se).toAbsolute(me),ne.documentBaseURL=se,ne.baseURI=new I(ne.baseURL),ne.suffix=Se,ne.focusManager=new V(ne)},overrideDefaults:function(ne){var me;(me=ne.base_url)&&(this.baseURL=new I(this.documentBaseURL).toAbsolute(me.replace(/\/+$/,"")),this.baseURI=new I(this.baseURL)),ne.suffix&&(this.suffix=ne.suffix),this.defaultSettings=ne;var Se=ne.plugin_base_urls;for(var Be in Se)H.PluginManager.urls[Be]=Se[Be]},init:function(ne){function Se(Pe){var $e=Pe.id;return $e||($e=($e=Pe.name)&&!re.get($e)?Pe.name:re.uniqueId(),Pe.setAttribute("id",$e)),$e}function ht(Pe,$e){return $e.constructor===RegExp?$e.test(Pe.className):re.hasClass(Pe,$e)}var lt,_t,ut=this;_t=T.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var ft=function(Pe){lt=Pe};return ut.settings=ne,re.bind(window,"ready",function rt(){function Pe(zt,yn,On){var Gn=new W(zt,yn,ut);ct.push(Gn),Gn.on("init",function(){++$e===Mt.length&&ft(ct)}),Gn.targetElm=Gn.targetElm||On,Gn.render()}var Mt,$e=0,ct=[];return re.unbind(window,"ready",rt),function Be(Pe){var $e=ne[Pe];if($e)$e.apply(ut,Array.prototype.slice.call(arguments,2))}("onpageload"),Mt=R.unique(function ot(Pe){var $e,ct=[];if(Pe.types)return pe(Pe.types,function(Mt){ct=ct.concat(re.select(Mt.selector))}),ct;if(Pe.selector)return re.select(Pe.selector);if(Pe.target)return[Pe.target];switch(Pe.mode){case"exact":($e=Pe.elements||"").length>0&&pe(Q($e),function(Mt){var zt;(zt=re.get(Mt))?ct.push(zt):pe(document.forms,function(yn){pe(yn.elements,function(On){On.name===Mt&&(Mt="mce_editor_"+Y++,re.setAttrib(On,"id",Mt),ct.push(On))})})});break;case"textareas":case"specific_textareas":pe(re.select("textarea"),function(Mt){Pe.editor_deselector&&ht(Mt,Pe.editor_deselector)||Pe.editor_selector&&!ht(Mt,Pe.editor_selector)||ct.push(Mt)})}return ct}(ne)),ne.types?void pe(ne.types,function(zt){T.each(Mt,function(yn){return!re.is(yn,zt.selector)||(Pe(Se(yn),Z({},ne,zt),yn),!1)})}):(T.each(Mt,function(zt){!function K(ne){ne&&ne.initialized&&!(ne.getContainer()||ne.getBody()).parentNode&&(te(ne),ne.unbindAllNativeEvents(),ne.destroy(!0),ne.removed=!0,ne=null)}(ut.get(zt.id))}),Mt=T.grep(Mt,function(zt){return!ut.get(zt.id)}),void pe(Mt,function(zt){!function me(Pe,$e){return Pe.inline&&$e.tagName.toLowerCase()in _t}(ne,zt)?Pe(Se(zt),ne,zt):function se(Pe,$e){window.console&&!window.test&&window.console.log(Pe,$e)}("Could not initialize inline editor on invalid inline target element",zt)}))}),new S(function(Pe){lt?Pe(lt):ft=function($e){Pe($e)}})},get:function(ne){return arguments.length?ne in this.editors?this.editors[ne]:null:this.editors},add:function(ne){var me=this,se=me.editors;return se[ne.id]=ne,se.push(ne),$(0,!0),me.activeEditor=ne,me.fire("AddEditor",{editor:ne}),z||(z=function(){me.fire("BeforeUnload")},re.bind(window,"beforeunload",z)),ne},createEditor:function(ne,me){return this.add(new W(ne,me,this))},remove:function(ne){var se,Be,me=this,Se=me.editors;if(ne)return"string"==typeof ne?void pe(re.select(ne=ne.selector||ne),function(ht){(Be=Se[ht.id])&&me.remove(Be)}):Se[(Be=ne).id]?(te(Be)&&me.fire("RemoveEditor",{editor:Be}),Se.length||re.unbind(window,"beforeunload",z),Be.remove(),$(0,Se.length>0),Be):null;for(se=Se.length-1;se>=0;se--)me.remove(Se[se])},execCommand:function(ne,me,se){var Se=this,Be=Se.get(se);switch(ne){case"mceAddEditor":return Se.get(se)||new W(se,Se.settings,Se).render(),!0;case"mceRemoveEditor":return Be&&Be.remove(),!0;case"mceToggleEditor":return Be?(Be.isHidden()?Be.show():Be.hide(),!0):(Se.execCommand("mceAddEditor",0,se),!0)}return!!Se.activeEditor&&Se.activeEditor.execCommand(ne,me,se)},triggerSave:function(){pe(this.editors,function(ne){ne.save()})},addI18n:function(ne,me){k.add(ne,me)},translate:function(ne){return k.translate(ne)},setActive:function(ne){var me=this.activeEditor;this.activeEditor!=ne&&(me&&me.fire("deactivate",{relatedTarget:ne}),ne.fire("activate",{relatedTarget:me})),this.activeEditor=ne}},Z(C,A),C.setup(),window.tinymce=window.tinyMCE=C,C}),Ne("tinymce/LegacyInput",[De,U],function(W,R){var _=R.each,I=R.explode;W.on("AddEditor",function(x){var T=x.editor;T.on("preInit",function(){function S($,te){_(te,function(K,re){K&&H.setStyle($,re,K)}),H.rename($,"span")}var k,V,H,G=T.settings;G.inline_styles&&(V=I(G.font_size_legacy_values),k={font:function($,te){S(te,{backgroundColor:te.style.backgroundColor,color:te.color,fontFamily:te.face,fontSize:V[parseInt(te.size,10)-1]})},u:function($,te){"html4"===T.settings.schema&&S(te,{textDecoration:"underline"})},strike:function($,te){S(te,{textDecoration:"line-through"})}},T.on("PreProcess SetContent",function A($){H=T.dom,G.convert_fonts_to_spans&&_(H.select("font,u,strike",$.node),function(te){k[te.nodeName.toLowerCase()](H,te)})}))})})}),Ne(Qe,[si,U],function(W,R){var _={send:function(I){function x(){!I.async||4==T.readyState||S++>1e4?(I.success&&S<1e4&&200==T.status?I.success.call(I.success_scope,""+T.responseText,T,I):I.error&&I.error.call(I.error_scope,S>1e4?"TIMED_OUT":"GENERAL",T,I),T=null):setTimeout(x,10)}var T,S=0;if(I.scope=I.scope||this,I.success_scope=I.success_scope||I.scope,I.error_scope=I.error_scope||I.scope,I.async=!1!==I.async,I.data=I.data||"",_.fire("beforeInitialize",{settings:I}),T=new XMLHttpRequest){if(T.overrideMimeType&&T.overrideMimeType(I.content_type),T.open(I.type||(I.data?"POST":"GET"),I.url,I.async),I.crossDomain&&(T.withCredentials=!0),I.content_type&&T.setRequestHeader("Content-Type",I.content_type),I.requestheaders&&R.each(I.requestheaders,function(A){T.setRequestHeader(A.key,A.value)}),T.setRequestHeader("X-Requested-With","XMLHttpRequest"),(T=_.fire("beforeSend",{xhr:T,settings:I}).xhr).send(I.data),!I.async)return x();setTimeout(x,10)}}};return R.extend(_,W),_}),Ne(N,[],function(){return{serialize:function W(R,_){var I,x,T,S;if(_=_||'"',null===R)return"null";if("string"==(T=typeof R))return x="\bb\tt\nn\ff\rr\"\"''\\\\",_+R.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(A,k){return'"'===_&&"'"===A?A:(I=x.indexOf(k))+1?"\\"+x.charAt(I+1):(A=k.charCodeAt().toString(16),"\\u"+"0000".substring(A.length)+A)})+_;if("object"==T){if(R.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(R)){for(I=0,x="[";I<R.length;I++)x+=(I>0?",":"")+W(R[I],_);return x+"]"}for(S in x="{",R)R.hasOwnProperty(S)&&(x+="function"!=typeof R[S]?(x.length>1?","+_:_)+S+_+":"+W(R[S],_):"");return x+"}"}return""+R},parse:function(R){try{return window[String.fromCharCode(101)+"val"]("("+R+")")}catch{}}}}),Ne(q,[N,Qe,U],function(W,R,_){function I(T){this.settings=x({},T),this.count=0}var x=_.extend;return I.sendRPC=function(T){return(new I).send(T)},I.prototype={send:function(T){var S=T.error,A=T.success;(T=x(this.settings,T)).success=function(k,V){typeof(k=W.parse(k))>"u"&&(k={error:"JSON Parse error."}),k.error?S.call(T.error_scope||T.scope,k.error,V):A.call(T.success_scope||T.scope,k.result)},T.error=function(k,V){S&&S.call(T.error_scope||T.scope,k,V)},T.data=W.serialize({id:T.id||"c"+this.count++,method:T.method,params:T.params}),T.content_type="application/json",R.send(T)}},I}),Ne(he,[L],function(W){return{callbacks:{},count:0,send:function(R){var _=this,I=W.DOM,x=R.count!==Ve?R.count:_.count,T="tinymce_jsonp_"+x;_.callbacks[x]=function(S){I.remove(T),delete _.callbacks[x],R.callback(S)},I.add(I.doc.body,"script",{id:T,src:R.url,type:"text/javascript"}),_.count++}}}),Ne(ge,[],function(){function W(){for(var V in S=[],T)S.push(V);I.length=S.length}function _(){var V,H="";if(k){for(var G in T)V=T[G],H+=(H?",":"")+G.length.toString(32)+","+G+","+V.length.toString(32)+","+V;x.setAttribute(A,H);try{x.save(A)}catch{}W()}}var I,x,T,S,A,k;try{if(window.localStorage)return localStorage}catch{}return A="tinymce",x=document.documentElement,(k=!!x.addBehavior)&&x.addBehavior("#default#userData"),I={key:function(V){return S[V]},getItem:function(V){return V in T?T[V]:null},setItem:function(V,H){T[V]=""+H,_()},removeItem:function(V){delete T[V],_()},clear:function(){T={},_()}},function R(){function V(re){var Q,pe;return-1===(pe=re!==Ve?te+re:G.indexOf(",",te))||pe>G.length?null:(Q=G.substring(te,pe),te=pe+1,Q)}var H,G,$,te=0;if(T={},k){x.load(A),G=x.getAttribute(A)||"";do{var K=V();if(null===K)break;if(null!==(H=V(parseInt(K,32)||0))){if(null===(K=V()))break;$=V(parseInt(K,32)||0),H&&(T[H]=$)}}while(null!==H);W()}}(),I}),Ne(Ie,[L,B,Ge,ye,U,D],function(W,R,_,I,x,T){var S=window.tinymce;return S.DOM=W.DOM,S.ScriptLoader=_.ScriptLoader,S.PluginManager=I.PluginManager,S.ThemeManager=I.ThemeManager,S.dom=S.dom||{},S.dom.Event=R.Event,x.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(A){S[A]=x[A]}),x.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(A){S[A]=T[A.substr(2).toLowerCase()]}),{}}),Ne(it,[Rn,U],function(W,R){return W.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(_){this.settings=R.extend({},this.Defaults,_)},preRender:function(_){_.bodyClasses.add(this.settings.containerClass)},applyClasses:function(_){var T,S,A,k,x=this.settings;T=x.firstControlClass,S=x.lastControlClass,_.each(function(V){V.classes.remove(T).remove(S).add(x.controlClass),V.visible()&&(A||(A=V),k=V)}),A&&A.classes.add(T),k&&k.classes.add(S)},renderHtml:function(_){var x="";return this.applyClasses(_.items()),_.items().each(function(T){x+=T.renderHtml()}),x},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),Ne(Ze,[it],function(W){return W.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(R){R.items().filter(":visible").each(function(_){var I=_.settings;_.layoutRect({x:I.x,y:I.y,w:I.w,h:I.h}),_.recalc&&_.recalc()})},renderHtml:function(R){return'<div id="'+R._id+'-absend" class="'+R.classPrefix+'abs-end"></div>'+this._super(R)}})}),Ne(nt,[ai],function(W){return W.extend({Defaults:{classes:"widget btn",role:"button"},init:function(R){var I,_=this;_._super(R),R=_.settings,I=_.settings.size,_.on("click mousedown",function(x){x.preventDefault()}),_.on("touchstart",function(x){_.fire("click",x),x.preventDefault()}),R.subtype&&_.classes.add(R.subtype),I&&_.classes.add("btn-"+I),R.icon&&_.icon(R.icon)},icon:function(R){return arguments.length?(this.state.set("icon",R),this):this.state.get("icon")},repaint:function(){var _,R=this.getEl().firstChild;R&&((_=R.style).width=_.height="100%"),this._super()},renderHtml:function(){var T,R=this,_=R._id,I=R.classPrefix,x=R.state.get("icon"),S=R.state.get("text"),A="";return(T=R.settings.image)?(x="none","string"!=typeof T&&(T=window.getSelection?T[0]:T[1]),T=" style=\"background-image: url('"+T+"')\""):T="",S&&(R.classes.add("btn-has-text"),A='<span class="'+I+'txt">'+R.encode(S)+"</span>"),'<div id="'+_+'" class="'+R.classes+'" tabindex="-1" aria-labelledby="'+_+'"><button role="presentation" type="button" tabindex="-1">'+((x=x?I+"ico "+I+"i-"+x:"")?'<i class="'+x+'"'+T+"></i>":"")+A+"</button></div>"},bindStates:function(){function R(T){var S=I("span."+x,_.getEl());T?(S[0]||(I("button:first",_.getEl()).append('<span class="'+x+'"></span>'),S=I("span."+x,_.getEl())),S.html(_.encode(T))):S.remove(),_.classes.toggle("btn-has-text",!!T)}var _=this,I=_.$,x=_.classPrefix+"txt";return _.state.on("change:text",function(T){R(T.value)}),_.state.on("change:icon",function(T){var S=T.value,A=_.classPrefix;_.settings.icon=S,S=S?A+"ico "+A+"i-"+_.settings.icon:"";var k=_.getEl().firstChild,V=k.getElementsByTagName("i")[0];S?(V&&V==k.firstChild||(V=document.createElement("i"),k.insertBefore(V,k.firstChild)),V.className=S):V&&k.removeChild(V),R(_.state.get("text"))}),_._super()}})}),Ne(dt,[hr],function(W){return W.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var R=this,_=R._layout;return R.classes.add("btn-group"),R.preRender(),_.preRender(R),'<div id="'+R._id+'" class="'+R.classes+'"><div id="'+R._id+'-body">'+(R.settings.html||"")+_.renderHtml(R)+"</div></div>"}})}),Ne(mt,[ai],function(W){return W.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(R){var _=this;_._super(R),_.on("click mousedown",function(I){I.preventDefault()}),_.on("click",function(I){I.preventDefault(),_.disabled()||_.checked(!_.checked())}),_.checked(_.settings.checked)},checked:function(R){return arguments.length?(this.state.set("checked",R),this):this.state.get("checked")},value:function(R){return arguments.length?this.checked(R):this.checked()},renderHtml:function(){var R=this,_=R._id,I=R.classPrefix;return'<div id="'+_+'" class="'+R.classes+'" unselectable="on" aria-labelledby="'+_+'-al" tabindex="-1"><i class="'+I+"ico "+I+'i-checkbox"></i><span id="'+_+'-al" class="'+I+'label">'+R.encode(R.state.get("text"))+"</span></div>"},bindStates:function(){function R(I){_.classes.toggle("checked",I),_.aria("checked",I)}var _=this;return _.state.on("change:text",function(I){_.getEl("al").firstChild.data=_.translate(I.value)}),_.state.on("change:checked change:value",function(I){_.fire("change"),R(I.value)}),_.state.on("change:icon",function(I){var x=I.value,T=_.classPrefix;if(typeof x>"u")return _.settings.icon;_.settings.icon=x,x=x?T+"ico "+T+"i-"+_.settings.icon:"";var S=_.getEl().firstChild,A=S.getElementsByTagName("i")[0];x?(A&&A==S.firstChild||(A=document.createElement("i"),S.insertBefore(A,S.firstChild)),A.className=x):A&&S.removeChild(A)}),_.state.get("checked")&&R(!0),_._super()}})}),Ne(It,[ai,cr,Ai,oe,Et,U],function(W,R,_,I,x,T){return W.extend({init:function(S){var A=this;A._super(S),S=A.settings,A.classes.add("combobox"),A.subinput=!0,A.ariaTarget="inp",S.menu=S.menu||S.values,S.menu&&(S.icon="caret"),A.on("click",function(k){var V=k.target,H=A.getEl();if(I.contains(H,V)||V==H)for(;V&&V!=H;)V.id&&-1!=V.id.indexOf("-open")&&(A.fire("action"),S.menu&&(A.showMenu(),k.aria&&A.menu.items()[0].focus())),V=V.parentNode}),A.on("keydown",function(k){var V;13==k.keyCode&&"INPUT"===k.target.nodeName&&(k.preventDefault(),A.parents().reverse().each(function(H){if(H.toJSON)return V=H,!1}),A.fire("submit",{data:V.toJSON()}))}),A.on("keyup",function(k){if("INPUT"==k.target.nodeName){var V=A.state.get("value"),H=k.target.value;H!==V&&(A.state.set("value",H),A.fire("autocomplete",k))}}),A.on("mouseover",function(k){var V=A.tooltip().moveTo(-65535);if(A.statusLevel()&&-1!==k.target.className.indexOf(A.classPrefix+"status")){var H=A.statusMessage()||"Ok",G=V.text(H).show().testMoveRel(k.target,["bc-tc","bc-tl","bc-tr"]);V.classes.toggle("tooltip-n","bc-tc"==G),V.classes.toggle("tooltip-nw","bc-tl"==G),V.classes.toggle("tooltip-ne","bc-tr"==G),V.moveRel(k.target,G)}})},statusLevel:function(S){return arguments.length>0&&this.state.set("statusLevel",S),this.state.get("statusLevel")},statusMessage:function(S){return arguments.length>0&&this.state.set("statusMessage",S),this.state.get("statusMessage")},showMenu:function(){var k,S=this;S.menu||((k=S.settings.menu||[]).length?k={type:"menu",items:k}:k.type=k.type||"menu",S.menu=R.create(k).parent(S).renderTo(S.getContainerElm()),S.fire("createmenu"),S.menu.reflow(),S.menu.on("cancel",function(V){V.control===S.menu&&S.focus()}),S.menu.on("show hide",function(V){V.control.items().each(function(H){H.active(H.value()==S.value())})}).fire("show"),S.menu.on("select",function(V){S.value(V.control.value())}),S.on("focusin",function(V){"INPUT"==V.target.tagName.toUpperCase()&&S.menu.hide()}),S.aria("expanded",!0)),S.menu.show(),S.menu.layoutRect({w:S.layoutRect().w}),S.menu.moveRel(S.getEl(),S.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var H,G,S=this,A=S.getEl(),k=S.getEl("open"),V=S.layoutRect(),$=0,te=A.firstChild;S.statusLevel()&&"none"!==S.statusLevel()&&($=parseInt(_.getRuntimeStyle(te,"padding-right"),10)-parseInt(_.getRuntimeStyle(te,"padding-left"),10)),H=k?V.w-_.getSize(k).width-10:V.w-10;var K=document;return K.all&&(!K.documentMode||K.documentMode<=8)&&(G=S.layoutRect().h-2+"px"),I(te).css({width:H-$,lineHeight:G}),S._super(),S},postRender:function(){var S=this;return I(this.getEl("inp")).on("change",function(A){S.state.set("value",A.target.value),S.fire("change",A)}),S._super()},renderHtml:function(){var G,$,re,S=this,A=S._id,k=S.settings,V=S.classPrefix,H=S.state.get("value")||"",te="",K="";return"spellcheck"in k&&(K+=' spellcheck="'+k.spellcheck+'"'),k.maxLength&&(K+=' maxlength="'+k.maxLength+'"'),k.size&&(K+=' size="'+k.size+'"'),k.subtype&&(K+=' type="'+k.subtype+'"'),re='<i id="'+A+'-status" class="mce-status mce-ico" style="display: none"></i>',S.disabled()&&(K+=' disabled="disabled"'),(G=k.icon)&&"caret"!=G&&(G=V+"ico "+V+"i-"+k.icon),$=S.state.get("text"),(G||$)&&(te='<div id="'+A+'-open" class="'+V+"btn "+V+'open" tabIndex="-1" role="button"><button id="'+A+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=G?'<i class="'+G+'"></i>':'<i class="'+V+'caret"></i>')+($?(G?" ":"")+$:"")+"</button></div>",S.classes.add("has-open")),'<div id="'+A+'" class="'+S.classes+'"><input id="'+A+'-inp" class="'+V+'textbox" value="'+S.encode(H,!1)+'" hidefocus="1"'+K+' placeholder="'+S.encode(k.placeholder)+'" />'+re+te+"</div>"},value:function(S){return arguments.length?(this.state.set("value",S),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(S,A){var k=this;if(0!==S.length){var V=function(G,$){return function(){k.fire("selectitem",{title:$,value:G})}};k.menu?k.menu.items().remove():k.menu=R.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(k).renderTo(),T.each(S,function(G){k.menu.add({text:G.title,url:G.previewUrl,match:A,classes:"menu-item-ellipsis",onclick:V(G.value,G.title)})}),k.menu.renderNew(),k.hideMenu(),k.menu.on("cancel",function(G){G.control.parent()===k.menu&&(G.stopPropagation(),k.focus(),k.hideMenu())}),k.menu.on("select",function(){k.focus()});var H=k.layoutRect().w;k.menu.layoutRect({w:H,minW:0,maxW:H}),k.menu.reflow(),k.menu.show(),k.menu.moveRel(k.getEl(),k.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else k.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var S=this;S.state.on("change:value",function(k){S.getEl("inp").value!=k.value&&(S.getEl("inp").value=k.value)}),S.state.on("change:disabled",function(k){S.getEl("inp").disabled=k.value}),S.state.on("change:statusLevel",function(k){var V=S.getEl("status"),H=S.classPrefix,G=k.value;_.css(V,"display","none"===G?"none":""),_.toggleClass(V,H+"i-checkmark","ok"===G),_.toggleClass(V,H+"i-warning","warn"===G),_.toggleClass(V,H+"i-error","error"===G),S.classes.toggle("has-status","none"!==G),S.repaint()}),_.on(S.getEl("status"),"mouseleave",function(){S.tooltip().hide()}),S.on("cancel",function(k){S.menu&&S.menu.visible()&&(k.stopPropagation(),S.hideMenu())});var A=function(k,V){V&&V.items().length>0&&V.items().eq(k)[0].focus()};return S.on("keydown",function(k){var V=k.keyCode;"INPUT"===k.target.nodeName&&(V===x.DOWN?(k.preventDefault(),S.fire("autocomplete"),A(0,S.menu)):V===x.UP&&(k.preventDefault(),A(-1,S.menu)))}),S._super()},remove:function(){I(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),Ne(kt,[It],function(W){return W.extend({init:function(R){var _=this;R.spellcheck=!1,R.onaction&&(R.icon="none"),_._super(R),_.classes.add("colorbox"),_.on("change keyup postrender",function(){_.repaintColor(_.value())})},repaintColor:function(R){var _=this.getEl("open"),I=_?_.getElementsByTagName("i")[0]:null;if(I)try{I.style.background=R}catch{}},bindStates:function(){var R=this;return R.state.on("change:value",function(_){R.state.get("rendered")&&R.repaintColor(_.value)}),R._super()}})}),Ne(Ct,[nt,Yr],function(W,R){return W.extend({showPanel:function(){var _=this,I=_.settings;if(_.active(!0),_.panel)_.panel.show();else{var x=I.panel;x.type&&(x={layout:"grid",items:x}),x.role=x.role||"dialog",x.popover=!0,x.autohide=!0,x.ariaRoot=!0,_.panel=new R(x).on("hide",function(){_.active(!1)}).on("cancel",function(T){T.stopPropagation(),_.focus(),_.hidePanel()}).parent(_).renderTo(_.getContainerElm()),_.panel.fire("show"),_.panel.reflow()}_.panel.moveRel(_.getEl(),I.popoverAlign||(_.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var _=this;return _.aria("haspopup",!0),_.on("click",function(I){I.control===_&&(_.panel&&_.panel.visible()?_.hidePanel():(_.showPanel(),_.panel.focus(!!I.aria)))}),_._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),Ne(At,[Ct,L],function(W,R){var _=R.DOM;return W.extend({init:function(I){this._super(I),this.classes.add("colorbutton")},color:function(I){return I?(this._color=I,this.getEl("preview").style.backgroundColor=I,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var I=this,x=I._id,T=I.classPrefix,S=I.state.get("text"),A=I.settings.icon?T+"ico "+T+"i-"+I.settings.icon:"",k=I.settings.image?" style=\"background-image: url('"+I.settings.image+"')\"":"",V="";return S&&(I.classes.add("btn-has-text"),V='<span class="'+T+'txt">'+I.encode(S)+"</span>"),'<div id="'+x+'" class="'+I.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(A?'<i class="'+A+'"'+k+"></i>":"")+'<span id="'+x+'-preview" class="'+T+'preview"></span>'+V+'</button><button type="button" class="'+T+'open" hidefocus="1" tabindex="-1"> <i class="'+T+'caret"></i></button></div>'},postRender:function(){var I=this,x=I.settings.onclick;return I.on("click",function(T){T.aria&&"down"==T.aria.key||T.control!=I||_.getParent(T.target,"."+I.classPrefix+"open")||(T.stopImmediatePropagation(),x.call(I,T))}),delete I.settings.onclick,I._super()}})}),Ne(Lt,[],function(){var R=Math.min,_=Math.max,I=Math.round;return function W(x){function H(re){var Q;return"object"==typeof re?"r"in re?($=re.r,te=re.g,K=re.b):"v"in re&&function S(re,Q,pe){var Z,Y,z,C;if(re=(parseInt(re,10)||0)%360,Q=parseInt(Q,10)/100,pe=parseInt(pe,10)/100,Q=_(0,R(Q,1)),pe=_(0,R(pe,1)),0!==Q){switch(Z=re/60,z=(Y=pe*Q)*(1-Math.abs(Z%2-1)),C=pe-Y,Math.floor(Z)){case 0:$=Y,te=z,K=0;break;case 1:$=z,te=Y,K=0;break;case 2:$=0,te=Y,K=z;break;case 3:$=0,te=z,K=Y;break;case 4:$=z,te=0,K=Y;break;case 5:$=Y,te=0,K=z;break;default:$=te=K=0}$=I(255*($+C)),te=I(255*(te+C)),K=I(255*(K+C))}else $=te=K=I(255*pe)}(re.h,re.s,re.v):(Q=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(re))?($=parseInt(Q[1],10),te=parseInt(Q[2],10),K=parseInt(Q[3],10)):(Q=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(re))?($=parseInt(Q[1],16),te=parseInt(Q[2],16),K=parseInt(Q[3],16)):(Q=/#([0-F])([0-F])([0-F])/gi.exec(re))&&($=parseInt(Q[1]+Q[1],16),te=parseInt(Q[2]+Q[2],16),K=parseInt(Q[3]+Q[3],16)),$=$<0?0:$>255?255:$,te=te<0?0:te>255?255:te,K=K<0?0:K>255?255:K,G}var G=this,$=0,te=0,K=0;x&&H(x),G.toRgb=function k(){return{r:$,g:te,b:K}},G.toHsv=function V(){return function T(re,Q,pe){var Y,z,E,ne;return Y=0,z=0,(E=R(re/=255,R(Q/=255,pe/=255)))==(ne=_(re,_(Q,pe)))?{h:0,s:0,v:100*(z=E)}:(Y=(ne-E)/ne,z=ne,{h:I(60*((re==E?3:pe==E?1:5)-(re==E?Q-pe:pe==E?re-Q:pe-re)/(ne-E))),s:I(100*Y),v:I(100*z)})}($,te,K)},G.toHex=function A(){function re(Q){return(Q=parseInt(Q,10).toString(16)).length>1?Q:"0"+Q}return"#"+re($)+re(te)+re(K)},G.parse=H}}),Ne(mn,[ai,dr,Ai,Lt],function(W,R,_,I){return W.extend({Defaults:{classes:"widget colorpicker"},init:function(x){this._super(x)},postRender:function(){function x(re,Q){var Z,Y,pe=_.getPos(re);return Z=Q.pageX-pe.x,Y=Q.pageY-pe.y,{x:Z=Math.max(0,Math.min(Z/re.clientWidth,1)),y:Y=Math.max(0,Math.min(Y/re.clientHeight,1))}}function T(re,Q){_.css($,{top:(360-re.h)/360*100+"%"}),Q||_.css(K,{left:re.s+"%",top:100-re.v+"%"}),te.style.background=new I({s:100,v:100,h:re.h}).toHex(),k.color().parse({s:re.s,v:re.v,h:re.h})}function S(re){var Q;Q=x(te,re),H.s=100*Q.x,H.v=100*(1-Q.y),T(H),k.fire("change")}function A(re){var Q;Q=x(G,re),(H=V.toHsv()).h=360*(1-Q.y),T(H,!0),k.fire("change")}var H,G,$,te,K,k=this,V=k.color();G=k.getEl("h"),$=k.getEl("hp"),te=k.getEl("sv"),K=k.getEl("svp"),k._repaint=function(){T(H=V.toHsv())},k._super(),k._svdraghelper=new R(k._id+"-sv",{start:S,drag:S}),k._hdraghelper=new R(k._id+"-h",{start:A,drag:A}),k._repaint()},rgb:function(){return this.color().toRgb()},value:function(x){var T=this;return arguments.length?(T.color().parse(x),void(T._rendered&&T._repaint())):T.color().toHex()},color:function(){return this._color||(this._color=new I),this._color},renderHtml:function(){var k,T=this,S=T._id,A=T.classPrefix,V="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return k='<div id="'+S+'-h" class="'+A+'colorpicker-h" style="background: -ms-linear-gradient(top,'+V+");background: linear-gradient(to bottom,"+V+');">'+function x(){var G,$,K,re,te="";for(K="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",G=0,$=(re=V.split(",")).length-1;G<$;G++)te+='<div class="'+A+'colorpicker-h-chunk" style="height:'+100/$+"%;"+K+re[G]+",endColorstr="+re[G+1]+");-ms-"+K+re[G]+",endColorstr="+re[G+1]+')"></div>';return te}()+'<div id="'+S+'-hp" class="'+A+'colorpicker-h-marker"></div></div>','<div id="'+S+'" class="'+T.classes+'"><div id="'+S+'-sv" class="'+A+'colorpicker-sv"><div class="'+A+'colorpicker-overlay1"><div class="'+A+'colorpicker-overlay2"><div id="'+S+'-svp" class="'+A+'colorpicker-selector1"><div class="'+A+'colorpicker-selector2"></div></div></div></div></div>'+k+"</div>"}})}),Ne(Yt,[ai],function(W){return W.extend({init:function(R){var _=this;R.delimiter||(R.delimiter="\xbb"),_._super(R),_.classes.add("path"),_.canFocus=!0,_.on("click",function(I){var x;(x=I.target.getAttribute("data-index"))&&_.fire("select",{value:_.row()[x],index:x})}),_.row(_.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(R){return arguments.length?(this.state.set("row",R),this):this.state.get("row")},renderHtml:function(){var R=this;return'<div id="'+R._id+'" class="'+R.classes+'">'+R._getDataPathHtml(R.state.get("row"))+"</div>"},bindStates:function(){var R=this;return R.state.on("change:row",function(_){R.innerHtml(R._getDataPathHtml(_.value))}),R._super()},_getDataPathHtml:function(R){var x,T,_=this,I=R||[],S="",A=_.classPrefix;for(x=0,T=I.length;x<T;x++)S+=(x>0?'<div class="'+A+'divider" aria-hidden="true"> '+_.settings.delimiter+" </div>":"")+'<div role="button" class="'+A+"path-item"+(x==T-1?" "+A+"last":"")+'" data-index="'+x+'" tabindex="-1" id="'+_._id+"-"+x+'" aria-level="'+(x+1)+'">'+I[x].name+"</div>";return S||(S='<div class="'+A+'path-item">\xa0</div>'),S}})}),Ne(ln,[Yt],function(W){return W.extend({postRender:function(){function R(x){return!(1!==x.nodeType||"BR"!=x.nodeName&&!x.getAttribute("data-mce-bogus")&&"bookmark"!==x.getAttribute("data-mce-type"))}var _=this,I=_.settings.editor;return!1!==I.settings.elementpath&&(_.on("select",function(x){I.focus(),I.selection.select(this.row()[x.index].element),I.nodeChanged()}),I.on("nodeChange",function(x){for(var T=[],S=x.parents,A=S.length;A--;)if(1==S[A].nodeType&&!R(S[A])){var k=I.fire("ResolveName",{name:S[A].nodeName.toLowerCase(),target:S[A]});if(k.isDefaultPrevented()||T.push({name:k.name,element:S[A]}),k.isPropagationStopped())break}_.row(T)})),_._super()}})}),Ne(Vt,[hr],function(W){return W.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var R=this,_=R._layout,I=R.classPrefix;return R.classes.add("formitem"),_.preRender(R),'<div id="'+R._id+'" class="'+R.classes+'" hidefocus="1" tabindex="-1">'+(R.settings.title?'<div id="'+R._id+'-title" class="'+I+'title">'+R.settings.title+"</div>":"")+'<div id="'+R._id+'-body" class="'+R.bodyClasses+'">'+(R.settings.html||"")+_.renderHtml(R)+"</div></div>"}})}),Ne(tn,[hr,Vt,U],function(W,R,_){return W.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var I=this,x=I.items();I.settings.formItemDefaults||(I.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),x.each(function(T){var S,A=T.settings.label;A&&((S=new R(_.extend({items:{type:"label",id:T._id+"-l",text:A,flex:0,forId:T._id,disabled:T.disabled()}},I.settings.formItemDefaults))).type="formitem",T.aria("labelledby",T._id+"-l"),typeof T.settings.flex>"u"&&(T.settings.flex=1),I.replace(T,S),S.add(T))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var I=this;I._super(),I.fromJSON(I.settings.data)},bindStates:function(){function I(){var A,k,T=0,S=[];if(!1!==x.settings.labelGapCalc)for(("children"==x.settings.labelGapCalc?x.find("formitem"):x.items()).filter("formitem").each(function(H){var G=H.items()[0],$=G.getEl().clientWidth;T=$>T?$:T,S.push(G)}),k=x.settings.labelGap||0,A=S.length;A--;)S[A].settings.minWidth=T+k}var x=this;x._super(),x.on("show",I),I()}})}),Ne(hn,[tn],function(W){return W.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var R=this,_=R._layout,I=R.classPrefix;return R.preRender(),_.preRender(R),'<fieldset id="'+R._id+'" class="'+R.classes+'" hidefocus="1" tabindex="-1">'+(R.settings.title?'<legend id="'+R._id+'-title" class="'+I+'fieldset-title">'+R.settings.title+"</legend>":"")+'<div id="'+R._id+'-body" class="'+R.bodyClasses+'">'+(R.settings.html||"")+_.renderHtml(R)+"</div></fieldset>"}})}),Ne(bt,[L,Tt,O,Kr,U,Te],function(W,R,_,I,x,T){var S=x.trim,A=function(se,Se,Be,ht,ot){return{type:se,title:Se,url:Be,level:ht,attach:ot}},H=function(se){return se.innerText||se.textContent},te=function(se){return function(se){return se&&"A"===se.nodeName&&(se.id||se.name)}(se)&&re(se)},K=function(se){return se&&/^(H[1-6])$/.test(se.nodeName)},re=function(se){return function(se){for(;se=se.parentNode;){var Se=se.contentEditable;if(Se&&"inherit"!==Se)return T.isContentEditableTrue(se)}return!1}(se)&&!T.isContentEditableFalse(se)},Q=function(se){return K(se)&&re(se)},Z=function(se){var Se=function(se){return se.id?se.id:I.uuid("h")}(se);return A("header",H(se),"#"+Se,function(se){return K(se)?parseInt(se.nodeName.substr(1),10):0}(se),function(){se.id=Se})},Y=function(se){var Se=se.id||se.name,Be=H(se);return A("anchor",Be||"#"+Se,"#"+Se,0,R.noop)},ne=function(se){return S(se.title).length>0};return{find:function(se){var Se=function(se){return function(se,Se){return W.DOM.select("h1,h2,h3,h4,h5,h6,a:not([href])",Se)}(0,se)}(se);return _.filter(function(se){return _.map(_.filter(se,Q),Z)}(Se).concat(function(se){return _.map(_.filter(se,te),Y)}(Se)),ne)}}}),Ne(Kt,[It,U,O,Tt,Et,bt],function(W,R,_,I,x,T){var S={},k=function(z){return{title:z.title,value:{title:{raw:z.title},url:z.url,attach:z.attach}}},H=function(z,C){return{title:z,value:{title:z,url:C,attach:I.noop}}},$=function(z,C,E){var ne=C in z?z[C]:E;return!1===ne?null:ne},re=function(z,C){var E=z.toLowerCase(),ne=R.grep(C,function(me){return-1!==me.title.toLowerCase().indexOf(E)});return 1===ne.length&&ne[0].title===z?[]:ne},pe=function(z,C,E,ne){var me=function(se){var Be=function(z,C,E,ne){var ot,rt,ut,me={title:"-"},se=function(ot){var rt=_.filter(ot[E],function(ut){return function(z,C){return!_.find(C,function(ne){return ne.url===z})}(ut,C)});return R.map(rt,function(ut){return{title:ut,value:{title:ut,url:ut,attach:I.noop}}})},Se=function(ot){return function(z){return R.map(z,k)}(_.filter(C,function(ut){return ut.type==ot}))};return!1===ne.typeahead_urls?[]:"file"===E?function(ot){return _.reduce(ot,function(rt,ut){return 0===rt.length||0===ut.length?rt.concat(ut):rt.concat(me,ut)},[])}([re(z,se(S)),re(z,Se("header")),re(z,(ot=Se("anchor"),rt=$(ne,"anchor_top","#top"),ut=$(ne,"anchor_bottom","#bottom"),null!==rt&&ot.unshift(H("<top>",rt)),null!==ut&&ot.push(H("<bottom>",ut)),ot))]):re(z,se(S))}(se,T.find(E),ne,C);z.showAutoComplete(Be,se)};z.on("autocomplete",function(){me(z.value())}),z.on("selectitem",function(se){var Se=se.value;z.value(Se.url);var Be=function(z){var C=z.title;return C.raw?C.raw:C}(Se);z.fire("change","image"===ne?{meta:{alt:Be,attach:Se.attach}}:{meta:{text:Be,attach:Se.attach}}),z.focus()}),z.on("click",function(se){0===z.value().length&&"INPUT"===se.target.nodeName&&me("")}),z.on("PostRender",function(){z.getRoot().on("submit",function(se){se.isDefaultPrevented()||function(z,C){var E=S[C];/^https?/.test(z)&&(E?-1===_.indexOf(E,z)&&(S[C]=E.slice(0,5).concat(z)):S[C]=[z])}(z.value(),ne)})})};return W.extend({init:function(z){var me,se,Se,C=this,E=tinymce.activeEditor,ne=E.settings,Be=z.filetype;z.spellcheck=!1,(Se=ne.file_picker_types||ne.file_browser_callback_types)&&(Se=R.makeMap(Se,/[, ]/)),Se&&!Se[Be]||(!(se=ne.file_picker_callback)||Se&&!Se[Be]?!(se=ne.file_browser_callback)||Se&&!Se[Be]||(me=function(){se(C.getEl("inp").id,C.value(),Be,window)}):me=function(){var ht=C.fire("beforecall").meta;ht=R.extend({filetype:Be},ht),se.call(E,function(ot,rt){C.value(ot).fire("change",{meta:rt})},C.value(),ht)}),me&&(z.icon="browse",z.onaction=me),C._super(z),pe(C,ne,E.getBody(),Be),function(z,C,E){var ne=C.filepicker_validator_handler;ne&&z.state.on("change:value",function(se){!function(se){0===se.length?z.statusLevel("none"):ne({url:se,type:E},function(Se){var Be=function(z){var C=z.status,E=z.message;return"valid"===C?{status:"ok",message:E}:"unknown"===C||"invalid"===C?{status:"warn",message:E}:{status:"none",message:""}}(Se);z.statusMessage(Be.message),z.statusLevel(Be.status)})}(se.value)})}(C,ne,Be)}})}),Ne(pn,[Ze],function(W){return W.extend({recalc:function(R){var _=R.layoutRect(),I=R.paddingBox;R.items().filter(":visible").each(function(x){x.layoutRect({x:I.left,y:I.top,w:_.innerW-I.right-I.left,h:_.innerH-I.top-I.bottom}),x.recalc&&x.recalc()})}})}),Ne(vn,[Ze],function(W){return W.extend({recalc:function(R){var _,I,x,T,S,A,k,V,H,G,$,te,K,re,pe,Y,z,C,E,ne,me,se,Se,Be,ht,ot,rt,ut,lt,_t,ft,Pe,$e,ct,Mt,zt,yn,Z=[],On=Math.max,Gn=Math.min;for(x=R.items().filter(":visible"),T=R.layoutRect(),S=R.paddingBox,A=R.settings,te=R.isRtl()?A.direction||"row-reversed":A.direction,k=A.align,V=R.isRtl()?A.pack||"end":A.pack,H=A.spacing||0,"row-reversed"!=te&&"column-reverse"!=te||(x=x.set(x.toArray().reverse()),te=te.split("-")[0]),"column"==te?(Be="y",se="h",Se="minH",ht="maxH",rt="innerH",ot="top",ut="deltaH",lt="contentH",ct="left",Pe="w",_t="x",ft="innerW",$e="minW",Mt="right",zt="deltaW",yn="contentW"):(Be="x",se="w",Se="minW",ht="maxW",rt="innerW",ot="left",ut="deltaW",lt="contentW",ct="top",Pe="h",_t="y",ft="innerH",$e="minH",Mt="bottom",zt="deltaH",yn="contentH"),$=T[rt]-S[ot]-S[ot],me=G=0,_=0,I=x.length;_<I;_++)re=(K=x[_]).layoutRect(),$-=_<I-1?H:0,(pe=K.settings.flex)>0&&(G+=pe,re[ht]&&Z.push(K),re.flex=pe),$-=re[Se],(Y=S[ct]+re[$e]+S[Mt])>me&&(me=Y);if((E={})[Se]=$<0?T[Se]-$+T[ut]:T[rt]-$+T[ut],E[$e]=me+T[zt],E[lt]=T[rt]-$,E[yn]=me,E.minW=Gn(E.minW,T.maxW),E.minH=Gn(E.minH,T.maxH),E.minW=On(E.minW,T.startMinWidth),E.minH=On(E.minH,T.startMinHeight),!T.autoResize||E.minW==T.minW&&E.minH==T.minH){for(C=$/G,_=0,I=Z.length;_<I;_++)(Y=(re=(K=Z[_]).layoutRect())[Se]+re.flex*C)>(z=re[ht])?($-=re[ht]-re[Se],G-=re.flex,re.flex=0,re.maxFlexSize=z):re.maxFlexSize=0;for(C=$/G,ne=S[ot],E={},0===G&&("end"==V?ne=$+S[ot]:"center"==V?(ne=Math.round(T[rt]/2-(T[rt]-$)/2)+S[ot])<0&&(ne=S[ot]):"justify"==V&&(ne=S[ot],H=Math.floor($/(x.length-1)))),E[_t]=S[ct],_=0,I=x.length;_<I;_++)Y=(re=(K=x[_]).layoutRect()).maxFlexSize||re[Se],"center"===k?E[_t]=Math.round(T[ft]/2-re[Pe]/2):"stretch"===k?(E[Pe]=On(re[$e]||0,T[ft]-S[ct]-S[Mt]),E[_t]=S[ct]):"end"===k&&(E[_t]=T[ft]-re[Pe]-S.top),re.flex>0&&(Y+=re.flex*C),E[se]=Y,E[Be]=ne,K.layoutRect(E),K.recalc&&K.recalc(),ne+=Y+H}else if(E.w=E.minW,E.h=E.minH,R.layoutRect(E),this.recalc(R),null===R._lastRect){var Xn=R.parent();Xn&&(Xn._lastRect=null,Xn.recalc())}}})}),Ne(ci,[it],function(W){return W.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(R){R.items().filter(":visible").each(function(_){_.recalc&&_.recalc()})},isNative:function(){return!0}})}),Ne(ni,[L],function(W){var R=function(A,k,V){for(;V!==k;){if(V.style[A])return V.style[A];V=V.parentNode}return""},x=function(A,k){return W.DOM.getStyle(k,A,!0)};return{getFontSize:function(A,k){var V=R("fontSize",A,k);return""!==V?V:x("fontSize",k)},getFontFamily:function(A,k){var V=R("fontFamily",A,k),H=""!==V?V:x("fontFamily",k);return H!==Ve?function(A){return A.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}(H):""},toPt:function(A){return/[0-9.]+px$/.test(A)?Math.round(72*parseInt(A,10)/96)+"pt":A}}}),Ne(Qi,[vr,ai,Yr,U,O,L,De,D,ni],function(W,R,_,I,x,T,S,A,k){function G(K){function re(ut,lt){return function(){var _t=this;K.on("nodeChange",function(ft){var Pe=K.formatter,$e=null;$(ft.parents,function(ct){if($(ut,function(Mt){if(lt?Pe.matchNode(ct,lt,{value:Mt.value})&&($e=Mt.value):Pe.matchNode(ct,Mt.value)&&($e=Mt.value),$e)return!1}),$e)return!1}),_t.value($e)})}}function pe(ut){return function(){var lt=this;K.on("nodeChange",function(_t){var ft,Pe,$e=null;ft=k.getFontSize(K.getBody(),_t.element),Pe=k.toPt(ft),$(ut,function(ct){ct.value===ft?$e=ft:ct.value===Pe&&($e=Pe)}),lt.value($e),$e||lt.text(Pe)})}}function Z(ut){for(var lt=(ut=ut.replace(/;$/,"").split(";")).length;lt--;)ut[lt]=ut[lt].split("=");return ut}function z(ut){return function(){var lt=this;K.formatter?K.formatter.formatChanged(ut,function(_t){lt.active(_t)}):K.on("init",function(){K.formatter.formatChanged(ut,function(_t){lt.active(_t)})})}}function C(ut){return function(){function lt(){return!!K.undoManager&&K.undoManager["redo"==ut?"hasRedo":"hasUndo"]()}var _t=this;_t.disabled(!lt()),K.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){_t.disabled(K.readonly||!lt())})}}function ne(ut){ut.control&&(ut=ut.control.value()),ut&&K.execCommand("mceToggleFormat",!1,ut)}function me(ut){var lt=ut.length;return I.each(ut,function(_t){_t.menu&&(_t.hidden=0===me(_t.menu));var ft=_t.format;ft&&(_t.hidden=!K.formatter.canApply(ft)),_t.hidden&&lt--}),lt}function se(ut){var lt=ut.items().length;return ut.items().each(function(_t){_t.menu&&_t.visible(se(_t.menu)>0),!_t.menu&&_t.settings.menu&&_t.visible(me(_t.settings.menu)>0);var ft=_t.settings.format;ft&&_t.visible(K.formatter.canApply(ft)),_t.visible()||lt--}),lt}var Se;Se=function Y(){function ut($e){var ct=[];if($e)return $($e,function(Mt){var zt={text:Mt.title,icon:Mt.icon};if(Mt.items)zt.menu=ut(Mt.items);else{var yn=Mt.format||"custom"+_t++;Mt.format||(Mt.name=yn,ft.push(Mt)),zt.format=yn,zt.cmd=Mt.cmd}ct.push(zt)}),ct}var _t=0,ft=[],Pe=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return K.on("init",function(){$(ft,function($e){K.formatter.register($e.name,$e)})}),{type:"menu",items:function lt(){return ut(K.settings.style_formats_merge?K.settings.style_formats?Pe.concat(K.settings.style_formats):Pe:K.settings.style_formats||Pe)}(),onPostRender:function($e){K.fire("renderFormatsMenu",{control:$e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return K.formatter.getCssText(this.settings.format)},onPostRender:function(){var $e=this;$e.parent().on("show",function(){var ct,Mt;(ct=$e.settings.format)&&($e.disabled(!K.formatter.canApply(ct)),$e.active(K.formatter.match(ct))),(Mt=$e.settings.cmd)&&$e.active(K.queryCommandState(Mt))})},onclick:function(){this.settings.format&&ne(this.settings.format),this.settings.cmd&&K.execCommand(this.settings.cmd)}}}}(),$({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(ut,lt){K.addButton(lt,{tooltip:ut,onPostRender:z(lt),onclick:function(){ne(lt)}})}),$({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(ut,lt){K.addButton(lt,{tooltip:ut[0],cmd:ut[1]})}),$({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(ut,lt){K.addButton(lt,{tooltip:ut[0],cmd:ut[1],onPostRender:z(lt)})});var ht=function(ut){var lt,_t;if("string"==typeof ut)_t=ut.split(" ");else if(I.isArray(ut))return te(I.map(ut,ht));return lt=I.grep(_t,function(ft){return"|"===ft||ft in K.menuItems}),I.map(lt,function(ft){return"|"===ft?{text:"-"}:K.menuItems[ft]})};K.addButton("undo",{tooltip:"Undo",onPostRender:C("undo"),cmd:"undo"}),K.addButton("redo",{tooltip:"Redo",onPostRender:C("redo"),cmd:"redo"}),K.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),K.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:C("undo"),cmd:"undo"}),K.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:C("redo"),cmd:"redo"}),K.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function E(){var ut=this;K.on("VisualAid",function(lt){ut.active(lt.hasVisual)}),ut.active(K.hasVisual)},cmd:"mceToggleVisualAid"}),K.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),K.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){var ut,lt,_t;this.menu.add(function(ut){var lt=ut;return lt.length>0&&"-"===lt[0].text&&(lt=lt.slice(1)),lt.length>0&&"-"===lt[lt.length-1].text&&(lt=lt.slice(0,lt.length-1)),lt}((ut=K.settings).insert_button_items?ht(ut.insert_button_items):(lt=[{text:"-"}],_t=I.grep(K.menuItems,function(ft){return"insert"===ft.context}),I.each(_t,function(ft){"before"==ft.separator&&lt.push({text:"|"}),ft.prependToContext?lt.unshift(ft):lt.push(ft),"after"==ft.separator&&lt.push({text:"|"})}),lt))),this.menu.renderNew()}}),$({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(ut,lt){K.addMenuItem(lt,{text:ut[0],icon:lt,shortcut:ut[2],cmd:ut[1]})}),K.on("mousedown",function(){_.hideAll()}),K.addButton("styleselect",{type:"menubutton",text:"Formats",menu:Se,onShowMenu:function(){K.settings.style_formats_autohide&&se(this.menu)}}),K.addButton("formatselect",function(){var ut=[],lt=Z(K.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return $(lt,function(_t){ut.push({text:_t[0],value:_t[1],textStyle:function(){return K.formatter.getCssText(_t[1])}})}),{type:"listbox",text:lt[0][0],values:ut,fixedWidth:!0,onselect:ne,onPostRender:re(ut)}}),K.addButton("fontselect",function(){var ut,lt=[],_t=Z(K.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return $(_t,function(ft){lt.push({text:{raw:ft[0]},value:ft[1],textStyle:-1==ft[1].indexOf("dings")?"font-family:"+ft[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:lt,fixedWidth:!0,onPostRender:(ut=lt,function(){var lt=this,_t=function(ft){return ft?ft.split(",")[0]:""};K.on("nodeChange",function(ft){var Pe,$e=null;Pe=k.getFontFamily(K.getBody(),ft.element),$(ut,function(ct){ct.value.toLowerCase()===Pe.toLowerCase()&&($e=ct.value)}),$(ut,function(ct){$e||_t(ct.value).toLowerCase()!==_t(Pe).toLowerCase()||($e=ct.value)}),lt.value($e),!$e&&Pe&&lt.text(_t(Pe))})}),onselect:function(ft){ft.control.settings.value&&K.execCommand("FontName",!1,ft.control.settings.value)}}}),K.addButton("fontsizeselect",function(){var ut=[];return $((K.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(ft){var Pe=ft,$e=ft,ct=ft.split("=");ct.length>1&&(Pe=ct[0],$e=ct[1]),ut.push({text:Pe,value:$e})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:ut,fixedWidth:!0,onPostRender:pe(ut),onclick:function(ft){ft.control.settings.value&&K.execCommand("FontSize",!1,ft.control.settings.value)}}}),K.addMenuItem("formats",{text:"Formats",menu:Se})}var $=I.each,te=function(K){return x.reduce(K,function(re,Q){return re.concat(Q)},[])};S.on("AddEditor",function(K){var re=K.editor;(function H(K){K.on("ScriptsLoaded",function(){K.rtl&&(W.rtl=!0)})})(re),G(re),function V(K){K.settings.ui_container&&(A.container=T.DOM.select(K.settings.ui_container)[0])}(re)}),W.translate=function(K){return S.translate(K)},R.tooltips=!A.iOS}),Ne(tr,[Ze],function(W){return W.extend({recalc:function(R){var _,I,x,T,S,A,k,V,H,G,$,te,K,re,Q,pe,Z,Y,z,C,E,ne,me,Be,ht,ot,rt,ut,se=[],Se=[];for((_=R.settings,T=R.items().filter(":visible"),S=R.layoutRect(),x=_.columns||Math.ceil(Math.sqrt(T.length)),I=Math.ceil(T.length/x),Y=_.spacingH||_.spacing||0,z=_.spacingV||_.spacing||0,C=_.alignH||_.align,E=_.alignV||_.align,pe=R.paddingBox,ut="reverseRows"in _?_.reverseRows:R.isRtl(),C&&"string"==typeof C&&(C=[C]),E&&"string"==typeof E&&(E=[E]),$=0);$<x;$++)se.push(0);for(te=0;te<I;te++)Se.push(0);for(te=0;te<I;te++)for($=0;$<x&&(G=T[te*x+$]);$++)ht=(H=G.layoutRect()).minH,se[$]=(Be=H.minW)>se[$]?Be:se[$],Se[te]=ht>Se[te]?ht:Se[te];for(ot=S.innerW-pe.left-pe.right,ne=0,$=0;$<x;$++)ne+=se[$]+($>0?Y:0),ot-=($>0?Y:0)+se[$];for(rt=S.innerH-pe.top-pe.bottom,me=0,te=0;te<I;te++)me+=Se[te]+(te>0?z:0),rt-=(te>0?z:0)+Se[te];if(me+=pe.top+pe.bottom,(V={}).minW=(ne+=pe.left+pe.right)+(S.w-S.innerW),V.minH=me+(S.h-S.innerH),V.contentW=V.minW-S.deltaW,V.contentH=V.minH-S.deltaH,V.minW=Math.min(V.minW,S.maxW),V.minH=Math.min(V.minH,S.maxH),V.minW=Math.max(V.minW,S.startMinWidth),V.minH=Math.max(V.minH,S.startMinHeight),!S.autoResize||V.minW==S.minW&&V.minH==S.minH){var _t;S.autoResize&&((V=R.layoutRect(V)).contentW=V.minW-S.deltaW,V.contentH=V.minH-S.deltaH),_t="start"==_.packV?0:rt>0?Math.floor(rt/I):0;var ft=0,Pe=_.flexWidths;if(Pe)for($=0;$<Pe.length;$++)ft+=Pe[$];else ft=x;var $e=ot/ft;for($=0;$<x;$++)se[$]+=Pe?Pe[$]*$e:$e;for(re=pe.top,te=0;te<I;te++){for(K=pe.left,k=Se[te]+_t,$=0;$<x&&(G=T[ut?te*x+x-1-$:te*x+$]);$++)Q=G.settings,H=G.layoutRect(),A=Math.max(se[$],H.startMinWidth),H.x=K,H.y=re,"center"==(Z=Q.alignH||(C?C[$]||C[0]:null))?H.x=K+A/2-H.w/2:"right"==Z?H.x=K+A-H.w:"stretch"==Z&&(H.w=A),"center"==(Z=Q.alignV||(E?E[$]||E[0]:null))?H.y=re+k/2-H.h/2:"bottom"==Z?H.y=re+k-H.h:"stretch"==Z&&(H.h=k),G.layoutRect(H),K+=A+Y,G.recalc&&G.recalc();re+=k+z}}else if(V.w=V.minW,V.h=V.minH,R.layoutRect(V),this.recalc(R),null===R._lastRect){var ct=R.parent();ct&&(ct._lastRect=null,ct.recalc())}}})}),Ne(ji,[ai,y],function(W,R){return W.extend({renderHtml:function(){var _=this;return _.classes.add("iframe"),_.canFocus=!1,'<iframe id="'+_._id+'" class="'+_.classes+'" tabindex="-1" src="'+(_.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(_){this.getEl().src=_},html:function(_,I){var x=this,T=this.getEl().contentWindow.document.body;return T?(T.innerHTML=_,I&&I()):R.setTimeout(function(){x.html(_)}),this}})}),Ne(er,[ai],function(W){return W.extend({init:function(R){var _=this;_._super(R),_.classes.add("widget").add("infobox"),_.canFocus=!1},severity:function(R){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(R)},help:function(R){this.state.set("help",R)},renderHtml:function(){var R=this,_=R.classPrefix;return'<div id="'+R._id+'" class="'+R.classes+'"><div id="'+R._id+'-body">'+R.encode(R.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+_+"ico "+_+'i-help"></i></button></div></div>'},bindStates:function(){var R=this;return R.state.on("change:text",function(_){R.getEl("body").firstChild.data=R.encode(_.value),R.state.get("rendered")&&R.updateLayoutRect()}),R.state.on("change:help",function(_){R.classes.toggle("has-help",_.value),R.state.get("rendered")&&R.updateLayoutRect()}),R._super()}})}),Ne(Ui,[ai,Ai],function(W,R){return W.extend({init:function(_){var I=this;I._super(_),I.classes.add("widget").add("label"),I.canFocus=!1,_.multiline&&I.classes.add("autoscroll"),_.strong&&I.classes.add("strong")},initLayoutRect:function(){var _=this,I=_._super();return _.settings.multiline&&(R.getSize(_.getEl()).width>I.maxW&&(I.minW=I.maxW,_.classes.add("multiline")),_.getEl().style.width=I.minW+"px",I.startMinH=I.h=I.minH=Math.min(I.maxH,R.getSize(_.getEl()).height)),I},repaint:function(){var _=this;return _.settings.multiline||(_.getEl().style.lineHeight=_.layoutRect().h+"px"),_._super()},severity:function(_){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(_)},renderHtml:function(){var I,x,_=this,T=_.settings.forId;return!T&&(x=_.settings.forName)&&(I=_.getRoot().find("#"+x)[0])&&(T=I._id),T?'<label id="'+_._id+'" class="'+_.classes+'"'+(T?' for="'+T+'"':"")+">"+_.encode(_.state.get("text"))+"</label>":'<span id="'+_._id+'" class="'+_.classes+'">'+_.encode(_.state.get("text"))+"</span>"},bindStates:function(){var _=this;return _.state.on("change:text",function(I){_.innerHtml(_.encode(I.value)),_.state.get("rendered")&&_.updateLayoutRect()}),_._super()}})}),Ne(Ti,[hr],function(W){return W.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(R){this._super(R),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(_){_.classes.add("toolbar-item")}),this._super()}})}),Ne(ki,[Ti],function(W){return W.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),Ne(Qn,[nt,cr,ki],function(W,R,_){var x=W.extend({init:function(T){var S=this;S._renderOpen=!0,S._super(T),T=S.settings,S.classes.add("menubtn"),T.fixedWidth&&S.classes.add("fixed-width"),S.aria("haspopup",!0),S.state.set("menu",T.menu||S.render())},showMenu:function(T){var A,S=this;return S.menu&&S.menu.visible()&&!1!==T?S.hideMenu():(S.menu||((A=S.state.get("menu")||[]).length?A={type:"menu",items:A}:A.type=A.type||"menu",S.menu=A.renderTo?A.parent(S).show().renderTo():R.create(A).parent(S).renderTo(),S.fire("createmenu"),S.menu.reflow(),S.menu.on("cancel",function(k){k.control.parent()===S.menu&&(k.stopPropagation(),S.focus(),S.hideMenu())}),S.menu.on("select",function(){S.focus()}),S.menu.on("show hide",function(k){k.control==S.menu&&S.activeMenu("show"==k.type),S.aria("expanded","show"==k.type)}).fire("show")),S.menu.show(),S.menu.layoutRect({w:S.layoutRect().w}),S.menu.moveRel(S.getEl(),S.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void S.fire("showmenu"))},hideMenu:function(){var T=this;T.menu&&(T.menu.items().each(function(S){S.hideMenu&&S.hideMenu()}),T.menu.hide())},activeMenu:function(T){this.classes.toggle("active",T)},renderHtml:function(){var V,T=this,S=T._id,A=T.classPrefix,k=T.settings.icon,H=T.state.get("text"),G="";return(V=T.settings.image)?(k="none","string"!=typeof V&&(V=window.getSelection?V[0]:V[1]),V=" style=\"background-image: url('"+V+"')\""):V="",H&&(T.classes.add("btn-has-text"),G='<span class="'+A+'txt">'+T.encode(H)+"</span>"),k=T.settings.icon?A+"ico "+A+"i-"+k:"",T.aria("role",T.parent()instanceof _?"menuitem":"button"),'<div id="'+S+'" class="'+T.classes+'" tabindex="-1" aria-labelledby="'+S+'"><button id="'+S+'-open" role="presentation" type="button" tabindex="-1">'+(k?'<i class="'+k+'"'+V+"></i>":"")+G+' <i class="'+A+'caret"></i></button></div>'},postRender:function(){var T=this;return T.on("click",function(S){S.control===T&&function I(T,S){for(;T;){if(S===T)return!0;T=T.parentNode}return!1}(S.target,T.getEl())&&(T.focus(),T.showMenu(!S.aria),S.aria&&T.menu.items().filter(":visible")[0].focus())}),T.on("mouseenter",function(S){var V,A=S.control,k=T.parent();A&&k&&A instanceof x&&A.parent()==k&&(k.items().filter("MenuButton").each(function(H){H.hideMenu&&H!=A&&(H.menu&&H.menu.visible()&&(V=!0),H.hideMenu())}),V&&(A.focus(),A.showMenu()))}),T._super()},bindStates:function(){var T=this;return T.state.on("change:menu",function(){T.menu&&T.menu.remove(),T.menu=null}),T._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return x}),Ne(pr,[ai,cr,D,y],function(W,R,_,I){return W.extend({Defaults:{border:0,role:"menuitem"},init:function(x){var S,T=this;T._super(x),x=T.settings,T.classes.add("menu-item"),x.menu&&T.classes.add("menu-item-expand"),x.preview&&T.classes.add("menu-item-preview"),"-"!==(S=T.state.get("text"))&&"|"!==S||(T.classes.add("menu-item-sep"),T.aria("role","separator"),T.state.set("text","-")),x.selectable&&(T.aria("role","menuitemcheckbox"),T.classes.add("menu-item-checkbox"),x.icon="selected"),x.preview||x.selectable||T.classes.add("menu-item-normal"),T.on("mousedown",function(A){A.preventDefault()}),x.menu&&!x.ariaHideMenu&&T.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var S,x=this,T=x.settings,A=x.parent();if(A.items().each(function(V){V!==x&&V.hideMenu()}),T.menu){(S=x.menu)?S.show():((S=T.menu).length?S={type:"menu",items:S}:S.type=S.type||"menu",A.settings.itemDefaults&&(S.itemDefaults=A.settings.itemDefaults),(S=x.menu=R.create(S).parent(x).renderTo()).reflow(),S.on("cancel",function(V){V.stopPropagation(),x.focus(),S.hide()}),S.on("show hide",function(V){V.control.items&&V.control.items().each(function(H){H.active(H.settings.selected)})}).fire("show"),S.on("hide",function(V){V.control===S&&x.classes.remove("selected")}),S.submenu=!0),S._parentMenu=A,S.classes.add("menu-sub");var k=S.testMoveRel(x.getEl(),x.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);S.moveRel(x.getEl(),k),S.rel=k,k="menu-sub-"+k,S.classes.remove(S._lastRel).add(k),S._lastRel=k,x.classes.add("selected"),x.aria("expanded",!0)}},hideMenu:function(){var x=this;return x.menu&&(x.menu.items().each(function(T){T.hideMenu&&T.hideMenu()}),x.menu.hide(),x.aria("expanded",!1)),x},renderHtml:function(){function T(Z){return Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(Z){var Y=H.match||"";return Y?Z.replace(new RegExp(T(Y),"gi"),function(z){return"!mce~match["+z+"]mce~match!"}):Z}function A(Z){return Z.replace(new RegExp(T("!mce~match["),"g"),"<b>").replace(new RegExp(T("]mce~match!"),"g"),"</b>")}var pe,k=this,V=k._id,H=k.settings,G=k.classPrefix,$=k.state.get("text"),te=k.settings.icon,K="",re=H.shortcut,Q=k.encode(H.url);return te&&k.parent().classes.add("menu-has-icons"),H.image&&(K=" style=\"background-image: url('"+H.image+"')\""),re&&(re=function x(Z){var Y,z,C;for(C=_.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},Z=Z.split("+"),Y=0;Y<Z.length;Y++)(z=C[Z[Y].toLowerCase()])&&(Z[Y]=z);return Z.join("+")}(re)),te=G+"ico "+G+"i-"+(k.settings.icon||"none"),pe="-"!==$?'<i class="'+te+'"'+K+"></i>\xa0":"",$=A(k.encode(S($))),Q=A(k.encode(S(Q))),'<div id="'+V+'" class="'+k.classes+'" tabindex="-1">'+pe+("-"!==$?'<span id="'+V+'-text" class="'+G+'text">'+$+"</span>":"")+(re?'<div id="'+V+'-shortcut" class="'+G+'menu-shortcut">'+re+"</div>":"")+(H.menu?'<div class="'+G+'caret"></div>':"")+(Q?'<div class="'+G+'menu-item-link">'+Q+"</div>":"")+"</div>"},postRender:function(){var x=this,T=x.settings,S=T.textStyle;if("function"==typeof S&&(S=S.call(this)),S){var A=x.getEl("text");A&&A.setAttribute("style",S)}return x.on("mouseenter click",function(k){k.control===x&&(T.menu||"click"!==k.type?(x.showMenu(),k.aria&&x.menu.focus(!0)):(x.fire("select"),I.requestAnimationFrame(function(){x.parent().hideAll()})))}),x._super(),x},hover:function(){var x=this;return x.parent().items().each(function(T){T.classes.remove("selected")}),x.classes.toggle("selected",!0),x},active:function(x){return typeof x<"u"&&this.aria("checked",x),this._super(x)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),Ne(Ki,[oe,vr,y],function(W,R,_){return function(I,x){var S,k,T=this,A=R.classPrefix;T.show=function(V,H){function G(){S&&(W(I).append('<div class="'+A+"throbber"+(x?" "+A+"throbber-inline":"")+'"></div>'),H&&H())}return T.hide(),S=!0,V?k=_.setTimeout(G,V):G(),T},T.hide=function(){var V=I.lastChild;return _.clearTimeout(k),V&&-1!=V.className.indexOf("throbber")&&V.parentNode.removeChild(V),S=!1,T}}}),Ne(wr,[Yr,pr,Ki,U],function(W,R,_,I){return W.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(x){if(x.autohide=!0,x.constrainToViewport=!0,"function"==typeof x.items&&(x.itemsFactory=x.items,x.items=[]),x.itemDefaults)for(var S=x.items,A=S.length;A--;)S[A]=I.extend({},x.itemDefaults,S[A]);this._super(x),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){function x(){T.throbber&&(T.throbber.hide(),T.throbber=null)}var S,T=this;T.settings.itemsFactory&&(T.throbber||(T.throbber=new _(T.getEl("body"),!0),0===T.items().length?(T.throbber.show(),T.fire("loading")):T.throbber.show(100,function(){T.items().remove(),T.fire("loading")}),T.on("hide close",x)),T.requestTime=S=(new Date).getTime(),T.settings.itemsFactory(function(k){return 0===k.length?void T.hide():void(T.requestTime===S&&(T.getEl().style.width="",T.getEl("body").style.width="",x(),T.items().remove(),T.getEl("body").innerHTML="",T.add(k),T.renderNew(),T.fire("loaded")))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var x=this;return x.items().each(function(T){var S=T.settings;if(S.icon||S.image||S.selectable)return x._hasIcons=!0,!1}),x.settings.itemsFactory&&x.on("postrender",function(){x.settings.itemsFactory&&x.load()}),x._super()}})}),Ne(Sr,[Qn,wr],function(W,R){return W.extend({init:function(_){var T,S,A,k,x=this;x._super(_),x._values=T=(_=x.settings).values,T&&(typeof _.value<"u"&&function I(V){for(var H=0;H<V.length;H++){if(S=V[H].selected||_.value===V[H].value)return A=A||V[H].text,x.state.set("value",V[H].value),!0;if(V[H].menu&&I(V[H].menu))return!0}}(T),!S&&T.length>0&&(A=T[0].text,x.state.set("value",T[0].value)),x.state.set("menu",T)),x.state.set("text",_.text||A),x.classes.add("listbox"),x.on("select",function(V){var H=V.control;k&&(V.lastControl=k),_.multiple?H.active(!H.active()):x.value(V.control.value()),k=H})},bindStates:function(){function I(T,S){var A;if(T)for(var k=0;k<T.length;k++){if(T[k].value===S)return T[k];if(T[k].menu&&(A=I(T[k].menu,S)))return A}}var x=this;return x.on("show",function(T){!function _(T,S){T instanceof R&&T.items().each(function(A){A.hasMenus()||A.active(A.value()===S)})}(T.control,x.value())}),x.state.on("change:value",function(T){var S=I(x.state.get("menu"),T.value);x.text(S?S.text:x.settings.text)}),x._super()}})}),Ne(to,[mt],function(W){return W.extend({Defaults:{classes:"radio",role:"radio"}})}),Ne(zr,[ai,dr],function(W,R){return W.extend({renderHtml:function(){var _=this,I=_.classPrefix;return _.classes.add("resizehandle"),"both"==_.settings.direction&&_.classes.add("resizehandle-both"),_.canFocus=!1,'<div id="'+_._id+'" class="'+_.classes+'"><i class="'+I+"ico "+I+'i-resize"></i></div>'},postRender:function(){var _=this;_._super(),_.resizeDragHelper=new R(this._id,{start:function(){_.fire("ResizeStart")},drag:function(I){"both"!=_.settings.direction&&(I.deltaX=0),_.fire("Resize",I)},stop:function(){_.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),Ne(gr,[ai],function(W){function R(_){var I="";if(_)for(var x=0;x<_.length;x++)I+='<option value="'+_[x]+'">'+_[x]+"</option>";return I}return W.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(_){var I=this;I._super(_),I.settings.size&&(I.size=I.settings.size),I.settings.options&&(I._options=I.settings.options),I.on("keydown",function(x){var T;13==x.keyCode&&(x.preventDefault(),I.parents().reverse().each(function(S){if(S.toJSON)return T=S,!1}),I.fire("submit",{data:T.toJSON()}))})},options:function(_){return arguments.length?(this.state.set("options",_),this):this.state.get("options")},renderHtml:function(){var I,_=this,x="";return I=R(_._options),_.size&&(x=' size = "'+_.size+'"'),'<select id="'+_._id+'" class="'+_.classes+'"'+x+">"+I+"</select>"},bindStates:function(){var _=this;return _.state.on("change:options",function(I){_.getEl().innerHTML=R(I.value)}),_._super()}})}),Ne(Vn,[ai,dr,Ai],function(W,R,_){function I(S,A,k){return S<A&&(S=A),S>k&&(S=k),S}function x(S,A,k){S.setAttribute("aria-"+A,k)}function T(S,A){var k,V,H,G,te;"v"==S.settings.orientation?(G="top",H="height",V="h"):(G="left",H="width",V="w"),te=S.getEl("handle"),k=(S.layoutRect()[V]||100)-_.getSize(te)[H],te.style[G]=k*((A-S._minValue)/(S._maxValue-S._minValue))+"px",te.style.height=S.layoutRect().h+"px",x(te,"valuenow",A),x(te,"valuetext",""+S.settings.previewFilter(A)),x(te,"valuemin",S._minValue),x(te,"valuemax",S._maxValue)}return W.extend({init:function(S){var A=this;S.previewFilter||(S.previewFilter=function(k){return Math.round(100*k)/100}),A._super(S),A.classes.add("slider"),"v"==S.orientation&&A.classes.add("vertical"),A._minValue=S.minValue||0,A._maxValue=S.maxValue||100,A._initValue=A.state.get("value")},renderHtml:function(){var S=this,A=S._id;return'<div id="'+A+'" class="'+S.classes+'"><div id="'+A+'-handle" class="'+S.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var G,$,te,K,re,Q,H=this;G=H._minValue,$=H._maxValue,"v"==H.settings.orientation?(te="screenY",K="top",re="height",Q="h"):(te="screenX",K="left",re="width",Q="w"),H._super(),function k(pe,Z){function Y(z){var C;C=H.value(),C=function A(pe,Z,Y){return Y*(Z-pe)-pe}(pe,Z,function S(pe,Z,Y){return(Y+pe)/(Z-pe)}(pe,Z,C)+.05*z),C=I(C,pe,Z),H.value(C),H.fire("dragstart",{value:C}),H.fire("drag",{value:C}),H.fire("dragend",{value:C})}H.on("keydown",function(z){switch(z.keyCode){case 37:case 38:Y(-1);break;case 39:case 40:Y(1)}})}(G,$,H.getEl("handle")),function V(pe,Z,Y){var z,C,E,ne,me;H._dragHelper=new R(H._id,{handle:H._id+"-handle",start:function(se){z=se[te],C=parseInt(H.getEl("handle").style[K],10),E=(H.layoutRect()[Q]||100)-_.getSize(Y)[re],H.fire("dragstart",{value:me})},drag:function(se){ne=I(C+(se[te]-z),0,E),Y.style[K]=ne+"px",H.value(me=pe+ne/E*(Z-pe)),H.tooltip().text(""+H.settings.previewFilter(me)).show().moveRel(Y,"bc tc"),H.fire("drag",{value:me})},stop:function(){H.tooltip().hide(),H.fire("dragend",{value:me})}})}(G,$,H.getEl("handle"))},repaint:function(){this._super(),T(this,this.value())},bindStates:function(){var S=this;return S.state.on("change:value",function(A){T(S,A.value)}),S._super()}})}),Ne(ur,[ai],function(W){return W.extend({renderHtml:function(){var R=this;return R.classes.add("spacer"),R.canFocus=!1,'<div id="'+R._id+'" class="'+R.classes+'"></div>'}})}),Ne(Dr,[Qn,Ai,oe],function(W,R,_){return W.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var A,I=this,x=I.getEl(),T=I.layoutRect();return I._super(),A=x.lastChild,_(x.firstChild).css({width:T.w-R.getSize(A).width,height:T.h-2}),_(A).css({height:T.h-2}),I},activeMenu:function(I){_(this.getEl().lastChild).toggleClass(this.classPrefix+"active",I)},renderHtml:function(){var S,I=this,x=I._id,T=I.classPrefix,A=I.state.get("icon"),k=I.state.get("text"),V="";return(S=I.settings.image)?(A="none","string"!=typeof S&&(S=window.getSelection?S[0]:S[1]),S=" style=\"background-image: url('"+S+"')\""):S="",A=I.settings.icon?T+"ico "+T+"i-"+A:"",k&&(I.classes.add("btn-has-text"),V='<span class="'+T+'txt">'+I.encode(k)+"</span>"),'<div id="'+x+'" class="'+I.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(A?'<i class="'+A+'"'+S+"></i>":"")+V+'</button><button type="button" class="'+T+'open" hidefocus="1" tabindex="-1">'+(I._menuBtnText?(A?"\xa0":"")+I._menuBtnText:"")+' <i class="'+T+'caret"></i></button></div>'},postRender:function(){var I=this,x=I.settings.onclick;return I.on("click",function(T){var S=T.target;if(T.control==this)for(;S;){if(T.aria&&"down"!=T.aria.key||"BUTTON"==S.nodeName&&-1==S.className.indexOf("open"))return T.stopImmediatePropagation(),void(x&&x.call(this,T));S=S.parentNode}}),delete I.settings.onclick,I._super()}})}),Ne(M,[ci],function(W){return W.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),Ne(ie,[jr,oe,Ai],function(W,R,_){return W.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(I){var x;this.activeTabId&&(x=this.getEl(this.activeTabId),R(x).removeClass(this.classPrefix+"active"),x.setAttribute("aria-selected","false")),this.activeTabId="t"+I,(x=this.getEl("t"+I)).setAttribute("aria-selected","true"),R(x).addClass(this.classPrefix+"active"),this.items()[I].show().fire("showtab"),this.reflow(),this.items().each(function(T,S){I!=S&&T.hide()})},renderHtml:function(){var I=this,x=I._layout,T="",S=I.classPrefix;return I.preRender(),x.preRender(I),I.items().each(function(A,k){var V=I._id+"-t"+k;A.aria("role","tabpanel"),A.aria("labelledby",V),T+='<div id="'+V+'" class="'+S+'tab" unselectable="on" role="tab" aria-controls="'+A._id+'" aria-selected="false" tabIndex="-1">'+I.encode(A.settings.title)+"</div>"}),'<div id="'+I._id+'" class="'+I.classes+'" hidefocus="1" tabindex="-1"><div id="'+I._id+'-head" class="'+S+'tabs" role="tablist">'+T+'</div><div id="'+I._id+'-body" class="'+I.bodyClasses+'">'+x.renderHtml(I)+"</div></div>"},postRender:function(){var I=this;I._super(),I.settings.activeTab=I.settings.activeTab||0,I.activateTab(I.settings.activeTab),this.on("click",function(x){var T=x.target.parentNode;if(T&&T.id==I._id+"-head")for(var S=T.childNodes.length;S--;)T.childNodes[S]==x.target&&I.activateTab(S)})},initLayoutRect:function(){var x,T,S,I=this;T=(T=_.getSize(I.getEl("head")).width)<0?0:T,S=0,I.items().each(function(k){T=Math.max(T,k.layoutRect().minW),S=Math.max(S,k.layoutRect().minH)}),I.items().each(function(k){k.settings.x=0,k.settings.y=0,k.settings.w=T,k.settings.h=S,k.layoutRect({x:0,y:0,w:T,h:S})});var A=_.getSize(I.getEl("head")).height;return I.settings.minWidth=T,I.settings.minHeight=S+A,(x=I._super()).deltaH+=A,x.innerH=x.h-x.deltaH,x}})}),Ne(Me,[ai,U,Ai],function(W,R,_){return W.extend({init:function(I){var x=this;x._super(I),x.classes.add("textbox"),I.multiline?x.classes.add("multiline"):(x.on("keydown",function(T){var S;13==T.keyCode&&(T.preventDefault(),x.parents().reverse().each(function(A){if(A.toJSON)return S=A,!1}),x.fire("submit",{data:S.toJSON()}))}),x.on("keyup",function(T){x.state.set("value",T.target.value)}))},repaint:function(){var x,T,S,A,V,I=this,k=0;x=I.getEl().style,T=I._layoutRect,V=I._lastRepaintRect||{};var H=document;return!I.settings.multiline&&H.all&&(!H.documentMode||H.documentMode<=8)&&(x.lineHeight=T.h-k+"px"),A=(S=I.borderBox).left+S.right+8,k=S.top+S.bottom+(I.settings.multiline?8:0),T.x!==V.x&&(x.left=T.x+"px",V.x=T.x),T.y!==V.y&&(x.top=T.y+"px",V.y=T.y),T.w!==V.w&&(x.width=T.w-A+"px",V.w=T.w),T.h!==V.h&&(x.height=T.h-k+"px",V.h=T.h),I._lastRepaintRect=V,I.fire("repaint",{},!1),I},renderHtml:function(){var T,S,I=this,x=I.settings;return T={id:I._id,hidefocus:"1"},R.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(A){T[A]=x[A]}),I.disabled()&&(T.disabled="disabled"),x.subtype&&(T.type=x.subtype),(S=_.create(x.multiline?"textarea":"input",T)).value=I.state.get("value"),S.className=I.classes,S.outerHTML},value:function(I){return arguments.length?(this.state.set("value",I),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var I=this;I.getEl().value=I.state.get("value"),I._super(),I.$el.on("change",function(x){I.state.set("value",x.target.value),I.fire("change",x)})},bindStates:function(){var I=this;return I.state.on("change:value",function(x){I.getEl().value!=x.value&&(I.getEl().value=x.value)}),I.state.on("change:disabled",function(x){I.getEl().disabled=x.value}),I._super()},remove:function(){this.$el.off(),this._super()}})}),Ne("tinymce/Register",[],function(){var W=this||window;return"function"==typeof W.define&&(W.define.amd||W.define("ephox/tinymce",[],function(){return W.tinymce})),"object"==typeof module&&(module.exports=window.tinymce),{}}),function ve(W){var R,_,I,x,T;for(R=0;R<W.length;R++){_=ke,x=(I=W[R]).split(/[.\/]/);for(var S=0;S<x.length-1;++S)_[x[S]]===Ve&&(_[x[S]]={}),_=_[x[S]];_[x[x.length-1]]=J[I]}if(ke.AMDLC_TESTS){for(I in T=ke.privateModules||{},J)T[I]=J[I];for(R=0;R<W.length;R++)delete T[W[R]];ke.privateModules=T}}([j,m,y,D,B,w,U,oe,fe,ue,Ae,L,Ge,ye,Oe,xe,We,et,xt,ze,Xe,Je,Et,Gt,zn,xi,gi,fn,Li,Cn,Rn,ti,si,bi,Ii,Br,vr,cr,Jr,hr,dr,Mr,jr,ao,Ar,Yr,Xr,An,Fn,pi,ai,Ei,Ji,rr,Fi,ir,Zr,go,X,De,Qe,N,q,he,ge,Ie,it,Ze,nt,dt,mt,It,kt,Ct,At,Lt,mn,Yt,ln,Vt,tn,hn,Kt,pn,vn,ci,Qi,tr,ji,er,Ui,Ti,ki,Qn,pr,Ki,wr,Sr,to,zr,gr,Vn,ur,Dr,M,ie,Me])}(window),function(){var ke={},Ne=function(j){var m=ke[j];if(void 0===m)throw"module ["+j+"] was undefined";return void 0===m.instance&&function(j){for(var m=ke[j],y=m.deps,D=m.defn,B=y.length,w=new Array(B),O=0;O<B;++O)w[O]=Ne(y[O]);var U=D.apply(null,w);if(void 0===U)throw"module ["+j+"] returned undefined";m.instance=U}(j),m.instance},ve=function(j,m,y){if("string"!=typeof j)throw"module id must be a string";if(void 0===m)throw"no dependencies for "+j;if(void 0===y)throw"no definition function for "+j;ke[j]={deps:m,defn:y,instance:void 0}},J=function(j,m){ve(j,[],function(){return m})};J("1",tinymce.Env),J("2",tinymce.EditorManager),J("3",tinymce.ThemeManager),J("8",tinymce.util.Tools),J("9",tinymce.ui.Factory),J("a",tinymce.DOM),ve("b",["8","9"],function(j,m){var D=function(w,O,U){var oe,fe=[];if(O)return j.each(O.split(/[ ,]/),function(ue){var Ae=function(){var Ke=w.selection;ue.settings.stateSelector&&Ke.selectorChanged(ue.settings.stateSelector,function(L){ue.active(L)},!0),ue.settings.disabledStateSelector&&Ke.selectorChanged(ue.settings.disabledStateSelector,function(L){ue.disabled(L)})};"|"==ue?oe=null:m.has(ue)?(fe.push(ue={type:ue,size:U}),oe=null):(oe||fe.push(oe={type:"buttongroup",items:[]}),w.buttons[ue]&&("function"==typeof(ue=w.buttons[ue])&&(ue=ue()),ue.type=ue.type||"button",ue.size=U,ue=m.create(ue),oe.items.push(ue),w.initialized?Ae():w.on("init",Ae)))}),{type:"toolbar",layout:"flow",items:fe}};return{createToolbar:D,createToolbars:function(w,O){var U=[],oe=w.settings,fe=function(be){if(be)return U.push(D(w,be,O)),!0};if(j.isArray(oe.toolbar)){if(0===oe.toolbar.length)return;j.each(oe.toolbar,function(be,Ae){oe["toolbar"+(Ae+1)]=be}),delete oe.toolbar}for(var ue=1;ue<10&&fe(oe["toolbar"+ue]);ue++);if(U.length||!1===oe.toolbar||fe(oe.toolbar||"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),U.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:U}}}}),ve("c",["8"],function(j){var m={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},y=function(w,O){return"|"==O?{text:"|"}:w[O]},D=function(w,O,U){var oe,fe,ue,be,Ae;if(Ae=j.makeMap((O.removed_menuitems||"").split(/[ ,]/)),O.menu?(fe=O.menu[U],be=!0):fe=m[U],fe){oe={text:fe.title},ue=[],j.each((fe.items||"").split(/[ ,]/),function(L){y(w,L)&&!Ae[L]&&ue.push(y(w,L))}),be||j.each(w,function(L){L.context==U&&("before"==L.separator&&ue.push({text:"|"}),L.prependToContext?ue.unshift(L):ue.push(L),"after"==L.separator&&ue.push({text:"|"}))});for(var Ke=0;Ke<ue.length;Ke++)"|"==ue[Ke].text&&(0!==Ke&&Ke!=ue.length-1||ue.splice(Ke,1));if(oe.menu=ue,!oe.menu.length)return null}return oe};return{createMenuButtons:function(w){var O,U=[],oe=w.settings,fe=[];if(oe.menu)for(O in oe.menu)fe.push(O);else for(O in m)fe.push(O);for(var ue="string"==typeof oe.menubar?oe.menubar.split(/[ ,]/):fe,be=0;be<ue.length;be++){var Ae=ue[be];(Ae=D(w.menuItems,w.settings,Ae))&&U.push(Ae)}return U}}}),J("j",tinymce.util.Delay),J("k",tinymce.geom.Rect),ve("d",["a","8","j","b","9","k"],function(j,m,y,D,B,w){var O=function(Ae){return{left:Ae.x,top:Ae.y,width:Ae.w,height:Ae.h,right:Ae.x+Ae.w,bottom:Ae.y+Ae.h}},oe=function(Ae,Ke){Ae.moveTo(Ke.left,Ke.top)},ue=function(Ae,Ke,L,Ge,ye,Te){return Te=O({x:Ke,y:L,w:Te.w,h:Te.h}),Ae&&(Te=Ae({elementRect:O(Ge),contentAreaRect:O(ye),panelRect:Te})),Te};return{addContextualToolbars:function(Ae){var Ke,L=Ae.settings,Ge=function(){return Ae.contextToolbars||[]},Te=function(We,et){var xt,ze,Xe,Je,st,Et,Gt,Nt=L.inline_toolbar_position_handler;if(!Ae.removed){if(!We||!We.toolbar.panel)return void function(Ae){m.each(Ae.contextToolbars,function(Ke){Ke.panel&&Ke.panel.hide()})}(Ae);Gt=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],st=We.toolbar.panel,et&&st.show(),Xe=function(We){var et,xt,ze;return et=j.getPos(Ae.getContentAreaContainer()),xt=Ae.dom.getRect(We),"BODY"===(ze=Ae.dom.getRoot()).nodeName&&(xt.x-=ze.ownerDocument.documentElement.scrollLeft||ze.scrollLeft,xt.y-=ze.ownerDocument.documentElement.scrollTop||ze.scrollTop),xt.x+=et.x,xt.y+=et.y,xt}(We.element),ze=j.getRect(st.getEl()),Je=j.getRect(Ae.getContentAreaContainer()||Ae.getBody()),"inline"!==j.getStyle(We.element,"display",!0)&&(Xe.w=We.element.clientWidth,Xe.h=We.element.clientHeight),Ae.inline||(Je.w=Ae.getDoc().documentElement.offsetWidth),Ae.selection.controlSelection.isResizable(We.element)&&Xe.w<25&&(Xe=w.inflate(Xe,0,8)),xt=w.findBestRelativePosition(ze,Xe,Je,Gt),Xe=w.clamp(Xe,Je),xt?(Et=w.relativePosition(ze,Xe,xt),oe(st,ue(Nt,Et.x,Et.y,Xe,Je,ze))):(Je.h+=ze.h,(Xe=w.intersect(Je,Xe))?(xt=w.findBestRelativePosition(ze,Xe,Je,["bc-tc","bl-tl","br-tr"]))?(Et=w.relativePosition(ze,Xe,xt),oe(st,ue(Nt,Et.x,Et.y,Xe,Je,ze))):oe(st,ue(Nt,Xe.x,Xe.y,Xe,Je,ze)):st.hide()),function(Ae,Ke,L){Ke=Ke?Ke.substr(0,2):"",m.each({t:"down",b:"up"},function(Ge,ye){Ae.classes.toggle("arrow-"+Ge,L(ye,Ke.substr(0,1)))}),m.each({l:"left",r:"right"},function(Ge,ye){Ae.classes.toggle("arrow-"+Ge,L(ye,Ke.substr(1,1)))})}(st,xt,function(en,Ht){return en===Ht})}},Ue=function(We){return function(){y.requestAnimationFrame(function(){Ae.selection&&Te(xe(Ae.selection.getNode()),We)})}},qe=function(){m.each(Ge(),function(We){We.panel&&We.panel.hide()})},xe=function(We){var et,xt,ze,Xe=Ge();for(et=(ze=Ae.$(We).parents().add(We)).length-1;et>=0;et--)for(xt=Xe.length-1;xt>=0;xt--)if(Xe[xt].predicate(ze[et]))return{toolbar:Xe[xt],element:ze[et]};return null};Ae.on("click keyup setContent ObjectResized",function(We){("setcontent"!==We.type||We.selection)&&y.setEditorTimeout(Ae,function(){var et;(et=xe(Ae.selection.getNode()))?(qe(),function(We){var et;We.toolbar.panel?(We.toolbar.panel.show(),Te(We)):(Ke||(Ke=Ae.selection.getScrollContainer()||Ae.getWin(),j.bind(Ke,"scroll",Ue(!0)),Ae.on("remove",function(){j.unbind(Ke,"scroll")})),et=B.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:D.createToolbar(Ae,We.toolbar.items),oncancel:function(){Ae.focus()}}),We.toolbar.panel=et,et.renderTo(document.body).reflow(),Te(We))}(et)):qe()})}),Ae.on("blur hide contextmenu",qe),Ae.on("ObjectResizeStart",function(){var We=xe(Ae.selection.getNode());We&&We.toolbar.panel&&We.toolbar.panel.hide()}),Ae.on("ResizeEditor ResizeWindow",Ue(!0)),Ae.on("nodeChange",Ue(!1)),Ae.on("remove",function(){m.each(Ge(),function(We){We.panel&&We.panel.remove()}),Ae.contextToolbars={}}),Ae.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var We=xe(Ae.selection.getNode());We&&We.toolbar.panel&&We.toolbar.panel.items()[0].focus()})}}}),ve("e",[],function(){var j=function(y,D){return function(){var B=y.find(D)[0];B&&B.focus(!0)}};return{addKeys:function(y,D){y.shortcuts.add("Alt+F9","",j(D,"menubar")),y.shortcuts.add("Alt+F10,F10","",j(D,"toolbar")),y.shortcuts.add("Alt+F11","",j(D,"elementpath")),D.on("cancel",function(){y.focus()})}}}),ve("f",["8","9","1"],function(j,m,y){var B=function(Ae,Ke,L){var Ge=Ae.settings[L];Ge&&Ge(function(Ae){return{element:function(){return Ae}}}(Ke.getEl("body")))},oe=function(Ae,Ke,L){return function(Ge){var ye=Ge.control,Te=ye.parents().filter("panel")[0],Ue=Te.find("#"+Ke)[0],ce=function(Ae,Ke){return j.grep(Ae,function(L){return L.name===Ke})[0]}(L,Ke);(function(Ae,Ke,L){j.each(L,function(Ge){var ye=Ke.items().filter("#"+Ge.name)[0];ye&&ye.visible()&&Ge.name!==Ae&&(B(Ge,ye,"onhide"),ye.visible(!1))})})(Ke,Te,L),function(Ae){Ae.items().each(function(Ke){Ke.active(!1)})}(ye.parent()),Ue&&Ue.visible()?(B(ce,Ue,"onhide"),Ue.hide(),ye.active(!1)):(Ue?(Ue.show(),B(ce,Ue,"onshow")):(Ue=m.create({type:"container",name:Ke,layout:"stack",classes:"sidebar-panel",html:""}),Te.prepend(Ue),B(ce,Ue,"onrender"),B(ce,Ue,"onshow")),ye.active(!0)),Ae.fire("ResizeEditor")}};return{hasSidebar:function(Ae){return!(y.ie&&!(y.ie>=11)||!Ae.sidebars)&&Ae.sidebars.length>0},createSidebar:function(Ae){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:j.map(Ae.sidebars,function(L){var Ge=L.settings;return{type:"button",icon:Ge.icon,image:Ge.image,tooltip:Ge.tooltip,onclick:oe(Ae,L.name,Ae.sidebars)}})}]}}}}),ve("g",[],function(){return{fireSkinLoaded:function(m){var y=function(){m._skinLoaded=!0,m.fire("SkinLoaded")};return function(){m.initialized?y():m.on("init",y)}}}}),ve("6",["a"],function(j){var m=function(B){return{width:B.clientWidth,height:B.clientHeight}},y=function(B,w,O){var U,oe,fe,ue,be=B.settings;U=B.getContainer(),oe=B.getContentAreaContainer().firstChild,fe=m(U),ue=m(oe),null!==w&&(w=Math.max(be.min_width||100,w),w=Math.min(be.max_width||65535,w),j.setStyle(U,"width",w+(fe.width-ue.width)),j.setStyle(oe,"width",w)),O=Math.max(be.min_height||100,O),O=Math.min(be.max_height||65535,O),j.setStyle(oe,"height",O),B.fire("ResizeEditor")};return{resizeTo:y,resizeBy:function(B,w,O){var U=B.getContentAreaContainer();y(B,U.clientWidth+w,U.clientHeight+O)}}}),ve("4",["8","9","a","b","c","d","e","f","g","6"],function(j,m,y,D,B,w,O,U,oe,fe){var be=function(L){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:L,html:""}},Ae=function(L){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[be("0"),U.createSidebar(L)]}};return{render:function(L,Ge,ye){var Te,Ue,ce,Oe=L.settings;return ye.skinUiCss&&y.styleSheetLoader.load(ye.skinUiCss,oe.fireSkinLoaded(L)),Te=Ge.panel=m.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===Oe.menubar?null:{type:"menubar",border:"0 0 1 0",items:B.createMenuButtons(L)},D.createToolbars(L,Oe.toolbar_items_size),U.hasSidebar(L)?Ae(L):be("1 0 0 0")]}),!1!==Oe.resize&&(Ue={type:"resizehandle",direction:Oe.resize,onResizeStart:function(){var qe=L.getContentAreaContainer().firstChild;ce={width:qe.clientWidth,height:qe.clientHeight}},onResize:function(qe){fe.resizeTo(L,"both"===Oe.resize?ce.width+qe.deltaX:null,ce.height+qe.deltaY)}}),!1!==Oe.statusbar&&Te.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:L},Ue]}),L.fire("BeforeRenderUI"),L.on("SwitchMode",function(L){return function(Ge){L.find("*").disabled("readonly"===Ge.mode)}}(Te)),Te.renderBefore(ye.targetNode).reflow(),Oe.readonly&&L.setMode("readonly"),Oe.width&&y.setStyle(Te.getEl(),"width",Oe.width),L.on("remove",function(){Te.remove(),Te=null}),O.addKeys(L,Te),w.addContextualToolbars(L),{iframeContainer:Te.find("#iframe")[0].getEl(),editorContainer:Te.getEl()}}}}),J("h",tinymce.ui.FloatPanel),ve("5",["8","9","a","h","b","c","d","e","g"],function(j,m,y,D,B,w,O,U,oe){return{render:function(ue,be,Ae){var Ke,L,Ge=ue.settings;Ge.fixed_toolbar_container&&(L=y.select(Ge.fixed_toolbar_container)[0]);var ye=function(){if(Ke&&Ke.moveRel&&Ke.visible()&&!Ke._fixed){var Oe=ue.selection.getScrollContainer(),qe=ue.getBody(),xe=0,We=0;if(Oe){var et=y.getPos(qe),xt=y.getPos(Oe);xe=Math.max(0,xt.x-et.x),We=Math.max(0,xt.y-et.y)}Ke.fixed(!1).moveRel(qe,ue.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(xe,We)}},Te=function(){Ke&&(Ke.show(),ye(),y.addClass(ue.getBody(),"mce-edit-focus"))},Ue=function(){Ke&&(Ke.hide(),D.hideAll(),y.removeClass(ue.getBody(),"mce-edit-focus"))},ce=function(){return Ke?void(Ke.visible()||Te()):(Ke=be.panel=m.create({type:L?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!L,border:1,items:[!1===Ge.menubar?null:{type:"menubar",border:"0 0 1 0",items:w.createMenuButtons(ue)},B.createToolbars(ue,Ge.toolbar_items_size)]}),ue.fire("BeforeRenderUI"),Ke.renderTo(L||document.body).reflow(),U.addKeys(ue,Ke),Te(),O.addContextualToolbars(ue),ue.on("nodeChange",ye),ue.on("activate",Te),ue.on("deactivate",Ue),void ue.nodeChanged())};return Ge.content_editable=!0,ue.on("focus",function(){Ae.skinUiCss?y.styleSheetLoader.load(Ae.skinUiCss,ce,ce):ce()}),ue.on("blur hide",Ue),ue.on("remove",function(){Ke&&(Ke.remove(),Ke=null)}),Ae.skinUiCss&&y.styleSheetLoader.load(Ae.skinUiCss,oe.fireSkinLoaded(ue)),{}}}}),J("i",tinymce.ui.Throbber),ve("7",["i"],function(j){return{setup:function(y,D){var B;y.on("ProgressState",function(w){B=B||new j(D.panel.getEl("body")),w.state?B.show(w.time):B.hide()})}}}),ve("0",["1","2","3","4","5","6","7"],function(j,m,y,D,B,w,O){return y.add("modern",function(oe){return{renderUI:function(fe){return function(oe,fe,ue){var be=oe.settings,Ae=!1!==be.skin&&(be.skin||"lightgray");if(Ae){var Ke=be.skin_url;Ke=Ke?oe.documentBaseURI.toAbsolute(Ke):m.baseURL+"/skins/"+Ae,ue.skinUiCss=j.documentMode<=7?Ke+"/skin.ie7.min.css":Ke+"/skin.min.css",oe.contentCSS.push(Ke+"/content"+(oe.inline?".inline":"")+".min.css")}return O.setup(oe,fe),be.inline?B.render(oe,fe,ue):D.render(oe,fe,ue)}(oe,this,fe)},resizeTo:function(fe,ue){return w.resizeTo(oe,fe,ue)},resizeBy:function(fe,ue){return w.resizeBy(oe,fe,ue)}}}),function(){}}),Ne("0")()}(),tinymce.PluginManager.add("link",function(ke){function Ve(ue){return ue&&"A"===ue.nodeName&&ue.href}function an(ue){return tinymce.util.Tools.grep(ue,Ve).length>0}function Ne(ue){return ke.dom.getParent(ue,"a[href]")}function gt(){return Ne(ke.selection.getStart())}function y(ue){if(ue){var be=function de(ue){return ue.getAttribute("data-mce-href")||ue.getAttribute("href")}(ue);if(/^#/.test(be)){var Ae=ke.$(be);Ae.length&&ke.selection.scrollIntoView(Ae[0],!0)}else!function m(ue){if(!tinymce.Env.ie||tinymce.Env.ie>10){var be=document.createElement("a");be.target="_blank",be.href=ue,be.rel="noreferrer noopener";var Ae=document.createEvent("MouseEvents");Ae.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function j(ue,be){document.body.appendChild(ue),ue.dispatchEvent(be),document.body.removeChild(ue)}(be,Ae)}else{var Ke=window.open("","_blank");if(Ke){Ke.opener=null;var L=Ke.document;L.open(),L.write('<meta http-equiv="refresh" content="0; url='+tinymce.DOM.encode(ue)+'">'),L.close()}}}(ue.href)}}function D(){y(gt())}function w(ue){return function(){var be=ke.settings.link_list;"string"==typeof be?tinymce.util.XHR.send({url:be,success:function(Ae){ue(tinymce.util.JSON.parse(Ae))}}):"function"==typeof be?be(ue):ue(be)}}function O(ue,be,Ae){return function Ke(L,Ge){return Ge=Ge||[],tinymce.each(L,function(ye){var Te={text:ye.text||ye.title};ye.menu?Te.menu=Ke(ye.menu):(Te.value=ye.value,be&&be(Te)),Ge.push(Te)}),Ge}(ue,Ae||[])}function U(ue){function be(Tt){var Nt=Oe.find("#text");(!Nt.value()||Tt.lastControl&&Nt.value()==Tt.lastControl.text())&&Nt.value(Tt.control.text()),Oe.find("#href").value(Tt.control.value())}function Ke(){!ce&&0===st.text.length&&qe&&this.parent().parent().find("#text")[0].value(this.value())}var Te,Ue,ce,Oe,qe,xe,We,et,xt,ze,Xe,Je,st={},Et=ke.selection,Gt=ke.dom;Te=Et.getNode(),Ue=Gt.getParent(Te,"a[href]"),qe=function Ge(Tt){var Nt=Et.getContent();if(/</.test(Nt)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(Nt)||-1==Nt.indexOf("href=")))return!1;if(Tt){var en,Ht=Tt.childNodes;if(0===Ht.length)return!1;for(en=Ht.length-1;en>=0;en--)if(3!=Ht[en].nodeType)return!1}return!0}(),st.text=ce=Ue?Ue.innerText||Ue.textContent:Et.getContent({format:"text"}),st.href=Ue?Gt.getAttrib(Ue,"href"):"",Ue?st.target=Gt.getAttrib(Ue,"target"):ke.settings.default_link_target&&(st.target=ke.settings.default_link_target),(Je=Gt.getAttrib(Ue,"rel"))&&(st.rel=Je),(Je=Gt.getAttrib(Ue,"class"))&&(st.class=Je),(Je=Gt.getAttrib(Ue,"title"))&&(st.title=Je),qe&&(xe={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){st.text=this.value()}}),ue&&(We={type:"listbox",label:"Link list",values:O(ue,function(Tt){Tt.value=ke.convertURL(Tt.value||Tt.url,"href")},[{text:"None",value:""}]),onselect:be,value:ke.convertURL(st.href,"href"),onPostRender:function(){We=this}}),!1!==ke.settings.target_list&&(ke.settings.target_list||(ke.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),xt={name:"target",type:"listbox",label:"Target",values:O(ke.settings.target_list)}),ke.settings.rel_list&&(et={name:"rel",type:"listbox",label:"Rel",values:O(ke.settings.rel_list)}),ke.settings.link_class_list&&(ze={name:"class",type:"listbox",label:"Class",values:O(ke.settings.link_class_list,function(Tt){Tt.value&&(Tt.textStyle=function(){return ke.formatter.getCssText({inline:"a",classes:[Tt.value]})})})}),!1!==ke.settings.link_title&&(Xe={name:"title",type:"textbox",label:"Title",value:st.title}),Oe=ke.windowManager.open({title:"Insert link",data:st,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function L(Tt){var Nt=Tt.meta||{};We&&We.value(ke.convertURL(this.value(),"href")),tinymce.each(Tt.meta,function(en,Ht){var Mn=Oe.find("#"+Ht);"text"===Ht?0===ce.length&&(Mn.value(en),st.text=en):Mn.value(en)}),Nt.attach&&(oe={href:this.value(),attach:Nt.attach}),Nt.text||Ke.call(this)},onkeyup:Ke,onbeforecall:function ye(Tt){Tt.meta=Oe.toJSON()}},xe,Xe,function Ae(Tt){var Nt=[];if(tinymce.each(ke.dom.select("a:not([href])"),function(en){var Ht=en.name||en.id;Ht&&Nt.push({text:Ht,value:"#"+Ht,selected:-1!=Tt.indexOf("#"+Ht)})}),Nt.length)return Nt.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:Nt,onselect:be}}(st.href),We,et,xt,ze],onSubmit:function(Tt){function Nt(zn,xi){var _i=ke.selection.getRng();tinymce.util.Delay.setEditorTimeout(ke,function(){ke.windowManager.confirm(zn,function(mi){ke.selection.setRng(_i),xi(mi)})})}function Ht(){var zn={href:gn,target:st.target?st.target:null,rel:st.rel?st.rel:null,class:st.class?st.class:null,title:st.title?st.title:null};ke.settings.allow_unsafe_link_target||(zn.rel=function en(zn,xi){function mi(gi){var Oi=new RegExp("("+Pi.replace(" ","|")+")","g");return gi&&(gi=tinymce.trim(gi.replace(Oi,""))),gi||null}var Pi="noopener noreferrer";return xi?function _i(gi){return(gi=mi(gi))?[gi,Pi].join(" "):Pi}(zn):mi(zn)}(zn.rel,"_blank"==zn.target)),gn===oe.href&&(oe.attach(),oe={}),Ue?(ke.focus(),qe&&st.text!=ce&&("innerText"in Ue?Ue.innerText=st.text:Ue.textContent=st.text),Gt.setAttribs(Ue,zn),Et.select(Ue),ke.undoManager.add()):qe?ke.insertContent(Gt.createHTML("a",zn,Gt.encode(st.text))):ke.execCommand("mceInsertLink",!1,zn)}function Mn(){ke.undoManager.transact(Ht)}var gn;return st=tinymce.extend(st,Tt.data),(gn=st.href)?gn.indexOf("@")>0&&-1==gn.indexOf("//")&&-1==gn.indexOf("mailto:")?void Nt("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(zn){zn&&(gn="mailto:"+gn),Mn()}):ke.settings.link_assume_external_targets&&!/^\w+:/i.test(gn)||!ke.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(gn)?void Nt("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(zn){zn&&(gn="http://"+gn),Mn()}):void Mn():void ke.execCommand("unlink")}})}var oe={};ke.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:w(U),stateSelector:"a[href]"}),ke.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),ke.addContextToolbar&&(ke.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:D}),ke.addContextToolbar(function J(ue){var be,Ae,Ke;return!!(ke.settings.link_context_toolbar&&!function ve(){var ue=ke.plugins.contextmenu;return!!ue&&ue.isContextMenuVisible()}()&&Ve(ue)&&(be=ke.selection,Ae=be.getRng(),Ke=Ae.startContainer,3==Ke.nodeType&&be.isCollapsed()&&Ae.startOffset>0&&Ae.startOffset<Ke.data.length))},"openlink | link unlink")),ke.addShortcut("Meta+K","",w(U)),ke.addCommand("mceLink",w(U)),ke.on("click",function(ue){var be=Ne(ue.target);be&&tinymce.util.VK.metaKeyPressed(ue)&&(ue.preventDefault(),y(be))}),ke.on("keydown",function(ue){var be=gt();be&&13===ue.keyCode&&function(ue){return!0===ue.altKey&&!1===ue.shiftKey&&!1===ue.ctrlKey&&!1===ue.metaKey}(ue)&&(ue.preventDefault(),y(be))}),this.showDialog=U,ke.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:D,onPostRender:function B(){var ue=this,be=function(Ae){an(Ae.parents)?ue.show():ue.hide()};an(ke.dom.getParents(ke.selection.getStart()))||ue.hide(),ke.on("nodechange",be),ue.on("remove",function(){ke.off("nodechange",be)})},prependToContext:!0}),ke.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:w(U),stateSelector:"a[href]",context:"insert",prependToContext:!0})}),function(ke,Ve){"use strict";function Ne(J,j,m){if("string"!=typeof J)throw"invalid module definition, module id must be defined and be a string";if(j===Ve)throw"invalid module definition, dependencies must be specified";if(m===Ve)throw"invalid module definition, definition function must be specified";!function an(J,j){for(var m,y=[],D=0;D<J.length;++D){if(!(m=ve[J[D]]||gt(J[D])))throw"module definition dependecy not found: "+J[D];y.push(m)}j.apply(null,y)}(j,function(){ve[J]=m.apply(null,arguments)})}function gt(J){for(var j=ke,m=J.split(/[.\/]/),y=0;y<m.length;++y){if(!j[m[y]])return;j=j[m[y]]}return j}var ve={};Ne("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(J,j,m){function y(U,oe){return J.each(oe,function(fe){U=fe.constructor==RegExp?U.replace(fe,""):U.replace(fe[0],fe[1])}),U}return{filter:y,innerText:function D(U){var fe=new m,ue=new j({},fe),be="",Ae=fe.getShortEndedElements(),Ke=J.makeMap("script noscript style textarea video audio iframe object"," "),L=fe.getBlockElements();return U=y(U,[/<!\[[^\]]+\]>/g]),function oe(Ge){var ye=Ge.name,Te=Ge;if("br"!==ye)if(Ae[ye]&&(be+=" "),Ke[ye])be+=" ";else{if(3==Ge.type&&(be+=Ge.value),!Ge.shortEnded&&(Ge=Ge.firstChild))do{oe(Ge)}while(Ge=Ge.next);L[ye]&&Te.next&&(be+="\n","p"==ye&&(be+="\n"))}else be+="\n"}(ue.parse(U)),be},trimHtml:function B(U){return y(function(U){var oe="\x3c!--StartFragment--\x3e",fe="\x3c!--EndFragment--\x3e",ue=U.indexOf(oe);if(-1!==ue){var be=U.substr(ue+oe.length),Ae=be.indexOf(fe);if(-1!==Ae&&/^<\/(p|h[1-6]|li)>/i.test(be.substr(Ae+fe.length,5)))return be.substr(0,Ae)}return U}(U),[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function oe(fe,ue,be){return ue||be?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function w(U){var oe=0;return function(){return U+oe++}}}}),Ne("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],function(J){var j=function(fe){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(fe)},m=function(fe){return j(fe)&&/.(gif|jpe?g|png)$/.test(fe)},B=function(fe,ue,be){return!(!1!==fe.selection.isCollapsed()||!j(ue))&&function(fe,ue,be){return fe.undoManager.extra(function(){be(fe,ue)},function(){fe.execCommand("mceInsertLink",!1,ue)}),!0}(fe,ue,be)},w=function(fe,ue,be){return!!m(ue)&&function(fe,ue,be){return fe.undoManager.extra(function(){be(fe,ue)},function(){fe.insertContent('<img src="'+ue+'">')}),!0}(fe,ue,be)},O=function(fe,ue){return fe.insertContent(ue,{merge:!1!==fe.settings.paste_merge_formats,paste:!0}),!0};return{isImageUrl:m,isAbsoluteUrl:j,insertContent:function(fe,ue){!1===fe.settings.smart_paste?O(fe,ue):function(fe,ue){J.each([B,w,O],function(be){return!0!==be(fe,ue,O)})}(fe,ue)}}}),Ne("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],function(J,j,m,y,D,B){return function(w){function O(Tt){var Nt,en=w.dom;if(Nt=w.fire("BeforePastePreProcess",{content:Tt}),Tt=(Nt=w.fire("PastePreProcess",Nt)).content,!Nt.isDefaultPrevented()){if(w.hasEventListeners("PastePostProcess")&&!Nt.isDefaultPrevented()){var Ht=en.add(w.getBody(),"div",{style:"display:none"},Tt);Nt=w.fire("PastePostProcess",{node:Ht}),en.remove(Ht),Tt=Nt.node.innerHTML}Nt.isDefaultPrevented()||D.insertContent(w,Tt)}}function U(Tt){Tt=w.dom.encode(Tt).replace(/\r\n/g,"\n");var Nt,en=w.dom.getParent(w.selection.getStart(),w.dom.isBlock),Ht=w.settings.forced_root_block;Ht&&(Nt=(Nt=w.dom.createHTML(Ht,w.settings.forced_root_block_attrs)).substr(0,Nt.length-3)+">"),en&&/^(PRE|DIV)$/.test(en.nodeName)||!Ht?Tt=y.filter(Tt,[[/\n/g,"<br>"]]):-1!=(Tt=y.filter(Tt,[[/\n\n/g,"</p>"+Nt],[/^(.*<\/p>)(<p>)$/,Nt+"$1"],[/\n/g,"<br />"]])).indexOf("<p>")&&(Tt=Nt+Tt),O(Tt)}function oe(){var Nt,en=w.dom,Ht=w.getBody(),gn=w.dom.getViewPort(w.getWin()).y,zn=20;if(et=w.selection.getRng(),w.inline&&(Nt=w.selection.getScrollContainer())&&Nt.scrollTop>0&&(gn=Nt.scrollTop),et.getClientRects){var xi=function Tt(mi){var Pi,gi,Oi,bn=mi.startContainer;if((Pi=mi.getClientRects()).length)return Pi[0];if(mi.collapsed&&1==bn.nodeType){for(Oi=bn.childNodes[et.startOffset];Oi&&3==Oi.nodeType&&!Oi.data.length;)Oi=Oi.nextSibling;if(Oi)return"BR"==Oi.tagName&&(gi=en.doc.createTextNode("\ufeff"),Oi.parentNode.insertBefore(gi,Oi),(mi=en.createRng()).setStartBefore(gi),mi.setEndAfter(gi),Pi=mi.getClientRects(),en.remove(gi)),Pi.length?Pi[0]:void 0}}(et);if(xi)zn=gn+(xi.top-en.getPos(Ht).y);else{zn=gn;var _i=et.startContainer;_i&&(3==_i.nodeType&&_i.parentNode!=Ht&&(_i=_i.parentNode),1==_i.nodeType&&(zn=en.getPos(_i,Nt||Ht).y))}}We=en.add(w.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+zn+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},st),(J.ie||J.gecko)&&en.setStyle(We,"left","rtl"==en.getStyle(Ht,"direction",!0)?65535:-65535),en.bind(We,"beforedeactivate focusin focusout",function(mi){mi.stopPropagation()}),We.focus(),w.selection.select(We,!0)}function fe(){if(We){for(var Tt;Tt=w.dom.get("mcepastebin");)w.dom.remove(Tt),w.dom.unbind(Tt);et&&w.selection.setRng(et)}We=et=null}function ue(){var Tt,Nt,en,Mn="";for(Tt=w.dom.select("div[id=mcepastebin]"),Nt=0;Nt<Tt.length;Nt++)(en=Tt[Nt]).firstChild&&"mcepastebin"==en.firstChild.id&&(en=en.firstChild),Mn!=st&&(Mn+=en.innerHTML);return Mn}function be(Tt){var Nt={};if(Tt){if(Tt.getData){var en=Tt.getData("Text");en&&en.length>0&&-1==en.indexOf(Et)&&(Nt["text/plain"]=en)}if(Tt.types)for(var Ht=0;Ht<Tt.types.length;Ht++){var Mn=Tt.types[Ht];Nt[Mn]=Tt.getData(Mn)}}return Nt}function Ke(Tt){return Oe(Tt,"text/html")||Oe(Tt,"text/plain")}function ye(Tt,Nt,en){Tt&&(w.selection.setRng(Tt),Tt=null);var Ht=Nt.result,Mn=function L(Tt){var Nt;return-1!==(Nt=Tt.indexOf(","))?Tt.substr(Nt+1):null}(Ht),gn=new Image;if(gn.src=Ht,function Ge(Tt,Nt){return!Tt.images_dataimg_filter||Tt.images_dataimg_filter(Nt)}(w.settings,gn)){var zn,xi,_i=w.editorUpload.blobCache;(xi=_i.findFirst(function(mi){return mi.base64()===Mn}))?zn=xi:(zn=_i.create(Gt(),en,Mn),_i.add(zn)),O('<img src="'+zn.blobUri()+'">')}else O('<img src="'+Ht+'">')}function Te(Tt,Nt){function en(Mn){var gn,zn,xi,_i=!1;if(Mn)for(gn=0;gn<Mn.length;gn++)if(/^image\/(jpeg|png|gif|bmp)$/.test((zn=Mn[gn]).type)){var mi=zn.getAsFile?zn.getAsFile():zn;(xi=new FileReader).onload=ye.bind(null,Nt,xi,mi),xi.readAsDataURL(mi),Tt.preventDefault(),_i=!0}return _i}var Ht=Tt.clipboardData||Tt.dataTransfer;if(w.settings.paste_data_images&&Ht)return en(Ht.items)||en(Ht.files)}function Oe(Tt,Nt){return Nt in Tt&&Tt[Nt].length>0}function qe(Tt){return m.metaKeyPressed(Tt)&&86==Tt.keyCode||Tt.shiftKey&&45==Tt.keyCode}var We,et,xt,ze=this,Xe=0,Je=!1,st="%MCEPASTEBIN%",Et="data:text/mce-internal,",Gt=y.createIdGenerator("mceclip");ze.pasteHtml=O,ze.pasteText=U,ze.pasteImageData=Te,w.on("preInit",function(){(function xe(){function Tt(Ht,Mn,gn){var zn;return Oe(Ht,"text/html")?zn=Ht["text/html"]:(zn=ue())==st&&(gn=!0),zn=y.trimHtml(zn),We&&We.firstChild&&"mcepastebin"===We.firstChild.id&&(gn=!0),fe(),zn.length||(gn=!0),gn&&(zn=Oe(Ht,"text/plain")&&-1==zn.indexOf("</p>")?Ht["text/plain"]:y.innerText(zn)),zn==st?void(Mn||w.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(gn?U(zn):O(zn))}w.on("keydown",function(Ht){function Mn(gn){qe(gn)&&!gn.isDefaultPrevented()&&fe()}if(qe(Ht)&&!Ht.isDefaultPrevented()){if((xt=Ht.shiftKey&&86==Ht.keyCode)&&J.webkit&&-1!=navigator.userAgent.indexOf("Version/"))return;if(Ht.stopImmediatePropagation(),Xe=(new Date).getTime(),J.ie&&xt)return Ht.preventDefault(),void w.fire("paste",{ieFake:!0});fe(),oe(),w.once("keyup",Mn),w.once("paste",function(){w.off("keyup",Mn)})}}),w.on("paste",function(Ht){var Mn=(new Date).getTime(),gn=function Ae(Tt){return be(Tt.clipboardData||w.getDoc().dataTransfer)}(Ht),zn=(new Date).getTime()-Mn,xi=(new Date).getTime()-Xe-zn<1e3,_i="text"==ze.pasteFormat||xt;return xt=!1,Ht.isDefaultPrevented()||function Ue(Tt){var Nt=Tt.clipboardData;return-1!=navigator.userAgent.indexOf("Android")&&Nt&&Nt.items&&0===Nt.items.length}(Ht)||!Ke(gn)&&Te(Ht,et||w.selection.getRng())?void fe():(xi||Ht.preventDefault(),!J.ie||xi&&!Ht.ieFake||(oe(),w.dom.bind(We,"paste",function(mi){mi.stopPropagation()}),w.getDoc().execCommand("Paste",!1,null),gn["text/html"]=ue()),void(Oe(gn,"text/html")?(Ht.preventDefault(),Tt(gn,xi,_i)):B.setEditorTimeout(w,function(){Tt(gn,xi,_i)},0)))}),w.on("dragstart dragend",function(Ht){Je="dragstart"==Ht.type}),w.on("drop",function(Ht){var Mn,gn;if(gn=function ce(Tt){return j.getCaretRangeFromPoint(Tt.clientX,Tt.clientY,w.getDoc())}(Ht),!Ht.isDefaultPrevented()&&!Je&&(Ke(Mn=be(Ht.dataTransfer))&&!function Nt(Ht){var Mn=Ht["text/plain"];return!!Mn&&0===Mn.indexOf("file://")}(Mn)||!Te(Ht,gn))&&gn&&!1!==w.settings.paste_filter_drop){var zn=Mn["mce-internal"]||Mn["text/html"]||Mn["text/plain"];zn&&(Ht.preventDefault(),B.setEditorTimeout(w,function(){w.undoManager.transact(function(){Mn["mce-internal"]&&w.execCommand("Delete"),w.selection.setRng(gn),zn=y.trimHtml(zn),Mn["text/html"]?O(zn):U(zn)})}))}}),w.on("dragover dragend",function(Ht){w.settings.paste_data_images&&Ht.preventDefault()})})(),w.parser.addNodeFilter("img",function(Tt,Nt,en){function Mn(mi){mi.attr("data-mce-object")||_i===J.transparentSrc||mi.remove()}if(!w.settings.paste_data_images&&function Ht(mi){return mi.data&&!0===mi.data.paste}(en))for(var xi=Tt.length;xi--;){var _i=Tt[xi].attributes.map.src;_i&&(0===_i.indexOf("webkit-fake-url")||!w.settings.allow_html_data_urls&&0===_i.indexOf("data:"))&&Mn(Tt[xi])}})})}}),Ne("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(J,j,m,y,D,B){function w(fe){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(fe)||/class="OutlineElement/.test(fe)||/id="?docs\-internal\-guid\-/.test(fe)}function O(fe){var ue,be;return be=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],fe=fe.replace(/^[\u00a0 ]+/,""),J.each(be,function(Ae){if(Ae.test(fe))return ue=!0,!1}),ue}function U(fe){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(fe)}function oe(fe){var ue=fe.settings;fe.on("BeforePastePreProcess",function(be){function Ke(qe,xe){var We,et={},xt=fe.dom.parseStyle(xe);return J.each(xt,function(ze,Xe){switch(Xe){case"mso-list":(We=/\w+ \w+([0-9]+)/i.exec(xe))&&(qe._listLevel=parseInt(We[1],10)),/Ignore/i.test(ze)&&qe.firstChild&&(qe._listIgnore=!0,qe.firstChild._listIgnore=!0);break;case"horiz-align":Xe="text-align";break;case"vert-align":Xe="vertical-align";break;case"font-color":case"mso-foreground":Xe="color";break;case"mso-background":case"mso-highlight":Xe="background";break;case"font-weight":case"font-style":return void("normal"!=ze&&(et[Xe]=ze));case"mso-element":if(/^(comment|comment-list)$/i.test(ze))return void qe.remove()}return 0===Xe.indexOf("mso-comment")?void qe.remove():void(0!==Xe.indexOf("mso-")&&("all"==L||Ge&&Ge[Xe])&&(et[Xe]=ze))}),/(bold)/i.test(et["font-weight"])&&(delete et["font-weight"],qe.wrap(new D("b",1))),/(italic)/i.test(et["font-style"])&&(delete et["font-style"],qe.wrap(new D("i",1))),(et=fe.dom.serializeStyle(et,qe.name))||null}var L,Ge,ye=be.content;if(ye=(ye=ye.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,"")).replace(/<br class="?Apple-interchange-newline"?>/gi,""),(L=ue.paste_retain_style_properties)&&(Ge=J.makeMap(L.split(/[, ]/))),!1!==ue.paste_enable_default_filters&&w(be.content)){be.wordContent=!0,ye=B.filter(ye,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(qe,xe){return xe.length>0?xe.replace(/./," ").slice(Math.floor(xe.length/2)).split("").join("\xa0"):""}]]);var Te=ue.paste_word_valid_elements;Te||(Te="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var Ue=new m({valid_elements:Te,valid_children:"-li[p]"});J.each(Ue.elements,function(qe){qe.attributes.class||(qe.attributes.class={},qe.attributesOrder.push("class")),qe.attributes.style||(qe.attributes.style={},qe.attributesOrder.push("style"))});var ce=new j({},Ue);ce.addAttributeFilter("style",function(qe){for(var xe,We=qe.length;We--;)(xe=qe[We]).attr("style",Ke(xe,xe.attr("style"))),"span"==xe.name&&xe.parent&&!xe.attributes.length&&xe.unwrap()}),ce.addAttributeFilter("class",function(qe){for(var xe,We,et=qe.length;et--;)We=(xe=qe[et]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(We)&&xe.remove(),xe.attr("class",null)}),ce.addNodeFilter("del",function(qe){for(var xe=qe.length;xe--;)qe[xe].remove()}),ce.addNodeFilter("a",function(qe){for(var xe,We,et,xt=qe.length;xt--;)if(We=(xe=qe[xt]).attr("href"),et=xe.attr("name"),We&&-1!=We.indexOf("#_msocom_"))xe.remove();else if(We&&0===We.indexOf("file://")&&(We=We.split("#")[1])&&(We="#"+We),We||et){if(et&&!/^_?(?:toc|edn|ftn)/i.test(et)){xe.unwrap();continue}xe.attr({href:We,name:et})}else xe.unwrap()});var Oe=ce.parse(ye);!1!==ue.paste_convert_word_fake_lists&&function Ae(qe){function xe(Ht){var Mn="";if(3===Ht.type)return Ht.value;if(Ht=Ht.firstChild)do{Mn+=xe(Ht)}while(Ht=Ht.next);return Mn}function We(Ht,Mn){if(3===Ht.type&&Mn.test(Ht.value))return Ht.value=Ht.value.replace(Mn,""),!1;if(Ht=Ht.firstChild)do{if(!We(Ht,Mn))return!1}while(Ht=Ht.next);return!0}function et(Ht){if(Ht._listIgnore)Ht.remove();else if(Ht=Ht.firstChild)do{et(Ht)}while(Ht=Ht.next)}function xt(Ht,Mn,gn){var zn=Ht._listLevel||Je;zn!=Je&&(zn<Je?ze&&(ze=ze.parent.parent):(Xe=ze,ze=null)),ze&&ze.name==Mn?ze.append(Ht):(Xe=Xe||ze,ze=new D(Mn,1),gn>1&&ze.attr("start",""+gn),Ht.wrap(ze)),Ht.name="li",zn>Je&&Xe&&Xe.lastChild.append(ze),Je=zn,et(Ht),We(Ht,/^\u00a0+/),We(Ht,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),We(Ht,/^\u00a0+/)}for(var ze,Xe,Je=1,st=[],Et=qe.firstChild;typeof Et<"u"&&null!==Et;)if(st.push(Et),null!==(Et=Et.walk()))for(;typeof Et<"u"&&Et.parent!==qe;)Et=Et.walk();for(var Gt=0;Gt<st.length;Gt++)if("p"==(qe=st[Gt]).name&&qe.firstChild){var Tt=xe(qe);if(U(Tt)){xt(qe,"ul");continue}if(O(Tt)){var Nt=/([0-9]+)\./.exec(Tt),en=1;Nt&&(en=parseInt(Nt[1],10)),xt(qe,"ol",en);continue}if(qe._listLevel){xt(qe,"ul",1);continue}ze=null}else Xe=ze,ze=null}(Oe),be.content=new y({validate:ue.validate},Ue).serialize(Oe)}})}return oe.isWordContent=w,oe}),Ne("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(J,j,m,y){return function(D){function B(fe){D.on("BeforePastePreProcess",function(ue){ue.content=fe(ue.content)})}J.webkit&&B(function U(fe){if(m.isWordContent(fe))return fe;var ue=D.settings.paste_webkit_styles;if(!1===D.settings.paste_remove_styles_if_webkit||"all"==ue)return fe;if(ue&&(ue=ue.split(/[, ]/)),ue){var be=D.dom,Ae=D.selection.getNode();fe=fe.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Ke,L,Ge,ye){var Te=be.parseStyle(Ge,"span"),Ue={};if("none"===ue)return L+ye;for(var ce=0;ce<ue.length;ce++){var Oe=Te[ue[ce]],qe=be.getStyle(Ae,ue[ce],!0);/color/.test(ue[ce])&&(Oe=be.toHex(Oe),qe=be.toHex(qe)),qe!=Oe&&(Ue[ue[ce]]=Oe)}return(Ue=be.serializeStyle(Ue,"span"))?L+' style="'+Ue+'"'+ye:L+ye})}else fe=fe.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return fe.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Ke,L,Ge,ye){return L+' style="'+Ge+'"'+ye})}),J.ie&&(B(function O(fe){if(!m.isWordContent(fe))return fe;var ue=[];j.each(D.schema.getBlockElements(),function(Ae,Ke){ue.push(Ke)});var be=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+ue.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return fe=y.filter(fe,[[be,"$1"]]),y.filter(fe,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}),function w(fe){D.on("PastePostProcess",function(ue){fe(ue.node)})}(function oe(fe){D.$("a",fe).find("font,u").each(function(ue,be){D.dom.remove(be,!0)})}))}}),Ne("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(J,j,m,y){var D;J.add("paste",function(B){function O(){if("text"==oe.pasteFormat)oe.pasteFormat="html",B.fire("PastePlainTextToggle",{state:!1});else if(oe.pasteFormat="text",B.fire("PastePlainTextToggle",{state:!0}),!function w(){return D||!1===B.settings.paste_plaintext_inform}()){var be=B.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");B.notificationManager.open({text:be,type:"info"}),D=!0}B.focus()}function U(){var be=this;be.active("text"===oe.pasteFormat),B.on("PastePlainTextToggle",function(Ae){be.active(Ae.state)})}var oe,fe=this,ue=B.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(ue.plugins)&&J.get("powerpaste")?void(typeof console<"u"&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(fe.clipboard=oe=new j(B),fe.quirks=new y(B),fe.wordFilter=new m(B),B.settings.paste_as_text&&(fe.clipboard.pasteFormat="text"),ue.paste_preprocess&&B.on("PastePreProcess",function(be){ue.paste_preprocess.call(fe,fe,be)}),ue.paste_postprocess&&B.on("PastePostProcess",function(be){ue.paste_postprocess.call(fe,fe,be)}),B.addCommand("mceInsertClipboardContent",function(be,Ae){Ae.content&&fe.clipboard.pasteHtml(Ae.content),Ae.text&&fe.clipboard.pasteText(Ae.text)}),B.settings.paste_block_drop&&B.on("dragend dragover draggesture dragdrop drop drag",function(be){be.preventDefault(),be.stopPropagation()}),B.settings.paste_data_images||B.on("drop",function(be){var Ae=be.dataTransfer;Ae&&Ae.files&&Ae.files.length>0&&be.preventDefault()}),B.addCommand("mceTogglePlainTextPaste",O),B.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:O,onPostRender:U}),void B.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:oe.pasteFormat,onclick:O,onPostRender:U}))})}),function de(J){var j,m,y,D,B;for(j=0;j<J.length;j++){m=ke,D=(y=J[j]).split(/[.\/]/);for(var w=0;w<D.length-1;++w)m[D[w]]===Ve&&(m[D[w]]={}),m=m[D[w]];m[D[D.length-1]]=ve[y]}if(ke.AMDLC_TESTS){for(y in B=ke.privateModules||{},ve)B[y]=ve[y];for(j=0;j<J.length;j++)delete B[J[j]];ke.privateModules=B}}(["tinymce/pasteplugin/Utils"])}(window),function(ke,Ve){"use strict";function Ne(ve,J,j){if("string"!=typeof ve)throw"invalid module definition, module id must be defined and be a string";if(J===Ve)throw"invalid module definition, dependencies must be specified";if(j===Ve)throw"invalid module definition, definition function must be specified";!function an(ve,J){for(var j,m=[],y=0;y<ve.length;++y){if(!(j=de[ve[y]]||gt(ve[y])))throw"module definition dependecy not found: "+ve[y];m.push(j)}J.apply(null,m)}(J,function(){de[ve]=j.apply(null,arguments)})}function gt(ve){for(var J=ke,j=ve.split(/[.\/]/),m=0;m<j.length;++m){if(!J[j[m]])return;J=J[j[m]]}return J}var de={};Ne("tinymce/tableplugin/Utils",["tinymce/Env"],function(ve){var j=function(y){return function(D,B){D&&(1===(B=parseInt(B,10))||0===B?D.removeAttribute(y,1):D.setAttribute(y,B,1))}},m=function(y){return function(D){return parseInt(D.getAttribute(y)||1,10)}};return{setColSpan:j("colSpan"),setRowSpan:j("rowspan"),getColSpan:m("colSpan"),getRowSpan:m("rowSpan"),setSpanVal:function(y,D,B){j(D)(y,B)},getSpanVal:function(y,D){return m(D)(y)},paddCell:function J(y){(!ve.ie||ve.ie>9)&&(y.hasChildNodes()||(y.innerHTML='<br data-mce-bogus="1" />'))}}}),Ne("tinymce/tableplugin/SplitCols",["tinymce/util/Tools","tinymce/tableplugin/Utils"],function(ve,J){var j=function(ue,be,Ae){return ue[Ae]?ue[Ae][be]:null},m=function(ue,be,Ae){var Ke=j(ue,be,Ae);return Ke?Ke.elm:null},y=function(ue,be,Ae,Ke){var L,ye=0,Te=m(ue,be,Ae);for(L=Ae;(Ke>0?L<ue.length:L>=0)&&Te===j(ue,be,L).elm;L+=Ke)ye++;return ye},D=function(ue,be,Ae){for(var Ke,L=ue[Ae],Ge=be;Ge<L.length;Ge++)if((Ke=L[Ge]).real)return Ke.elm;return null},w=function(ue,be){var Ke=ue.elm.ownerDocument.createElement("td");return J.setColSpan(Ke,J.getColSpan(ue.elm)),J.setRowSpan(Ke,be),J.paddCell(Ke),Ke},O=function(ue,be,Ae,Ke){var L=D(ue,Ae+1,Ke);L?L.parentNode.insertBefore(be,L):(L=D(ue,0,Ke)).parentNode.appendChild(be)};return{splitAt:function(ue,be,Ae,Ke){var L=function(ue,be){for(var Ae,Ke=[],L=ue[be],Ge=0;Ge<L.length;Ge++)Ke.push({elm:(Ae=L[Ge]).elm,above:y(ue,Ge,be,-1)-1,below:y(ue,Ge,be,1)-1}),Ge+=J.getColSpan(Ae.elm)-1;return Ke}(ue,Ae),Ge=m(ue,be,Ae).parentNode,ye=[];return ve.each(L,function(Te,Ue){var ce=Ke?function(ue,be,Ae,Ke){if(0!==be.above){J.setRowSpan(be.elm,be.above);var L=w(be,be.below+1);return O(ue,L,Ae,Ke),L}return null}(ue,Te,Ue,Ae):function(ue,be,Ae,Ke){if(0!==be.below){J.setRowSpan(be.elm,be.above+1);var L=w(be,be.below);return O(ue,L,Ae,Ke+1),L}return null}(ue,Te,Ue,Ae);null!==ce&&ye.push(ye)}),{cells:ye,row:Ge}}}}),Ne("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils","tinymce/tableplugin/SplitCols"],function(ve,J,j,m){var y=ve.each,D=j.getSpanVal,B=j.setSpanVal;return function(w,O,U){function oe(){w.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function fe(Cn){return Cn===w.getBody()}function ue(Cn,Rn){return Cn?(Rn=ve.map(Rn.split(","),function(ti){return ti.toLowerCase()}),ve.grep(Cn.childNodes,function(ti){return-1!==ve.inArray(Rn,ti.nodeName.toLowerCase())})):[]}function be(){var Cn=0;Bn=[],Nn=0,y(["thead","tbody","tfoot"],function(Rn){var ti=ue(O,Rn)[0],fi=ue(ti,"tr");y(fi,function(si,Jn){Jn+=Cn,y(ue(si,"td,th"),function(bi,Ii){var Ai,Wi,qi,Br;if(Bn[Jn])for(;Bn[Jn][Ii];)Ii++;for(qi=D(bi,"rowspan"),Br=D(bi,"colspan"),Wi=Jn;Wi<Jn+qi;Wi++)for(Bn[Wi]||(Bn[Wi]=[]),Ai=Ii;Ai<Ii+Br;Ai++)Bn[Wi][Ai]={part:Rn,real:Wi==Jn&&Ai==Ii,elm:bi,rowspan:qi,colspan:Br};Nn=Math.max(Nn,Ii+1)})}),Cn+=fi.length})}function Ae(Cn){return w.fire("newrow",{node:Cn}),Cn}function Ke(Cn){return w.fire("newcell",{node:Cn}),Cn}function L(Cn,Rn){return(Cn=Cn.cloneNode(Rn)).removeAttribute("id"),Cn}function Ge(Cn,Rn){var ti;if(ti=Bn[Rn])return ti[Cn]}function ye(Cn,Rn){return Cn[Rn]?Cn[Rn]:null}function Te(Cn,Rn){for(var ti=[],fi=0;fi<Cn.length;fi++)ti.push(Ge(Rn,fi));return ti}function Ue(Cn){return Cn&&(!!Li.getAttrib(Cn.elm,"data-mce-selected")||Cn==U)}function ce(){var Cn=[];return y(O.rows,function(Rn){y(Rn.cells,function(ti){if(Li.getAttrib(ti,"data-mce-selected")||U&&ti==U.elm)return Cn.push(Rn),!1})}),Cn}function xe(Cn){var Rn,ti={};return!1!==w.settings.table_clone_elements&&(ti=ve.makeMap((w.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),ve.walk(Cn,function(fi){var si;if(3==fi.nodeType)return y(Li.getParents(fi.parentNode,null,Cn).reverse(),function(Jn){ti[Jn.nodeName]&&(Jn=L(Jn,!1),Rn?si&&si.appendChild(Jn):Rn=si=Jn,si=Jn)}),si&&(si.innerHTML=J.ie&&J.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1},"childNodes"),Ke(Cn=L(Cn,!1)),B(Cn,"rowSpan",1),B(Cn,"colSpan",1),Rn?Cn.appendChild(Rn):j.paddCell(Cn),Cn}function We(){var Cn,Rn=Li.createRng();return y(Li.select("tr",O),function(ti){0===ti.cells.length&&Li.remove(ti)}),0===Li.select("tr",O).length?(Rn.setStartBefore(O),Rn.setEndBefore(O),$i.setRng(Rn),void Li.remove(O)):(y(Li.select("thead,tbody,tfoot",O),function(ti){0===ti.rows.length&&Li.remove(ti)}),be(),void(ei&&(Cn=Bn[Math.min(Bn.length-1,ei.y)],Cn&&($i.select(Cn[Math.min(Cn.length-1,ei.x)].elm,!0),$i.collapse(!0)))))}function et(Cn,Rn,ti,fi){var si,Jn,bi,Ii,Ai;for(si=Bn[Rn][Cn].elm.parentNode,bi=1;bi<=ti;bi++)if(si=Li.getNext(si,"tr")){for(Jn=Cn;Jn>=0;Jn--)if((Ai=Bn[Rn+bi][Jn].elm).parentNode==si){for(Ii=1;Ii<=fi;Ii++)Li.insertAfter(xe(Ai),Ai);break}if(-1==Jn)for(Ii=1;Ii<=fi;Ii++)si.insertBefore(xe(si.cells[0]),si.cells[0])}}function xt(){y(Bn,function(Cn,Rn){y(Cn,function(ti,fi){var si,Jn,bi;if(Ue(ti)&&(si=D(ti=ti.elm,"colspan"),Jn=D(ti,"rowspan"),si>1||Jn>1)){for(B(ti,"rowSpan",1),B(ti,"colSpan",1),bi=0;bi<si-1;bi++)Li.insertAfter(xe(ti),ti);et(fi,Rn,Jn-1,si)}})})}function ze(Cn,Rn,ti){for(var fi=[],si=0;si<Cn.length;si++)(si<Rn||si>ti)&&fi.push(Cn[si]);return fi}function Xe(Cn){return ve.grep(Cn,function(Rn){return!1===Rn.real})}function Je(Cn){for(var Rn=[],ti=0;ti<Cn.length;ti++){var fi=Cn[ti].elm;Rn[Rn.length-1]!==fi&&Rn.push(fi)}return Rn}function Tt(Cn){var Rn,ti,fi,si,Jn,bi,Ii,Ai,Wi,qi;if(y(Bn,function(Br,vr){if(y(Br,function(cr){if(Ue(cr)&&(bi=Ae(L(Jn=(cr=cr.elm).parentNode,!1)),Rn=vr,Cn))return!1}),Cn)return Rn===Ve}),Rn!==Ve){for(si=0,qi=0;si<Bn[0].length;si+=qi)if(Bn[Rn][si]&&(qi=D(ti=Bn[Rn][si].elm,"colspan"),ti!=fi)){if(Cn){if(Rn>0&&Bn[Rn-1][si]&&(Wi=D(Ai=Bn[Rn-1][si].elm,"rowSpan"))>1){B(Ai,"rowSpan",Wi+1);continue}}else if((Wi=D(ti,"rowspan"))>1){B(ti,"rowSpan",Wi+1);continue}Ii=xe(ti),B(Ii,"colSpan",ti.colSpan),bi.appendChild(Ii),fi=ti}bi.hasChildNodes()&&(Cn?Jn.parentNode.insertBefore(bi,Jn):Li.insertAfter(bi,Jn))}}function en(Cn){var Rn,ti;y(Bn,function(fi){if(y(fi,function(si,Jn){if(Ue(si)&&(Rn=Jn,Cn))return!1}),Cn)return Rn===Ve}),y(Bn,function(fi,si){var Jn,bi,Ii;fi[Rn]&&(Jn=fi[Rn].elm)!=ti&&(Ii=D(Jn,"colspan"),bi=D(Jn,"rowspan"),1==Ii?Cn?(Jn.parentNode.insertBefore(xe(Jn),Jn),et(Rn,si,bi-1,Ii)):(Li.insertAfter(xe(Jn),Jn),et(Rn,si,bi-1,Ii)):B(Jn,"colSpan",Jn.colSpan+1),ti=Jn)})}function gn(Cn){var Rn=[];return y(Cn,function(ti){y(ti,function(fi){Rn.push(fi)})}),Rn}function gi(Cn){var Rn;return y(Bn,function(ti,fi){return y(ti,function(si,Jn){if(si.elm==Cn)return Rn={x:Jn,y:fi},!1}),!Rn}),Rn}var Bn,Nn,ei,Vi,$i=w.selection,Li=$i.dom;O=O||Li.getParent($i.getStart(!0),"table"),be(),(U=U||Li.getParent($i.getStart(!0),"th,td"))&&(ei=gi(U),Vi=function bn(){var Cn,Rn;return Cn=Rn=0,y(Bn,function(ti,fi){y(ti,function(si,Jn){var bi,Ii;Ue(si)&&(Jn>Cn&&(Cn=Jn),fi>Rn&&(Rn=fi),(si=Bn[fi][Jn]).real&&((bi=si.colspan-1)&&Jn+bi>Cn&&(Cn=Jn+bi),(Ii=si.rowspan-1)&&fi+Ii>Rn&&(Rn=fi+Ii)))})}),{x:Cn,y:Rn}}(),U=Ge(ei.x,ei.y)),ve.extend(this,{deleteTable:function qe(){var Cn=Li.createRng();fe(O)||(Cn.setStartAfter(O),Cn.setEndAfter(O),$i.setRng(Cn),Li.remove(O))},split:xt,merge:function Gt(Cn,Rn,ti){var fi,si,Jn,bi,Ii,Ai,Wi,qi,Br,vr,cr,Jr,hr;if(Cn?(bi=(si=(fi=gi(Cn)).x)+(Rn-1),Ii=(Jn=fi.y)+(ti-1)):(ei=Vi=null,y(Bn,function(jr,ao){y(jr,function(Ar,Yr){Ue(Ar)&&(ei||(ei={x:Yr,y:ao}),Vi={x:Yr,y:ao})})}),ei&&(si=ei.x,Jn=ei.y,bi=Vi.x,Ii=Vi.y)),qi=Ge(si,Jn),Br=Ge(bi,Ii),qi&&Br&&qi.part==Br.part){xt(),be(),Jr=function st(Cn,Rn,ti,fi,si){var Jn=0;if(si-ti<1)return 0;for(var bi=ti+1;bi<=si;bi++){var Ii=ze(ye(Cn,bi),Rn,fi),Ai=Xe(Ii);Ii.length===Ai.length&&(ve.each(Je(Ai),function(Wi){j.setRowSpan(Wi,j.getRowSpan(Wi)-1)}),Jn++)}return Jn}(Bn,si,Jn,bi,Ii),hr=function Et(Cn,Rn,ti,fi,si){var Jn=0;if(fi-Rn<1)return 0;for(var bi=Rn+1;bi<=fi;bi++){var Ii=ze(Te(Cn,bi),ti,si),Ai=Xe(Ii);Ii.length===Ai.length&&(ve.each(Je(Ai),function(Wi){j.setColSpan(Wi,j.getColSpan(Wi)-1)}),Jn++)}return Jn}(Bn,si,Jn,bi,Ii),qi=Ge(si,Jn).elm;var dr=bi-si-hr+1,Mr=Ii-Jn-Jr+1;for(dr===Nn&&Mr===Bn.length&&(dr=1,Mr=1),dr===Nn&&Mr>1&&(Mr=1),B(qi,"colSpan",dr),B(qi,"rowSpan",Mr),Wi=Jn;Wi<=Ii;Wi++)for(Ai=si;Ai<=bi;Ai++)Bn[Wi]&&Bn[Wi][Ai]&&(Cn=Bn[Wi][Ai].elm)!=qi&&(vr=ve.grep(Cn.childNodes),y(vr,function(jr){qi.appendChild(jr)}),vr.length&&(vr=ve.grep(qi.childNodes),cr=0,y(vr,function(jr){"BR"==jr.nodeName&&cr++<vr.length-1&&qi.removeChild(jr)})),Li.remove(Cn));We()}},insertRow:Tt,insertRows:function Nt(Cn,Rn){Rn=Rn||ce().length||1;for(var ti=0;ti<Rn;ti++)Tt(Cn)},insertCol:en,insertCols:function Ht(Cn,Rn){Rn=Rn||function Oe(){var Cn=0;return y(Bn,function(Rn){if(y(Rn,function(ti){Ue(ti)&&Cn++}),Cn)return!1}),Cn}()||1;for(var ti=0;ti<Rn;ti++)en(Cn)},splitCols:function Wn(Cn){if(ei){var Rn=m.splitAt(Bn,ei.x,ei.y,Cn);ve.each(Rn.cells,Ke)}},deleteCols:function zn(){var Cn=[];fe(O)&&(1==Bn[0].length||function Mn(Cn){return ve.grep(gn(Cn),Ue)}(Bn).length==gn(Bn).length)||(y(Bn,function(Rn){y(Rn,function(ti,fi){Ue(ti)&&-1===ve.inArray(Cn,fi)&&(y(Bn,function(si){var Jn,bi=si[fi].elm;(Jn=D(bi,"colSpan"))>1?B(bi,"colSpan",Jn-1):Li.remove(bi)}),Cn.push(fi))})}),We())},deleteRows:function xi(){var Rn;Rn=ce(),fe(O)&&Rn.length==O.rows.length||(y(Rn.reverse(),function(ti){!function Cn(ti){var fi,si;y(ti.cells,function(Jn){var bi=D(Jn,"rowSpan");bi>1&&(B(Jn,"rowSpan",bi-1),et((fi=gi(Jn)).x,fi.y,1,1))}),fi=gi(ti.cells[0]),y(Bn[fi.y],function(Jn){var bi;(Jn=Jn.elm)!=si&&((bi=D(Jn,"rowSpan"))<=1?Li.remove(Jn):B(Jn,"rowSpan",bi-1),si=Jn)})}(ti)}),We())},cutRows:function _i(){var Cn=ce();if(!fe(O)||Cn.length!=O.rows.length)return Li.remove(Cn),We(),Cn},copyRows:function mi(){var Cn=ce();return y(Cn,function(Rn,ti){Cn[ti]=L(Rn,!0)}),Cn},pasteRows:function Pi(Cn,Rn){var ti,fi,si;Cn&&(ti=m.splitAt(Bn,ei.x,ei.y,Rn),fi=ti.row,ve.each(ti.cells,Ke),si=ve.map(Cn,function(Jn){return Jn.cloneNode(!0)}),Rn||si.reverse(),y(si,function(Jn){var bi,Ii,Ai=Jn.cells.length;for(Ae(Jn),bi=0;bi<Ai;bi++)Ke(Ii=Jn.cells[bi]),B(Ii,"colSpan",1),B(Ii,"rowSpan",1);for(bi=Ai;bi<Nn;bi++)Jn.appendChild(Ke(xe(Jn.cells[Ai-1])));for(bi=Nn;bi<Ai;bi++)Li.remove(Jn.cells[bi]);Rn?fi.parentNode.insertBefore(Jn,fi):Li.insertAfter(Jn,fi)}),oe())},getPos:gi,setStartCell:function Oi(Cn){ei=gi(Cn)},setEndCell:function _n(Cn){var Rn,ti,fi,si,Jn,bi,Ii,Ai,Wi,qi;if(Vi=gi(Cn),ei&&Vi){for(Rn=Math.min(ei.x,Vi.x),ti=Math.min(ei.y,Vi.y),Jn=fi=Math.max(ei.x,Vi.x),bi=si=Math.max(ei.y,Vi.y),qi=ti;qi<=si;qi++)for(Wi=Rn;Wi<=fi;Wi++)(Cn=Bn[qi][Wi]).real&&((Ii=Cn.colspan-1)&&Wi+Ii>Jn&&(Jn=Wi+Ii),(Ai=Cn.rowspan-1)&&qi+Ai>bi&&(bi=qi+Ai));for(oe(),qi=ti;qi<=bi;qi++)for(Wi=Rn;Wi<=Jn;Wi++)Bn[qi][Wi]&&Li.setAttrib(Bn[qi][Wi].elm,"data-mce-selected","1")}},moveRelIdx:function fn(Cn,Rn){var ti,fi,si;fi=(ti=gi(Cn)).y*Nn+ti.x;do{if(!(si=Ge((fi+=Rn)%Nn,Math.floor(fi/Nn))))break;if(si.elm!=Cn)return $i.select(si.elm,!0),Li.isEmpty(si.elm)&&$i.collapse(!0),!0}while(si.elm==Cn);return!1},refresh:be})}}),Ne("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(ve,J,j,m,y){var D=m.each,B=y.getSpanVal;return function(w){function U(){w.on("KeyDown",function(Ke){var L,Ge,ye=w.dom;37!=Ke.keyCode&&38!=Ke.keyCode||(L=w.selection.getRng(),(Ge=ye.getParent(L.startContainer,"table"))&&w.getBody().firstChild==Ge&&function Ae(Ke,L){var Ge,ye=L.ownerDocument,Te=ye.createRange();return Te.setStartBefore(L),Te.setEnd(Ke.endContainer,Ke.endOffset),(Ge=ye.createElement("body")).appendChild(Te.cloneContents()),0===Ge.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}(L,Ge)&&((L=ye.createRng()).setStartBefore(Ge),L.setEndBefore(Ge),w.selection.setRng(L),Ke.preventDefault()))})}function oe(){w.on("KeyDown SetContent VisualAid",function(){var Ae;for(Ae=w.getBody().lastChild;Ae;Ae=Ae.previousSibling)if(3==Ae.nodeType){if(Ae.nodeValue.length>0)break}else if(1==Ae.nodeType&&("BR"==Ae.tagName||!Ae.getAttribute("data-mce-bogus")))break;Ae&&"TABLE"==Ae.nodeName&&(w.settings.forced_root_block?w.dom.add(w.getBody(),w.settings.forced_root_block,w.settings.forced_root_block_attrs,j.ie&&j.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):w.dom.add(w.getBody(),"br",{"data-mce-bogus":"1"}))}),w.on("PreProcess",function(Ae){var Ke=Ae.node.lastChild;Ke&&("BR"==Ke.nodeName||1==Ke.childNodes.length&&("BR"==Ke.firstChild.nodeName||"\xa0"==Ke.firstChild.nodeValue))&&Ke.previousSibling&&"TABLE"==Ke.previousSibling.nodeName&&w.dom.remove(Ke)})}(function ue(){function Ae(L){w.selection.select(L,!0),w.selection.collapse(!0)}function Ke(L){w.$(L).empty(),y.paddCell(L)}w.on("keydown",function(L){var Ge,ye,Te,Ue;if((L.keyCode==ve.DELETE||L.keyCode==ve.BACKSPACE)&&!L.isDefaultPrevented()&&(Ge=w.dom.getParent(w.selection.getStart(),"table"))){if(ye=w.dom.select("td,th",Ge),0===(Te=m.grep(ye,function(ce){return!!w.dom.getAttrib(ce,"data-mce-selected")})).length)return Ue=w.dom.getParent(w.selection.getStart(),"td,th"),void(w.selection.isCollapsed()&&Ue&&w.dom.isEmpty(Ue)&&(L.preventDefault(),Ke(Ue),Ae(Ue)));L.preventDefault(),w.undoManager.transact(function(){ye.length==Te.length?w.execCommand("mceTableDelete"):(m.each(Te,Ke),Ae(Te[0]))})}})})(),function be(){var Ke=function(qe,xe){var We=w.selection.getRng(),et=qe.ownerDocument.createTextNode("\xa0");We.startOffset?qe.insertBefore(et,qe.firstChild):qe.appendChild(et),xe&&(w.selection.select(et,!0),w.selection.collapse(!0))},Ge=function(qe){return qe.firstChild===qe.lastChild&&qe.firstChild},ye=function(qe){return qe&&3===qe.nodeType},Te=function(qe){var xe=Ge(qe);return ye(xe)&&1===xe.data.length?xe.data:null},ce=function(qe){return w.dom.isEmpty(qe)||Oe(Te(qe))},Oe=function(qe){return"\xa0"===qe};w.on("keydown",function(qe){if(function(qe){return(qe.keyCode==ve.DELETE||qe.keyCode==ve.BACKSPACE)&&!qe.isDefaultPrevented()}(qe)){var xe=w.dom.getParent(w.selection.getStart(),"caption");(function(qe){return qe&&"CAPTION"==qe.nodeName&&"TABLE"==qe.parentNode.nodeName})(xe)&&(j.ie&&(w.selection.isCollapsed()?function(qe){var xe=Ge(qe),We=Te(qe);return xe&&!ye(xe)||We&&!Oe(We)}(xe)&&Ke(xe):(w.undoManager.transact(function(){w.execCommand("Delete"),ce(xe)&&Ke(xe,!0)}),qe.preventDefault())),ce(xe)&&qe.preventDefault())}})}(),j.webkit&&(function O(){function Ae(Ke){function L(Et,Gt){var Tt=Et?"previousSibling":"nextSibling",Nt=w.dom.getParent(Gt,"tr"),en=Nt[Tt];if(en)return xt(0,Gt,en,Et),Ke.preventDefault(),!0;var Ht=w.dom.getParent(Nt,"table"),Mn=Nt.parentNode,gn=Mn.nodeName.toLowerCase();if("tbody"===gn||gn===(Et?"tfoot":"thead")){var zn=function Ge(Et,Gt,Tt,Nt){var en=w.dom.select(">"+Nt,Gt),Ht=en.indexOf(Tt);return Et&&0===Ht||!Et&&Ht===en.length-1?function ye(Et,Gt){var Nt=w.dom.select(">"+(Et?"thead":"tfoot"),Gt);return 0!==Nt.length?Nt[0]:null}(Et,Gt):-1===Ht?en["thead"===Tt.tagName.toLowerCase()?0:en.length-1]:en[Ht+(Et?-1:1)]}(Et,Ht,Mn,"tbody");if(null!==zn)return function Te(Et,Gt,Tt){var Nt=ce(Gt,Et);return Nt&&xt(0,Tt,Nt,Et),Ke.preventDefault(),!0}(Et,zn,Gt)}return function Ue(Et,Gt,Tt,Nt){var en=Nt[Tt];if(en)return Oe(en),!0;var Ht=w.dom.getParent(Nt,"td,th");return Ht?L(Et,Ht):(Oe(ce(Gt,!Et)),Ke.preventDefault(),!1)}(Et,Nt,Tt,Ht)}function ce(Et,Gt){var Tt=Et&&Et[Gt?"lastChild":"firstChild"];return Tt&&"BR"===Tt.nodeName?w.dom.getParent(Tt,"td,th"):Tt}function Oe(Et){w.selection.setCursorLocation(Et,0)}function xt(Et,Gt,Tt,Nt){var en=function We(Et){for(var Gt=0,Tt=Et;Tt.previousSibling;)Gt+=B(Tt=Tt.previousSibling,"colspan");return Gt}(w.dom.getParent(Gt,"td,th")),Ht=function et(Et,Gt){var Tt=0,Nt=0;return D(Et.children,function(en,Ht){if(Tt+=B(en,"colspan"),Nt=Ht,Tt>Gt)return!1}),Nt}(Tt,en),Mn=Tt.childNodes[Ht];Oe(ce(Mn,Nt)||Mn)}var Je=Ke.keyCode;if(function qe(){return Je==ve.UP||Je==ve.DOWN}()&&function xe(Et){var Gt=Et.selection.getNode();return null!==Et.dom.getParent(Gt,"tr")}(w)){var st=w.selection.getNode();J.setEditorTimeout(w,function(){(function ze(Et){var Gt=w.selection.getNode(),Tt=w.dom.getParent(Gt,"td,th"),Nt=w.dom.getParent(Et,"td,th");return Tt&&Tt!==Nt&&function Xe(Et,Gt){return w.dom.getParent(Et,"TABLE")===w.dom.getParent(Gt,"TABLE")}(Tt,Nt)})(st)&&L(!Ke.shiftKey&&Je===ve.UP,st)},0)}}w.on("KeyDown",function(Ke){Ae(Ke)})}(),function fe(){function Ke(){var L=w.selection.getRng(),Ge=w.selection.getNode(),ye=w.dom.getParent(L.startContainer,"TD,TH");if(function Ae(L,Ge,ye,Te){var Ue,xe=L.dom.getParent(Ge.startContainer,"TABLE");return xe&&(Ue=xe.parentNode),3==Ge.startContainer.nodeType&&0===Ge.startOffset&&0===Ge.endOffset&&Te&&("TR"==ye.nodeName||ye==Ue)||("TD"==ye.nodeName||"TH"==ye.nodeName)&&!Te}(w,L,Ge,ye)){ye||(ye=Ge);for(var Te=ye.lastChild;Te.lastChild;)Te=Te.lastChild;3==Te.nodeType&&(L.setEnd(Te,Te.data.length),w.selection.setRng(L))}}w.on("KeyDown",function(){Ke()}),w.on("MouseDown",function(L){2!=L.button&&Ke()})}()),j.gecko&&(U(),oe()),j.ie>9&&(U(),oe())}}),Ne("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(ve,J,j){return function(m,y){function D(Ge){m.getBody().style.webkitUserSelect="",(Ge||Ke)&&(m.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),Ke=!1)}function B(Ge,ye){return!(!Ge||!ye)&&Ge===Ae.getParent(ye,"table")}function w(Ge){var ye,Te,Ue=Ge.target;if(!ue&&!be&&Ue!==fe&&(fe=Ue,oe&&U)){if(Te=Ae.getParent(Ue,"td,th"),B(oe,Te)||(Te=Ae.getParent(oe,"td,th")),U===Te&&!Ke)return;if(y(!0),B(oe,Te)){Ge.preventDefault(),O||(O=new ve(m,oe,U),m.getBody().style.webkitUserSelect="none"),O.setEndCell(Te),Ke=!0,ye=m.selection.getSel();try{ye.removeAllRanges?ye.removeAllRanges():ye.empty()}catch{}}}}var O,U,oe,fe,ue,be,Ae=m.dom,Ke=!0,L=function(){U=O=oe=fe=null,y(!1)};return m.on("SelectionChange",function(Ge){Ke&&Ge.stopImmediatePropagation()},!0),m.on("MouseDown",function(Ge){2==Ge.button||ue||be||(D(),U=Ae.getParent(Ge.target,"td,th"),oe=Ae.getParent(U,"table"))}),m.on("mouseover",w),m.on("remove",function(){Ae.unbind(m.getDoc(),"mouseover",w),D()}),m.on("MouseUp",function(){function Ge(xe,We){var et=new J(xe,xe);do{if(3==xe.nodeType&&0!==j.trim(xe.nodeValue).length)return void(We?ye.setStart(xe,0):ye.setEnd(xe,xe.nodeValue.length));if("BR"==xe.nodeName)return void(We?ye.setStartBefore(xe):ye.setEndBefore(xe))}while(xe=We?et.next():et.prev())}var ye,Te,Ue,ce,Oe,qe=m.selection;if(U){if(O&&(m.getBody().style.webkitUserSelect=""),(Te=Ae.select("td[data-mce-selected],th[data-mce-selected]")).length>0){(ye=Ae.createRng()).setStartBefore(ce=Te[0]),ye.setEndAfter(ce),Ge(ce,1),Ue=new J(ce,Ae.getParent(Te[0],"table"));do{if("TD"==ce.nodeName||"TH"==ce.nodeName){if(!Ae.getAttrib(ce,"data-mce-selected"))break;Oe=ce}}while(ce=Ue.next());Ge(Oe),qe.setRng(ye)}m.nodeChanged(),L()}}),m.on("KeyUp Drop SetContent",function(Ge){D("setcontent"==Ge.type),L(),ue=!1}),m.on("ObjectResizeStart ObjectResized",function(Ge){ue="objectresized"!=Ge.type}),m.on("dragstart",function(){be=!0}),m.on("drop dragend",function(){be=!1}),{clear:D}}}),Ne("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(ve,J){var j=ve.each;return function(m){function y(){var Ke=m.settings.color_picker_callback;if(Ke)return function(){var L=this;Ke.call(m,function(Ge){L.value(Ge).fire("change")},L.value())}}function D(Ke){return{title:"Advanced",type:"form",defaults:{onchange:function(){fe(Ke,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:y()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:y()}]}]}}function B(Ke){return Ke?Ke.replace(/px$/,""):""}function w(Ke){return/^[0-9]+$/.test(Ke)&&(Ke+="px"),Ke}function O(Ke){j("left center right".split(" "),function(L){m.formatter.remove("align"+L,{},Ke)})}function oe(Ke,L,Ge){return function ye(Te,Ue){return Ue=Ue||[],ve.each(Te,function(ce){var Oe={text:ce.text||ce.title};ce.menu?Oe.menu=ye(ce.menu):(Oe.value=ce.value,L&&L(Oe)),Ue.push(Oe)}),Ue}(Ke,Ge||[])}function fe(Ke,L,Ge){var ye=L.toJSON(),Te=Ke.parseStyle(ye.style);Ge?(L.find("#borderColor").value(Te["border-color"]||"")[0].fire("change"),L.find("#backgroundColor").value(Te["background-color"]||"")[0].fire("change")):(Te["border-color"]=ye.borderColor,Te["background-color"]=ye.backgroundColor),L.find("#style").value(Ke.serializeStyle(Ke.parseStyle(Ke.serializeStyle(Te))))}function ue(Ke,L,Ge){var ye=Ke.parseStyle(Ke.getAttrib(Ge,"style"));ye["border-color"]&&(L.borderColor=ye["border-color"]),ye["background-color"]&&(L.backgroundColor=ye["background-color"]),L.style=Ke.serializeStyle(ye)}var Ae=this;Ae.tableProps=function(){Ae.table(!0)},Ae.table=function(Ke){function L(){function et(ze,Xe,Je){if("TD"===ze.tagName||"TH"===ze.tagName)xe.setStyle(ze,Xe,Je);else if(ze.children)for(var st=0;st<ze.children.length;st++)et(ze.children[st],Xe,Je)}var xt;fe(xe,this),!1===(We=ve.extend(We,this.toJSON())).class&&delete We.class,m.undoManager.transact(function(){if(ye||(ye=m.plugins.table.insertTable(We.cols||1,We.rows||1)),m.dom.setAttribs(ye,{style:We.style,class:We.class}),m.settings.table_style_by_css){if((qe=[]).push({name:"border",value:We.border}),qe.push({name:"border-spacing",value:w(We.cellspacing)}),function be(Ke,L,Ge){var ye=Ke.parseStyle(Ke.getAttrib(L,"style"));j(Ge,function(Te){ye[Te.name]=Te.value}),Ke.setAttrib(L,"style",Ke.serializeStyle(Ke.parseStyle(Ke.serializeStyle(ye))))}(xe,ye,qe),xe.setAttribs(ye,{"data-mce-border-color":We.borderColor,"data-mce-cell-padding":We.cellpadding,"data-mce-border":We.border}),ye.children)for(var ze=0;ze<ye.children.length;ze++)et(ye.children[ze],"border",We.border),et(ye.children[ze],"padding",w(We.cellpadding))}else m.dom.setAttribs(ye,{border:We.border,cellpadding:We.cellpadding,cellspacing:We.cellspacing});xe.getAttrib(ye,"width")&&!m.settings.table_style_by_css?xe.setAttrib(ye,"width",B(We.width)):xe.setStyle(ye,"width",w(We.width)),xe.setStyle(ye,"height",w(We.height)),(xt=xe.select("caption",ye)[0])&&!We.caption&&xe.remove(xt),!xt&&We.caption&&((xt=xe.create("caption")).innerHTML=J.ie?"\xa0":'<br data-mce-bogus="1"/>',ye.insertBefore(xt,ye.firstChild)),O(ye),We.align&&m.formatter.apply("align"+We.align,{},ye),m.focus(),m.addVisual()})}function Ge(et,xt){return function ze(st,Et){for(var Gt=0;Gt<Et.length;Gt++){var Tt=xe.getStyle(Et[Gt],xt);if(typeof st>"u"&&(st=Tt),st!=Tt)return""}return st}(undefined,m.dom.select("td,th",et))}var ye,Te,Ue,ce,Oe,qe,xe=m.dom,We={};!0===Ke?(ye=xe.getParent(m.selection.getStart(),"table"))&&(We={width:B(xe.getStyle(ye,"width")||xe.getAttrib(ye,"width")),height:B(xe.getStyle(ye,"height")||xe.getAttrib(ye,"height")),cellspacing:B(xe.getStyle(ye,"border-spacing")||xe.getAttrib(ye,"cellspacing")),cellpadding:xe.getAttrib(ye,"data-mce-cell-padding")||xe.getAttrib(ye,"cellpadding")||Ge(ye,"padding"),border:xe.getAttrib(ye,"data-mce-border")||xe.getAttrib(ye,"border")||Ge(ye,"border"),borderColor:xe.getAttrib(ye,"data-mce-border-color"),caption:!!xe.select("caption",ye)[0],class:xe.getAttrib(ye,"class")},j("left center right".split(" "),function(et){m.formatter.matchNode(ye,"align"+et)&&(We.align=et)})):(Te={label:"Cols",name:"cols"},Ue={label:"Rows",name:"rows"}),m.settings.table_class_list&&(We.class&&(We.class=We.class.replace(/\s*mce\-item\-table\s*/g,"")),ce={name:"class",type:"listbox",label:"Class",values:oe(m.settings.table_class_list,function(et){et.value&&(et.textStyle=function(){return m.formatter.getCssText({block:"table",classes:[et.value]})})})}),Oe={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==m.settings.table_appearance_options?[Te,Ue,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[Te,Ue,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},ce]},!1!==m.settings.table_advtab?(ue(xe,We,ye),m.windowManager.open({title:"Table properties",data:We,bodyType:"tabpanel",body:[{title:"General",type:"form",items:Oe},D(xe)],onsubmit:L})):m.windowManager.open({title:"Table properties",data:We,body:Oe,onsubmit:L})},Ae.merge=function(Ke,L){m.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var Ge=this.toJSON();m.undoManager.transact(function(){Ke.merge(L,Ge.cols,Ge.rows)})}})},Ae.cell=function(){function Ke(xe,We,et){(1===Oe.length||et)&&ce.setAttrib(xe,We,et)}function L(xe,We,et){(1===Oe.length||et)&&ce.setStyle(xe,We,et)}function Ge(){fe(ce,this),Te=ve.extend(Te,this.toJSON()),m.undoManager.transact(function(){j(Oe,function(xe){Ke(xe,"scope",Te.scope),Ke(xe,"style",Te.style),Ke(xe,"class",Te.class),L(xe,"width",w(Te.width)),L(xe,"height",w(Te.height)),Te.type&&xe.nodeName.toLowerCase()!==Te.type&&(xe=ce.rename(xe,Te.type)),1===Oe.length&&(O(xe),function U(Ke){j("top middle bottom".split(" "),function(L){m.formatter.remove("valign"+L,{},Ke)})}(xe)),Te.align&&m.formatter.apply("align"+Te.align,{},xe),Te.valign&&m.formatter.apply("valign"+Te.valign,{},xe)}),m.focus()})}var ye,Te,Ue,ce=m.dom,Oe=[];if(Oe=m.dom.select("td[data-mce-selected],th[data-mce-selected]"),ye=m.dom.getParent(m.selection.getStart(),"td,th"),!Oe.length&&ye&&Oe.push(ye),ye=ye||Oe[0]){Oe.length>1?Te={width:"",height:"",scope:"",class:"",align:"",style:"",type:ye.nodeName.toLowerCase()}:((Te={width:B(ce.getStyle(ye,"width")||ce.getAttrib(ye,"width")),height:B(ce.getStyle(ye,"height")||ce.getAttrib(ye,"height")),scope:ce.getAttrib(ye,"scope"),class:ce.getAttrib(ye,"class")}).type=ye.nodeName.toLowerCase(),j("left center right".split(" "),function(xe){m.formatter.matchNode(ye,"align"+xe)&&(Te.align=xe)}),j("top middle bottom".split(" "),function(xe){m.formatter.matchNode(ye,"valign"+xe)&&(Te.valign=xe)}),ue(ce,Te,ye)),m.settings.table_cell_class_list&&(Ue={name:"class",type:"listbox",label:"Class",values:oe(m.settings.table_cell_class_list,function(xe){xe.value&&(xe.textStyle=function(){return m.formatter.getCssText({block:"td",classes:[xe.value]})})})});var qe={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},Ue]};m.windowManager.open(!1!==m.settings.table_cell_advtab?{title:"Cell properties",bodyType:"tabpanel",data:Te,body:[{title:"General",type:"form",items:qe},D(ce)],onsubmit:Ge}:{title:"Cell properties",data:Te,body:qe,onsubmit:Ge})}},Ae.row=function(){function Ke(et,xt,ze){(1===We.length||ze)&&xe.setAttrib(et,xt,ze)}function Ge(){var et,xt,ze;fe(xe,this),Oe=ve.extend(Oe,this.toJSON()),m.undoManager.transact(function(){var Xe=Oe.type;j(We,function(Je){Ke(Je,"scope",Oe.scope),Ke(Je,"style",Oe.style),Ke(Je,"class",Oe.class),function L(et,xt,ze){(1===We.length||ze)&&xe.setStyle(et,xt,ze)}(Je,"height",w(Oe.height)),Xe!==Je.parentNode.nodeName.toLowerCase()&&(et=xe.getParent(Je,"table"),xt=Je.parentNode,(ze=xe.select(Xe,et)[0])||(ze=xe.create(Xe),et.firstChild?et.insertBefore(ze,et.firstChild):et.appendChild(ze)),ze.appendChild(Je),xt.hasChildNodes()||xe.remove(xt)),1===We.length&&O(Je),Oe.align&&m.formatter.apply("align"+Oe.align,{},Je)}),m.focus()})}var ye,Te,Ue,ce,Oe,qe,xe=m.dom,We=[];ye=m.dom.getParent(m.selection.getStart(),"table"),Te=m.dom.getParent(m.selection.getStart(),"td,th"),j(ye.rows,function(et){j(et.cells,function(xt){if(xe.getAttrib(xt,"data-mce-selected")||xt==Te)return We.push(et),!1})}),(Ue=We[0])&&(We.length>1?Oe={height:"",scope:"",class:"",align:"",type:Ue.parentNode.nodeName.toLowerCase()}:((Oe={height:B(xe.getStyle(Ue,"height")||xe.getAttrib(Ue,"height")),scope:xe.getAttrib(Ue,"scope"),class:xe.getAttrib(Ue,"class")}).type=Ue.parentNode.nodeName.toLowerCase(),j("left center right".split(" "),function(et){m.formatter.matchNode(Ue,"align"+et)&&(Oe.align=et)}),ue(xe,Oe,Ue)),m.settings.table_row_class_list&&(ce={name:"class",type:"listbox",label:"Class",values:oe(m.settings.table_row_class_list,function(et){et.value&&(et.textStyle=function(){return m.formatter.getCssText({block:"tr",classes:[et.value]})})})}),qe={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},ce]},m.windowManager.open(!1!==m.settings.table_row_advtab?{title:"Row properties",data:Oe,bodyType:"tabpanel",body:[{title:"General",type:"form",items:qe},D(xe)],onsubmit:Ge}:{title:"Row properties",data:Oe,body:qe,onsubmit:Ge}))}}}),Ne("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(ve,J){var j;return function(m){function y(An,Fn){return{index:An,y:m.dom.getPos(Fn).y}}function D(An,Fn){return{index:An,y:m.dom.getPos(Fn).y+Fn.offsetHeight}}function B(An,Fn){return{index:An,x:m.dom.getPos(Fn).x}}function w(An,Fn){return{index:An,x:m.dom.getPos(Fn).x+Fn.offsetWidth}}function O(){return"rtl"===m.getBody().dir}function U(){return m.inline}function oe(){return U?m.getBody().ownerDocument.body:m.getBody()}function fe(An,Fn){return O()?w(An,Fn):B(An,Fn)}function ue(An,Fn){return O()?B(An,Fn):w(An,Fn)}function Ae(An,Fn){var pi=m.dom.getStyle(An,Fn,!0);return parseInt(pi,10)}function Ke(An){return Ae(An,"width")/Ae(An.parentElement,"width")*100}function ye(An,Fn,pi){for(var ai=[],Ei=1;Ei<pi.length;Ei++)ai.push(An(Ei-1,pi[Ei].element));return ai.push(Fn(pi.length-1,pi[pi.length-1].element)),ai}function Te(){var An=m.dom.select("."+Ai,oe());ve.each(An,function(Fn){m.dom.remove(Fn)})}function Ue(An){Te(),Je(An)}function ce(An,Fn,pi,ai,Ei,Ji,rr,or){var Hi={"data-mce-bogus":"all",class:Ai+" "+An,unselectable:"on","data-mce-resize":!1,style:"cursor: "+Fn+"; margin: 0; padding: 0; position: absolute; left: "+pi+"px; top: "+ai+"px; height: "+Ei+"px; width: "+Ji+"px; "};return Hi[rr]=or,Hi}function xe(An){return ve.map(An.rows,function(Fn){return{element:Fn,cells:ve.map(Fn.cells,function(ai){var Ei=ai.hasAttribute("rowspan")?parseInt(ai.getAttribute("rowspan"),10):1,Ji=ai.hasAttribute("colspan")?parseInt(ai.getAttribute("colspan"),10):1;return{element:ai,rowspan:Ei,colspan:Ji}})}})}function We(An){function Fn(Fi,yr){return Fi+","+yr}var Ji={},rr=[],or=0,Hi=0;return ve.each(An,function(Fi,yr){var ir=[];ve.each(Fi.cells,function(_r){for(var Ur=0;Ji[Fn(yr,Ur)]!==Ve;)Ur++;for(var Ir={element:_r.element,colspan:_r.colspan,rowspan:_r.rowspan,rowIndex:yr,colIndex:Ur},kr=0;kr<_r.colspan;kr++)for(var Ci=0;Ci<_r.rowspan;Ci++){var fr=yr+Ci,so=Ur+kr;Ji[Fn(fr,so)]=Ir,or=Math.max(or,fr+1),Hi=Math.max(Hi,so+1)}ir.push(Ir)}),rr.push({element:Fi.element,cells:ir})}),{grid:{maxRows:or,maxCols:Hi},getAt:function pi(Fi,yr){return Ji[Fn(Fi,yr)]},getAllCells:function ai(){var Fi=[];return ve.each(rr,function(yr){Fi=Fi.concat(yr.cells)}),Fi},getAllRows:function Ei(){return rr}}}function et(An,Fn){for(var pi=[],ai=An;ai<Fn;ai++)pi.push(ai);return pi}function xt(An,Fn,pi){for(var ai,Ei=An(),Ji=0;Ji<Ei.length;Ji++)Fn(Ei[Ji])&&(ai=Ei[Ji]);return ai||pi()}function ze(An){var Fn=et(0,An.grid.maxCols),pi=et(0,An.grid.maxRows);return ve.map(Fn,function(ai){return xt(function Ei(){for(var or=[],Hi=0;Hi<pi.length;Hi++){var Fi=An.getAt(Hi,ai);Fi&&Fi.colIndex===ai&&or.push(Fi)}return or},function Ji(or){return 1===or.colspan},function rr(){for(var or,Hi=0;Hi<pi.length;Hi++)if(or=An.getAt(Hi,ai))return or;return null})})}function Xe(An){var Fn=et(0,An.grid.maxCols),pi=et(0,An.grid.maxRows);return ve.map(pi,function(ai){return xt(function Ei(){for(var or=[],Hi=0;Hi<Fn.length;Hi++){var Fi=An.getAt(ai,Hi);Fi&&Fi.rowIndex===ai&&or.push(Fi)}return or},function Ji(or){return 1===or.rowspan},function rr(){return An.getAt(ai,0)})})}function Je(An){var pi=We(xe(An)),ai=Xe(pi),Ei=ze(pi),Ji=m.dom.getPos(An),rr=ai.length>0?ye(y,D,ai):[],or=Ei.length>0?ye(fe,ue,Ei):[];(function Oe(An,Fn,pi){ve.each(An,function(ai){var Ei=pi.x,Ji=ai.y-Mr/2,rr=Mr,or=Fn;m.dom.add(oe(),"div",ce(Wi,qi,Ei,Ji,rr,or,Br,ai.index))})})(rr,An.offsetWidth,Ji),function qe(An,Fn,pi){ve.each(An,function(ai){var Ei=ai.x-Mr/2,Ji=pi.y,rr=Fn,or=Mr;m.dom.add(oe(),"div",ce(cr,Jr,Ei,Ji,rr,or,hr,ai.index))})}(or,An.offsetHeight,Ji)}function st(An,Fn,pi,ai){if(Fn<0||Fn>=An.length-1)return"";var Ei=An[Fn];if(Ei)Ei={value:Ei,delta:0};else for(var Ji=An.slice(0,Fn).reverse(),rr=0;rr<Ji.length;rr++)Ji[rr]&&(Ei={value:Ji[rr],delta:rr+1});var or=An[Fn+1];if(or)or={value:or,delta:1};else for(var Hi=An.slice(Fn+1),Fi=0;Fi<Hi.length;Fi++)Hi[Fi]&&(or={value:Hi[Fi],delta:Fi+1});var yr=or.delta-Ei.delta,ir=Math.abs(or.value-Ei.value)/yr;return pi?ir/Ae(ai,"width")*100:ir}function Et(An,Fn){var pi=m.dom.getStyle(An,Fn);return pi||(pi=m.dom.getAttrib(An,Fn)),pi||(pi=m.dom.getStyle(An,Fn,!0)),pi}function Gt(An,Fn,pi){var ai=Et(An,"width"),Ei=parseInt(ai,10),Ji=Fn?function be(An,Fn){return Ae(An,"width")/Ae(Fn,"width")*100}(An,pi):Ae(An,"width");return(Fn&&!_i(ai)||!Fn&&!mi(ai))&&(Ei=0),!isNaN(Ei)&&Ei>0?Ei:Ji}function Tt(An,Fn,pi){for(var ai=ze(An),Ei=ve.map(ai,function(Fi){return fe(Fi.colIndex,Fi.element).x}),Ji=[],rr=0;rr<ai.length;rr++){var Hi=(ai[rr].element.hasAttribute("colspan")?parseInt(ai[rr].element.getAttribute("colspan"),10):1)>1?st(Ei,rr):Gt(ai[rr].element,Fn,pi);Ji.push(Hi=Hi||jr)}return Ji}function Nt(An){var Fn=Et(An,"height"),pi=parseInt(Fn,10);return _i(Fn)&&(pi=0),!isNaN(pi)&&pi>0?pi:Ae(An,"height")}function en(An){for(var Fn=Xe(An),pi=ve.map(Fn,function(or){return y(or.rowIndex,or.element).y}),ai=[],Ei=0;Ei<Fn.length;Ei++){var rr=(Fn[Ei].element.hasAttribute("rowspan")?parseInt(Fn[Ei].element.getAttribute("rowspan"),10):1)>1?st(pi,Ei):Nt(Fn[Ei].element);ai.push(rr=rr||ao)}return ai}function Ht(An,Fn,pi,ai,Ei){function Ji(ir){return ve.map(ir,function(){return 0})}function or(ir,_r){var Ur,Ir=Ji(yr.slice(0,ir)),kr=Ji(yr.slice(_r+1));if(pi>=0){var Ci=Math.max(ai,yr[_r]-pi);Ur=Ir.concat([pi,Ci-yr[_r]]).concat(kr)}else{var fr=Math.max(ai,yr[ir]+pi);Ur=Ir.concat([fr-yr[ir],yr[ir]-fr]).concat(kr)}return Ur}var yr=An.slice(0);return 0===An.length?[]:1===An.length?function rr(){return Ei?[100-yr[0]]:[Math.max(ai,yr[0]+pi)-yr[0]]}():0===Fn?or(0,1):Fn>0&&Fn<An.length-1?or(Fn,Fn+1):Fn===An.length-1?function Hi(ir,_r){var Ur,Ir=Ji(yr.slice(0,_r));if(pi>=0)Ur=Ir.concat([pi]);else{var kr=Math.max(ai,yr[_r]+pi);Ur=Ir.concat([kr-yr[_r]])}return Ur}(0,Fn):[]}function Mn(An,Fn,pi){for(var ai=0,Ei=An;Ei<Fn;Ei++)ai+=pi[Ei];return ai}function gn(An,Fn){var pi=An.getAllCells();return ve.map(pi,function(ai){var Ei=Mn(ai.colIndex,ai.colIndex+ai.colspan,Fn);return{element:ai.element,width:Ei,colspan:ai.colspan}})}function zn(An,Fn){var pi=An.getAllCells();return ve.map(pi,function(ai){var Ei=Mn(ai.rowIndex,ai.rowIndex+ai.rowspan,Fn);return{element:ai.element,height:Ei,rowspan:ai.rowspan}})}function xi(An,Fn){var pi=An.getAllRows();return ve.map(pi,function(ai,Ei){return{element:ai.element,height:Fn[Ei]}})}function _i(An){return Yr.test(An)}function mi(An){return Xr.test(An)}function Pi(An,Fn,pi){for(var Hi=We(xe(An)),Fi=_i(An.width)||_i(An.style.width),yr=Tt(Hi,Fi,An),ir=Fi?function L(An,Fn){return Fn/Ae(An,"width")*100}(An,Fn):Fn,_r=Ht(yr,pi,ir,jr,Fi),Ur=[],Ir=0;Ir<_r.length;Ir++)Ur.push(_r[Ir]+yr[Ir]);var kr=gn(Hi,Ur),Ci=Fi?"%":"px",fr=Fi?function Ei(){return pi<Hi.grid.maxCols-1?Ke(An):Ke(An)+function Ge(An,Fn){return Fn/Ae(An.parentElement,"width")*100}(An,Fn)}():function Ji(){return pi<Hi.grid.maxCols-1?Ae(An,"width"):Ae(An,"width")+Fn}();m.undoManager.transact(function(){(function ai(so,yo){ve.each(so,function(po){m.dom.setStyle(po.element,"width",po.width+yo),m.dom.setAttrib(po.element,"width",null)})})(kr,Ci),function rr(so,yo,po){pi!=Hi.grid.maxCols-1&&po||(m.dom.setStyle(An,"width",so+yo),m.dom.setAttrib(An,"width",null))}(fr,Ci,Fi)})}function gi(An,Fn,pi){for(var Ei=We(xe(An)),Ji=en(Ei),rr=[],or=0,Hi=0;Hi<Ji.length;Hi++)rr.push(Hi===pi?Fn+Ji[Hi]:Ji[Hi]),or+=or[Hi];var Fi=zn(Ei,rr),yr=xi(Ei,rr);m.undoManager.transact(function(){ve.each(yr,function(ir){m.dom.setStyle(ir.element,"height",ir.height+"px"),m.dom.setAttrib(ir.element,"height",null)}),ve.each(Fi,function(ir){m.dom.setStyle(ir.element,"height",ir.height+"px"),m.dom.setAttrib(ir.element,"height",null)}),m.dom.setStyle(An,"height",or+"px"),m.dom.setAttrib(An,"height",null)})}function Wn(){if(m.dom.remove(si),fi){var An,Fn;if(m.dom.removeClass(Jn,Ar),fi=!1,Nn(Jn)){var pi=parseInt(m.dom.getAttrib(Jn,dr),10),ai=m.dom.getPos(Jn).x;An=parseInt(m.dom.getAttrib(Jn,hr),10),Fn=O()?pi-ai:ai-pi,Math.abs(Fn)>=1&&Pi(j,Fn,An)}else if(ei(Jn)){var Ei=parseInt(m.dom.getAttrib(Jn,vr),10),Ji=m.dom.getPos(Jn).y;An=parseInt(m.dom.getAttrib(Jn,Br),10),Fn=Ji-Ei,Math.abs(Fn)>=1&&gi(j,Fn,An)}Ue(j),m.nodeChanged()}}function Bn(An,Fn){si=si||function _n(){var An=document.createElement("div");return An.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),An.setAttribute("data-mce-bogus","all"),An}(),fi=!0,m.dom.addClass(An,Ar),Jn=An,function fn(An,Fn){m.dom.bind(An,"mouseup",function(){Wn()}),m.dom.bind(An,"mousemove",function(pi){(function bn(){clearTimeout(ti)})(),fi&&Fn(pi)}),m.dom.bind(An,"mouseout",function(){!function Oi(){ti=setTimeout(function(){Wn()},200)}()})}(si,Fn),m.dom.add(oe(),si)}function Nn(An){return m.dom.hasClass(An,cr)}function ei(An){return m.dom.hasClass(An,Wi)}function Vi(An){var Fn=An.clientX-(bi=bi!==Ve?bi:An.clientX);bi=An.clientX;var pi=m.dom.getPos(Jn).x;m.dom.setStyle(Jn,"left",pi+Fn+"px")}function $i(An){var Fn=An.clientY-(Ii=Ii!==Ve?Ii:An.clientY);Ii=An.clientY;var pi=m.dom.getPos(Jn).y;m.dom.setStyle(Jn,"top",pi+Fn+"px")}function Rn(An){var Fn=An.target,pi=m.getBody();if(m.$.contains(pi,j)||j===pi)if(Nn(Fn)){An.preventDefault();var ai=m.dom.getPos(Fn).x;m.dom.setAttrib(Fn,dr,ai),function Li(An){bi=Ve,Bn(An,Vi)}(Fn)}else if(ei(Fn)){An.preventDefault();var Ei=m.dom.getPos(Fn).y;m.dom.setAttrib(Fn,vr,Ei),function Cn(An){Ii=Ve,Bn(An,$i)}(Fn)}else Te()}var ti,fi,si,Jn,bi,Ii,Ai="mce-resize-bar",Wi="mce-resize-bar-row",qi="row-resize",Br="data-row",vr="data-initial-top",cr="mce-resize-bar-col",Jr="col-resize",hr="data-col",dr="data-initial-left",Mr=4,jr=10,ao=10,Ar="mce-resize-bar-dragging",Yr=new RegExp(/(\d+(\.\d+)?%)/),Xr=new RegExp(/px|em/);return m.on("init",function(){m.dom.bind(oe(),"mousedown",Rn)}),m.on("ObjectResized",function(An){var Fn=An.target;if("TABLE"===Fn.nodeName){var pi=[];ve.each(Fn.rows,function(ai){ve.each(ai.cells,function(Ei){var Ji=m.dom.getStyle(Ei,"width",!0);pi.push({cell:Ei,width:Ji})})}),ve.each(pi,function(ai){m.dom.setStyle(ai.cell,"width",ai.width),m.dom.setAttrib(ai.cell,"width",null)})}}),m.on("mouseover",function(An){if(!fi){var Fn=m.dom.getParent(An.target,"table");("TABLE"===An.target.nodeName||Fn)&&(j=Fn,Ue(Fn))}}),m.on("keydown",function(An){switch(An.keyCode){case J.LEFT:case J.RIGHT:case J.UP:case J.DOWN:Te()}}),m.on("remove",function(){Te(),m.dom.unbind(oe(),"mousedown",Rn)}),{adjustWidth:Pi,adjustHeight:gi,clearBars:Te,drawBars:Je,determineDeltas:Ht,getTableGrid:We,getTableDetails:xe,getWidths:Tt,getPixelHeights:en,isPercentageBasedSize:_i,isPixelBasedSize:mi,recalculateWidths:gn,recalculateCellHeights:zn,recalculateRowHeights:xi}}}),Ne("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(ve,J,j,m,y,D,B,w,O){var oe=D.each;O.add("table",function U(fe){function ue(Je){return function(){fe.execCommand(Je)}}function be(Je,st){var Et,Gt,Tt,Nt;for(Tt='<table id="__mce"><tbody>',Et=0;Et<st;Et++){for(Tt+="<tr>",Gt=0;Gt<Je;Gt++)Tt+="<td>"+(w.ie&&w.ie<10?"&nbsp;":"<br>")+"</td>";Tt+="</tr>"}return Tt+="</tbody></table>",fe.undoManager.transact(function(){fe.insertContent(Tt),Nt=fe.dom.get("__mce"),fe.dom.setAttrib(Nt,"id",null),fe.$("tr",Nt).each(function(en,Ht){fe.fire("newrow",{node:Ht}),fe.$("th,td",Ht).each(function(Mn,gn){fe.fire("newcell",{node:gn})})}),fe.dom.setAttribs(Nt,fe.settings.table_default_attributes||{}),fe.dom.setStyles(Nt,fe.settings.table_default_styles||{})}),Nt}function Ae(Je,st,Et){function Gt(){var Tt,Nt,en,Ht={},Mn=0;(Tt=(Nt=fe.dom.select("td[data-mce-selected],th[data-mce-selected]"))[0])||(Tt=fe.selection.getStart()),Et&&Nt.length>0?(oe(Nt,function(gn){return Ht[gn.parentNode.parentNode.nodeName]=1}),oe(Ht,function(gn){Mn+=gn}),en=1!==Mn):en=!fe.dom.getParent(Tt,st),Je.disabled(en),fe.selection.selectorChanged(st,function(gn){Je.disabled(!gn)})}fe.initialized?Gt():fe.on("init",Gt)}function Ke(){Ae(this,"table")}function L(){Ae(this,"td,th")}function Te(Je,st,Et){var Gt,Tt,Nt,en,Ht,Mn=Et.getEl().getElementsByTagName("table")[0],gn=Et.isRtl()||"tl-tr"==Et.parent().rel;for(Mn.nextSibling.innerHTML=Je+1+" x "+(st+1),gn&&(Je=9-Je),Tt=0;Tt<10;Tt++)for(Gt=0;Gt<10;Gt++)fe.dom.toggleClass(en=Mn.rows[Tt].childNodes[Gt].firstChild,"mce-active",Ht=(gn?Gt>=Je:Gt<=Je)&&Tt<=st),Ht&&(Nt=en);return Nt.parentNode}function ce(Je){return fe.dom.is(Je,"table")&&fe.getBody().contains(Je)}var We,et,xt=this,ze=new m(fe);!fe.settings.object_resizing||!1===fe.settings.table_resize_bars||!0!==fe.settings.object_resizing&&"table"!==fe.settings.object_resizing||(et=y(fe)),fe.addMenuItem("inserttable",!1===fe.settings.table_grid?{text:"Table",icon:"table",context:"table",onclick:ze.table}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(Je){Je.aria&&(this.parent().hideAll(),Je.stopImmediatePropagation(),ze.table())},onshow:function(){Te(0,0,this.menu.items()[0])},onhide:function(){var Je=this.menu.items()[0].getEl().getElementsByTagName("a");fe.dom.removeClass(Je,"mce-active"),fe.dom.addClass(Je[0],"mce-active")},menu:[{type:"container",html:function ye(){var Je="";Je='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var st=0;st<10;st++){Je+="<tr>";for(var Et=0;Et<10;Et++)Je+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*st+Et)+'" href="#" data-mce-x="'+Et+'" data-mce-y="'+st+'"></a></td>';Je+="</tr>"}return(Je+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(Je){var st,Et,Gt=Je.target;"A"==Gt.tagName.toUpperCase()&&(st=parseInt(Gt.getAttribute("data-mce-x"),10),Et=parseInt(Gt.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(st=9-st),st===this.lastX&&Et===this.lastY||(Te(st,Et,Je.control),this.lastX=st,this.lastY=Et))},onclick:function(Je){var st=this;"A"==Je.target.tagName.toUpperCase()&&(Je.preventDefault(),Je.stopPropagation(),st.parent().cancel(),fe.undoManager.transact(function(){be(st.lastX+1,st.lastY+1)}),fe.addVisual())}}]}),fe.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:Ke,onclick:ze.tableProps}),fe.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:Ke,cmd:"mceTableDelete"}),fe.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:ue("mceTableCellProps"),onPostRender:L},{text:"Merge cells",onclick:ue("mceTableMergeCells"),onPostRender:function Ge(){Ae(this,"td,th",!0)}},{text:"Split cell",onclick:ue("mceTableSplitCells"),onPostRender:L}]}),fe.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:ue("mceTableInsertRowBefore"),onPostRender:L},{text:"Insert row after",onclick:ue("mceTableInsertRowAfter"),onPostRender:L},{text:"Delete row",onclick:ue("mceTableDeleteRow"),onPostRender:L},{text:"Row properties",onclick:ue("mceTableRowProps"),onPostRender:L},{text:"-"},{text:"Cut row",onclick:ue("mceTableCutRow"),onPostRender:L},{text:"Copy row",onclick:ue("mceTableCopyRow"),onPostRender:L},{text:"Paste row before",onclick:ue("mceTablePasteRowBefore"),onPostRender:L},{text:"Paste row after",onclick:ue("mceTablePasteRowAfter"),onPostRender:L}]}),fe.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:ue("mceTableInsertColBefore"),onPostRender:L},{text:"Insert column after",onclick:ue("mceTableInsertColAfter"),onPostRender:L},{text:"Delete column",onclick:ue("mceTableDeleteCol"),onPostRender:L}]});var Xe=[];oe("inserttable tableprops deletetable | cell row column".split(" "),function(Je){Xe.push("|"==Je?{text:"-"}:fe.menuItems[Je])}),fe.addButton("table",{type:"menubutton",title:"Table",menu:Xe}),w.isIE||fe.on("click",function(Je){"TABLE"===(Je=Je.target).nodeName&&(fe.selection.select(Je),fe.nodeChanged())}),xt.quirks=new J(fe),fe.on("Init",function(){xt.cellSelection=new j(fe,function(Je){Je&&et&&et.clearBars()}),xt.resizeBars=et}),fe.on("PreInit",function(){fe.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(Je,st){for(var Et=Je.length;Et--;)Je[Et].attr(st,null)})}),oe({mceTableSplitCells:function(Je){Je.split()},mceTableMergeCells:function(Je){var st;st=fe.dom.getParent(fe.selection.getStart(),"th,td"),fe.dom.select("td[data-mce-selected],th[data-mce-selected]").length?Je.merge():ze.merge(Je,st)},mceTableInsertRowBefore:function(Je){Je.insertRows(!0)},mceTableInsertRowAfter:function(Je){Je.insertRows()},mceTableInsertColBefore:function(Je){Je.insertCols(!0)},mceTableInsertColAfter:function(Je){Je.insertCols()},mceTableDeleteCol:function(Je){Je.deleteCols()},mceTableDeleteRow:function(Je){Je.deleteRows()},mceTableCutRow:function(Je){We=Je.cutRows()},mceTableCopyRow:function(Je){We=Je.copyRows()},mceTablePasteRowBefore:function(Je){Je.pasteRows(We,!0)},mceTablePasteRowAfter:function(Je){Je.pasteRows(We)},mceSplitColsBefore:function(Je){Je.splitCols(!0)},mceSplitColsAfter:function(Je){Je.splitCols(!1)},mceTableDelete:function(Je){et&&et.clearBars(),Je.deleteTable()}},function(Je,st){fe.addCommand(st,function(){var Et=new ve(fe);Et&&(Je(Et),fe.execCommand("mceRepaint"),xt.cellSelection.clear())})}),oe({mceInsertTable:ze.table,mceTableProps:function(){ze.table(!0)},mceTableRowProps:ze.row,mceTableCellProps:ze.cell},function(Je,st){fe.addCommand(st,function(Et,Gt){Je(Gt)})}),function Ue(){fe.addButton("tableprops",{title:"Table properties",onclick:ze.tableProps,icon:"table"}),fe.addButton("tabledelete",{title:"Delete table",onclick:ue("mceTableDelete")}),fe.addButton("tablecellprops",{title:"Cell properties",onclick:ue("mceTableCellProps")}),fe.addButton("tablemergecells",{title:"Merge cells",onclick:ue("mceTableMergeCells")}),fe.addButton("tablesplitcells",{title:"Split cell",onclick:ue("mceTableSplitCells")}),fe.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:ue("mceTableInsertRowBefore")}),fe.addButton("tableinsertrowafter",{title:"Insert row after",onclick:ue("mceTableInsertRowAfter")}),fe.addButton("tabledeleterow",{title:"Delete row",onclick:ue("mceTableDeleteRow")}),fe.addButton("tablerowprops",{title:"Row properties",onclick:ue("mceTableRowProps")}),fe.addButton("tablecutrow",{title:"Cut row",onclick:ue("mceTableCutRow")}),fe.addButton("tablecopyrow",{title:"Copy row",onclick:ue("mceTableCopyRow")}),fe.addButton("tablepasterowbefore",{title:"Paste row before",onclick:ue("mceTablePasteRowBefore")}),fe.addButton("tablepasterowafter",{title:"Paste row after",onclick:ue("mceTablePasteRowAfter")}),fe.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:ue("mceTableInsertColBefore")}),fe.addButton("tableinsertcolafter",{title:"Insert column after",onclick:ue("mceTableInsertColAfter")}),fe.addButton("tabledeletecol",{title:"Delete column",onclick:ue("mceTableDeleteCol")})}(),function Oe(){var Je=fe.settings.table_toolbar;""!==Je&&!1!==Je&&(Je||(Je="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),fe.addContextToolbar(ce,Je))}(),!1!==fe.settings.table_tab_navigation&&fe.on("keydown",function(Je){var st,Et,Gt;9==Je.keyCode&&(st=fe.dom.getParent(fe.selection.getStart(),"th,td"))&&(Je.preventDefault(),Et=new ve(fe),Gt=Je.shiftKey?-1:1,fe.undoManager.transact(function(){!Et.moveRelIdx(st,Gt)&&Gt>0&&(Et.insertRow(),Et.refresh(),Et.moveRelIdx(st,Gt))}))}),xt.insertTable=be,xt.setClipboardRows=function xe(Je){We=Je},xt.getClipboardRows=function qe(){return We}})})}(window),function(ke,Ve){"object"==typeof exports&&typeof module<"u"?Ve(exports):"function"==typeof define&&define.amd?define(["exports"],Ve):Ve(ke.echarts={})}(this,function(ke){"use strict";var e,t,n,i,o,a,Ke,Ve=2311,an=function(){return Ve++},Ne="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:typeof document>"u"&&typeof self<"u"?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:typeof navigator>"u"?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:(t={},n=(e=navigator.userAgent).match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(e),n&&(t.firefox=!0,t.version=n[1]),i&&(t.ie=!0,t.version=i[1]),o&&(t.edge=!0,t.version=o[1]),a&&(t.weChat=!0),{browser:t,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect<"u",touchEventsSupported:"ontouchstart"in window&&!t.ie&&!t.edge,pointerEventsSupported:"onpointerdown"in window&&(t.edge||t.ie&&11<=t.version),domSupported:typeof document<"u"}),gt={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},de={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},ve=Object.prototype.toString,J=Array.prototype,j=J.forEach,m=J.filter,y=J.slice,D=J.map,B=J.reduce,w={};function O(e,t){"createCanvas"===e&&(Ke=null),w[e]=t}function U(e){if(null==e||"object"!=typeof e)return e;var t=e,n=ve.call(e);if("[object Array]"===n){if(!gi(e)){t=[];for(var i=0,o=e.length;i<o;i++)t[i]=U(e[i])}}else if(de[n]){if(!gi(e)){var a=e.constructor;if(e.constructor.from)t=a.from(e);else for(t=new a(e.length),i=0,o=e.length;i<o;i++)t[i]=U(e[i])}}else if(!gt[n]&&!gi(e)&&!Tt(e))for(var s in t={},e)e.hasOwnProperty(s)&&(t[s]=U(e[s]));return t}function oe(e,t,n){if(!st(t)||!st(e))return n?U(t):e;for(var i in t)if(t.hasOwnProperty(i)){var o=e[i],a=t[i];!st(a)||!st(o)||ze(a)||ze(o)||Tt(a)||Tt(o)||Et(a)||Et(o)||gi(a)||gi(o)?!n&&i in e||(e[i]=U(t[i])):oe(o,a,n)}return e}function fe(e,t){for(var n=e[0],i=1,o=e.length;i<o;i++)n=oe(n,e[i],t);return n}function ue(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function be(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n?null!=t[i]:null==e[i])&&(e[i]=t[i]);return e}function Ae(){return w.createCanvas()}function L(){return Ke=Ke||Ae().getContext("2d")}function Ge(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function ye(e,t){var n=e.prototype;function i(){}for(var o in i.prototype=t.prototype,e.prototype=new i,n)n.hasOwnProperty(o)&&(e.prototype[o]=n[o]);(e.prototype.constructor=e).superClass=t}function Te(e,t,n){be(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,n)}function Ue(e){if(e)return"string"!=typeof e&&"number"==typeof e.length}function ce(e,t,n){if(e&&t)if(e.forEach&&e.forEach===j)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function Oe(e,t,n){if(e&&t){if(e.map&&e.map===D)return e.map(t,n);for(var i=[],o=0,a=e.length;o<a;o++)i.push(t.call(n,e[o],o,e));return i}}function qe(e,t,n,i){if(e&&t){if(e.reduce&&e.reduce===B)return e.reduce(t,n,i);for(var o=0,a=e.length;o<a;o++)n=t.call(i,n,e[o],o,e);return n}}function xe(e,t,n){if(e&&t){if(e.filter&&e.filter===m)return e.filter(t,n);for(var i=[],o=0,a=e.length;o<a;o++)t.call(n,e[o],o,e)&&i.push(e[o]);return i}}function We(e,t,n){if(e&&t)for(var i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e))return e[i]}function et(e,t){var n=y.call(arguments,2);return function(){return e.apply(t,n.concat(y.call(arguments)))}}function xt(e){var t=y.call(arguments,1);return function(){return e.apply(this,t.concat(y.call(arguments)))}}function ze(e){return"[object Array]"===ve.call(e)}function Xe(e){return"function"==typeof e}function Je(e){return"[object String]"===ve.call(e)}function st(e){var t=typeof e;return"function"==t||!!e&&"object"==t}function Et(e){return!!gt[ve.call(e)]}function Gt(e){return!!de[ve.call(e)]}function Tt(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function Nt(e){return e!=e}function en(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function Ht(e,t){return e??t}function Mn(e,t,n){return e??t??n}function gn(){return Function.call.apply(y,arguments)}function zn(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function xi(e,t){if(!e)throw new Error(t)}function _i(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}w.createCanvas=function(){return document.createElement("canvas")};var mi="__ec_primitive__";function Pi(e){e[mi]=!0}function gi(e){return e[mi]}function Oi(e){var t=ze(e);this.data={};var n=this;function i(o,a){t?n.set(o,a):n.set(a,o)}e instanceof Oi?e.each(i):e&&ce(e,i)}function bn(e){return new Oi(e)}function _n(e,t){for(var n=new e.constructor(e.length+t.length),i=0;i<e.length;i++)n[i]=e[i];var o=e.length;for(i=0;i<t.length;i++)n[i+o]=t[i];return n}function fn(){}Oi.prototype={constructor:Oi,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){for(var n in void 0!==t&&(e=et(e,t)),this.data)this.data.hasOwnProperty(n)&&e(this.data[n],n)},removeKey:function(e){delete this.data[e]}};var Wn=(Object.freeze||Object)({$override:O,clone:U,merge:oe,mergeAll:fe,extend:ue,defaults:be,createCanvas:Ae,getContext:L,indexOf:Ge,inherits:ye,mixin:Te,isArrayLike:Ue,each:ce,map:Oe,reduce:qe,filter:xe,find:We,bind:et,curry:xt,isArray:ze,isFunction:Xe,isString:Je,isObject:st,isBuiltInObject:Et,isTypedArray:Gt,isDom:Tt,eqNaN:Nt,retrieve:en,retrieve2:Ht,retrieve3:Mn,slice:gn,normalizeCssArray:zn,assert:xi,trim:_i,setAsPrimitive:Pi,isPrimitive:gi,createHashMap:bn,concatArray:_n,noop:fn}),Bn=typeof Float32Array>"u"?Array:Float32Array;function Nn(e,t){var n=new Bn(2);return null==e&&(e=0),null==t&&(t=0),n[0]=e,n[1]=t,n}function ei(e,t){return e[0]=t[0],e[1]=t[1],e}function Vi(e){var t=new Bn(2);return t[0]=e[0],t[1]=e[1],t}function $i(e,t,n){return e[0]=t,e[1]=n,e}function Li(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Cn(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function Rn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function ti(e){return Math.sqrt(si(e))}function si(e){return e[0]*e[0]+e[1]*e[1]}function bi(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function Ii(e,t){var n=ti(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function Ai(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Wi=Ai;function qi(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Br=qi;function vr(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e}function cr(e,t,n){var i=t[0],o=t[1];return e[0]=n[0]*i+n[2]*o+n[4],e[1]=n[1]*i+n[3]*o+n[5],e}function Jr(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function hr(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var dr=(Object.freeze||Object)({create:Nn,copy:ei,clone:Vi,set:$i,add:Li,scaleAndAdd:Cn,sub:Rn,len:ti,length:ti,lenSquare:si,lengthSquare:si,mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:bi,normalize:Ii,distance:Ai,dist:Wi,distanceSquare:qi,distSquare:Br,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:vr,applyTransform:cr,min:Jr,max:hr});function Mr(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function jr(e,t){return{target:e,topTarget:t&&t.topTarget}}Mr.prototype={constructor:Mr,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&((this._draggingTarget=t).dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(jr(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,o=n-this._x,a=i-this._y;this._x=n,this._y=i,t.drift(o,a,e),this.dispatchToElement(jr(t,e),"drag",e.event);var s=this.findHover(n,i,t).target,l=this._dropTarget;t!==(this._dropTarget=s)&&(l&&s!==l&&this.dispatchToElement(jr(l,e),"dragleave",e.event),s&&s!==l&&this.dispatchToElement(jr(s,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(jr(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(jr(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};var ao=Array.prototype.slice,Ar=function(e){this._$handlers={},this._$eventProcessor=e};function Yr(e,t,n,i,o,a){var f,p,s=e._$handlers;if("function"==typeof n&&(o=i,i=n,n=null),!i||!t)return e;p=e._$eventProcessor,null!=(f=n)&&p&&p.normalizeQuery&&(f=p.normalizeQuery(f)),n=f,s[t]||(s[t]=[]);for(var l=0;l<s[t].length;l++)if(s[t][l].h===i)return e;var u={h:i,one:a,query:n,ctx:o||e,callAtLast:i.zrEventfulCallAtLast},c=s[t].length-1,d=s[t][c];return d&&d.callAtLast?s[t].splice(c,0,u):s[t].push(u),e}Ar.prototype={constructor:Ar,one:function(e,t,n,i){return Yr(this,e,t,n,i,!0)},on:function(e,t,n,i){return Yr(this,e,t,n,i,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],o=0,a=n[e].length;o<a;o++)n[e][o].h!==t&&i.push(n[e][o]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},trigger:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var i=arguments,o=i.length;3<o&&(i=ao.call(i,1));for(var a=t.length,s=0;s<a;){var l=t[s];if(n&&n.filter&&null!=l.query&&!n.filter(e,l.query))s++;else{switch(o){case 1:l.h.call(l.ctx);break;case 2:l.h.call(l.ctx,i[1]);break;case 3:l.h.call(l.ctx,i[1],i[2]);break;default:l.h.apply(l.ctx,i)}l.one?(t.splice(s,1),a--):s++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var i=arguments,o=i.length;4<o&&(i=ao.call(i,1,i.length-1));for(var a=i[i.length-1],s=t.length,l=0;l<s;){var u=t[l];if(n&&n.filter&&null!=u.query&&!n.filter(e,u.query))l++;else{switch(o){case 1:u.h.call(a);break;case 2:u.h.call(a,i[1]);break;case 3:u.h.call(a,i[1],i[2]);break;default:u.h.apply(a,i)}u.one?(t.splice(l,1),s--):l++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this}};var Xr=Math.log(2);function An(e,t,n,i,o,a){var s=i+"-"+o,l=e.length;if(a.hasOwnProperty(s))return a[s];if(1===t){var u=Math.round(Math.log((1<<l)-1&~o)/Xr);return e[n][u]}for(var c=i|1<<n,d=n+1;i&1<<d;)d++;for(var h=0,f=0,p=0;f<l;f++){var v=1<<f;v&o||(h+=(p%2?-1:1)*e[n][f]*An(e,t-1,d,c,o|v,a),p++)}return a[s]=h}function Fn(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],i={},o=An(n,8,0,0,0,i);if(0!==o){for(var a=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==a[l]&&(a[l]=0),a[l]+=((s+l)%2?-1:1)*An(n,7,0===s?1:0,1<<s,1<<l,i)/o*t[s];return function(u,c,d){var h=c*a[6]+d*a[7]+1;u[0]=(c*a[0]+d*a[1]+a[2])/h,u[1]=(c*a[3]+d*a[4]+a[5])/h}}}var pi="___zrEVENTSAVED",ai=[];function Ei(e,t,n,i,o){if(t.getBoundingClientRect&&Ne.domSupported&&!Ji(t)){var a=t[pi]||(t[pi]={}),s=function(l,u,c){for(var d=c?"invTrans":"trans",h=u[d],f=u.srcCoords,p=!0,v=[],F=[],P=0;P<4;P++){var ee=l[P].getBoundingClientRect(),le=2*P,ae=ee.left,we=ee.top;v.push(ae,we),p=p&&f&&ae===f[le]&&we===f[1+le],F.push(l[P].offsetLeft,l[P].offsetTop)}return p&&h?h:(u.srcCoords=v,u[d]=c?Fn(F,v):Fn(v,F))}(function(l,u){var c=u.markers;if(c)return c;c=u.markers=[];for(var d=["left","right"],h=["top","bottom"],f=0;f<4;f++){var p=document.createElement("div"),F=f%2,P=(f>>1)%2;p.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",d[F]+":0",h[P]+":0",d[1-F]+":auto",h[1-P]+":auto",""].join("!important;"),l.appendChild(p),c.push(p)}return c}(t,a),a,o);if(s)return s(e,n,i),!0}return!1}function Ji(e){return"CANVAS"===e.nodeName.toUpperCase()}var rr=typeof window<"u"&&!!window.addEventListener,or=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Hi=[];function Fi(e,t,n,i){return n=n||{},i||!Ne.canvasSupported?yr(e,t,n):Ne.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):yr(e,t,n),n}function yr(e,t,n){if(Ne.domSupported&&e.getBoundingClientRect){var i=t.clientX,o=t.clientY;if(Ji(e)){var a=e.getBoundingClientRect();return n.zrX=i-a.left,void(n.zrY=o-a.top)}if(Ei(Hi,e,i,o))return n.zrX=Hi[0],void(n.zrY=Hi[1])}n.zrX=n.zrY=0}function ir(e){return e||window.event}function _r(e,t,n){if(null!=(t=ir(t)).zrX)return t;var i=t.type;if(i&&0<=i.indexOf("touch")){var o="touchend"!==i?t.targetTouches[0]:t.changedTouches[0];o&&Fi(e,o,t,n)}else Fi(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var a=t.button;return null==t.which&&void 0!==a&&or.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function Ur(e,t,n,i){rr?e.addEventListener(t,n,i):e.attachEvent("on"+t,n)}var Ir=rr?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function kr(e){return 2===e.which||3===e.which}function Ci(){this._track=[]}function fr(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}Ci.prototype={constructor:Ci,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var i=e.touches;if(i){for(var o={points:[],touches:[],target:t,event:e},a=0,s=i.length;a<s;a++){var l=i[a],u=Fi(n,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},_recognize:function(e){for(var t in so)if(so.hasOwnProperty(t)){var n=so[t](this._track,e);if(n)return n}}};var so={pinch:function(e,t){var l,n=e.length;if(n){var i=(e[n-1]||{}).points,o=(e[n-2]||{}).points||i;if(o&&1<o.length&&i&&1<i.length){var a=fr(i)/fr(o);isFinite(a)||(a=1),t.pinchScale=a;var s=[((l=i)[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2];return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}},yo="silent";function po(){Ir(this.event)}function Qr(){}function Co(e,t,n,i){Ar.call(this),this.storage=e,this.painter=t,this.painterRoot=i,n=n||new Qr,this.proxy=null,this._hovered={},Mr.call(this),this.setHandlerProxy(n)}Qr.prototype.dispose=function(){};var Xo=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];function oa(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var i,o=e;o;){if(o.clipPath&&!o.clipPath.contain(t,n))return!1;o.silent&&(i=!0),o=o.parent}return!i||yo}return!1}function Lo(e,t,n){var i=e.painter;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}Co.prototype={constructor:Co,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(ce(Xo,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,n=e.zrY,i=Lo(this,t,n),o=this._hovered,a=o.target;a&&!a.__zr&&(a=(o=this.findHover(o.x,o.y)).target);var s=this._hovered=i?{x:t,y:n}:this.findHover(t,n),l=s.target,u=this.proxy;u.setCursor&&u.setCursor(l?l.cursor:"default"),a&&l!==a&&this.dispatchToElement(o,"mouseout",e),this.dispatchToElement(s,"mousemove",e),l&&l!==a&&this.dispatchToElement(s,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,n=e.zrIsToLocalDOM;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&(n||this.trigger("globalout",{type:"globalout",event:e}))},resize:function(e){this._hovered={}},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){var l,u,i=(e=e||{}).target;if(!i||!i.silent){for(var o="on"+t,a={type:t,event:u=n,target:(l=e).target,topTarget:l.topTarget,cancelBubble:!1,offsetX:u.zrX,offsetY:u.zrY,gestureEvent:u.gestureEvent,pinchX:u.pinchX,pinchY:u.pinchY,pinchScale:u.pinchScale,wheelDelta:u.zrDelta,zrByTouch:u.zrByTouch,which:u.which,stop:po};i&&(i[o]&&(a.cancelBubble=i[o].call(i,a)),i.trigger(t,a),i=i.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(t,a),this.painter&&this.painter.eachOtherLayer(function(s){"function"==typeof s[o]&&s[o].call(s,a),s.trigger&&s.trigger(t,a)}))}},findHover:function(e,t,n){for(var i=this.storage.getDisplayList(),o={x:e,y:t},a=i.length-1;0<=a;a--){var s;if(i[a]!==n&&!i[a].ignore&&(s=oa(i[a],e,t))&&(o.topTarget||(o.topTarget=i[a]),s!==yo)){o.target=i[a];break}}return o},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new Ci);var n=this._gestureMgr;"start"===t&&n.clear();var i=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),i){var o=i.type;e.gestureEvent=o,this.dispatchToElement({target:i.target},o,i.event)}}},ce(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Co.prototype[e]=function(t){var n,i,o=t.zrX,a=t.zrY,s=Lo(this,o,a);if("mouseup"===e&&s||(i=(n=this.findHover(o,a)).target),"mousedown"===e)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===e)this._upEl=i;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||4<Wi(this._downPoint,[t.zrX,t.zrY]))return;this._downPoint=null}this.dispatchToElement(n,e,t)}}),Te(Co,Ar),Te(Co,Mr);var Kr=typeof Float32Array>"u"?Array:Float32Array;function Yi(){var e=new Kr(6);return Zr(e),e}function Zr(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function go(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function X(e,t,n){var o=t[1]*n[0]+t[3]*n[1],a=t[0]*n[2]+t[2]*n[3],s=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],u=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=t[0]*n[0]+t[2]*n[1],e[1]=o,e[2]=a,e[3]=s,e[4]=l,e[5]=u,e}function De(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function Ee(e,t,n){var i=t[0],o=t[2],a=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(n),d=Math.cos(n);return e[0]=i*d+s*c,e[1]=-i*c+s*d,e[2]=o*d+l*c,e[3]=-o*c+d*l,e[4]=d*a+c*u,e[5]=d*u-c*a,e}function Qe(e,t,n){var i=n[0],o=n[1];return e[0]=t[0]*i,e[1]=t[1]*o,e[2]=t[2]*i,e[3]=t[3]*o,e[4]=t[4]*i,e[5]=t[5]*o,e}function N(e,t){var n=t[0],i=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=n*s-a*i;return u?(e[0]=s*(u=1/u),e[1]=-a*u,e[2]=-i*u,e[3]=n*u,e[4]=(i*l-s*o)*u,e[5]=(a*o-n*l)*u,e):null}function q(e){var t=Yi();return go(t,e),t}var he=(Object.freeze||Object)({create:Yi,identity:Zr,copy:go,mul:X,translate:De,rotate:Ee,scale:Qe,invert:N,clone:q}),ge=Zr;function Ie(e){return 5e-5<e||e<-5e-5}var it=function(e){(e=e||{}).position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},Ze=it.prototype;Ze.transform=null,Ze.needLocalTransform=function(){return Ie(this.rotation)||Ie(this.position[0])||Ie(this.position[1])||Ie(this.scale[0]-1)||Ie(this.scale[1]-1)};var nt=[];Ze.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),i=this.transform;if(n||t){i=i||Yi(),n?this.getLocalTransform(i):ge(i),t&&(n?X(i,e.transform,i):go(i,e.transform)),this.transform=i;var o=this.globalScaleRatio;if(null!=o&&1!==o){this.getGlobalScale(nt);var a=nt[0]<0?-1:1,s=nt[1]<0?-1:1,l=((nt[0]-a)*o+a)/nt[0]||0,u=((nt[1]-s)*o+s)/nt[1]||0;i[0]*=l,i[1]*=l,i[2]*=u,i[3]*=u}this.invTransform=this.invTransform||Yi(),N(this.invTransform,i)}else i&&ge(i)},Ze.getLocalTransform=function(e){return it.getLocalTransform(this,e)},Ze.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)},Ze.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var dt=[],mt=Yi();Ze.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=this.position,o=this.scale;Ie(t-1)&&(t=Math.sqrt(t)),Ie(n-1)&&(n=Math.sqrt(n)),e[0]<0&&(t=-t),e[3]<0&&(n=-n),i[0]=e[4],i[1]=e[5],o[0]=t,o[1]=n,this.rotation=Math.atan2(-e[1]/n,e[0]/t)}},Ze.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(X(dt,e.invTransform,t),t=dt);var n=this.origin;n&&(n[0]||n[1])&&(mt[4]=n[0],mt[5]=n[1],X(dt,t,mt),dt[4]-=n[0],dt[5]-=n[1],t=dt),this.setLocalTransform(t)}},Ze.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1])):(e[0]=1,e[1]=1),e},Ze.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&cr(n,n,i),n},Ze.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&cr(n,n,i),n},it.getLocalTransform=function(e,t){ge(t=t||[]);var n=e.origin,i=e.scale||[1,1],o=e.rotation||0,a=e.position||[0,0];return n&&(t[4]-=n[0],t[5]-=n[1]),Qe(t,t,i),o&&Ee(t,t,o),n&&(t[4]+=n[0],t[5]+=n[1]),t[4]+=a[0],t[5]+=a[1],t};var It={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(e){return e*e*(2.70158*e-1.70158)},backOut:function(e){return--e*e*(2.70158*e+1.70158)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)},bounceIn:function(e){return 1-It.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*It.bounceIn(2*e):.5*It.bounceOut(2*e-1)+.5}};function kt(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}function Ct(){this.head=null,this.tail=null,this._len=0}kt.prototype={constructor:kt,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,o="string"==typeof i?It[i]:i,a="function"==typeof o?o(n):n;return this.fire("frame",a),1===n?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(e){this._startTime=e-(e-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){this[e="on"+e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var At=Ct.prototype;function Lt(e){this._list=new Ct,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null}At.insert=function(e){var t=new mn(e);return this.insertEntry(t),t},At.insertEntry=function(e){this.head?((this.tail.next=e).prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},At.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},At.len=function(){return this._len},At.clear=function(){this.head=this.tail=null,this._len=0};var mn=function(e){this.value=e},Yt=Lt.prototype;Yt.put=function(e,t){var n=this._list,i=this._map,o=null;if(null==i[e]){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&0<a){var l=n.head;n.remove(l),delete i[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new mn(t),s.key=e,n.insertEntry(s),i[e]=s}return o},Yt.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},Yt.clear=function(){this._list.clear(),this._map={}};var ln={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Vt(e){return(e=Math.round(e))<0?0:255<e?255:e}function tn(e){return e<0?0:1<e?1:e}function hn(e){return e.length&&"%"===e.charAt(e.length-1)?Vt(parseFloat(e)/100*255):Vt(parseInt(e,10))}function bt(e){return e.length&&"%"===e.charAt(e.length-1)?tn(parseFloat(e)/100):tn(parseFloat(e))}function Kt(e,t,n){return n<0?n+=1:1<n&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function pn(e,t,n){return e+(t-e)*n}function vn(e,t,n,i,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e}function ci(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var ni=new Lt(20),Qi=null;function tr(e,t){Qi&&ci(Qi,t),Qi=ni.put(e,Qi||t.slice())}function ji(e,t){if(e){t=t||[];var n=ni.get(e);if(n)return ci(t,n);var i,o=(e+="").replace(/ /g,"").toLowerCase();if(o in ln)return ci(t,ln[o]),tr(e,t),t;if("#"===o.charAt(0))return 4===o.length?0<=(i=parseInt(o.substr(1),16))&&i<=4095?(vn(t,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),tr(e,t),t):void vn(t,0,0,0,1):7===o.length?0<=(i=parseInt(o.substr(1),16))&&i<=16777215?(vn(t,(16711680&i)>>16,(65280&i)>>8,255&i,1),tr(e,t),t):void vn(t,0,0,0,1):void 0;var a=o.indexOf("("),s=o.indexOf(")");if(-1!==a&&s+1===o.length){var l=o.substr(0,a),u=o.substr(a+1,s-(a+1)).split(","),c=1;switch(l){case"rgba":if(4!==u.length)return void vn(t,0,0,0,1);c=bt(u.pop());case"rgb":return 3!==u.length?void vn(t,0,0,0,1):(vn(t,hn(u[0]),hn(u[1]),hn(u[2]),c),tr(e,t),t);case"hsla":return 4!==u.length?void vn(t,0,0,0,1):(u[3]=bt(u[3]),er(u,t),tr(e,t),t);case"hsl":return 3!==u.length?void vn(t,0,0,0,1):(er(u,t),tr(e,t),t);default:return}}vn(t,0,0,0,1)}}function er(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=bt(e[1]),o=bt(e[2]),a=o<=.5?o*(i+1):o+i-o*i,s=2*o-a;return vn(t=t||[],Vt(255*Kt(s,a,n+1/3)),Vt(255*Kt(s,a,n)),Vt(255*Kt(s,a,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function Ui(e,t){var n=ji(e);if(n){for(var i=0;i<3;i++)n[i]=t<0?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0,255<n[i]?n[i]=255:e[i]<0&&(n[i]=0);return to(n,4===n.length?"rgba":"rgb")}}function Ti(e){var t=ji(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function ki(e,t,n){if(t&&t.length&&0<=e&&e<=1){n=n||[];var i=e*(t.length-1),o=Math.floor(i),a=Math.ceil(i),s=t[o],l=t[a],u=i-o;return n[0]=Vt(pn(s[0],l[0],u)),n[1]=Vt(pn(s[1],l[1],u)),n[2]=Vt(pn(s[2],l[2],u)),n[3]=tn(pn(s[3],l[3],u)),n}}function pr(e,t,n){if(t&&t.length&&0<=e&&e<=1){var i=e*(t.length-1),o=Math.floor(i),a=Math.ceil(i),s=ji(t[o]),l=ji(t[a]),u=i-o,c=to([Vt(pn(s[0],l[0],u)),Vt(pn(s[1],l[1],u)),Vt(pn(s[2],l[2],u)),tn(pn(s[3],l[3],u))],"rgba");return n?{color:c,leftIndex:o,rightIndex:a,value:i}:c}}function wr(e,t,n,i){if(e=ji(e))return e=function(o){if(o){var a,s,l=o[0]/255,u=o[1]/255,c=o[2]/255,d=Math.min(l,u,c),h=Math.max(l,u,c),f=h-d,p=(h+d)/2;if(0==f)s=a=0;else{s=p<.5?f/(h+d):f/(2-h-d);var v=((h-l)/6+f/2)/f,F=((h-u)/6+f/2)/f,P=((h-c)/6+f/2)/f;l===h?a=P-F:u===h?a=1/3+v-P:c===h&&(a=2/3+F-v),a<0&&(a+=1),1<a&&(a-=1)}var ee=[360*a,s,p];return null!=o[3]&&ee.push(o[3]),ee}}(e),null!=t&&(e[0]=function(o){return(o=Math.round(o))<0?0:360<o?360:o}(t)),null!=n&&(e[1]=bt(n)),null!=i&&(e[2]=bt(i)),to(er(e),"rgba")}function Sr(e,t){if((e=ji(e))&&null!=t)return e[3]=tn(t),to(e,"rgba")}function to(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}var zr=(Object.freeze||Object)({parse:ji,lift:Ui,toHex:Ti,fastLerp:ki,fastMapToColor:ki,lerp:pr,mapToColor:pr,modifyHSL:wr,modifyAlpha:Sr,stringify:to}),gr=Array.prototype.slice;function Vn(e,t){return e[t]}function ur(e,t,n){e[t]=n}function Dr(e,t,n){return(t-e)*n+e}function M(e,t,n){return.5<n?t:e}function ie(e,t,n,i,o){var a=e.length;if(1===o)for(var s=0;s<a;s++)i[s]=Dr(e[s],t[s],n);else{var l=a&&e[0].length;for(s=0;s<a;s++)for(var u=0;u<l;u++)i[s][u]=Dr(e[s][u],t[s][u],n)}}function Me(e,t,n){var i=e.length,o=t.length;if(i!==o)if(o<i)e.length=o;else for(var a=i;a<o;a++)e.push(1===n?t[a]:gr.call(t[a]));var s=e[0]&&e[0].length;for(a=0;a<e.length;a++)if(1===n)isNaN(e[a])&&(e[a]=t[a]);else for(var l=0;l<s;l++)isNaN(e[a][l])&&(e[a][l]=t[a][l])}function Re(e,t,n){if(e===t)return!0;var i=e.length;if(i!==t.length)return!1;if(1===n){for(var o=0;o<i;o++)if(e[o]!==t[o])return!1}else{var a=e[0].length;for(o=0;o<i;o++)for(var s=0;s<a;s++)if(e[o][s]!==t[o][s])return!1}return!0}function W(e,t,n,i,o,a,s,l,u){var c=e.length;if(1===u)for(var d=0;d<c;d++)l[d]=R(e[d],t[d],n[d],i[d],o,a,s);else{var h=e[0].length;for(d=0;d<c;d++)for(var f=0;f<h;f++)l[d][f]=R(e[d][f],t[d][f],n[d][f],i[d][f],o,a,s)}}function R(e,t,n,i,o,a,s){var l=.5*(n-e),u=.5*(i-t);return(2*(t-n)+l+u)*s+(-3*(t-n)-2*l-u)*a+l*o+t}function _(e){if(Ue(e)){var t=e.length;if(Ue(e[0])){for(var n=[],i=0;i<t;i++)n.push(gr.call(e[i]));return n}return gr.call(e)}return e}function I(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function x(e,t,n,i,o,a){var rn,$t,s=e._getter,l=e._setter,u="spline"===t,c=i.length;if(c){var d,h=Ue(i[0].value),f=!1,p=!1,v=h?Ue(($t=(rn=i)[rn.length-1].value)&&$t[0])?2:1:0;i.sort(function(rn,$t){return rn.time-$t.time}),d=i[c-1].time;for(var F=[],P=[],ee=i[0].value,le=!0,ae=0;ae<c;ae++){F.push(i[ae].time/d);var we=i[ae].value;if(h&&Re(we,ee,v)||!h&&we===ee||(le=!1),"string"==typeof(ee=we)){var _e=ji(we);_e?(we=_e,f=!0):p=!0}P.push(we)}if(a||!le){var Ce=P[c-1];for(ae=0;ae<c-1;ae++)h?Me(P[ae],Ce,v):!isNaN(P[ae])||isNaN(Ce)||p||f||(P[ae]=Ce);h&&Me(s(e._target,o),Ce,v);var Le,Fe,at,pt,wt,Rt=0,Ot=0;if(f)var Wt=[0,0,0,0];var Qt=new kt({target:e._target,life:d,loop:e._loop,delay:e._delay,onframe:function(rn,$t){var Sn;if($t<0)Sn=0;else if($t<Ot){for(Sn=Math.min(Rt+1,c-1);0<=Sn&&!(F[Sn]<=$t);Sn--);Sn=Math.min(Sn,c-2)}else{for(Sn=Rt;Sn<c&&!(F[Sn]>$t);Sn++);Sn=Math.min(Sn-1,c-2)}Ot=$t;var Un=F[(Rt=Sn)+1]-F[Sn];if(0!=Un)if(Le=($t-F[Sn])/Un,u)if(at=P[Sn],Fe=P[0===Sn?Sn:Sn-1],pt=P[c-2<Sn?c-1:Sn+1],wt=P[c-3<Sn?c-1:Sn+2],h)W(Fe,at,pt,wt,Le,Le*Le,Le*Le*Le,s(rn,o),v);else{if(f)Zn=W(Fe,at,pt,wt,Le,Le*Le,Le*Le*Le,Wt,1),Zn=I(Wt);else{if(p)return M(at,pt,Le);Zn=R(Fe,at,pt,wt,Le,Le*Le,Le*Le*Le)}l(rn,o,Zn)}else if(h)ie(P[Sn],P[Sn+1],Le,s(rn,o),v);else{var Zn;if(f)ie(P[Sn],P[Sn+1],Le,Wt,1),Zn=I(Wt);else{if(p)return M(P[Sn],P[Sn+1],Le);Zn=Dr(P[Sn],P[Sn+1],Le)}l(rn,o,Zn)}},ondestroy:n});return t&&"spline"!==t&&(Qt.easing=t),Qt}}}function T(e,t,n,i){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||Vn,this._setter=i||ur,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]}T.prototype={when:function(e,t){var n=this._tracks;for(var i in t)if(t.hasOwnProperty(i)){if(!n[i]){n[i]=[];var o=this._getter(this._target,i);if(null==o)continue;0!==e&&n[i].push({time:0,value:_(o)})}n[i].push({time:e,value:t[i]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e,t){function n(){--a||o._doneCallback()}var i,o=this,a=0;for(var s in this._tracks)if(this._tracks.hasOwnProperty(s)){var l=x(this,e,n,this._tracks[s],s,t);l&&(this._clipList.push(l),a++,this.animation&&this.animation.addClip(l),i=l)}if(i){var u=i.onframe;i.onframe=function(c,d){u(c,d);for(var h=0;h<o._onframeList.length;h++)o._onframeList[h](c,d)}}return a||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,i=0;i<t.length;i++){var o=t[i];e&&o.onframe(this._target,1),n&&n.removeClip(o)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var S=1;typeof window<"u"&&(S=Math.max(window.devicePixelRatio||1,1));var A=S;function V(){this.animators=[]}function G(e,t,n,i,o,a,s,l){Je(i)?(a=o,o=i,i=0):Xe(o)?(a=o,o="linear",i=0):Xe(i)?(a=i,i=0):n=Xe(n)?(a=n,500):n||500,e.stopAnimation(),function f(p,v,F,P,ee,le,ae){var we={},_e=0;for(var Ce in P)P.hasOwnProperty(Ce)&&(null!=F[Ce]?st(P[Ce])&&!Ue(P[Ce])?f(p,v?v+"."+Ce:Ce,F[Ce],P[Ce],ee,le,ae):(ae?(we[Ce]=F[Ce],$(p,v,Ce,P[Ce])):we[Ce]=P[Ce],_e++):null==P[Ce]||ae||$(p,v,Ce,P[Ce]));0<_e&&p.animate(v,!1).when(ee??500,we).delay(le||0)}(e,"",e,t,n,i,l);var u=e.animators.slice(),c=u.length;function d(){--c||a&&a()}c||a&&a();for(var h=0;h<u.length;h++)u[h].done(d).start(o,s)}function $(e,t,n,i){if(t){var o={};o[t]={},o[t][n]=i,e.attr(o)}else e.attr(n,i)}V.prototype={constructor:V,animate:function(e,t){var n,i=!1,o=this,a=this.__zr;if(e){var s=e.split("."),l=o;i="shape"===s[0];for(var u=0,c=s.length;u<c;u++)l=l&&l[s[u]];l&&(n=l)}else n=o;if(n){var d=o.animators,h=new T(n,t);return h.during(function(f){o.dirty(i)}).done(function(){d.splice(Ge(d,h),1)}),d.push(h),a&&a.animation.addAnimator(h),h}},stopAnimation:function(e){for(var t=this.animators,n=t.length,i=0;i<n;i++)t[i].stop(e);return t.length=0,this},animateTo:function(e,t,n,i,o,a){G(this,e,t,n,i,o,a)},animateFrom:function(e,t,n,i,o,a){G(this,e,t,n,i,o,a,!0)}};var te=function(e){it.call(this,e),Ar.call(this,e),V.call(this,e),this.id=e.id||an()};te.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;(n=n||(this.transform=[1,0,0,1,0,0]))[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var n=this[e];(n=n||(this[e]=[]))[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(st(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),(this.clipPath=e).__zr=t,(e.__clipTarget=this).dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},Te(te,V),Te(te,it),Te(te,Ar);var K,re,Q,pe,Z=cr,Y=Math.min,z=Math.max;function C(e,t,n,i){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}C.prototype={constructor:C,union:function(e){var t=Y(e.x,this.x),n=Y(e.y,this.y);this.width=z(e.x+e.width,this.x+this.width)-t,this.height=z(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:(K=[],re=[],Q=[],pe=[],function(e){if(e){K[0]=Q[0]=this.x,K[1]=pe[1]=this.y,re[0]=pe[0]=this.x+this.width,re[1]=Q[1]=this.y+this.height,Z(K,K,e),Z(re,re,e),Z(Q,Q,e),Z(pe,pe,e),this.x=Y(K[0],re[0],Q[0],pe[0]),this.y=Y(K[1],re[1],Q[1],pe[1]);var t=z(K[0],re[0],Q[0],pe[0]),n=z(K[1],re[1],Q[1],pe[1]);this.width=t-this.x,this.height=n-this.y}}),calculateTransform:function(e){var t=e.width/this.width,n=e.height/this.height,i=Yi();return De(i,i,[-this.x,-this.y]),Qe(i,i,[t,n]),De(i,i,[e.x,e.y]),i},intersect:function(e){if(!e)return!1;e instanceof C||(e=C.create(e));var t=this;return!(t.x+t.width<e.x||e.x+e.width<t.x||t.y+t.height<e.y||e.y+e.height<t.y)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new C(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},C.create=function(e){return new C(e.x,e.y,e.width,e.height)};var E=function(e){for(var t in te.call(this,e=e||{}),e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};E.prototype={constructor:E,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n.indexOf(t);0<=i&&(n.splice(i,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e);var t=(e.parent=this).__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof E&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,i=this._children,o=Ge(i,e);return o<0||(i.splice(o,1),e.parent=null,n&&(n.delFromStorage(e),e instanceof E&&e.delChildrenFromStorage(n)),t&&t.refresh()),this},removeAll:function(){var e,t,n=this._children,i=this.__storage;for(t=0;t<n.length;t++)e=n[t],i&&(i.delFromStorage(e),e instanceof E&&e.delChildrenFromStorage(i)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,i=0;i<n.length;i++)e.call(t,n[i],i);return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n];e.call(t,i),"group"===i.type&&i.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToStorage(n),n instanceof E&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromStorage(n),n instanceof E&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new C(0,0,0,0),i=e||this._children,o=[],a=0;a<i.length;a++){var s=i[a];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),u=s.getLocalTransform(o);u?(n.copy(l),n.applyTransform(u),(t=t||n.clone()).union(n)):(t=t||l.clone()).union(l)}}return t||n}},ye(E,te);var ne=32,me=7;function se(e,t,n,i){var o=t+1;if(o===n)return 1;if(i(e[o++],e[t])<0){for(;o<n&&i(e[o],e[o-1])<0;)o++;!function(a,s,l){for(l--;s<l;){var u=a[s];a[s++]=a[l],a[l--]=u}}(e,t,o)}else for(;o<n&&0<=i(e[o],e[o-1]);)o++;return o-t}function Se(e,t,n,i,o){for(i===t&&i++;i<n;i++){for(var a,s=e[i],l=t,u=i;l<u;)o(s,e[a=l+u>>>1])<0?u=a:l=1+a;var c=i-l;switch(c){case 3:e[l+3]=e[l+2];case 2:e[l+2]=e[l+1];case 1:e[l+1]=e[l];break;default:for(;0<c;)e[l+c]=e[l+c-1],c--}e[l]=s}}function Be(e,t,n,i,o,a){var s=0,l=0,u=1;if(0<a(e,t[n+o])){for(l=i-o;u<l&&0<a(e,t[n+o+u]);)(u=1+((s=u)<<1))<=0&&(u=l);l<u&&(u=l),s+=o,u+=o}else{for(l=o+1;u<l&&a(e,t[n+o-u])<=0;)(u=1+((s=u)<<1))<=0&&(u=l);l<u&&(u=l);var c=s;s=o-u,u=o-c}for(s++;s<u;){var d=s+(u-s>>>1);0<a(e,t[n+d])?s=d+1:u=d}return u}function ht(e,t,n,i,o,a){var s=0,l=0,u=1;if(a(e,t[n+o])<0){for(l=o+1;u<l&&a(e,t[n+o-u])<0;)(u=1+((s=u)<<1))<=0&&(u=l);l<u&&(u=l);var c=s;s=o-u,u=o-c}else{for(l=i-o;u<l&&0<=a(e,t[n+o+u]);)(u=1+((s=u)<<1))<=0&&(u=l);l<u&&(u=l),s+=o,u+=o}for(s++;s<u;){var d=s+(u-s>>>1);a(e,t[n+d])<0?u=d:s=d+1}return u}function ot(e,t){var n,i,o=me,a=0,s=[];function l(u){var c=n[u],d=i[u],h=n[u+1],f=i[u+1];i[u]=d+f,u===a-3&&(n[u+1]=n[u+2],i[u+1]=i[u+2]),a--;var p=ht(e[h],e,c,d,0,t);c+=p,0!=(d-=p)&&0!==(f=Be(e[c+d-1],e,h,f,f-1,t))&&(d<=f?function(v,F,P,ee){var le=0;for(le=0;le<F;le++)s[le]=e[v+le];var ae=0,we=P,_e=v;if(e[_e++]=e[we++],0!=--ee){if(1===F){for(le=0;le<ee;le++)e[_e+le]=e[we+le];return e[_e+ee]=s[ae]}for(var Ce,Le,Fe,at=o;;){Le=Ce=0,Fe=!1;do{if(t(e[we],s[ae])<0){if(e[_e++]=e[we++],Le++,(Ce=0)==--ee){Fe=!0;break}}else if(e[_e++]=s[ae++],Ce++,Le=0,1==--F){Fe=!0;break}}while((Ce|Le)<at);if(Fe)break;do{if(0!==(Ce=ht(e[we],s,ae,F,0,t))){for(le=0;le<Ce;le++)e[_e+le]=s[ae+le];if(_e+=Ce,ae+=Ce,(F-=Ce)<=1){Fe=!0;break}}if(e[_e++]=e[we++],0==--ee){Fe=!0;break}if(0!==(Le=Be(s[ae],e,we,ee,0,t))){for(le=0;le<Le;le++)e[_e+le]=e[we+le];if(_e+=Le,we+=Le,0==(ee-=Le)){Fe=!0;break}}if(e[_e++]=s[ae++],1==--F){Fe=!0;break}at--}while(me<=Ce||me<=Le);if(Fe)break;at<0&&(at=0),at+=2}if((o=at)<1&&(o=1),1===F){for(le=0;le<ee;le++)e[_e+le]=e[we+le];e[_e+ee]=s[ae]}else{if(0===F)throw new Error;for(le=0;le<F;le++)e[_e+le]=s[ae+le]}}else for(le=0;le<F;le++)e[_e+le]=s[ae+le]}(c,d,h,f):function(v,F,P,ee){var le=0;for(le=0;le<ee;le++)s[le]=e[P+le];var ae=v+F-1,we=ee-1,_e=P+ee-1,Ce=0,Le=0;if(e[_e--]=e[ae--],0!=--F){if(1===ee){for(Le=1+(_e-=F),Ce=1+(ae-=F),le=F-1;0<=le;le--)e[Le+le]=e[Ce+le];return e[_e]=s[we]}for(var Fe=o;;){var at=0,pt=0,wt=!1;do{if(t(s[we],e[ae])<0){if(e[_e--]=e[ae--],at++,(pt=0)==--F){wt=!0;break}}else if(e[_e--]=s[we--],pt++,at=0,1==--ee){wt=!0;break}}while((at|pt)<Fe);if(wt)break;do{if(0!=(at=F-ht(s[we],e,v,F,F-1,t))){for(F-=at,Le=1+(_e-=at),Ce=1+(ae-=at),le=at-1;0<=le;le--)e[Le+le]=e[Ce+le];if(0===F){wt=!0;break}}if(e[_e--]=s[we--],1==--ee){wt=!0;break}if(0!=(pt=ee-Be(e[ae],s,0,ee,ee-1,t))){for(ee-=pt,Le=1+(_e-=pt),Ce=1+(we-=pt),le=0;le<pt;le++)e[Le+le]=s[Ce+le];if(ee<=1){wt=!0;break}}if(e[_e--]=e[ae--],0==--F){wt=!0;break}Fe--}while(me<=at||me<=pt);if(wt)break;Fe<0&&(Fe=0),Fe+=2}if((o=Fe)<1&&(o=1),1===ee){for(Le=1+(_e-=F),Ce=1+(ae-=F),le=F-1;0<=le;le--)e[Le+le]=e[Ce+le];e[_e]=s[we]}else{if(0===ee)throw new Error;for(Ce=_e-(ee-1),le=0;le<ee;le++)e[Ce+le]=s[le]}}else for(Ce=_e-(ee-1),le=0;le<ee;le++)e[Ce+le]=s[le]}(c,d,h,f))}n=[],i=[],this.mergeRuns=function(){for(;1<a;){var u=a-2;if(1<=u&&i[u-1]<=i[u]+i[u+1]||2<=u&&i[u-2]<=i[u]+i[u-1])i[u-1]<i[u+1]&&u--;else if(i[u]>i[u+1])break;l(u)}},this.forceMergeRuns=function(){for(;1<a;){var u=a-2;0<u&&i[u-1]<i[u+1]&&u--,l(u)}},this.pushRun=function(u,c){n[a]=u,i[a]=c,a+=1}}function rt(e,t,n,i){var o=(i=i||e.length)-(n=n||0);if(!(o<2)){var a=0;if(o<ne)Se(e,n,i,n+(a=se(e,n,i,t)),t);else{var s=new ot(e,t),l=function(c){for(var d=0;ne<=c;)d|=1&c,c>>=1;return c+d}(o);do{if((a=se(e,n,i,t))<l){var u=o;l<u&&(u=l),Se(e,n,n+u,n+a,t),a=u}s.pushRun(n,a),s.mergeRuns(),o-=a,n+=a}while(0!==o);s.forceMergeRuns()}}}function ut(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}function lt(){this._roots=[],this._displayList=[],this._displayListLen=0}lt.prototype={constructor:lt,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,o=t.length;i<o;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,Ne.canvasSupported&&rt(n,ut)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var i=e.clipPath;if(i){t=t?t.slice():[];for(var o=i,a=e;o;)o.parent=a,o.updateTransform(),t.push(o),o=(a=o).clipPath}if(e.isGroup){for(var s=e._children,l=0;l<s.length;l++){var u=s[l];e.__dirty&&(u.__dirty=!0),this._updateAndAddDisplayable(u,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof E&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof E&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array){t=0;for(var i=e.length;t<i;t++)this.delRoot(e[t])}else{var o=Ge(this._roots,e);0<=o&&(this.delFromStorage(e),this._roots.splice(o,1),e instanceof E&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:ut};var _t={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},ft=function(e,t,n){return _t.hasOwnProperty(t)?n*e.dpr:n},Pe={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},$e=9,ct=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Mt=function(e){this.extendFrom(e,!1)};function zt(e,t,n){var i=null==t.x?0:t.x,o=null==t.x2?1:t.x2,a=null==t.y?0:t.y,s=null==t.y2?0:t.y2;return t.global||(i=i*n.width+n.x,o=o*n.width+n.x,a=a*n.height+n.y,s=s*n.height+n.y),i=isNaN(i)?0:i,o=isNaN(o)?1:o,a=isNaN(a)?0:a,s=isNaN(s)?0:s,e.createLinearGradient(i,a,o,s)}function yn(e,t,n){var i=n.width,o=n.height,a=Math.min(i,o),s=null==t.x?.5:t.x,l=null==t.y?.5:t.y,u=null==t.r?.5:t.r;return t.global||(s=s*i+n.x,l=l*o+n.y,u*=a),e.createRadialGradient(s,l,0,s,l,u)}Mt.prototype={constructor:Mt,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,n){var i=this,o=n&&n.style,a=!o||e.__attrCachedBy!==Pe.STYLE_BIND;e.__attrCachedBy=Pe.STYLE_BIND;for(var s=0;s<ct.length;s++){var l=ct[s],u=l[0];!a&&i[u]===o[u]||(e[u]=ft(e,u,i[u]||l[1]))}!a&&i.fill===o.fill||(e.fillStyle=i.fill),!a&&i.stroke===o.stroke||(e.strokeStyle=i.stroke),!a&&i.opacity===o.opacity||(e.globalAlpha=null==i.opacity?1:i.opacity),!a&&i.blend===o.blend||(e.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()&&(e.lineWidth=i.lineWidth/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1))},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&0<this.lineWidth},extendFrom:function(e,t){if(e)for(var n in e)!e.hasOwnProperty(n)||!0!==t&&(!1===t?this.hasOwnProperty(n):null==e[n])||(this[n]=e[n])},set:function(e,t){"string"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,n){for(var i=("radial"===t.type?yn:zt)(e,t,n),o=t.colorStops,a=0;a<o.length;a++)i.addColorStop(o[a].offset,o[a].color);return i}};for(var On=Mt.prototype,Gn=0;Gn<ct.length;Gn++){var Xn=ct[Gn];Xn[0]in On||(On[Xn[0]]=Xn[1])}function qn(e,t){this.image=e,this.repeat=t,this.type="pattern"}function Bt(){return!1}function Ye(e,t,n){var i=Ae(),o=t.getWidth(),a=t.getHeight(),s=i.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=o+"px",s.height=a+"px",i.setAttribute("data-zr-dom-id",e)),i.width=o*n,i.height=a*n,i}function He(e,t,n){var i;n=n||A,"string"==typeof e?i=Ye(e,t,n):st(e)&&(e=(i=e).id),this.id=e;var o=(this.dom=i).style;o&&(i.onselectstart=Bt,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o.padding=0,o.margin=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n}Mt.getGradient=On.getGradient,He.prototype={constructor:He,__dirty:!0,__used:!(qn.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")}),__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=Ye("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,i=this.dom,o=i.style,a=this.domBack;o&&(o.width=e+"px",o.height=t+"px"),i.width=e*n,i.height=t*n,a&&(a.width=e*n,a.height=t*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(e,t){var n,i=this.dom,o=this.ctx,a=i.width,s=i.height,l=(t=t||this.clearColor,this.motionBlur&&!e),u=this.lastFrameAlpha,c=this.dpr;if(l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,a/c,s/c)),o.clearRect(0,0,a,s),t&&"transparent"!==t&&(t.colorStops?(n=t.__canvasGradient||Mt.getGradient(o,t,{x:0,y:0,width:a,height:s}),t.__canvasGradient=n):t.image&&(n=qn.prototype.getCanvasPattern.call(t,o)),o.save(),o.fillStyle=n||t,o.fillRect(0,0,a,s),o.restore()),l){var d=this.domBack;o.save(),o.globalAlpha=u,o.drawImage(d,0,0,a,s),o.restore()}}};var St=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},jt=new Lt(50);function on(e){if("string"!=typeof e)return e;var t=jt.get(e);return t&&t.image}function un(e,t,n,i,o){if(e){if("string"!=typeof e)return e;if(t&&t.__zrImageSrc===e||!n)return t;var a=jt.get(e),s={hostEl:n,cb:i,cbPayload:o};return a?Dn(t=a.image)||a.pending.push(s):((t=new Image).onload=t.onerror=Zt,jt.put(e,t.__cachedImgObj={image:t,pending:[s]}),t.src=t.__zrImageSrc=e),t}return t}function Zt(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function Dn(e){return e&&e.width&&e.height}var tt={},yt=0,Dt=5e3,nn=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,En="12px sans-serif",di={};function vi(e,t){var n=e+":"+(t=t||En);if(tt[n])return tt[n];for(var i,o,a=(e+"").split("\n"),s=0,l=0,u=a.length;l<u;l++)s=Math.max((i=a[l],o=t,di.measureText(i,o)).width,s);return Dt<yt&&(yt=0,tt={}),yt++,tt[n]=s}function yi(e,t,n,i,o,a,s,l){return s?(h=i,le=(P=ui(e,{rich:s,truncate:l,font:t,textAlign:d=n,textPadding:o,textLineHeight:a})).outerHeight,new C(hi(0,ee=P.outerWidth,d),nr(0,le,h),ee,le)):function(u,c,d,h,f,p,v){var F=wi(u,c,f,p,v),P=vi(u,c);f&&(P+=f[1]+f[3]);var ee=F.outerHeight,we=new C(hi(0,P,d),nr(0,ee,h),P,ee);return we.lineHeight=F.lineHeight,we}(e,t,n,i,o,a,l);var d,h,P,ee,le}function hi(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function nr(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function Ri(e,t,n){var o=t.textDistance,a=n.x,s=n.y;o=o||0;var l=n.height,u=n.width,c=l/2,d="left",h="top";switch(t.textPosition){case"left":a-=o,s+=c,d="right",h="middle";break;case"right":a+=o+u,s+=c,h="middle";break;case"top":a+=u/2,s-=o,d="center",h="bottom";break;case"bottom":a+=u/2,s+=l+o,d="center";break;case"inside":a+=u/2,s+=c,d="center",h="middle";break;case"insideLeft":a+=o,s+=c,h="middle";break;case"insideRight":a+=u-o,s+=c,d="right",h="middle";break;case"insideTop":a+=u/2,s+=o,d="center";break;case"insideBottom":a+=u/2,s+=l-o,d="center",h="bottom";break;case"insideTopLeft":a+=o,s+=o;break;case"insideTopRight":a+=u-o,s+=o,d="right";break;case"insideBottomLeft":a+=o,s+=l-o,h="bottom";break;case"insideBottomRight":a+=u-o,s+=l-o,d="right",h="bottom"}return(e=e||{}).x=a,e.y=s,e.textAlign=d,e.textVerticalAlign=h,e}function Bi(e,t,n,i,o){if(!t)return"";var a=(e+"").split("\n");o=Tn(t,n,i,o);for(var s=0,l=a.length;s<l;s++)a[s]=In(a[s],o);return a.join("\n")}function Tn(e,t,n,i){(i=ue({},i)).font=t,n=Ht(n,"..."),i.maxIterations=Ht(i.maxIterations,2);var o=i.minChar=Ht(i.minChar,0);i.cnCharWidth=vi("\u56fd",t);var a=i.ascCharWidth=vi("a",t);i.placeholder=Ht(i.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<o&&a<=s;l++)s-=a;var u=vi(n,t);return s<u&&(n="",u=0),s=e-u,i.ellipsis=n,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=e,i}function In(e,t){var n=t.containerWidth,i=t.font,o=t.contentWidth;if(!n)return"";var a=vi(e,i);if(a<=n)return e;for(var s=0;;s++){if(a<=o||s>=t.maxIterations){e+=t.ellipsis;break}var l=0===s?Jt(e,o,t.ascCharWidth,t.cnCharWidth):0<a?Math.floor(e.length*o/a):0;a=vi(e=e.substr(0,l),i)}return""===e&&(e=t.placeholder),e}function Jt(e,t,n,i){for(var o=0,a=0,s=e.length;a<s&&o<t;a++){var l=e.charCodeAt(a);o+=0<=l&&l<=127?n:i}return a}function xn(e){return vi("\u56fd",e)}function wi(e,t,n,i,o){null!=e&&(e+="");var a=Ht(i,xn(t)),s=e?e.split("\n"):[],l=s.length*a,u=l,c=!0;if(n&&(u+=n[0]+n[2]),e&&o){c=!1;var d=o.outerHeight,h=o.outerWidth;if(null!=d&&d<u)e="",s=[];else if(null!=h)for(var f=Tn(h-(n?n[1]+n[3]:0),t,o.ellipsis,{minChar:o.minChar,placeholder:o.placeholder}),p=0,v=s.length;p<v;p++)s[p]=In(s[p],f)}return{lines:s,height:l,outerHeight:u,lineHeight:a,canCacheByTextString:c}}function ui(e,t){var n={lines:[],width:0,height:0};if(null!=e&&(e+=""),!e)return n;for(var i,o=nn.lastIndex=0;null!=(i=nn.exec(e));){var a=i.index;o<a&&Ni(n,e.substring(o,a)),Ni(n,i[2],i[1]),o=nn.lastIndex}o<e.length&&Ni(n,e.substring(o,e.length));var s=n.lines,l=0,u=0,c=[],d=t.textPadding,h=t.truncate,f=h&&h.outerWidth,p=h&&h.outerHeight;d&&(null!=f&&(f-=d[1]+d[3]),null!=p&&(p-=d[0]+d[2]));for(var v=0;v<s.length;v++){for(var F=s[v],P=0,ee=0,le=0;le<F.tokens.length;le++){var ae=(Ot=F.tokens[le]).styleName&&t.rich[Ot.styleName]||{},we=Ot.textPadding=ae.textPadding,_e=Ot.font=ae.font||t.font,Ce=Ot.textHeight=Ht(ae.textHeight,xn(_e));if(we&&(Ce+=we[0]+we[2]),Ot.height=Ce,Ot.lineHeight=Mn(ae.textLineHeight,t.textLineHeight,Ce),Ot.textAlign=ae&&ae.textAlign||t.textAlign,Ot.textVerticalAlign=ae&&ae.textVerticalAlign||"middle",null!=p&&l+Ot.lineHeight>p)return{lines:[],width:0,height:0};Ot.textWidth=vi(Ot.text,_e);var Le=ae.textWidth,Fe=null==Le||"auto"===Le;if("string"==typeof Le&&"%"===Le.charAt(Le.length-1))Ot.percentWidth=Le,c.push(Ot),Le=0;else{if(Fe){Le=Ot.textWidth;var at=ae.textBackgroundColor,pt=at&&at.image;pt&&Dn(pt=on(pt))&&(Le=Math.max(Le,pt.width*Ce/pt.height))}var wt=we?we[1]+we[3]:0;Le+=wt;var Rt=null!=f?f-ee:null;null!=Rt&&Rt<Le&&(!Fe||Rt<wt?(Ot.text="",Ot.textWidth=Le=0):(Ot.text=Bi(Ot.text,Rt-wt,_e,h.ellipsis,{minChar:h.minChar}),Ot.textWidth=vi(Ot.text,_e),Le=Ot.textWidth+wt))}ee+=Ot.width=Le,ae&&(P=Math.max(P,Ot.lineHeight))}F.width=ee,l+=F.lineHeight=P,u=Math.max(u,ee)}for(n.outerWidth=n.width=Ht(t.textWidth,u),n.outerHeight=n.height=Ht(t.textHeight,l),d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]),v=0;v<c.length;v++){var Ot,Wt=(Ot=c[v]).percentWidth;Ot.width=parseInt(Wt,10)/100*u}return n}function Ni(e,t,n){for(var i=""===t,o=t.split("\n"),a=e.lines,s=0;s<o.length;s++){var l=o[s],u={styleName:n,text:l,isLineHolder:!l&&!i};if(s)a.push({tokens:[u]});else{var c=(a[a.length-1]||(a[0]={tokens:[]})).tokens,d=c.length;1===d&&c[0].isLineHolder?c[0]=u:!l&&d&&!i||c.push(u)}}}function Ft(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&_i(t)||e.textFont||e.font}function qt(e,t){var n,i,o,a,s,l=t.x,u=t.y,c=t.width,d=t.height,h=t.r;c<0&&(l+=c,c=-c),d<0&&(u+=d,d=-d),"number"==typeof h?n=i=o=a=h:h instanceof Array?1===h.length?n=i=o=a=h[0]:2===h.length?(n=o=h[0],i=a=h[1]):3===h.length?(n=h[0],i=a=h[1],o=h[2]):(n=h[0],i=h[1],o=h[2],a=h[3]):n=i=o=a=0,c<n+i&&(n*=c/(s=n+i),i*=c/s),c<o+a&&(o*=c/(s=o+a),a*=c/s),d<i+o&&(i*=d/(s=i+o),o*=d/s),d<n+a&&(n*=d/(s=n+a),a*=d/s),e.moveTo(l+n,u),e.lineTo(l+c-i,u),0!==i&&e.arc(l+c-i,u+i,i,-Math.PI/2,0),e.lineTo(l+c,u+d-o),0!==o&&e.arc(l+c-o,u+d-o,o,0,Math.PI/2),e.lineTo(l+a,u+d),0!==a&&e.arc(l+a,u+d-a,a,Math.PI/2,Math.PI),e.lineTo(l,u+n),0!==n&&e.arc(l+n,u+n,n,Math.PI,1.5*Math.PI)}di.measureText=function(e,t){var n=L();return n.font=t||En,n.measureText(e)};var je=En,vt={left:1,right:1,center:1},Ut={top:1,bottom:1,middle:1},sn=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Ln={},dn={};function Pt(e){return wn(e),ce(e.rich,wn),e}function wn(e){if(e){e.font=Ft(e);var t=e.textAlign;"middle"===t&&(t="center"),e.textAlign=null==t||vt[t]?t:"left";var n=e.textVerticalAlign||e.textBaseline;"center"===n&&(n="middle"),e.textVerticalAlign=null==n||Ut[n]?n:"top",e.textPadding&&(e.textPadding=zn(e.textPadding))}}function kn(e,t,n,i,o,a){i.rich?function(s,l,u,c,d,h){h!==$e&&(l.__attrCachedBy=Pe.NONE);var f=s.__textCotentBlock;f&&!s.__dirtyText||(f=s.__textCotentBlock=ui(u,c)),function(p,v,F,P,ee){var le=F.width,ae=F.outerWidth,we=F.outerHeight,_e=P.textPadding,Ce=$n(dn,p,P,ee),Le=Ce.baseX,Fe=Ce.baseY,at=Ce.textAlign,pt=Ce.textVerticalAlign;ii(v,P,ee,Le,Fe);var wt=hi(Le,ae,at),Rt=nr(Fe,we,pt),Ot=wt,Wt=Rt;_e&&(Ot+=_e[3],Wt+=_e[0]);var Qt=Ot+le;Pn(P)&&cn(p,v,P,wt,Rt,ae,we);for(var rn=0;rn<F.lines.length;rn++){for(var $t,Sn=F.lines[rn],Un=Sn.tokens,Zn=Un.length,Hn=Sn.lineHeight,li=Sn.width,Si=0,Xi=Ot,ri=Qt,Gi=Zn-1;Si<Zn&&(!($t=Un[Si]).textAlign||"left"===$t.textAlign);)Xt(p,v,$t,P,Hn,Wt,Xi,"left"),li-=$t.width,Xi+=$t.width,Si++;for(;0<=Gi&&"right"===($t=Un[Gi]).textAlign;)Xt(p,v,$t,P,Hn,Wt,ri,"right"),li-=$t.width,ri-=$t.width,Gi--;for(Xi+=(le-(Xi-Ot)-(Qt-ri)-li)/2;Si<=Gi;)Xt(p,v,$t=Un[Si],P,Hn,Wt,Xi+$t.width/2,"center"),Xi+=$t.width,Si++;Wt+=Hn}}(s,l,f,c,d)}(e,t,n,i,o,a):function(s,l,u,c,d,h){var f,p=Pn(c),v=!1,F=l.__attrCachedBy===Pe.PLAIN_TEXT;h!==$e?(h&&(f=h.style,v=!p&&F&&f),l.__attrCachedBy=p?Pe.NONE:Pe.PLAIN_TEXT):F&&(l.__attrCachedBy=Pe.NONE);var P=c.font||je;v&&P===(f.font||je)||(l.font=P);var ee=s.__computedFont;s.__styleFont!==P&&(s.__styleFont=P,ee=s.__computedFont=l.font);var le=c.textPadding,we=s.__textCotentBlock;we&&!s.__dirtyText||(we=s.__textCotentBlock=wi(u,ee,le,c.textLineHeight,c.truncate));var _e=we.outerHeight,Ce=we.lines,Le=we.lineHeight,Fe=$n(dn,s,c,d),at=Fe.baseX,pt=Fe.baseY,wt=Fe.textAlign||"left",Rt=Fe.textVerticalAlign;ii(l,c,d,at,pt);var Ot=nr(pt,_e,Rt),Wt=at,Qt=Ot;if(p||le){var rn=vi(u,ee);le&&(rn+=le[1]+le[3]);var $t=hi(at,rn,wt);p&&cn(s,l,c,$t,Ot,rn,_e),le&&(Wt=sr(at,wt,le),Qt+=le[0])}l.textAlign=wt,l.textBaseline="middle",l.globalAlpha=c.opacity||1;for(var Sn=0;Sn<sn.length;Sn++){var Un=sn[Sn],Zn=Un[0],Hn=Un[1],li=c[Zn];v&&li===f[Zn]||(l[Hn]=ft(l,Hn,li||Un[2]))}Qt+=Le/2;var Si=c.textStrokeWidth,ri=!v||Si!==(v?f.textStrokeWidth:null),Gi=!v||ri||c.textStroke!==f.textStroke,Zi=Kn(c.textStroke,Si),ar=oi(c.textFill);if(Zi&&(ri&&(l.lineWidth=Si),Gi&&(l.strokeStyle=Zi)),ar&&(v&&c.textFill===f.textFill||(l.fillStyle=ar)),1===Ce.length)Zi&&l.strokeText(Ce[0],Wt,Qt),ar&&l.fillText(Ce[0],Wt,Qt);else for(Sn=0;Sn<Ce.length;Sn++)Zi&&l.strokeText(Ce[Sn],Wt,Qt),ar&&l.fillText(Ce[Sn],Wt,Qt),Qt+=Le}(e,t,n,i,o,a)}function ii(e,t,n,i,o){if(n&&t.textRotation){var a=t.textOrigin;"center"===a?(i=n.width/2+n.x,o=n.height/2+n.y):a&&(i=a[0]+n.x,o=a[1]+n.y),e.translate(i,o),e.rotate(-t.textRotation),e.translate(-i,-o)}}function Xt(e,t,n,i,o,a,s,l){var u=i.rich[n.styleName]||{};u.text=n.text;var c=n.textVerticalAlign,d=a+o/2;"top"===c?d=a+n.height/2:"bottom"===c&&(d=a+o-n.height/2),!n.isLineHolder&&Pn(u)&&cn(e,t,u,"right"===l?s-n.width:"center"===l?s-n.width/2:s,d-n.height/2,n.width,n.height);var h=n.textPadding;h&&(s=sr(s,l,h),d-=n.height/2-h[2]-n.textHeight/2),Yn(t,"shadowBlur",Mn(u.textShadowBlur,i.textShadowBlur,0)),Yn(t,"shadowColor",u.textShadowColor||i.textShadowColor||"transparent"),Yn(t,"shadowOffsetX",Mn(u.textShadowOffsetX,i.textShadowOffsetX,0)),Yn(t,"shadowOffsetY",Mn(u.textShadowOffsetY,i.textShadowOffsetY,0)),Yn(t,"textAlign",l),Yn(t,"textBaseline","middle"),Yn(t,"font",n.font||je);var f=Kn(u.textStroke||i.textStroke,v),p=oi(u.textFill||i.textFill),v=Ht(u.textStrokeWidth,i.textStrokeWidth);f&&(Yn(t,"lineWidth",v),Yn(t,"strokeStyle",f),t.strokeText(n.text,s,d)),p&&(Yn(t,"fillStyle",p),t.fillText(n.text,s,d))}function Pn(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function cn(e,t,n,i,o,a,s){var l=n.textBackgroundColor,u=n.textBorderWidth,c=n.textBorderColor,d=Je(l);if(Yn(t,"shadowBlur",n.textBoxShadowBlur||0),Yn(t,"shadowColor",n.textBoxShadowColor||"transparent"),Yn(t,"shadowOffsetX",n.textBoxShadowOffsetX||0),Yn(t,"shadowOffsetY",n.textBoxShadowOffsetY||0),d||u&&c){t.beginPath();var h=n.textBorderRadius;h?qt(t,{x:i,y:o,width:a,height:s,r:h}):t.rect(i,o,a,s),t.closePath()}if(d)if(Yn(t,"fillStyle",l),null!=n.fillOpacity){var f=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,t.fill(),t.globalAlpha=f}else t.fill();else if(st(l)){var p=l.image;(p=un(p,null,e,jn,l))&&Dn(p)&&t.drawImage(p,i,o,a,s)}u&&c&&(Yn(t,"lineWidth",u),Yn(t,"strokeStyle",c),null!=n.strokeOpacity?(f=t.globalAlpha,t.globalAlpha=n.strokeOpacity*n.opacity,t.stroke(),t.globalAlpha=f):t.stroke())}function jn(e,t){t.image=e}function $n(e,t,n,i){var o=n.x||0,a=n.y||0,s=n.textAlign,l=n.textVerticalAlign;if(i){var u=n.textPosition;if(u instanceof Array)o=i.x+Di(u[0],i.width),a=i.y+Di(u[1],i.height);else{var c=t&&t.calculateTextPosition?t.calculateTextPosition(Ln,n,i):Ri(Ln,n,i);o=c.x,a=c.y,s=s||c.textAlign,l=l||c.textVerticalAlign}var d=n.textOffset;d&&(o+=d[0],a+=d[1])}return(e=e||{}).baseX=o,e.baseY=a,e.textAlign=s,e.textVerticalAlign=l,e}function Yn(e,t,n){return e[t]=ft(e,t,n),e[t]}function Kn(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function oi(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function Di(e,t){return"string"==typeof e?0<=e.lastIndexOf("%")?parseFloat(e)/100*t:parseFloat(e):e}function sr(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function zi(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}function br(){}var Vr=new C;function mr(e){for(var t in te.call(this,e=e||{}),e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new Mt(e.style,this),this._rect=null,this.__clipPaths=null}function Tr(e){mr.call(this,e)}mr.prototype={constructor:mr,type:"displayable",__dirty:!0,invisible:!(br.prototype={constructor:br,drawRectText:function(e,t){var n=this.style;t=n.textRect||t,this.__dirty&&Pt(n);var i=n.text;if(null!=i&&(i+=""),zi(i,n)){e.save();var o=this.transform;n.transformText?this.setTransform(e):o&&(Vr.copy(t),Vr.applyTransform(o),t=Vr),kn(this,e,i,n,t,$e),e.restore()}}}),z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?te.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new Mt(e,this),this.dirty(!1),this},calculateTextPosition:null},ye(mr,te),Te(mr,br),Tr.prototype={constructor:Tr,type:"image",brush:function(e,t){var n=this.style,i=n.image;n.bind(e,this,t);var o=this._image=un(i,this._image,this,this.onload);if(o&&Dn(o)){var a=n.x||0,s=n.y||0,l=n.width,u=n.height,c=o.width/o.height;if(null==l&&null!=u?l=u*c:null==u&&null!=l?u=l/c:null==l&&null==u&&(l=o.width,u=o.height),this.setTransform(e),n.sWidth&&n.sHeight){var d=n.sx||0,h=n.sy||0;e.drawImage(o,d,h,n.sWidth,n.sHeight,a,s,l,u)}else if(n.sx&&n.sy){var f=l-(d=n.sx),p=u-(h=n.sy);e.drawImage(o,d,h,f,p,a,s,l,u)}else e.drawImage(o,a,s,l,u);null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new C(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},ye(Tr,mr);var mo=314159;function Eo(e){return parseInt(e,10)}var $r=new C(0,0,0,0),lo=new C(0,0,0,0);function Zo(e,t,n){this.type="canvas";var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=ue({},n||{}),this.dpr=n.devicePixelRatio||A,this._singleCanvas=i;var o=(this.root=e).style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var h,f,p,a=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){var l=e.width,u=e.height;null!=n.width&&(l=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,e.width=l*this.dpr,e.height=u*this.dpr,this._width=l,this._height=u;var c=new He(e,this,this.dpr);c.__builtin__=!0,c.initContext(),(s[mo]=c).zlevel=mo,a.push(mo),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=(h=this._width,f=this._height,(p=document.createElement("div")).style.cssText=["position:relative","width:"+h+"px","height:"+f+"px","padding:0","margin:0","border-width:0"].join(";")+";",p);e.appendChild(d)}this._hoverlayer=null,this._hoverElements=[]}function sd(e){this.stage=(e=e||{}).stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._paused=!1,Ar.call(this)}Zo.prototype={constructor:Zo,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var i=0;i<n.length;i++){var a=this._layers[n[i]];!a.__builtin__&&a.refresh&&a.refresh(0===i?this._backgroundColor:null)}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return(n.__from=e).__hoverMir=n,t&&n.setStyle(t),this._hoverElements.push(n),n}},removeHover:function(e){var n=this._hoverElements,i=Ge(n,e.__hoverMir);0<=i&&n.splice(i,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var i=t[n].__from;i&&(i.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){rt(e,this.storage.displayableSortFunc);var i={};(n=n||(this._hoverlayer=this.getLayer(1e5))).ctx.save();for(var o=0;o<t;){var a=e[o],s=a.__from;s&&s.__zr?(o++,s.invisible||(a.transform=s.transform,a.invTransform=s.invTransform,a.__clipPaths=s.__clipPaths,this._doPaintEl(a,n,!0,i))):(e.splice(o,1),s.__hoverMir=null,t--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(e,t,n){if(this._redrawId===n){t=t||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var o=this;St(function(){o._paintList(e,t,n)})}}},_compositeManually:function(){var e=this.getLayer(mo).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)})},_doPaintList:function(e,t){for(var n=[],i=0;i<this._zlevelList.length;i++)(l=this._layers[this._zlevelList[i]]).__builtin__&&l!==this._hoverlayer&&(l.__dirty||t)&&n.push(l);for(var a=!0,s=0;s<n.length;s++){var l,u=(l=n[s]).ctx,c={};u.save();var d=t?l.__startIndex:l.__drawIndex,h=!t&&l.incremental&&Date.now,f=h&&Date.now(),p=l.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,p);else if(d===l.__startIndex){var v=e[d];v.incremental&&v.notClear&&!t||l.clear(!1,p)}-1===d&&(console.error("For some unknown reason. drawIndex is -1"),d=l.__startIndex);for(var F=d;F<l.__endIndex;F++){var P=e[F];if(this._doPaintEl(P,l,t,c),P.__dirty=P.__dirtyText=!1,h&&15<Date.now()-f)break}l.__drawIndex=F,l.__drawIndex<l.__endIndex&&(a=!1),c.prevElClipPaths&&u.restore(),u.restore()}return Ne.wxa&&ce(this._layers,function(ee){ee&&ee.ctx&&ee.ctx.draw&&ee.ctx.draw()}),a},_doPaintEl:function(e,t,n,i){var u,c,d,o=t.ctx,a=e.transform;if((t.__dirty||n)&&!e.invisible&&0!==e.style.opacity&&(!a||a[0]||a[3])&&(!e.culling||(c=this._width,d=this._height,$r.copy((u=e).getBoundingRect()),u.transform&&$r.applyTransform(u.transform),lo.width=c,lo.height=d,$r.intersect(lo)))){var s=e.__clipPaths,l=i.prevElClipPaths;l&&!function(u,c){if(u===c)return!1;if(!u||!c||u.length!==c.length)return!0;for(var d=0;d<u.length;d++)if(u[d]!==c[d])return!0;return!1}(s,l)||(l&&(o.restore(),i.prevElClipPaths=null,i.prevEl=null),s&&(o.save(),function(u,c){for(var d=0;d<u.length;d++){var h=u[d];h.setTransform(c),c.beginPath(),h.buildPath(c,h.shape),c.clip(),h.restoreTransform(c)}}(s,o),i.prevElClipPaths=s)),e.beforeBrush&&e.beforeBrush(o),e.brush(o,i.prevEl||null),(i.prevEl=e).afterBrush&&e.afterBrush(o)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=mo);var n=this._layers[e];return n||((n=new He("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]?oe(n,this._layerConfig[e],!0):this._layerConfig[e-.01]&&oe(n,this._layerConfig[e-.01],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},insertLayer:function(e,t){var c,n=this._layers,i=this._zlevelList,o=i.length,a=null,s=-1,l=this._domRoot;if(n[e]);else if((c=t)&&(c.__builtin__||"function"==typeof c.resize&&"function"==typeof c.refresh)){if(0<o&&e>i[0]){for(s=0;s<o-1&&!(i[s]<e&&i[s+1]>e);s++);a=n[i[s]]}if(i.splice(s+1,0,e),!(n[e]=t).virtual)if(a){var u=a.dom;u.nextSibling?l.insertBefore(t.dom,u.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom)}},eachLayer:function(e,t){var n,i,o=this._zlevelList;for(i=0;i<o.length;i++)e.call(t,this._layers[n=o[i]],n)},eachBuiltinLayer:function(e,t){var n,i,o,a=this._zlevelList;for(o=0;o<a.length;o++)(n=this._layers[i=a[o]]).__builtin__&&e.call(t,n,i)},eachOtherLayer:function(e,t){var n,i,o,a=this._zlevelList;for(o=0;o<a.length;o++)(n=this._layers[i=a[o]]).__builtin__||e.call(t,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(c){o&&(o.__endIndex!==c&&(o.__dirty=!0),o.__endIndex=c)}if(this.eachBuiltinLayer(function(c,d){c.__dirty=c.__used=!1}),this._singleCanvas)for(var n=1;n<e.length;n++)if((s=e[n]).zlevel!==e[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}var i,o=null,a=0;for(n=0;n<e.length;n++){var s,l,u=(s=e[n]).zlevel;i!==u&&(i=u,a=0),s.incremental?((l=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,a=1):l=this.getLayer(u+(0<a?.01:0),this._needsManuallyCompositing),l!==o&&(l.__used=!0,l.__startIndex!==n&&(l.__dirty=!0),l.__startIndex=n,l.__drawIndex=l.incremental?-1:n,t(n),o=l),s.__dirty&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=n))}t(n),this.eachBuiltinLayer(function(c,d){!c.__used&&0<c.getElementCount()&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?oe(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];(o===e||o===e+.01)&&oe(this._layers[o],n[e],!0)}}},delLayer:function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(Ge(n,e),1))},resize:function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||t!==this._height){for(var o in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);ce(this._progressiveLayers,function(a){a.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(mo).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[mo].dom;var t=new He("image",this,(e=e||{}).pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width,i=t.dom.height,o=t.ctx;this.eachLayer(function(c){c.__builtin__?o.drawImage(c.dom,0,0,n,i):c.renderToCanvas&&(t.ctx.save(),c.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var a={},s=this.storage.getDisplayList(!0),l=0;l<s.length;l++)this._doPaintEl(s[l],t,!0,a);return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[i]||Eo(l[n])||Eo(s.style[n]))-(Eo(l[o])||0)-(Eo(l[a])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),o=e.getBoundingRect(),a=e.style,s=a.shadowBlur*t,l=a.shadowOffsetX*t,u=a.shadowOffsetY*t,c=a.hasStroke()?a.lineWidth:0,d=Math.max(c/2,s-l),h=Math.max(c/2,l+s),f=Math.max(c/2,s-u),p=Math.max(c/2,u+s),v=o.width+d+h,F=o.height+f+p;n.width=v*t,n.height=F*t,i.scale(t,t),i.clearRect(0,0,v,F),i.dpr=t;var P={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[d-o.x,f-o.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(i);var ee=new Tr({style:{x:0,y:0,image:n}});return null!=P.position&&(ee.position=e.position=P.position),null!=P.rotation&&(ee.rotation=e.rotation=P.rotation),null!=P.scale&&(ee.scale=e.scale=P.scale),ee}},sd.prototype={constructor:sd,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=Ge(this._clips,e);0<=t&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,n=this._clips,i=n.length,o=[],a=[],s=0;s<i;s++){var l=n[s],u=l.step(e,t);u&&(o.push(u),a.push(l))}for(s=0;s<i;)n[s]._needsRemove?(n[s]=n[i-1],n.pop(),i--):s++;for(i=o.length,s=0;s<i;s++)a[s].fire(o[s]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,St(function t(){e._running&&(St(t),e._paused||e._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){var n=new T(e,(t=t||{}).loop,t.getter,t.setter);return this.addAnimator(n),n}},Te(sd,Ar);var S0,C0,Bf=Ne.domSupported,zf=(C0={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:S0=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:Oe(S0,function(e){var t=e.replace("mouse","pointer");return C0.hasOwnProperty(t)?t:e})}),M0={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function k0(e){return"mousewheel"===e&&Ne.browser.firefox?"DOMMouseScroll":e}function Ff(e){var t=e.pointerType;return"pen"===t||"touch"===t}function Vf(e){e&&(e.zrByTouch=!0)}function T0(e,t){for(var n=t,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return i}function A0(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var Hf=A0.prototype;Hf.stopPropagation=Hf.stopImmediatePropagation=Hf.preventDefault=fn;var Ta={mousedown:function(e){e=_r(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=_r(this.dom,e);var t=this._mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||jf(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=_r(this.dom,e),jf(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=_r(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout"),e.zrIsToLocalDOM=T0(this,e.toElement||e.relatedTarget),this.trigger("mouseout",e)},touchstart:function(e){Vf(e=_r(this.dom,e)),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Ta.mousemove.call(this,e),Ta.mousedown.call(this,e)},touchmove:function(e){Vf(e=_r(this.dom,e)),this.handler.processGesture(e,"change"),Ta.mousemove.call(this,e)},touchend:function(e){Vf(e=_r(this.dom,e)),this.handler.processGesture(e,"end"),Ta.mouseup.call(this,e),+new Date-this._lastTouchMoment<300&&Ta.click.call(this,e)},pointerdown:function(e){Ta.mousedown.call(this,e)},pointermove:function(e){Ff(e)||Ta.mousemove.call(this,e)},pointerup:function(e){Ta.mouseup.call(this,e)},pointerout:function(e){Ff(e)||Ta.mouseout.call(this,e)}};ce(["click","mousewheel","dblclick","contextmenu"],function(e){Ta[e]=function(t){t=_r(this.dom,t),this.trigger(e,t)}});var Wf={pointermove:function(e){Ff(e)||Wf.mousemove.call(this,e)},pointerup:function(e){Wf.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;jf(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function ld(e,t,n,i){e.mounted[t]=n,e.listenerOpts[t]=i,Ur(e.domTarget,k0(t),n,i)}function Gf(e){var t,n,i,a=e.mounted;for(var s in a)a.hasOwnProperty(s)&&(t=e.domTarget,n=k0(s),i=a[s],rr?t.removeEventListener(n,i,e.listenerOpts[s]):t.detachEvent("on"+n,i));e.mounted={}}function jf(e,t){if(e._mayPointerCapture=null,Bf&&e._pointerCapturing^t){e._pointerCapturing=t;var n=e._globalHandlerScope;t?function H2(e,t){function n(i){ld(t,i,function(o){o=ir(o),T0(e,o.target)||(o=function(a,s){return _r(a.dom,new A0(a,s),!0)}(e,o),t.domHandlers[i].call(e,o))},{capture:!0})}Ne.pointerEventsSupported?ce(M0.pointer,n):Ne.touchEventsSupported||ce(M0.mouse,n)}(e,n):Gf(n)}}function I0(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function Uf(e,t){Ar.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new I0(e,Ta),Bf&&(this._globalHandlerScope=new I0(document,Wf)),this._pointerCapturing=!1,this._mayPointerCapture=null,function V2(e,t){var n=t.domHandlers;Ne.pointerEventsSupported?ce(zf.pointer,function(i){ld(t,i,function(o){n[i].call(e,o)})}):(Ne.touchEventsSupported&&ce(zf.touch,function(i){ld(t,i,function(o){n[i].call(e,o),function(a){a.touching=!0,null!=a.touchTimer&&(clearTimeout(a.touchTimer),a.touchTimer=null),a.touchTimer=setTimeout(function(){a.touching=!1,a.touchTimer=null},700)}(t)})}),ce(zf.mouse,function(i){ld(t,i,function(o){o=ir(o),t.touching||n[i].call(e,o)})}))}(this,this._localHandlerScope)}var D0=Uf.prototype;D0.dispose=function(){Gf(this._localHandlerScope),Bf&&Gf(this._globalHandlerScope)},D0.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},Te(Uf,Ar);var W2=!Ne.canvasSupported,ud={canvas:Zo},Ys={};function qf(e,t){var n=new Xf(an(),e,t);return Ys[n.id]=n}function Yf(e,t){ud[e]=t}var Xf=function(e,t,n){n=n||{},this.dom=t,this.id=e;var i=this,o=new lt,a=n.renderer;if(W2){if(!ud.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&ud[a]||(a="canvas");var s=new ud[a](t,o,n,e);this.storage=o,this.painter=s;var l=Ne.node||Ne.worker?null:new Uf(s.getViewportRoot(),s.root);this.handler=new Co(o,s,l,s.root),this.animation=new sd({stage:{update:et(this.flush,this)}}),this.animation.start();var u=o.delFromStorage,c=o.addToStorage;o.delFromStorage=function(d){u.call(o,d),d&&d.removeSelfFromZr(i)},o.addToStorage=function(d){c.call(o,d),d.addSelfToZr(i)}};Xf.prototype={constructor:Xf,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var n=this.painter.addHover(e,t);return this.refreshHover(),n}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){this.painter.resize((e=e||{}).width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(e){delete Ys[e]}(this.id)}};var G2=(Object.freeze||Object)({version:"4.3.2",init:qf,dispose:function(e){if(e)e.dispose();else{for(var t in Ys)Ys.hasOwnProperty(t)&&Ys[t].dispose();Ys={}}return this},getInstance:function(e){return Ys[e]},registerPainter:Yf}),Ol=ce,Bl=st,j2=ze,E0="series\0";function Po(e){return e instanceof Array?e:null==e?[]:[e]}function Xs(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var i=0,o=n.length;i<o;i++){var a=n[i];!e.emphasis[t].hasOwnProperty(a)&&e[t].hasOwnProperty(a)&&(e.emphasis[t][a]=e[t][a])}}}var N0=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Du(e){return!Bl(e)||j2(e)||e instanceof Date?e:e.value}function Zf(e,t){t=(t||[]).slice();var n=Oe(e||[],function(i,o){return{exist:i}});return Ol(t,function(i,o){if(Bl(i)){for(var a=0;a<n.length;a++)if(!n[a].option&&null!=i.id&&n[a].exist.id===i.id+"")return n[a].option=i,void(t[o]=null);for(a=0;a<n.length;a++){var s=n[a].exist;if(!(n[a].option||null!=s.id&&null!=i.id||null==i.name||cd(i)||cd(s)||s.name!==i.name+""))return n[a].option=i,void(t[o]=null)}}}),Ol(t,function(i,o){if(Bl(i)){for(var a=0;a<n.length;a++)if(!n[a].option&&!cd(n[a].exist)&&null==i.id){n[a].option=i;break}a>=n.length&&n.push({option:i})}}),n}function L0(e){var t=bn();Ol(e,function(n,i){var o=n.exist;o&&t.set(o.id,n)}),Ol(e,function(n,i){var o=n.option;xi(!o||null==o.id||!t.get(o.id)||t.get(o.id)===n,"id duplicates: "+(o&&o.id)),o&&null!=o.id&&t.set(o.id,n),n.keyInfo||(n.keyInfo={})}),Ol(e,function(n,i){var o=n.exist,a=n.option,s=n.keyInfo;if(Bl(a)){if(s.name=null!=a.name?a.name+"":o?o.name:E0+i,o)s.id=o.id;else if(null!=a.id)s.id=a.id+"";else for(var l=0;s.id="\0"+s.name+"\0"+l++,t.get(s.id););t.set(s.id,n)}})}function $f(e){var t=e.name;return!(!t||!t.indexOf(E0))}function cd(e){return Bl(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}function dd(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?ze(t.dataIndex)?Oe(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?ze(t.name)?Oe(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name):void 0}function $o(){var e="__\0ec_inner_"+U2+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var U2=0;function hd(e,t,n){if(Je(t)){var i={};i[t+"Index"]=0,t=i}var o=n&&n.defaultMainType;!o||Kf(t,o+"Index")||Kf(t,o+"Id")||Kf(t,o+"Name")||(t[o+"Index"]=0);var a={};return Ol(t,function(s,l){if(s=t[l],"dataIndex"!==l&&"dataIndexInside"!==l){var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],d=(u[2]||"").toLowerCase();if(!(!c||!d||null==s||"index"===d&&"none"===s||n&&n.includeMainTypes&&Ge(n.includeMainTypes,c)<0)){var h={mainType:c};"index"===d&&"all"===s||(h[d]=s);var f=e.queryComponents(h);a[c+"Models"]=f,a[c+"Model"]=f[0]}}else a[l]=s}),a}function Kf(e,t){return e&&e.hasOwnProperty(t)}function P0(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function R0(e){return"auto"===e?Ne.domSupported?"html":"richText":e||"html"}function Jf(e,t){var n=bn(),i=[];return ce(e,function(o){var a=t(o);(n.get(a)||(i.push(a),n.set(a,[]))).push(o)}),{keys:i,buckets:n}}var q2=".",Zs="___EC__COMPONENT__CONTAINER___";function gs(e){var t={main:"",sub:""};return e&&(e=e.split(q2),t.main=e[0]||"",t.sub=e[1]||""),t}function Eu(e){(e.$constructor=e).extend=function(t){function n(){t.$constructor?t.$constructor.apply(this,arguments):i.apply(this,arguments)}var i=this;return ue(n.prototype,t),n.extend=this.extend,n.superCall=X2,n.superApply=Z2,ye(n,this),n.superClass=i,n}}var Y2=0;function fd(e){var t=["__\0is_clz",Y2++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!(!n||!n[t])}}function X2(e,t){var n=gn(arguments,2);return this.superClass.prototype[t].apply(e,n)}function Z2(e,t,n){return this.superClass.prototype[t].apply(e,n)}function pd(e,t){t=t||{};var n={};if(e.registerClass=function(o,a){return a&&(xi(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(s=a),'componentType "'+s+'" illegal'),(a=gs(a)).sub?a.sub!==Zs&&((function(s){var l=n[s.main];return l&&l[Zs]||((l=n[s.main]={})[Zs]=!0),l}(a))[a.sub]=o):n[a.main]=o),o;var s},e.getClass=function(o,a,s){var l=n[o];if(l&&l[Zs]&&(l=a?l[a]:null),s&&!l)throw new Error(a?"Component "+o+"."+(a||"")+" not exists. Load it first.":o+".type should be specified.");return l},e.getClassesByMainType=function(o){o=gs(o);var a=[],s=n[o.main];return s&&s[Zs]?ce(s,function(l,u){u!==Zs&&a.push(l)}):a.push(s),a},e.hasClass=function(o){return o=gs(o),!!n[o.main]},e.getAllClassMainTypes=function(){var o=[];return ce(n,function(a,s){o.push(s)}),o},e.hasSubTypes=function(o){o=gs(o);var a=n[o.main];return a&&a[Zs]},e.parseClassType=gs,t.registerWhenExtend){var i=e.extend;i&&(e.extend=function(o){var a=i.call(this,o);return e.registerClass(a,o.type)})}return e}function zl(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(n,i,o){for(var a={},s=0;s<e.length;s++){var l=e[s][1];if(!(i&&0<=Ge(i,l)||o&&Ge(o,l)<0)){var u=n.getShallow(l);null!=u&&(a[e[s][0]]=u)}}return a}}var $2=zl([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),K2={getLineStyle:function(e){var t=$2(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),n=Math.max(e,2),i=4*e;return"solid"!==t&&null!=t&&("dashed"===t?[i,i]:[n,n])}},J2=zl([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Q2={getAreaStyle:function(e,t){return J2(this,e,t)}},gd=Math.pow,ms=Math.sqrt,md=1e-8,O0=1e-4,B0=ms(3),vd=1/3,Ra=Nn(),ma=Nn(),Fl=Nn();function vs(e){return-md<e&&e<md}function z0(e){return md<e||e<-md}function Uo(e,t,n,i,o){var a=1-o;return a*a*(a*e+3*o*t)+o*o*(o*i+3*a*n)}function F0(e,t,n,i,o){var a=1-o;return 3*(((t-e)*a+2*(n-t)*o)*a+(i-n)*o*o)}function V0(e,t,n,i,o){var a=6*n-12*t+6*e,s=9*t+3*i-3*e-9*n,l=3*t-3*e,u=0;if(vs(s))z0(a)&&0<=(d=-l/a)&&d<=1&&(o[u++]=d);else{var c=a*a-4*s*l;if(vs(c))o[0]=-a/(2*s);else if(0<c){var d,h=ms(c),f=(-a-h)/(2*s);0<=(d=(-a+h)/(2*s))&&d<=1&&(o[u++]=d),0<=f&&f<=1&&(o[u++]=f)}}return u}function H0(e,t,n,i,o,a){var s=(t-e)*o+e,l=(n-t)*o+t,u=(i-n)*o+n,c=(l-s)*o+s,d=(u-l)*o+l,h=(d-c)*o+c;a[0]=e,a[1]=s,a[2]=c,a[3]=h,a[4]=h,a[5]=d,a[6]=u,a[7]=i}function zo(e,t,n,i){var o=1-i;return o*(o*e+2*i*t)+i*i*n}function Qf(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function W0(e,t,n){var i=e+n-2*t;return 0==i?.5:(e-t)/i}function ep(e,t,n,i,o){var a=(t-e)*i+e,s=(n-t)*i+t,l=(s-a)*i+a;o[0]=e,o[1]=a,o[2]=l,o[3]=l,o[4]=s,o[5]=n}var Ko=Math.min,Jo=Math.max,tp=Math.sin,np=Math.cos,$s=2*Math.PI,yd=Nn(),xd=Nn(),bd=Nn();function Nu(e,t,n){if(0!==e.length){var i,o=e[0],a=o[0],s=o[0],l=o[1],u=o[1];for(i=1;i<e.length;i++)a=Ko(a,(o=e[i])[0]),s=Jo(s,o[0]),l=Ko(l,o[1]),u=Jo(u,o[1]);t[0]=a,t[1]=l,n[0]=s,n[1]=u}}function G0(e,t,n,i,o,a){o[0]=Ko(e,n),o[1]=Ko(t,i),a[0]=Jo(e,n),a[1]=Jo(t,i)}var j0=[],U0=[];function eM(e,t,n,i,o,a,s,l,u,c){var d,h=V0,f=Uo,p=h(e,n,o,s,j0);for(u[0]=1/0,u[1]=1/0,c[0]=-1/0,c[1]=-1/0,d=0;d<p;d++){var v=f(e,n,o,s,j0[d]);u[0]=Ko(v,u[0]),c[0]=Jo(v,c[0])}for(p=h(t,i,a,l,U0),d=0;d<p;d++){var F=f(t,i,a,l,U0[d]);u[1]=Ko(F,u[1]),c[1]=Jo(F,c[1])}u[0]=Ko(e,u[0]),c[0]=Jo(e,c[0]),u[0]=Ko(s,u[0]),c[0]=Jo(s,c[0]),u[1]=Ko(t,u[1]),c[1]=Jo(t,c[1]),u[1]=Ko(l,u[1]),c[1]=Jo(l,c[1])}function tM(e,t,n,i,o,a,s,l,u){var c=Jr,d=hr,h=Math.abs(o-a);if(h%$s<1e-4&&1e-4<h)return l[0]=e-n,l[1]=t-i,u[0]=e+n,void(u[1]=t+i);if(yd[0]=np(o)*n+e,yd[1]=tp(o)*i+t,xd[0]=np(a)*n+e,xd[1]=tp(a)*i+t,c(l,yd,xd),d(u,yd,xd),(o%=$s)<0&&(o+=$s),(a%=$s)<0&&(a+=$s),a<o&&!s?a+=$s:o<a&&s&&(o+=$s),s){var f=a;a=o,o=f}for(var p=0;p<a;p+=Math.PI/2)o<p&&(bd[0]=np(p)*n+e,bd[1]=tp(p)*i+t,c(l,bd,l),d(u,bd,u))}var vo={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Oa=[],ys=[],Ba=[],za=[],q0=Math.min,Y0=Math.max,Lu=Math.cos,Pu=Math.sin,_d=Math.sqrt,Vl=Math.abs,ip=typeof Float32Array<"u",Qo=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};function xs(e,t,n,i,o,a,s){if(0===o)return!1;var u,l=o;if(t+l<s&&i+l<s||s<t-l&&s<i-l||e+l<a&&n+l<a||a<e-l&&a<n-l)return!1;if(e===n)return Math.abs(a-e)<=l/2;var c=(u=(t-i)/(e-n))*a-s+(e*i-n*t)/(e-n);return c*c/(u*u+1)<=l/2*l/2}function nM(e,t,n,i,o,a,s,l,u,c,d){if(0===u)return!1;var h=u;return!(t+h<d&&i+h<d&&a+h<d&&l+h<d||d<t-h&&d<i-h&&d<a-h&&d<l-h||e+h<c&&n+h<c&&o+h<c&&s+h<c||c<e-h&&c<n-h&&c<o-h&&c<s-h)&&function(f,p,v,F,P,ee,le,ae,we,_e,Ce){var Le,Fe,at,pt,wt,Rt=.005,Ot=1/0;Ra[0]=we,Ra[1]=_e;for(var Wt=0;Wt<1;Wt+=.05)ma[0]=Uo(f,v,P,le,Wt),ma[1]=Uo(p,F,ee,ae,Wt),(pt=Br(Ra,ma))<Ot&&(Le=Wt,Ot=pt);Ot=1/0;for(var Qt=0;Qt<32&&!(Rt<O0);Qt++)at=Le+Rt,ma[0]=Uo(f,v,P,le,Fe=Le-Rt),ma[1]=Uo(p,F,ee,ae,Fe),pt=Br(ma,Ra),0<=Fe&&pt<Ot?(Le=Fe,Ot=pt):(Fl[0]=Uo(f,v,P,le,at),Fl[1]=Uo(p,F,ee,ae,at),wt=Br(Fl,Ra),at<=1&&wt<Ot?(Le=at,Ot=wt):Rt*=.5);return ms(Ot)}(e,t,n,i,o,a,s,l,c,d)<=h/2}function X0(e,t,n,i,o,a,s,l,u){if(0===s)return!1;var c=s;return!(t+c<u&&i+c<u&&a+c<u||u<t-c&&u<i-c&&u<a-c||e+c<l&&n+c<l&&o+c<l||l<e-c&&l<n-c&&l<o-c)&&function(d,h,f,p,v,F,P,ee,le){var ae,we=.005,_e=1/0;Ra[0]=P,Ra[1]=ee;for(var Ce=0;Ce<1;Ce+=.05)ma[0]=zo(d,f,v,Ce),ma[1]=zo(h,p,F,Ce),(pt=Br(Ra,ma))<_e&&(ae=Ce,_e=pt);_e=1/0;for(var Le=0;Le<32&&!(we<O0);Le++){var Fe=ae-we,at=ae+we;ma[0]=zo(d,f,v,Fe),ma[1]=zo(h,p,F,Fe);var pt=Br(ma,Ra);if(0<=Fe&&pt<_e)ae=Fe,_e=pt;else{Fl[0]=zo(d,f,v,at),Fl[1]=zo(h,p,F,at);var wt=Br(Fl,Ra);at<=1&&wt<_e?(ae=at,_e=wt):we*=.5}}return ms(_e)}(e,t,n,i,o,a,l,u)<=c/2}Qo.prototype={constructor:Qo,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,n){this._ux=Vl((n=n||0)/A/e)||0,this._uy=Vl(n/A/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return(this._ctx=e)&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(vo.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=Vl(e-this._xi)>this._ux||Vl(t-this._yi)>this._uy||this._len<5;return this.addData(vo.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,i,o,a){return this.addData(vo.C,e,t,n,i,o,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,i,o,a):this._ctx.bezierCurveTo(e,t,n,i,o,a)),this._xi=o,this._yi=a,this},quadraticCurveTo:function(e,t,n,i){return this.addData(vo.Q,e,t,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,i):this._ctx.quadraticCurveTo(e,t,n,i)),this._xi=n,this._yi=i,this},arc:function(e,t,n,i,o,a){return this.addData(vo.A,e,t,n,n,i,o-i,0,a?0:1),this._ctx&&this._ctx.arc(e,t,n,i,o,a),this._xi=Lu(o)*n+e,this._yi=Pu(o)*n+t,this},arcTo:function(e,t,n,i,o){return this._ctx&&this._ctx.arcTo(e,t,n,i,o),this},rect:function(e,t,n,i){return this._ctx&&this._ctx.rect(e,t,n,i),this.addData(vo.R,e,t,n,i),this},closePath:function(){this.addData(vo.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e;for(var t=this._dashIdx=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length===t||!ip||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,o=0;o<t;o++)n+=e[o].len();for(ip&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n)),o=0;o<t;o++)for(var a=e[o].data,s=0;s<a.length;s++)this.data[i++]=a[s];this._len=i},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,i,o=this._dashSum,a=this._dashOffset,s=this._lineDash,l=this._ctx,u=this._xi,c=this._yi,d=e-u,h=t-c,f=_d(d*d+h*h),p=u,v=c,F=s.length;for(a<0&&(a=o+a),p-=(a%=o)*(d/=f),v-=a*(h/=f);0<d&&p<=e||d<0&&e<=p||0===d&&(0<h&&v<=t||h<0&&t<=v);)p+=d*(n=s[i=this._dashIdx]),v+=h*n,this._dashIdx=(i+1)%F,0<d&&p<u||d<0&&u<p||0<h&&v<c||h<0&&c<v||l[i%2?"moveTo":"lineTo"](0<=d?q0(p,e):Y0(p,e),0<=h?q0(v,t):Y0(v,t));this._dashOffset=-_d((d=p-e)*d+(h=v-t)*h)},_dashedBezierTo:function(e,t,n,i,o,a){var s,l,u,c,d,h=this._dashSum,f=this._dashOffset,p=this._lineDash,v=this._ctx,F=this._xi,P=this._yi,ee=Uo,le=0,ae=this._dashIdx,we=p.length,_e=0;for(f<0&&(f=h+f),f%=h,s=0;s<1;s+=.1)l=ee(F,e,n,o,s+.1)-ee(F,e,n,o,s),u=ee(P,t,i,a,s+.1)-ee(P,t,i,a,s),le+=_d(l*l+u*u);for(;ae<we&&!(f<(_e+=p[ae]));ae++);for(s=(_e-f)/le;s<=1;)c=ee(F,e,n,o,s),d=ee(P,t,i,a,s),ae%2?v.moveTo(c,d):v.lineTo(c,d),s+=p[ae]/le,ae=(ae+1)%we;ae%2!=0&&v.lineTo(o,a),this._dashOffset=-_d((l=o-c)*l+(u=a-d)*u)},_dashedQuadraticTo:function(e,t,n,i){var o=n,a=i;n=(n+2*e)/3,i=(i+2*t)/3,this._dashedBezierTo(e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,n,i,o,a)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,ip&&(this.data=new Float32Array(e)))},getBoundingRect:function(){Oa[0]=Oa[1]=Ba[0]=Ba[1]=Number.MAX_VALUE,ys[0]=ys[1]=za[0]=za[1]=-Number.MAX_VALUE;for(var e,t,n,i,o,a,s,l,u,c,d,h,f,p,v=this.data,F=0,P=0,ee=0,le=0,ae=0;ae<v.length;){var we=v[ae++];switch(1===ae&&(ee=F=v[ae],le=P=v[ae+1]),we){case vo.M:F=ee=v[ae++],P=le=v[ae++],Ba[0]=ee,Ba[1]=le,za[0]=ee,za[1]=le;break;case vo.L:G0(F,P,v[ae],v[ae+1],Ba,za),F=v[ae++],P=v[ae++];break;case vo.C:eM(F,P,v[ae++],v[ae++],v[ae++],v[ae++],v[ae],v[ae+1],Ba,za),F=v[ae++],P=v[ae++];break;case vo.Q:t=P,n=v[ae++],i=v[ae++],a=v[ae+1],s=Ba,l=za,c=u=void 0,c=zo,d=Jo(Ko((u=W0)(e=F,n,o=v[ae]),1),0),h=Jo(Ko(u(t,i,a),1),0),f=c(e,n,o,d),p=c(t,i,a,h),s[0]=Ko(e,o,f),s[1]=Ko(t,a,p),l[0]=Jo(e,o,f),l[1]=Jo(t,a,p),F=v[ae++],P=v[ae++];break;case vo.A:var _e=v[ae++],Ce=v[ae++],Le=v[ae++],Fe=v[ae++],at=v[ae++],pt=v[ae++]+at;ae+=1;var wt=1-v[ae++];1===ae&&(ee=Lu(at)*Le+_e,le=Pu(at)*Fe+Ce),tM(_e,Ce,Le,Fe,at,pt,wt,Ba,za),F=Lu(pt)*Le+_e,P=Pu(pt)*Fe+Ce;break;case vo.R:G0(ee=F=v[ae++],le=P=v[ae++],ee+v[ae++],le+v[ae++],Ba,za);break;case vo.Z:F=ee,P=le}Jr(Oa,Oa,Ba),hr(ys,ys,za)}return 0===ae&&(Oa[0]=Oa[1]=ys[0]=ys[1]=0),new C(Oa[0],Oa[1],ys[0]-Oa[0],ys[1]-Oa[1])},rebuildPath:function(e){for(var t,n,i,o,a,s,l=this.data,u=this._ux,c=this._uy,d=this._len,h=0;h<d;){var f=l[h++];switch(1===h&&(t=i=l[h],n=o=l[h+1]),f){case vo.M:t=i=l[h++],n=o=l[h++],e.moveTo(i,o);break;case vo.L:a=l[h++],s=l[h++],(Vl(a-i)>u||Vl(s-o)>c||h===d-1)&&(e.lineTo(a,s),i=a,o=s);break;case vo.C:e.bezierCurveTo(l[h++],l[h++],l[h++],l[h++],l[h++],l[h++]),i=l[h-2],o=l[h-1];break;case vo.Q:e.quadraticCurveTo(l[h++],l[h++],l[h++],l[h++]),i=l[h-2],o=l[h-1];break;case vo.A:var p=l[h++],v=l[h++],F=l[h++],P=l[h++],ee=l[h++],le=l[h++],ae=l[h++],we=l[h++],_e=P<F?F:P,Ce=P<F?1:F/P,Le=P<F?P/F:1,Fe=ee+le;.001<Math.abs(F-P)?(e.translate(p,v),e.rotate(ae),e.scale(Ce,Le),e.arc(0,0,_e,ee,Fe,1-we),e.scale(1/Ce,1/Le),e.rotate(-ae),e.translate(-p,-v)):e.arc(p,v,_e,ee,Fe,1-we),1===h&&(t=Lu(ee)*F+p,n=Pu(ee)*P+v),i=Lu(Fe)*F+p,o=Pu(Fe)*P+v;break;case vo.R:t=i=l[h],n=o=l[h+1],e.rect(l[h++],l[h++],l[h++],l[h++]);break;case vo.Z:e.closePath(),i=t,o=n}}}},Qo.CMD=vo;var Z0=2*Math.PI;function bs(e){return(e%=Z0)<0&&(e+=Z0),e}var Ru=2*Math.PI;function iM(e,t,n,i,o,a,s,l,u){if(0===s)return!1;var c=s;l-=e,u-=t;var d=Math.sqrt(l*l+u*u);if(n<d-c||d+c<n)return!1;if(Math.abs(i-o)%Ru<1e-4)return!0;if(a){var h=i;i=bs(o),o=bs(h)}else i=bs(i),o=bs(o);o<i&&(o+=Ru);var f=Math.atan2(u,l);return f<0&&(f+=Ru),i<=f&&f<=o||i<=f+Ru&&f+Ru<=o}function es(e,t,n,i,o,a){if(t<a&&i<a||a<t&&a<i||i===t)return 0;var s=i<t?1:-1,l=(a-t)/(i-t);1!=l&&0!=l||(s=i<t?.5:-.5);var u=l*(n-e)+e;return u===o?1/0:o<u?s:0}var _s=Qo.CMD,Hl=2*Math.PI,rM=1e-4,qo=[-1,-1,-1],va=[-1,-1];function oM(e,t,n,i,o,a,s,l,u,c){if(t<c&&i<c&&a<c&&l<c||c<t&&c<i&&c<a&&c<l)return 0;var d,h=function(ae,we,_e,Ce,Le,Fe){var at=Ce+3*(we-_e)-ae,pt=3*(_e-2*we+ae),wt=3*(we-ae),Rt=ae-Le,Ot=pt*pt-3*at*wt,Wt=pt*wt-9*at*Rt,Qt=wt*wt-3*pt*Rt,rn=0;if(vs(Ot)&&vs(Wt))vs(pt)?Fe[0]=0:0<=(Zi=-wt/pt)&&Zi<=1&&(Fe[rn++]=Zi);else{var $t=Wt*Wt-4*Ot*Qt;if(vs($t)){var Sn=Wt/Ot,Un=-Sn/2;0<=(Zi=-pt/at+Sn)&&Zi<=1&&(Fe[rn++]=Zi),0<=Un&&Un<=1&&(Fe[rn++]=Un)}else if(0<$t){var Zn=ms($t),Hn=Ot*pt+1.5*at*(-Wt+Zn),li=Ot*pt+1.5*at*(-Wt-Zn);0<=(Zi=(-pt-((Hn=Hn<0?-gd(-Hn,vd):gd(Hn,vd))+(li=li<0?-gd(-li,vd):gd(li,vd))))/(3*at))&&Zi<=1&&(Fe[rn++]=Zi)}else{var Si=(2*Ot*pt-3*at*Wt)/(2*ms(Ot*Ot*Ot)),Xi=Math.acos(Si)/3,ri=ms(Ot),Gi=Math.cos(Xi),Zi=(-pt-2*ri*Gi)/(3*at),ar=(Un=(-pt+ri*(Gi+B0*Math.sin(Xi)))/(3*at),(-pt+ri*(Gi-B0*Math.sin(Xi)))/(3*at));0<=Zi&&Zi<=1&&(Fe[rn++]=Zi),0<=Un&&Un<=1&&(Fe[rn++]=Un),0<=ar&&ar<=1&&(Fe[rn++]=ar)}}return rn}(t,i,a,l,c,qo);if(0===h)return 0;for(var f,p,v=0,F=-1,P=0;P<h;P++){var ee=qo[P],le=0===ee||1===ee?.5:1;Uo(e,n,o,s,ee)<u||(F<0&&(F=V0(t,i,a,l,va),va[1]<va[0]&&1<F&&(d=va[0],va[0]=va[1],va[1]=d),f=Uo(t,i,a,l,va[0]),1<F&&(p=Uo(t,i,a,l,va[1]))),v+=2===F?ee<va[0]?f<t?le:-le:ee<va[1]?p<f?le:-le:l<p?le:-le:ee<va[0]?f<t?le:-le:l<f?le:-le)}return v}function aM(e,t,n,i,o,a,s,l){if(t<l&&i<l&&a<l||l<t&&l<i&&l<a)return 0;var u=function(v,F,P,ee,le){var ae=v-2*F+P,we=2*(F-v),_e=v-ee,Ce=0;if(vs(ae))z0(we)&&0<=(Fe=-_e/we)&&Fe<=1&&(le[Ce++]=Fe);else{var Le=we*we-4*ae*_e;if(vs(Le))0<=(Fe=-we/(2*ae))&&Fe<=1&&(le[Ce++]=Fe);else if(0<Le){var Fe,at=ms(Le),pt=(-we-at)/(2*ae);0<=(Fe=(-we+at)/(2*ae))&&Fe<=1&&(le[Ce++]=Fe),0<=pt&&pt<=1&&(le[Ce++]=pt)}}return Ce}(t,i,a,l,qo);if(0===u)return 0;var c=W0(t,i,a);if(0<=c&&c<=1){for(var d=0,h=zo(t,i,a,c),f=0;f<u;f++){var p=0===qo[f]||1===qo[f]?.5:1;zo(e,n,o,qo[f])<s||(d+=qo[f]<c?h<t?p:-p:a<h?p:-p)}return d}return p=0===qo[0]||1===qo[0]?.5:1,zo(e,n,o,qo[0])<s?0:a<t?p:-p}function sM(e,t,n,i,o,a,s,l){if(n<(l-=t)||l<-n)return 0;var u=Math.sqrt(n*n-l*l);qo[0]=-u,qo[1]=u;var c=Math.abs(i-o);if(c<1e-4)return 0;if(c%Hl<1e-4){o=Hl;var d=a?1:-1;return s>=qo[i=0]+e&&s<=qo[1]+e?d:0}a?(u=i,i=bs(o),o=bs(u)):(i=bs(i),o=bs(o)),o<i&&(o+=Hl);for(var h=0,f=0;f<2;f++){var p=qo[f];if(s<p+e){var v=Math.atan2(l,p);d=a?1:-1,v<0&&(v=Hl+v),(i<=v&&v<=o||i<=v+Hl&&v+Hl<=o)&&(v>Math.PI/2&&v<1.5*Math.PI&&(d=-d),h+=d)}}return h}function $0(e,t,n,i,o){for(var a=0,s=0,l=0,u=0,c=0,d=0;d<e.length;){var h=e[d++];switch(h===_s.M&&1<d&&(n||(a+=es(s,l,u,c,i,o))),1===d&&(u=s=e[d],c=l=e[d+1]),h){case _s.M:s=u=e[d++],l=c=e[d++];break;case _s.L:if(n){if(xs(s,l,e[d],e[d+1],t,i,o))return!0}else a+=es(s,l,e[d],e[d+1],i,o)||0;s=e[d++],l=e[d++];break;case _s.C:if(n){if(nM(s,l,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],t,i,o))return!0}else a+=oM(s,l,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],i,o)||0;s=e[d++],l=e[d++];break;case _s.Q:if(n){if(X0(s,l,e[d++],e[d++],e[d],e[d+1],t,i,o))return!0}else a+=aM(s,l,e[d++],e[d++],e[d],e[d+1],i,o)||0;s=e[d++],l=e[d++];break;case _s.A:var f=e[d++],p=e[d++],v=e[d++],F=e[d++],P=e[d++],ee=e[d++];d+=1;var le=1-e[d++],ae=Math.cos(P)*v+f,we=Math.sin(P)*F+p;1<d?a+=es(s,l,ae,we,i,o):(u=ae,c=we);var _e=(i-f)*F/v+f;if(n){if(iM(f,p,F,P,P+ee,le,t,_e,o))return!0}else a+=sM(f,p,F,P,P+ee,le,_e,o);s=Math.cos(P+ee)*v+f,l=Math.sin(P+ee)*F+p;break;case _s.R:if(u=s=e[d++],c=l=e[d++],ae=u+e[d++],we=c+e[d++],n){if(xs(u,c,ae,c,t,i,o)||xs(ae,c,ae,we,t,i,o)||xs(ae,we,u,we,t,i,o)||xs(u,we,u,c,t,i,o))return!0}else a+=es(ae,c,ae,we,i,o),a+=es(u,we,u,c,i,o);break;case _s.Z:if(n){if(xs(s,l,u,c,t,i,o))return!0}else a+=es(s,l,u,c,i,o);s=u,l=c}}return n||Math.abs(l-c)<rM||(a+=es(s,l,u,c,i,o)||0),0!==a}var K0=qn.prototype.getCanvasPattern,rp=Math.abs,lM=new Qo(!0);function Er(e){mr.call(this,e),this.path=null}function J0(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}Er.prototype={constructor:Er,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var n,i=this.style,o=this.path||lM,a=i.hasStroke(),s=i.hasFill(),l=i.fill,u=i.stroke,c=s&&!!l.colorStops,d=a&&!!u.colorStops,h=s&&!!l.image,f=a&&!!u.image;i.bind(e,this,t),this.setTransform(e),this.__dirty&&(c&&(n=n||this.getBoundingRect(),this._fillGradient=i.getGradient(e,l,n)),d&&(n=n||this.getBoundingRect(),this._strokeGradient=i.getGradient(e,u,n))),c?e.fillStyle=this._fillGradient:h&&(e.fillStyle=K0.call(l,e)),d?e.strokeStyle=this._strokeGradient:f&&(e.strokeStyle=K0.call(u,e));var p=i.lineDash,v=i.lineDashOffset,F=!!e.setLineDash,P=this.getGlobalScale();if(o.setScale(P[0],P[1],this.segmentIgnoreThreshold),this.__dirtyPath||p&&!F&&a?(o.beginPath(e),p&&!F&&(o.setLineDash(p),o.setLineDashOffset(v)),this.buildPath(o,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),s)if(null!=i.fillOpacity){var ee=e.globalAlpha;e.globalAlpha=i.fillOpacity*i.opacity,o.fill(e),e.globalAlpha=ee}else o.fill(e);p&&F&&(e.setLineDash(p),e.lineDashOffset=v),a&&(null!=i.strokeOpacity?(ee=e.globalAlpha,e.globalAlpha=i.strokeOpacity*i.opacity,o.stroke(e),e.globalAlpha=ee):o.stroke(e)),p&&F&&e.setLineDash([]),null!=i.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,n){},createPathProxy:function(){this.path=new Qo},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var i=this.path;i=i||(this.path=new Qo),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),e=i.getBoundingRect()}if(this._rect=e,t.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){o.copy(e);var a=t.lineWidth,s=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),1e-10<s&&(o.width+=a/s,o.height+=a/s,o.x-=a/s/2,o.y-=a/s/2)}return o}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),o=this.style;if(i.contain(e=n[0],t=n[1])){var a=this.path.data;if(o.hasStroke()){var s=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(1e-10<l&&(o.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),$0(a,s/l,!0,e,t)))return!0}if(o.hasFill())return $0(a,0,!1,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):mr.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(st(e))for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&1e-10<rp(e[0]-1)&&1e-10<rp(e[3]-1)?Math.sqrt(rp(e[0]*e[3]-e[2]*e[1])):1}},Er.extend=function(e){function t(i){Er.call(this,i),e.style&&this.style.extendFrom(e.style,!1);var o=e.shape;if(o){this.shape=this.shape||{};var a=this.shape;for(var s in o)!a.hasOwnProperty(s)&&o.hasOwnProperty(s)&&(a[s]=o[s])}e.init&&e.init.call(this,i)}for(var n in ye(t,Er),e)"style"!==n&&"shape"!==n&&(t.prototype[n]=e[n]);return t},ye(Er,mr);var Wl=Qo.CMD,uM=[[],[],[]],Q0=Math.sqrt,cM=Math.atan2,dM=function(e,t){var n,i,o,a,s,l=e.data,u=Wl.M,c=Wl.C,d=Wl.L,h=Wl.R,f=Wl.A,p=Wl.Q;for(a=o=0;o<l.length;){switch(n=l[o++],a=o,i=0,n){case u:case d:i=1;break;case c:i=3;break;case p:i=2;break;case f:var v=t[4],F=t[5],P=Q0(t[0]*t[0]+t[1]*t[1]),ee=Q0(t[2]*t[2]+t[3]*t[3]),le=cM(-t[1]/ee,t[0]/P);l[o]*=P,l[o++]+=v,l[o]*=ee,l[o++]+=F,l[o++]*=P,l[o++]*=ee,l[o++]+=le,l[o++]+=le,a=o+=2;break;case h:ae[0]=l[o++],ae[1]=l[o++],cr(ae,ae,t),l[a++]=ae[0],l[a++]=ae[1],ae[0]+=l[o++],ae[1]+=l[o++],cr(ae,ae,t),l[a++]=ae[0],l[a++]=ae[1]}for(s=0;s<i;s++){var ae;(ae=uM[s])[0]=l[o++],ae[1]=l[o++],cr(ae,ae,t),l[a++]=ae[0],l[a++]=ae[1]}}},op=Math.sqrt,wd=Math.sin,Sd=Math.cos,Cd=Math.PI,ap=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(J0(e)*J0(t))},ey=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(ap(e,t))};function ty(e,t,n,i,o,a,s,l,u,c,d){var h=u*(Cd/180),f=Sd(h)*(e-n)/2+wd(h)*(t-i)/2,p=-1*wd(h)*(e-n)/2+Sd(h)*(t-i)/2,v=f*f/(s*s)+p*p/(l*l);1<v&&(s*=op(v),l*=op(v));var F=(o===a?-1:1)*op((s*s*(l*l)-s*s*(p*p)-l*l*(f*f))/(s*s*(p*p)+l*l*(f*f)))||0,P=F*s*p/l,ee=F*-l*f/s,le=(e+n)/2+Sd(h)*P-wd(h)*ee,ae=(t+i)/2+wd(h)*P+Sd(h)*ee,we=ey([1,0],[(f-P)/s,(p-ee)/l]),_e=[(f-P)/s,(p-ee)/l],Ce=[(-1*f-P)/s,(-1*p-ee)/l],Le=ey(_e,Ce);ap(_e,Ce)<=-1&&(Le=Cd),1<=ap(_e,Ce)&&(Le=0),0===a&&0<Le&&(Le-=2*Cd),1===a&&Le<0&&(Le+=2*Cd),d.addData(c,le,ae,s,l,we,Le,h,a)}var hM=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,fM=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ny(e,t){var n=function(i){if(!i)return new Qo;for(var o,a=0,s=0,l=a,u=s,c=new Qo,d=Qo.CMD,h=i.match(hM),f=0;f<h.length;f++){for(var p,v=h[f],F=v.charAt(0),P=v.match(fM)||[],ee=P.length,le=0;le<ee;le++)P[le]=parseFloat(P[le]);for(var ae=0;ae<ee;){var we,_e,Ce,Le,Fe,at,pt,wt=a,Rt=s;switch(F){case"l":a+=P[ae++],s+=P[ae++],c.addData(p=d.L,a,s);break;case"L":a=P[ae++],s=P[ae++],c.addData(p=d.L,a,s);break;case"m":a+=P[ae++],s+=P[ae++],c.addData(p=d.M,a,s),l=a,u=s,F="l";break;case"M":a=P[ae++],s=P[ae++],c.addData(p=d.M,a,s),l=a,u=s,F="L";break;case"h":a+=P[ae++],c.addData(p=d.L,a,s);break;case"H":a=P[ae++],c.addData(p=d.L,a,s);break;case"v":s+=P[ae++],c.addData(p=d.L,a,s);break;case"V":s=P[ae++],c.addData(p=d.L,a,s);break;case"C":c.addData(p=d.C,P[ae++],P[ae++],P[ae++],P[ae++],P[ae++],P[ae++]),a=P[ae-2],s=P[ae-1];break;case"c":c.addData(p=d.C,P[ae++]+a,P[ae++]+s,P[ae++]+a,P[ae++]+s,P[ae++]+a,P[ae++]+s),a+=P[ae-2],s+=P[ae-1];break;case"S":we=a,_e=s;var Ot=c.len(),Wt=c.data;o===d.C&&(we+=a-Wt[Ot-4],_e+=s-Wt[Ot-3]),wt=P[ae++],Rt=P[ae++],a=P[ae++],s=P[ae++],c.addData(p=d.C,we,_e,wt,Rt,a,s);break;case"s":we=a,_e=s,Ot=c.len(),Wt=c.data,o===d.C&&(we+=a-Wt[Ot-4],_e+=s-Wt[Ot-3]),wt=a+P[ae++],Rt=s+P[ae++],a+=P[ae++],s+=P[ae++],c.addData(p=d.C,we,_e,wt,Rt,a,s);break;case"Q":wt=P[ae++],Rt=P[ae++],a=P[ae++],s=P[ae++],c.addData(p=d.Q,wt,Rt,a,s);break;case"q":wt=P[ae++]+a,Rt=P[ae++]+s,a+=P[ae++],s+=P[ae++],c.addData(p=d.Q,wt,Rt,a,s);break;case"T":we=a,_e=s,Ot=c.len(),Wt=c.data,o===d.Q&&(we+=a-Wt[Ot-4],_e+=s-Wt[Ot-3]),a=P[ae++],s=P[ae++],c.addData(p=d.Q,we,_e,a,s);break;case"t":we=a,_e=s,Ot=c.len(),Wt=c.data,o===d.Q&&(we+=a-Wt[Ot-4],_e+=s-Wt[Ot-3]),a+=P[ae++],s+=P[ae++],c.addData(p=d.Q,we,_e,a,s);break;case"A":Ce=P[ae++],Le=P[ae++],Fe=P[ae++],at=P[ae++],pt=P[ae++],ty(wt=a,Rt=s,a=P[ae++],s=P[ae++],at,pt,Ce,Le,Fe,p=d.A,c);break;case"a":Ce=P[ae++],Le=P[ae++],Fe=P[ae++],at=P[ae++],pt=P[ae++],ty(wt=a,Rt=s,a+=P[ae++],s+=P[ae++],at,pt,Ce,Le,Fe,p=d.A,c)}}"z"!==F&&"Z"!==F||(c.addData(p=d.Z),a=l,s=u),o=p}return c.toStatic(),c}(e);return(t=t||{}).buildPath=function(i){if(i.setData)i.setData(n.data),(o=i.getContext())&&i.rebuildPath(o);else{var o=i;n.rebuildPath(o)}},t.applyTransform=function(i){dM(n,i),this.dirty(!0)},t}function iy(e,t){return new Er(ny(e,t))}var Cr=function(e){mr.call(this,e)};function sp(e){return Ne.browser.ie&&11<=Ne.browser.version?function(){var t,n=this.__clipPaths,i=this.style;if(n)for(var o=0;o<n.length;o++){var a=n[o],s=a&&a.shape,l=a&&a.type;if(s&&("sector"===l&&s.startAngle===s.endAngle||"rect"===l&&(!s.width||!s.height))){for(var u=0;u<ws.length;u++)ws[u][2]=i[ws[u][0]],i[ws[u][0]]=ws[u][1];t=!0;break}}if(e.apply(this,arguments),t)for(u=0;u<ws.length;u++)i[ws[u][0]]=ws[u][2]}:e}Cr.prototype={constructor:Cr,type:"text",brush:function(e,t){var n=this.style;this.__dirty&&Pt(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=""),zi(i,n)?(this.setTransform(e),kn(this,e,i,n,null,t),this.restoreTransform(e)):e.__attrCachedBy=Pe.NONE},getBoundingRect:function(){var e=this.style;if(this.__dirty&&Pt(e),!this._rect){var t=e.text;null!=t?t+="":t="";var n=yi(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(n.x+=e.x||0,n.y+=e.y||0,Kn(e.textStroke,e.textStrokeWidth)){var i=e.textStrokeWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect}},ye(Cr,mr);var Fa=Er.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}}),ws=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Aa=Er.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:sp(Er.prototype.brush),buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r0||0,0),a=Math.max(t.r,0),s=t.startAngle,l=t.endAngle,u=t.clockwise,c=Math.cos(s),d=Math.sin(s);e.moveTo(c*o+n,d*o+i),e.lineTo(c*a+n,d*a+i),e.arc(n,i,a,s,l,!u),e.lineTo(Math.cos(l)*o+n,Math.sin(l)*o+i),0!==o&&e.arc(n,i,o,l,s,u),e.closePath()}}),Md=Er.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,o,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,o,!0)}});function ry(e,t,n,i,o,a,s){var l=.5*(n-e),u=.5*(i-t);return(2*(t-n)+l+u)*s+(-3*(t-n)-2*l-u)*a+l*o+t}function oy(e,t,n){var i=t.points,o=t.smooth;if(i&&2<=i.length){if(o&&"spline"!==o){var a=function(f,p,v,F){var P,ee,le,ae,we=[],_e=[],Ce=[],Le=[];if(F){le=[1/0,1/0],ae=[-1/0,-1/0];for(var Fe=0,at=f.length;Fe<at;Fe++)Jr(le,le,f[Fe]),hr(ae,ae,f[Fe]);Jr(le,le,F[0]),hr(ae,ae,F[1])}for(Fe=0,at=f.length;Fe<at;Fe++){var pt=f[Fe];if(v)P=f[Fe?Fe-1:at-1],ee=f[(Fe+1)%at];else{if(0===Fe||Fe===at-1){we.push(Vi(f[Fe]));continue}P=f[Fe-1],ee=f[Fe+1]}Rn(_e,ee,P),bi(_e,_e,p);var wt=Ai(pt,P),Rt=Ai(pt,ee),Ot=wt+Rt;0!==Ot&&(wt/=Ot,Rt/=Ot),bi(Ce,_e,-wt),bi(Le,_e,Rt);var Wt=Li([],pt,Ce),Qt=Li([],pt,Le);F&&(hr(Wt,Wt,le),Jr(Wt,Wt,ae),hr(Qt,Qt,le),Jr(Qt,Qt,ae)),we.push(Wt),we.push(Qt)}return v&&we.push(we.shift()),we}(i,o,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var s=i.length,l=0;l<(n?s:s-1);l++){var u=a[2*l],c=a[2*l+1],d=i[(l+1)%s];e.bezierCurveTo(u[0],u[1],c[0],c[1],d[0],d[1])}}else{"spline"===o&&(i=function(f,p){for(var v=f.length,F=[],P=0,ee=1;ee<v;ee++)P+=Ai(f[ee-1],f[ee]);var le=P/2;for(le=le<v?v:le,ee=0;ee<le;ee++){var ae,we,_e,Ce=ee/(le-1)*(p?v:v-1),Le=Math.floor(Ce),Fe=Ce-Le,at=f[Le%v];_e=p?(ae=f[(Le-1+v)%v],we=f[(Le+1)%v],f[(Le+2)%v]):(ae=f[0===Le?Le:Le-1],we=f[v-2<Le?v-1:Le+1],f[v-3<Le?v-1:Le+2]);var pt=Fe*Fe,wt=Fe*pt;F.push([ry(ae[0],at[0],we[0],_e[0],Fe,pt,wt),ry(ae[1],at[1],we[1],_e[1],Fe,pt,wt)])}return F}(i,n)),e.moveTo(i[0][0],i[0][1]),l=1;for(var h=i.length;l<h;l++)e.lineTo(i[l][0],i[l][1])}n&&e.closePath()}}var ea=Er.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){oy(e,t,!0)}}),ya=Er.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){oy(e,t,!1)}}),Gl=Math.round;function ay(e,t,n){if(t){var i=t.x1,o=t.x2,a=t.y1,s=t.y2;e.x1=i,e.x2=o,e.y1=a,e.y2=s;var l=n&&n.lineWidth;l&&(Gl(2*i)===Gl(2*o)&&(e.x1=e.x2=Ks(i,l,!0)),Gl(2*a)===Gl(2*s)&&(e.y1=e.y2=Ks(a,l,!0)))}}function sy(e,t,n){if(t){var i=t.x,o=t.y,a=t.width,s=t.height;e.x=i,e.y=o,e.width=a,e.height=s;var l=n&&n.lineWidth;l&&(e.x=Ks(i,l,!0),e.y=Ks(o,l,!0),e.width=Math.max(Ks(i+a,l,!1)-e.x,0===a?0:1),e.height=Math.max(Ks(o+s,l,!1)-e.y,0===s?0:1))}}function Ks(e,t,n){if(!t)return e;var i=Gl(2*e);return(i+Gl(t))%2==0?i/2:(i+(n?1:-1))/2}var Js={},Rr=Er.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n,i,o,a;this.subPixelOptimize?(sy(Js,t,this.style),n=Js.x,i=Js.y,o=Js.width,a=Js.height,Js.r=t.r,t=Js):(n=t.x,i=t.y,o=t.width,a=t.height),t.r?qt(e,t):e.rect(n,i,o,a),e.closePath()}}),Ou={},Ro=Er.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n,i,o,a;a=this.subPixelOptimize?(ay(Ou,t,this.style),n=Ou.x1,i=Ou.y1,o=Ou.x2,Ou.y2):(n=t.x1,i=t.y1,o=t.x2,t.y2);var s=t.percent;0!==s&&(e.moveTo(n,i),s<1&&(o=n*(1-s)+o*s,a=i*(1-s)+a*s),e.lineTo(o,a))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),ta=[];function ly(e,t,n){return null===e.cpx2||null===e.cpy2?[(n?F0:Uo)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?F0:Uo)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?Qf:zo)(e.x1,e.cpx1,e.x2,t),(n?Qf:zo)(e.y1,e.cpy1,e.y2,t)]}function Va(e){this.colorStops=e||[]}var kd=Er.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.cpx1,l=t.cpy1,u=t.cpx2,c=t.cpy2,d=t.percent;0!==d&&(e.moveTo(n,i),null==u||null==c?(d<1&&(ep(n,s,o,d,ta),s=ta[1],o=ta[2],ep(i,l,a,d,ta),l=ta[1],a=ta[2]),e.quadraticCurveTo(s,l,o,a)):(d<1&&(H0(n,s,u,o,d,ta),s=ta[1],u=ta[2],o=ta[3],H0(i,l,c,a,d,ta),l=ta[1],c=ta[2],a=ta[3]),e.bezierCurveTo(s,l,u,c,o,a)))},pointAt:function(e){return ly(this.shape,e,!1)},tangentAt:function(e){var t=ly(this.shape,e,!0);return Ii(t,t)}}),lp=Er.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r,0),a=t.startAngle,s=t.endAngle,l=t.clockwise,u=Math.cos(a),c=Math.sin(a);e.moveTo(u*o+n,c*o+i),e.arc(n,i,o,a,s,!l)}}),uy=Er.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},buildPath:function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Er.prototype.getBoundingRect.call(this)}});function Qs(e,t,n,i,o,a){this.x=e??0,this.y=t??0,this.x2=n??1,this.y2=i??0,this.type="linear",this.global=a||!1,Va.call(this,o)}function Td(e,t,n,i,o){this.x=e??.5,this.y=t??.5,this.r=n??.5,this.type="radial",this.global=o||!1,Va.call(this,i)}function aa(e){mr.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}Va.prototype={constructor:Va,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}},Qs.prototype={constructor:Qs},ye(Qs,Va),Td.prototype={constructor:Td},ye(Td,Va),aa.prototype.incremental=!0,aa.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},aa.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},aa.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},aa.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},aa.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(t=this._displayables[e]).parent=this,t.update(),t.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var t;(t=this._temporaryDisplayables[e]).parent=this,t.update(),t.parent=null}},aa.prototype.brush=function(e,t){for(var n=this._cursor;n<this._displayables.length;n++)(i=this._displayables[n]).beforeBrush&&i.beforeBrush(e),i.brush(e,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(e);for(this._cursor=n,n=0;n<this._temporaryDisplayables.length;n++){var i;(i=this._temporaryDisplayables[n]).beforeBrush&&i.beforeBrush(e),i.brush(e,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var pM=[];aa.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new C(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(pM)),e.union(i)}this._rect=e}return this._rect},aa.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(e,t))return!0;return!1},ye(aa,mr);var Ad=Math.max,Id=Math.min,Dd={},Bu=1,cy={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},dy="emphasis",hy="normal",fy=1,py={},up={};function xa(e){return Er.extend(e)}function Ha(e,t){up[e]=t}function cp(e){if(up.hasOwnProperty(e))return up[e]}function Ed(e,t,n,i){var o=iy(e,t);return n&&("center"===i&&(n=my(n,o.getBoundingRect())),vy(o,n)),o}function gy(e,t,n){var i=new Tr({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(o){"center"===n&&i.setStyle(my(t,{width:o.width,height:o.height}))}});return i}function my(e,t){var n,i=t.width/t.height,o=e.height*i;return n=o<=e.width?e.height:(o=e.width)/i,{x:e.x+e.width/2-o/2,y:e.y+e.height/2-n/2,width:o,height:n}}var ba=function(e,t){for(var n=[],i=e.length,o=0;o<i;o++){var a=e[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}var s=new Er(t);return s.createPathProxy(),s.buildPath=function(l){l.appendPath(n);var u=l.getContext();u&&l.rebuildPath(u)},s};function vy(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}var Nd=Ks;function yy(e){return null!=e&&"none"!==e}var xy=bn(),by=0;function dp(e){var t=e.__hoverStl;if(t&&!e.__highlighted){var n=e.__zr,i=e.useHoverLayer&&n&&"canvas"===n.painter.type;if(e.__highlighted=i?"layer":"plain",!(e.isGroup||!n&&e.useHoverLayer)){var o=e,a=e.style;i&&(a=(o=n.addHover(e)).style),Rd(a),i||function(s){if(s.__hoverStlDirty){s.__hoverStlDirty=!1;var l=s.__hoverStl;if(l){var u=s.__cachedNormalStl={};s.__cachedNormalZ2=s.z2;var c=s.style;for(var d in l)null!=l[d]&&(u[d]=c[d]);u.fill=c.fill,u.stroke=c.stroke}else s.__cachedNormalStl=s.__cachedNormalZ2=null}}(o),a.extendFrom(t),_y(a,t,"fill"),_y(a,t,"stroke"),Vu(a),i||(e.dirty(!1),e.z2+=Bu)}}}function _y(e,t,n){!yy(t[n])&&yy(e[n])&&(e[n]=function(i){if("string"!=typeof i)return i;var o=xy.get(i);return o||(o=Ui(i,-.1),by<1e4&&(xy.set(i,o),by++)),o}(e[n]))}function hp(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if("layer"===t)e.__zr&&e.__zr.removeHover(e);else{var n=e.style,i=e.__cachedNormalStl;i&&(Rd(n),e.setStyle(i),Vu(n));var o=e.__cachedNormalZ2;null!=o&&e.z2-o===Bu&&(e.z2=o)}}function zu(e,t,n){var i,o=hy,a=hy;e.__highlighted&&(o=dy,i=!0),t(e,n),e.__highlighted&&(a=dy,i=!0),e.isGroup&&e.traverse(function(s){s.isGroup||t(s,n)}),i&&e.__highDownOnUpdate&&e.__highDownOnUpdate(o,a)}function Fu(e,t){t=e.__hoverStl=!1!==t&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,hp(e),dp(e))}function gM(e){wy(this,e)||this.__highByOuter||zu(this,dp)}function mM(e){wy(this,e)||this.__highByOuter||zu(this,hp)}function vM(e){this.__highByOuter|=1<<(e||0),zu(this,dp)}function yM(e){(this.__highByOuter&=~(1<<(e||0)))||zu(this,hp)}function wy(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function no(e,t){el(e,!0),zu(e,Fu,t)}function el(e,t){var n=!1===t;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!n||e.__highDownDispatcher){var i=n?"off":"on";e[i]("mouseover",gM)[i]("mouseout",mM),e[i]("emphasis",vM)[i]("normal",yM),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!n}}function Ld(e){return!(!e||!e.__highDownDispatcher)}function Sy(e){var t=py[e];return null==t&&fy<=32&&(t=py[e]=fy++),t}function sa(e,t,n,i,o,a,s){var l,u=(o=o||Dd).labelFetcher,c=o.labelDataIndex,d=o.labelDimIndex,h=o.labelProp,f=n.getShallow("show"),p=i.getShallow("show");(f||p)&&(u&&(l=u.getFormattedLabel(c,"normal",null,d,h)),null==l&&(l=Xe(o.defaultText)?o.defaultText(c,o):o.defaultText));var v=f?l:null,F=p?Ht(u?u.getFormattedLabel(c,"emphasis",null,d,h):null,l):null;null==v&&null==F||(uo(e,n,a,o),uo(t,i,s,o,!0)),e.text=v,t.text=F}function fp(e,t,n){var i=e.style;t&&(Rd(i),e.setStyle(t),Vu(i)),i=e.__hoverStl,n&&i&&(Rd(i),ue(i,n),Vu(i))}function uo(e,t,n,i,o){return Cy(e,t,i,o),n&&ue(e,n),e}function Cy(e,t,n,i){if((n=n||Dd).isRectText){var o;n.getTextPosition?o=n.getTextPosition(t,i):"outside"===(o=t.getShallow("position")||(i?null:"inside"))&&(o="top"),e.textPosition=o,e.textOffset=t.getShallow("offset");var a=t.getShallow("rotate");null!=a&&(a*=Math.PI/180),e.textRotation=a,e.textDistance=Ht(t.getShallow("distance"),i?null:5)}var s,l=t.ecModel,u=l&&l.option.textStyle,c=function(f){for(var p;f&&f!==f.ecModel;){var v=(f.option||Dd).rich;if(v)for(var F in p=p||{},v)v.hasOwnProperty(F)&&(p[F]=1);f=f.parentModel}return p}(t);if(c)for(var d in s={},c)if(c.hasOwnProperty(d)){var h=t.getModel(["rich",d]);My(s[d]={},h,u,n,i)}return e.rich=s,My(e,t,u,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),e}function My(e,t,n,i,o,a){n=!o&&n||Dd,e.textFill=Pd(t.getShallow("color"),i)||n.color,e.textStroke=Pd(t.getShallow("textBorderColor"),i)||n.textBorderColor,e.textStrokeWidth=Ht(t.getShallow("textBorderWidth"),n.textBorderWidth),o||(a&&(e.insideRollbackOpt=i,Vu(e)),null==e.textFill&&(e.textFill=i.autoColor)),e.fontStyle=t.getShallow("fontStyle")||n.fontStyle,e.fontWeight=t.getShallow("fontWeight")||n.fontWeight,e.fontSize=t.getShallow("fontSize")||n.fontSize,e.fontFamily=t.getShallow("fontFamily")||n.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),a&&i.disableBox||(e.textBackgroundColor=Pd(t.getShallow("backgroundColor"),i),e.textPadding=t.getShallow("padding"),e.textBorderColor=Pd(t.getShallow("borderColor"),i),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||n.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||n.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||n.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function Pd(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function Vu(e){var t,n=e.textPosition,i=e.insideRollbackOpt;if(i&&null==e.textFill){var o=i.autoColor,s=i.useInsideStyle,l=!1!==s&&(!0===s||i.isRectText&&n&&"string"==typeof n&&0<=n.indexOf("inside")),u=!l&&null!=o;(l||u)&&(t={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),l&&(e.textFill="#fff",null==e.textStroke&&(e.textStroke=o,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),u&&(e.textFill=o)}e.insideRollback=t}function Rd(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function pp(e,t){var n=t&&t.getModel("textStyle");return _i([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function ky(e,t,n,i,o,a){if("function"==typeof o&&(a=o,o=null),i&&i.isAnimationEnabled()){var s=e?"Update":"",l=i.getShallow("animationDuration"+s),u=i.getShallow("animationEasing"+s),c=i.getShallow("animationDelay"+s);"function"==typeof c&&(c=c(o,i.getAnimationDelayParams?i.getAnimationDelayParams(t,o):null)),"function"==typeof l&&(l=l(o)),0<l?t.animateTo(n,l,c||0,u,a,!!a):(t.stopAnimation(),t.attr(n),a&&a())}else t.stopAnimation(),t.attr(n),a&&a()}function xr(e,t,n,i,o){ky(!0,e,t,n,i,o)}function Fo(e,t,n,i,o){ky(!1,e,t,n,i,o)}function tl(e,t){for(var n=Zr([]);e&&e!==t;)X(n,e.getLocalTransform(),n),e=e.parent;return n}function Wa(e,t,n){return t&&!Ue(t)&&(t=it.getLocalTransform(t)),n&&(t=N([],t)),cr([],e,t)}function gp(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),o=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),a=["left"===e?-i:"right"===e?i:0,"top"===e?-o:"bottom"===e?o:0];return a=Wa(a,t,n),Math.abs(a[0])>Math.abs(a[1])?0<a[0]?"right":"left":0<a[1]?"bottom":"top"}function Od(e,t,n,i){if(e&&t){var o,a=(o={},e.traverse(function(l){!l.isGroup&&l.anid&&(o[l.anid]=l)}),o);t.traverse(function(l){if(!l.isGroup&&l.anid){var u=a[l.anid];if(u){var c=s(l);l.attr(s(u)),xr(l,c,n,l.dataIndex)}}})}function s(l){var u={position:Vi(l.position),rotation:l.rotation};return l.shape&&(u.shape=ue({},l.shape)),u}}function Ty(e,t){return Oe(e,function(n){var i=n[0];i=Ad(i,t.x),i=Id(i,t.x+t.width);var o=n[1];return o=Ad(o,t.y),[i,o=Id(o,t.y+t.height)]})}function jl(e,t,n){var i=(t=ue({rectHover:!0},t)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),be(i,n),new Tr(t)):Ed(e.replace("path://",""),t,n,"center")}function Hu(e,t,n,i,o){for(var a=0,s=o[o.length-1];a<o.length;a++){var l=o[a];if(Ay(e,t,n,i,l[0],l[1],s[0],s[1]))return!0;s=l}}function Ay(e,t,n,i,o,a,s,l){var ee,u=n-e,c=i-t,d=s-o,h=l-a,f=mp(d,h,u,c);if((ee=f)<=1e-6&&-1e-6<=ee)return!1;var p=e-o,v=t-a,F=mp(p,v,u,c)/f;if(F<0||1<F)return!1;var P=mp(p,v,d,h)/f;return!(P<0||1<P)}function mp(e,t,n,i){return e*i-n*t}Ha("circle",Fa),Ha("sector",Aa),Ha("ring",Md),Ha("polygon",ea),Ha("polyline",ya),Ha("rect",Rr),Ha("line",Ro),Ha("bezierCurve",kd),Ha("arc",lp);var ts=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:Bu,CACHED_LABEL_STYLE_PROPERTIES:cy,extendShape:xa,extendPath:function(e,t){return function(n,i){return Er.extend(ny(n,i))}(e,t)},registerShape:Ha,getShapeClass:cp,makePath:Ed,makeImage:gy,mergePath:ba,resizePath:vy,subPixelOptimizeLine:function(e){return ay(e.shape,e.shape,e.style),e},subPixelOptimizeRect:function(e){return sy(e.shape,e.shape,e.style),e},subPixelOptimize:Nd,setElementHoverStyle:Fu,setHoverStyle:no,setAsHighDownDispatcher:el,isHighDownDispatcher:Ld,getHighlightDigit:Sy,setLabelStyle:sa,modifyLabelStyle:fp,setTextStyle:uo,setText:function(e,t,n){var i,o={isRectText:!0};!1===n?i=!0:o.autoColor=n,Cy(e,t,o,i)},getFont:pp,updateProps:xr,initProps:Fo,getTransform:tl,applyTransform:Wa,transformDirection:gp,groupTransition:Od,clipPointsByRect:Ty,clipRectByRect:function(e,t){var n=Ad(e.x,t.x),i=Id(e.x+e.width,t.x+t.width),o=Ad(e.y,t.y),a=Id(e.y+e.height,t.y+t.height);if(n<=i&&o<=a)return{x:n,y:o,width:i-n,height:a-o}},createIcon:jl,linePolygonIntersect:Hu,lineLineIntersect:Ay,Group:E,Image:Tr,Text:Cr,Circle:Fa,Sector:Aa,Ring:Md,Polygon:ea,Polyline:ya,Rect:Rr,Line:Ro,BezierCurve:kd,Arc:lp,IncrementalDisplayable:aa,CompoundPath:uy,LinearGradient:Qs,RadialGradient:Td,BoundingRect:C}),xM=["textStyle","color"],bM={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(xM):null)},getFont:function(){return pp({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return yi(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},_M=zl([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),wM={getItemStyle:function(e,t){var n=_M(this,e,t),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}},Bd=Te,Iy=$o();function Nr(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}function Dy(e,t,n){for(var i=0;i<t.length&&(!t[i]||null!=(e=e&&"object"==typeof e?e[t[i]]:null));i++);return null==e&&n&&(e=n.get(t)),e}function vp(e,t){var n=Iy(e).getParent;return n?n.call(e,t):e.parentModel}Nr.prototype={constructor:Nr,init:null,mergeOption:function(e){oe(this.option,e,!0)},get:function(e,t){return null==e?this.option:Dy(this.option,this.parsePath(e),!t&&vp(this,e))},getShallow:function(e,t){var n=this.option,i=null==n?n:n[e],o=!t&&vp(this,e);return null==i&&o&&(i=o.getShallow(e)),i},getModel:function(e,t){var n;return new Nr(null==e?this.option:Dy(this.option,e=this.parsePath(e)),t=t||(n=vp(this,e))&&n.getModel(e),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(U(this.option))},setReadOnly:function(e){},parsePath:function(e){return"string"==typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){Iy(this).getParent=e},isAnimationEnabled:function(){if(!Ne.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Eu(Nr),fd(Nr),Bd(Nr,K2),Bd(Nr,Q2),Bd(Nr,bM),Bd(Nr,wM);var SM=0;function Wu(e){return[e||"",SM++,Math.random().toFixed(5)].join("_")}var Ey=1e-4;function io(e,t,n,i){var o=t[1]-t[0],a=n[1]-n[0];if(0==o)return 0==a?n[0]:(n[0]+n[1])/2;if(i)if(0<o){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/o*a+n[0]}function Mi(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?function(n){return n.replace(/^\s+|\s+$/g,"")}(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function Mo(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function nl(e){return e.sort(function(t,n){return t-n}),e}function Ny(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function zd(e){var t=e.toString(),n=t.indexOf("e");if(0<n){var i=+t.slice(n+1);return i<0?-i:0}var o=t.indexOf(".");return o<0?0:t.length-1-o}function yp(e,t){var n=Math.log,i=Math.LN10,o=Math.floor(n(e[1]-e[0])/i),a=Math.round(n(Math.abs(t[1]-t[0]))/i),s=Math.min(Math.max(-o+a,0),20);return isFinite(s)?s:20}function Ly(e,t,n){if(!e[t])return 0;var i=qe(e,function(v,F){return v+(isNaN(F)?0:F)},0);if(0===i)return 0;for(var o=Math.pow(10,n),a=Oe(e,function(v){return(isNaN(v)?0:v)/i*o*100}),s=100*o,l=Oe(a,function(v){return Math.floor(v)}),u=qe(l,function(v,F){return v+F},0),c=Oe(a,function(v,F){return v-l[F]});u<s;){for(var d=Number.NEGATIVE_INFINITY,h=null,f=0,p=c.length;f<p;++f)c[f]>d&&(d=c[f],h=f);++l[h],c[h]=0,++u}return l[t]/o}var xp=9007199254740991;function bp(e){var t=2*Math.PI;return(e%t+t)%t}function Gu(e){return-Ey<e&&e<Ey}var CM=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ju(e){if(e instanceof Date)return e;if("string"!=typeof e)return null==e?new Date(NaN):new Date(Math.round(e));var t=CM.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}function Py(e){return Math.pow(10,_p(e))}function _p(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return 10<=e/Math.pow(10,t)&&t++,t}function wp(e,t){var n=_p(e),i=Math.pow(10,n),o=e/i;return e=(t?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*i,-20<=n?+e.toFixed(n<0?-n:0):e}function Sp(e){e.sort(function(l,u){return function c(d,h,f){return d.interval[f]<h.interval[f]||d.interval[f]===h.interval[f]&&(d.close[f]-h.close[f]==(f?-1:1)||!f&&c(d,h,1))}(l,u,0)?-1:1});for(var t=-1/0,n=1,i=0;i<e.length;){for(var o=e[i].interval,a=e[i].close,s=0;s<2;s++)o[s]<=t&&(o[s]=t,a[s]=s?1:1-n),t=o[s],n=a[s];o[0]===o[1]&&a[0]*a[1]!=1?e.splice(i,1):i++}return e}function Ry(e){return 0<=e-parseFloat(e)}var MM=(Object.freeze||Object)({linearMap:io,parsePercent:Mi,round:Mo,asc:nl,getPrecision:Ny,getPrecisionSafe:zd,getPixelPrecision:yp,getPercentWithPrecision:Ly,MAX_SAFE_INTEGER:xp,remRadian:bp,isRadianAroundZero:Gu,parseDate:ju,quantity:Py,quantityExponent:_p,nice:wp,quantile:function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),o=+e[i-1],a=n-i;return a?o+a*(e[i]-o):o},reformIntervals:Sp,isNumeric:Ry});function Ss(e){return isNaN(e)?"-":(e=(e+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<e.length?"."+e[1]:"")}function Oy(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,i){return i.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var il=zn,kM=/([&<>"'])/g,TM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ro(e){return null==e?"":(e+"").replace(kM,function(t,n){return TM[n]})}function Cp(e,t){return"{"+e+(t??"")+"}"}var By=["a","b","c","d","e","f","g"];function Mp(e,t,n){ze(t)||(t=[t]);var i=t.length;if(!i)return"";for(var o=t[0].$vars||[],a=0;a<o.length;a++){var s=By[a];e=e.replace(Cp(s),Cp(s,0))}for(var l=0;l<i;l++)for(var u=0;u<o.length;u++){var c=t[l][o[u]];e=e.replace(Cp(By[u],l),n?ro(c):c)}return e}function zy(e,t,n){return ce(t,function(i,o){e=e.replace("{"+o+"}",n?ro(i):i)}),e}function Fd(e,t){var n=(e=Je(e)?{color:e,extraCssText:t}:e||{}).color,o=(t=e.extraCssText,e.renderMode||"html"),a=e.markerId||"X";return n?"html"===o?"subItem"===e.type?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ro(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+ro(n)+";"+(t||"")+'"></span>':{renderMode:o,content:"{marker"+a+"|}  ",style:{color:n}}:""}function Ul(e,t){return"0000".substr(0,t-(e+="").length)+e}function kp(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var i=ju(t),o=n?"UTC":"",a=i["get"+o+"FullYear"](),s=i["get"+o+"Month"]()+1,l=i["get"+o+"Date"](),u=i["get"+o+"Hours"](),c=i["get"+o+"Minutes"](),d=i["get"+o+"Seconds"](),h=i["get"+o+"Milliseconds"]();return e.replace("MM",Ul(s,2)).replace("M",s).replace("yyyy",a).replace("yy",a%100).replace("dd",Ul(l,2)).replace("d",l).replace("hh",Ul(u,2)).replace("h",u).replace("mm",Ul(c,2)).replace("m",c).replace("ss",Ul(d,2)).replace("s",d).replace("SSS",Ul(h,3))}function Vd(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}var Fy=Bi;function Uu(e,t){if("_blank"===t||"blank"===t){var n=window.open();n.opener=null,n.location=e}else window.open(e,t)}var AM=(Object.freeze||Object)({addCommas:Ss,toCamelCase:Oy,normalizeCssArray:il,encodeHTML:ro,formatTpl:Mp,formatTplSimple:zy,getTooltipMarker:Fd,formatTime:kp,capitalFirst:Vd,truncateText:Fy,getTextBoundingRect:function(e){return yi(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)},getTextRect:function(e,t,n,i,o,a,s,l){return yi(e,t,n,i,o,l,a,s)},windowOpen:Uu}),Hd=ce,Vy=["left","right","top","bottom","width","height"],rl=[["width","left","right"],["height","top","bottom"]];function Tp(e,t,n,i,o){var a=0,s=0;null==i&&(i=1/0),null==o&&(o=1/0);var l=0;t.eachChild(function(u,c){var d,h,f=u.position,p=u.getBoundingRect(),v=t.childAt(c+1),F=v&&v.getBoundingRect();if("horizontal"===e){var P=p.width+(F?-F.x+p.x:0);l=i<(d=a+P)||u.newline?(a=0,d=P,s+=l+n,p.height):Math.max(l,p.height)}else{var ee=p.height+(F?-F.y+p.y:0);l=o<(h=s+ee)||u.newline?(a+=l+n,s=0,h=ee,p.width):Math.max(l,p.width)}u.newline||(f[0]=a,f[1]=s,"horizontal"===e?a=d+n:s=h+n)})}var ol=Tp;function xo(e,t,n){n=il(n||0);var i=t.width,o=t.height,a=Mi(e.left,i),s=Mi(e.top,o),l=Mi(e.right,i),u=Mi(e.bottom,o),c=Mi(e.width,i),d=Mi(e.height,o),h=n[2]+n[0],f=n[1]+n[3],p=e.aspect;switch(isNaN(c)&&(c=i-l-f-a),isNaN(d)&&(d=o-u-h-s),null!=p&&(isNaN(c)&&isNaN(d)&&(i/o<p?c=.8*i:d=.8*o),isNaN(c)&&(c=p*d),isNaN(d)&&(d=c/p)),isNaN(a)&&(a=i-l-c-f),isNaN(s)&&(s=o-u-d-h),e.left||e.right){case"center":a=i/2-c/2-n[3];break;case"right":a=i-c-f}switch(e.top||e.bottom){case"middle":case"center":s=o/2-d/2-n[0];break;case"bottom":s=o-d-h}a=a||0,s=s||0,isNaN(c)&&(c=i-f-a-(l||0)),isNaN(d)&&(d=o-h-s-(u||0));var v=new C(a+n[3],s+n[0],c,d);return v.margin=n,v}function Wd(e,t,n,i,o){var a=!o||!o.hv||o.hv[0],s=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";if(a||s){var u;if("raw"===l)u="group"===e.type?new C(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();(u=u.clone()).applyTransform(c)}t=xo(be({width:u.width,height:u.height},t),n,i);var d=e.position,h=a?t.x-u.x:0,f=s?t.y-u.y:0;e.attr("position","raw"===l?[h,f]:[d[0]+h,d[1]+f])}}function Cs(e,t,n){st(n)||(n={});var i=n.ignoreSize;ze(i)||(i=[i,i]);var o=s(rl[0],0),a=s(rl[1],1);function s(d,h){var f={},p=0,v={},F=0;if(Hd(d,function(le){v[le]=e[le]}),Hd(d,function(le){l(t,le)&&(f[le]=v[le]=t[le]),u(f,le)&&p++,u(v,le)&&F++}),i[h])return u(t,d[1])?v[d[2]]=null:u(t,d[2])&&(v[d[1]]=null),v;if(2!==F&&p){if(2<=p)return f;for(var P=0;P<d.length;P++){var ee=d[P];if(!l(f,ee)&&l(e,ee)){f[ee]=e[ee];break}}return f}return v}function l(d,h){return d.hasOwnProperty(h)}function u(d,h){return null!=d[h]&&"auto"!==d[h]}function c(d,h,f){Hd(d,function(p){h[p]=f[p]})}c(rl[0],e,o),c(rl[1],e,a)}function ql(e){return Hy({},e)}function Hy(e,t){return t&&e&&Hd(Vy,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}xt(Tp,"vertical"),xt(Tp,"horizontal");var Ap,Gd,Wy,IM=$o(),Or=Nr.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,i){Nr.call(this,e,t,n,i),this.uid=Wu("ec_cpt_model")},init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?ql(e):{};oe(e,t.getTheme().get(this.mainType)),oe(e,this.getDefaultOption()),n&&Cs(e,i,n)},mergeOption:function(e,t){oe(this.option,e,!0);var n=this.layoutMode;n&&Cs(this.option,e,n)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=IM(this);if(!e.defaultOption){for(var t=[],n=this.constructor;n;){var i=n.prototype.defaultOption;i&&t.push(i),n=n.superClass}for(var o={},a=t.length-1;0<=a;a--)o=oe(o,t[a],!0);e.defaultOption=o}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});function Gy(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}pd(Or,{registerWhenExtend:!0}),Gd={},(Ap=Or).registerSubTypeDefaulter=function(e,t){e=gs(e),Gd[e.main]=t},Ap.determineSubType=function(e,t){var n=t.type;if(!n){var i=gs(e).main;Ap.hasSubTypes(e)&&Gd[i]&&(n=Gd[i](t))}return n},Wy=function(e){var t=[];return ce(Or.getClassesByMainType(e),function(n){t=t.concat(n.prototype.dependencies||[])}),t=Oe(t,function(n){return gs(n).main}),"dataset"!==e&&Ge(t,"dataset")<=0&&t.unshift("dataset"),t},Or.topologicalTravel=function(e,t,n,i){if(e.length){var o=(v={},F=[],ce(p=t,function(P){var ae,we,_e,ee=Gy(v,P),le=(ae=ee.originalDeps=Wy(P),we=p,_e=[],ce(ae,function(Ce){0<=Ge(we,Ce)&&_e.push(Ce)}),_e);ee.entryCount=le.length,0===ee.entryCount&&F.push(P),ce(le,function(ae){Ge(ee.predecessor,ae)<0&&ee.predecessor.push(ae);var we=Gy(v,ae);Ge(we.successor,ae)<0&&we.successor.push(P)})}),{graph:v,noEntryList:F}),a=o.graph,s=o.noEntryList,l={};for(ce(e,function(p){l[p]=!0});s.length;){var u=s.pop(),c=a[u],d=!!l[u];d&&(n.call(i,u,c.originalDeps.slice()),delete l[u]),ce(c.successor,d?f:h)}ce(l,function(){throw new Error("Circle dependency may exists")})}var p,v,F;function h(p){a[p].entryCount--,0===a[p].entryCount&&s.push(p)}function f(p){l[p]=!0,h(p)}},Te(Or,{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}});var jy="";typeof navigator<"u"&&(jy=navigator.platform||"");var DM={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:jy.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Ip=$o(),Dp={clearColorPalette:function(){Ip(this).colorIdx=0,Ip(this).colorNameMap={}},getColorFromPalette:function(e,t,n){var i=Ip(t=t||this),o=i.colorIdx||0,a=i.colorNameMap=i.colorNameMap||{};if(a.hasOwnProperty(e))return a[e];var s=Po(this.get("color",!0)),l=this.get("colorLayer",!0),u=null!=n&&l?function(d,h){for(var f=d.length,p=0;p<f;p++)if(d[p].length>h)return d[p];return d[f-1]}(l,n):s;if((u=u||s)&&u.length){var c=u[o];return e&&(a[e]=c),i.colorIdx=(o+1)%u.length,c}}},al="original",qu="arrayRows",Yu="objectRows",Xu="keyedColumns",Uy="unknown",jd="typedArray",qy="column",Ep="row";function Ia(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===Xu?{}:[]),this.sourceFormat=e.sourceFormat||Uy,this.seriesLayoutBy=e.seriesLayoutBy||qy,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&bn(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}Ia.seriesDataToSource=function(e){return new Ia({data:e,sourceFormat:Gt(e)?jd:al,fromDataset:!1})},fd(Ia);var Vo={Must:1,Might:2,Not:3},Yl=$o();function Yy(e){var t=e.option,n=t.data,i=Gt(n)?jd:al,o=!1,a=t.seriesLayoutBy,s=t.sourceHeader,l=t.dimensions,u=Lp(e);if(u){var c=u.option;n=c.source,i=Yl(u).sourceFormat,o=!0,a=a||c.seriesLayoutBy,null==s&&(s=c.sourceHeader),l=l||c.dimensions}var d=function(h,f,p,v,F){if(!h)return{dimensionsDefine:Xy(F)};var P,ee;if(f===qu)"auto"===v||null==v?Zy(function(ae){null!=ae&&"-"!==ae&&(Je(ae)?null==ee&&(ee=1):ee=0)},p,h,10):ee=v?1:0,F||1!==ee||(F=[],Zy(function(ae,we){F[we]=ae??""},p,h)),P=F?F.length:p===Ep?h.length:h[0]?h[0].length:null;else if(f===Yu)F=F||function(ae){for(var we,_e=0;_e<ae.length&&!(we=ae[_e++]););if(we){var Ce=[];return ce(we,function(Le,Fe){Ce.push(Fe)}),Ce}}(h);else if(f===Xu)F||(F=[],ce(h,function(ae,we){F.push(we)}));else if(f===al){var le=Du(h[0]);P=ze(le)&&le.length||1}return{startIndex:ee,dimensionsDefine:Xy(F),dimensionsDetectCount:P}}(n,i,a,s,l);Yl(e).source=new Ia({data:n,fromDataset:o,seriesLayoutBy:a,sourceFormat:i,dimensionsDefine:d.dimensionsDefine,startIndex:d.startIndex,dimensionsDetectCount:d.dimensionsDetectCount,encodeDefine:t.encode})}function Xy(e){if(e){var t=bn();return Oe(e,function(n,i){if(null==(n=ue({},st(n)?n:{name:n})).name)return n;n.name+="",null==n.displayName&&(n.displayName=n.name);var o=t.get(n.name);return o?n.name+="-"+o.count++:t.set(n.name,{count:1}),n})}}function Zy(e,t,n,i){if(null==i&&(i=1/0),t===Ep)for(var o=0;o<n.length&&o<i;o++)e(n[o]?n[o][0]:null,o);else{var a=n[0]||[];for(o=0;o<a.length&&o<i;o++)e(a[o],o)}}function $y(e,t,n){var i={},o=Lp(t);if(!o||!e)return i;var a,s,l=[],u=[],d=Yl(t.ecModel).datasetMap,h=o.uid+"_"+n.seriesLayoutBy;ce(e=e.slice(),function(F,P){st(F)||(e[P]={name:F}),"ordinal"===F.type&&null==a&&(s=v(e[a=P])),i[F.name]=[]});var f=d.get(h)||d.set(h,{categoryWayDim:s,valueWayDim:0});function p(F,P,ee){for(var le=0;le<ee;le++)F.push(P+le)}function v(F){var P=F.dimsDef;return P?P.length:1}return ce(e,function(F,P){var ee=F.name,le=v(F);if(null==a){var ae=f.valueWayDim;p(i[ee],ae,le),p(u,ae,le),f.valueWayDim+=le}else a===P?(p(i[ee],0,le),p(l,0,le)):(p(i[ee],ae=f.categoryWayDim,le),p(u,ae,le),f.categoryWayDim+=le)}),l.length&&(i.itemName=l),u.length&&(i.seriesName=u),i}function Np(e,t,n){var i={};if(!Lp(e))return i;var o,a=t.sourceFormat,s=t.dimensionsDefine;a!==Yu&&a!==Xu||ce(s,function(c,d){"name"===(st(c)?c.name:c)&&(o=d)});var l=function(){for(var c={},d={},h=[],f=0,p=Math.min(5,n);f<p;f++){var v=Ky(t.data,a,t.seriesLayoutBy,s,t.startIndex,f);h.push(v);var F=v===Vo.Not;if(F&&null==c.v&&f!==o&&(c.v=f),null!=c.n&&c.n!==c.v&&(F||h[c.n]!==Vo.Not)||(c.n=f),P(c)&&h[c.n]!==Vo.Not)return c;F||(v===Vo.Might&&null==d.v&&f!==o&&(d.v=f),null!=d.n&&d.n!==d.v||(d.n=f))}function P(ee){return null!=ee.v&&null!=ee.n}return P(c)?c:P(d)?d:null}();if(l){i.value=l.v;var u=o??l.n;i.itemName=[u],i.seriesName=[u]}return i}function Lp(e){var t=e.option;if(!t.data)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function Ky(e,t,n,i,o,a){var s,l,u;if(Gt(e))return Vo.Not;if(i){var c=i[a];st(c)?(l=c.name,u=c.type):Je(c)&&(l=c)}if(null!=u)return"ordinal"===u?Vo.Must:Vo.Not;if(t===qu)if(n===Ep){for(var d=e[a],h=0;h<(d||[]).length&&h<5;h++)if(null!=(s=F(d[o+h])))return s}else for(h=0;h<e.length&&h<5;h++){var f=e[o+h];if(f&&null!=(s=F(f[a])))return s}else if(t===Yu){if(!l)return Vo.Not;for(h=0;h<e.length&&h<5;h++)if((p=e[h])&&null!=(s=F(p[l])))return s}else if(t===Xu){if(!l||!(d=e[l])||Gt(d))return Vo.Not;for(h=0;h<d.length&&h<5;h++)if(null!=(s=F(d[h])))return s}else if(t===al)for(h=0;h<e.length&&h<5;h++){var p,v=Du(p=e[h]);if(!ze(v))return Vo.Not;if(null!=(s=F(v[a])))return s}function F(P){var ee=Je(P);return null!=P&&isFinite(P)&&""!==P?ee?Vo.Might:Vo.Not:ee&&"-"!==P?Vo.Must:void 0}return Vo.Not}var Pp="\0_ec_inner",Rp=Nr.extend({init:function(e,t,n,i){n=n||{},this.option=null,this._theme=new Nr(n),this._optionManager=i},setOption:function(e,t){xi(!(Pp in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,n=this._optionManager;if(!e||"recreate"===e){var i=n.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(i)):function(s){var l,c;this.option={},this.option[Pp]=1,this._componentsMap=bn({series:[]}),c=(l=s).color&&!l.colorLayer,ce(this._theme.option,function(d,h){"colorLayer"===h&&c||Or.hasClass(h)||("object"==typeof d?l[h]=l[h]?oe(l[h],d,!1):U(d):null==l[h]&&(l[h]=d))}),oe(s,DM,!1),this.mergeOption(s)}.call(this,i),t=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),t=!0)}if(!e||"recreate"===e||"media"===e){var a=n.getMediaOption(this,this._api);a.length&&ce(a,function(s){this.mergeOption(s,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,n=this._componentsMap,i=[];(function(o){Yl(o).datasetMap=bn()})(this),ce(e,function(o,a){null!=o&&(Or.hasClass(a)?a&&i.push(a):t[a]=null==t[a]?U(o):oe(t[a],o,!0))}),Or.topologicalTravel(i,Or.getAllClassMainTypes(),function(o,a){var s=Po(e[o]),l=Zf(n.get(o),s);L0(l),ce(l,function(c,d){var p,v,h=c.option;st(h)&&(c.keyInfo.mainType=o,c.keyInfo.subType=(v=c.exist,(p=h).type?p.type:v?v.subType:Or.determineSubType(o,p)))});var u=function(c,d){ze(d)||(d=d?[d]:[]);var h={};return ce(d,function(f){h[f]=(c.get(f)||[]).slice()}),h}(n,a);t[o]=[],n.set(o,[]),ce(l,function(c,d){var h=c.exist,f=c.option;if(xi(st(f)||h,"Empty component definition"),f){var p=Or.getClass(o,c.keyInfo.subType,!0);if(h&&h.constructor===p)h.name=c.keyInfo.name,h.mergeOption(f,this),h.optionUpdated(f,!1);else{var v=ue({dependentModels:u,componentIndex:d},c.keyInfo);ue(h=new p(f,this,this,v),v),h.init(f,this,this,v),h.optionUpdated(null,!0)}}else h.mergeOption({},this),h.optionUpdated({},!1);n.get(o)[d]=h,t[o][d]=h.option},this),"series"===o&&Op(this,n.get("series"))},this),this._seriesIndicesMap=bn(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=U(this.option);return ce(e,function(t,n){if(Or.hasClass(n)){for(var i=(t=Po(t)).length-1;0<=i;i--)cd(t[i])&&t.splice(i,1);e[n]=t}}),delete e[Pp],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap.get(e);if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n,i=e.index,o=e.id,a=e.name,s=this._componentsMap.get(t);if(!s||!s.length)return[];if(null!=i)ze(i)||(i=[i]),n=xe(Oe(i,function(c){return s[c]}),function(c){return!!c});else if(null!=o){var l=ze(o);n=xe(s,function(c){return l&&0<=Ge(o,c.id)||!l&&c.id===o})}else if(null!=a){var u=ze(a);n=xe(s,function(c){return u&&0<=Ge(a,c.name)||!u&&c.name===a})}else n=s.slice();return Jy(n,e)},findComponents:function(e){var t,n,i,o,a,l=e.mainType,u=(n=l+"Index",i=l+"Id",o=l+"Name",!(t=e.query)||null==t[n]&&null==t[i]&&null==t[o]?null:{mainType:l,index:t[n],id:t[i],name:t[o]});return a=Jy(u?this.queryComponents(u):this._componentsMap.get(l),e),e.filter?xe(a,e.filter):a},eachComponent:function(e,t,n){var i=this._componentsMap;"function"==typeof e?(n=t,t=e,i.each(function(o,a){ce(o,function(s,l){t.call(n,a,s,l)})})):Je(e)?ce(i.get(e),t,n):st(e)&&ce(this.findComponents(e),t,n)},getSeriesByName:function(e){return xe(this._componentsMap.get("series"),function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){return xe(this._componentsMap.get("series"),function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){ce(this._seriesIndices,function(n){var i=this._componentsMap.get("series")[n];e.call(t,i,n)},this)},eachRawSeries:function(e,t){ce(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,n){ce(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===e&&t.call(n,o,i)},this)},eachRawSeriesByType:function(e,t,n){return ce(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){Op(this,xe(this._componentsMap.get("series"),e,t))},restoreData:function(e){var t=this._componentsMap;Op(this,t.get("series"));var n=[];t.each(function(i,o){n.push(o)}),Or.topologicalTravel(n,Or.getAllClassMainTypes(),function(i,o){ce(t.get(i),function(a){"series"===i&&function(s,l){if(l){var u=l.seiresIndex,c=l.seriesId,d=l.seriesName;return null!=u&&s.componentIndex!==u||null!=c&&s.id!==c||null!=d&&s.name!==d}}(a,e)||a.restoreData()})})}});function Op(e,t){e._seriesIndicesMap=bn(e._seriesIndices=Oe(t,function(n){return n.componentIndex})||[])}function Jy(e,t){return t.hasOwnProperty("subType")?xe(e,function(n){return n.subType===t.subType}):e}Te(Rp,Dp);var EM=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function Qy(e){ce(EM,function(t){this[t]=et(e[t],e)},this)}var Bp={};function Ho(){this._coordinateSystems=[]}Ho.prototype={constructor:Ho,create:function(e,t){var n=[];ce(Bp,function(i,o){var a=i.create(e,t);n=n.concat(a||[])}),this._coordinateSystems=n},update:function(e,t){ce(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Ho.register=function(e,t){Bp[e]=t},Ho.get=function(e){return Bp[e]};var Ud=ce,sl=U,qd=Oe,e1=oe,NM=/^(min|max)?(.+)$/;function zp(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[]}function LM(e,t,n){var i={width:t,height:n,aspectratio:t/n},o=!0;return ce(e,function(a,s){var d,h,f,l=s.match(NM);if(l&&l[1]&&l[2]){var u=l[1],c=l[2].toLowerCase();d=i[c],h=a,!("min"===(f=u)?h<=d:"max"===f?d<=h:d===h)&&(o=!1)}}),o}zp.prototype={constructor:zp,setOption:function(e,t){e&&ce(Po(e.series),function(o){o&&o.data&&Gt(o.data)&&Pi(o.data)}),e=sl(e);var n=this._optionBackup,i=function(o,a,s){var l,u,c=[],d=[],h=o.timeline;return o.baseOption&&(u=o.baseOption),(h||o.options)&&(u=u||{},c=(o.options||[]).slice()),o.media&&(u=u||{},Ud(o.media,function(p){p&&p.option&&(p.query?d.push(p):l=l||p)})),(u=u||o).timeline||(u.timeline=h),Ud([u].concat(c).concat(Oe(d,function(p){return p.option})),function(p){Ud(a,function(v){v(p,s)})}),{baseOption:u,timelineOptions:c,mediaDefault:l,mediaList:d}}.call(this,e,t,!n);this._newBaseOption=i.baseOption,n?(function(o,a){Ud(a=a||{},function(s,l){if(null!=s){var u=o[l];if(Or.hasClass(l)){s=Po(s);var c=Zf(u=Po(u),s);o[l]=qd(c,function(d){return d.option&&d.exist?e1(d.exist,d.option,!0):d.exist||d.option})}else o[l]=e1(u,s,!0)}})}(n.baseOption,i.baseOption),i.timelineOptions.length&&(n.timelineOptions=i.timelineOptions),i.mediaList.length&&(n.mediaList=i.mediaList),i.mediaDefault&&(n.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=qd(t.timelineOptions,sl),this._mediaList=qd(t.mediaList,sl),this._mediaDefault=sl(t.mediaDefault),this._currentMediaIndices=[],sl(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=sl(n[i.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var d,t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!i.length&&!o)return s;for(var l=0,u=i.length;l<u;l++)LM(i[l].query,t,n)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&(d=this._currentMediaIndices,!(a.join(",")===d.join(",")))&&(s=qd(a,function(c){return sl(-1===c?o.option:i[c].option)})),this._currentMediaIndices=a,s}};var Da=ce,Zu=st,t1=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Fp(e){var t=e&&e.itemStyle;if(t)for(var n=0,i=t1.length;n<i;n++){var o=t1[n],a=t.normal,s=t.emphasis;a&&a[o]&&(e[o]=e[o]||{},e[o].normal?oe(e[o].normal,a[o]):e[o].normal=a[o],a[o]=null),s&&s[o]&&(e[o]=e[o]||{},e[o].emphasis?oe(e[o].emphasis,s[o]):e[o].emphasis=s[o],s[o]=null)}}function Wo(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,o=e[t].emphasis;i&&(n?(e[t].normal=e[t].emphasis=null,be(e[t],i)):e[t]=i),o&&(e.emphasis=e.emphasis||{},e.emphasis[t]=o)}}function $u(e){Wo(e,"itemStyle"),Wo(e,"lineStyle"),Wo(e,"areaStyle"),Wo(e,"label"),Wo(e,"labelLine"),Wo(e,"upperLabel"),Wo(e,"edgeLabel")}function bo(e,t){var n=Zu(e)&&e[t],i=Zu(n)&&n.textStyle;if(i)for(var o=0,a=N0.length;o<a;o++)i.hasOwnProperty(t=N0[o])&&(n[t]=i[t])}function _a(e){e&&($u(e),bo(e,"label"),e.emphasis&&bo(e.emphasis,"label"))}function ns(e){return ze(e)?e:e?[e]:[]}function n1(e){return(ze(e)?e[0]:e)||{}}function i1(e){ce(RM,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var RM=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],OM=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],r1=function(e,t){(function PM(e,t){Da(ns(e.series),function(i){Zu(i)&&function(o){if(Zu(o)){Fp(o),$u(o),bo(o,"label"),bo(o,"upperLabel"),bo(o,"edgeLabel"),o.emphasis&&(bo(o.emphasis,"label"),bo(o.emphasis,"upperLabel"),bo(o.emphasis,"edgeLabel")),(s=o.markPoint)&&(Fp(s),_a(s)),(l=o.markLine)&&(Fp(l),_a(l));var a=o.markArea;a&&_a(a);var s,l,u=o.data;if("graph"===o.type){u=u||o.nodes;var c=o.links||o.edges;if(c&&!Gt(c))for(var d=0;d<c.length;d++)_a(c[d]);ce(o.categories,function(p){$u(p)})}if(u&&!Gt(u))for(d=0;d<u.length;d++)_a(u[d]);if((s=o.markPoint)&&s.data){var h=s.data;for(d=0;d<h.length;d++)_a(h[d])}if((l=o.markLine)&&l.data){var f=l.data;for(d=0;d<f.length;d++)ze(f[d])?(_a(f[d][0]),_a(f[d][1])):_a(f[d])}"gauge"===o.type?(bo(o,"axisLabel"),bo(o,"title"),bo(o,"detail")):"treemap"===o.type?(Wo(o.breadcrumb,"itemStyle"),ce(o.levels,function(p){$u(p)})):"tree"===o.type&&$u(o.leaves)}}(i)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Da(n,function(i){Da(ns(e[i]),function(o){o&&(bo(o,"axisLabel"),bo(o.axisPointer,"label"))})}),Da(ns(e.parallel),function(i){var o=i&&i.parallelAxisDefault;bo(o,"axisLabel"),bo(o&&o.axisPointer,"label")}),Da(ns(e.calendar),function(i){Wo(i,"itemStyle"),bo(i,"dayLabel"),bo(i,"monthLabel"),bo(i,"yearLabel")}),Da(ns(e.radar),function(i){bo(i,"name")}),Da(ns(e.geo),function(i){Zu(i)&&(_a(i),Da(ns(i.regions),function(o){_a(o)}))}),Da(ns(e.timeline),function(i){_a(i),Wo(i,"label"),Wo(i,"itemStyle"),Wo(i,"controlStyle",!0);var o=i.data;ze(o)&&ce(o,function(a){st(a)&&(Wo(a,"label"),Wo(a,"itemStyle"))})}),Da(ns(e.toolbox),function(i){Wo(i,"iconStyle"),Da(i.feature,function(o){Wo(o,"iconStyle")})}),bo(n1(e.axisPointer),"label"),bo(n1(e.tooltip).axisPointer,"label")})(e,t),e.series=Po(e.series),ce(e.series,function(n){if(st(n)){var i=n.type;if("line"===i)null!=n.clipOverflow&&(n.clip=n.clipOverflow);else if("pie"===i||"gauge"===i)null!=n.clockWise&&(n.clockwise=n.clockWise);else if("gauge"===i){var o=function(a,s){s=s.split(",");for(var l=a,u=0;u<s.length&&null!=(l=l&&l[s[u]]);u++);return l}(n,"pointer.color");null!=o&&function(a,s,l,u){s=s.split(",");for(var c,d=a,h=0;h<s.length-1;h++)null==d[c=s[h]]&&(d[c]={}),d=d[c];null!=d[s[h]]||(d[s[h]]=l)}(n,"itemStyle.color",o)}i1(n)}}),e.dataRange&&(e.visualMap=e.dataRange),ce(OM,function(n){var i=e[n];i&&(ze(i)||(i=[i]),ce(i,function(o){i1(o)}))})};function BM(e){ce(e,function(t,n){var i=[],o=[NaN,NaN],s=t.data,l=t.isStackedByIndex,u=s.map([t.stackResultDimension,t.stackedOverDimension],function(c,d,h){var f,p,v=s.get(t.stackedDimension,h);if(isNaN(v))return o;l?p=s.getRawIndex(h):f=s.get(t.stackedByDimension,h);for(var F=NaN,P=n-1;0<=P;P--){var ee=e[P];if(l||(p=ee.data.rawIndexOf(ee.stackedByDimension,f)),0<=p){var le=ee.data.getByRawIndex(ee.stackResultDimension,p);if(0<=v&&0<le||v<=0&&le<0){v+=le,F=le;break}}}return i[0]=v,i[1]=F,i});s.hostModel.setData(u),t.data=u})}function o1(e,t){Ia.isInstance(e)||(e=Ia.seriesDataToSource(e)),this._source=e;var n=this._data=e.data,i=e.sourceFormat;i===jd&&(this._offset=0,this._dimSize=t,this._data=n),ue(this,zM[i===qu?i+"_"+e.seriesLayoutBy:i])}var Vp=o1.prototype;Vp.pure=!1;var zM={arrayRows_column:{pure:Vp.persistent=!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Hp},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],n=this._data,i=0;i<n.length;i++){var o=n[i];t.push(o?o[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:a1,getItem:s1,appendData:Hp},keyedColumns:{pure:!0,count:function(){var t=this._data[this._source.dimensionsDefine[0].name];return t?t.length:0},getItem:function(e){for(var t=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var o=this._data[n[i].name];t.push(o?o[e]:null)}return t},appendData:function(e){var t=this._data;ce(e,function(n,i){for(var o=t[i]||(t[i]=[]),a=0;a<(n||[]).length;a++)o.push(n[a])})}},original:{count:a1,getItem:s1,appendData:Hp},typedArray:{persistent:!(Vp.getSource=function(){return this._source}),pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){t=t||[];for(var n=this._dimSize*(e-=this._offset),i=0;i<this._dimSize;i++)t[i]=this._data[n+i];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function a1(){return this._data.length}function s1(e){return this._data[e]}function Hp(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var FM={arrayRows:Wp,objectRows:function(e,t,n,i){return null!=n?e[i]:e},keyedColumns:Wp,original:function(e,t,n,i){var o=Du(e);return null!=n&&o instanceof Array?o[n]:o},typedArray:Wp};function Wp(e,t,n,i){return null!=n?e[n]:e}var l1={arrayRows:u1,objectRows:function(e,t,n,i){return Gp(e[t],this._dimensionInfos[t])},keyedColumns:u1,original:function(e,t,n,i){var o=e&&(null==e.value?e:e.value);return!this._rawData.pure&&function(a){return Bl(a)&&!(a instanceof Array)}(e)&&(this.hasItemOption=!0),Gp(o instanceof Array?o[i]:o,this._dimensionInfos[t])},typedArray:function(e,t,n,i){return e[i]}};function u1(e,t,n,i){return Gp(e[i],this._dimensionInfos[t])}function Gp(e,t){var n=t&&t.type;if("ordinal"!==n)return"time"===n&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+ju(e)),null==e||""===e?NaN:+e;var i=t&&t.ordinalMeta;return i?i.parseAndCollect(e):e}function ll(e,t,n){if(e){var i=e.getRawDataItem(t);if(null!=i){var o,a,s=e.getProvider().getSource().sourceFormat,l=e.getDimensionInfo(n);return l&&(o=l.name,a=l.index),FM[s](i,t,a,o)}}}function c1(e,t,n){if(e){var i=e.getProvider().getSource().sourceFormat;if(i===al||i===Yu){var o=e.getRawDataItem(t);return i!==al||st(o)||(o=null),o?o[n]:void 0}}}var VM=/\{@(.+?)\}/g,jp={getDataParams:function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),o=n.getRawIndex(e),a=n.getName(e),s=n.getRawDataItem(e),l=n.getItemVisual(e,"color"),u=n.getItemVisual(e,"borderColor"),c=this.ecModel.getComponent("tooltip"),d=R0(c&&c.get("renderMode")),h=this.mainType,f="series"===h,p=n.userOutput;return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:a,dataIndex:o,data:s,dataType:t,value:i,color:l,borderColor:u,dimensionNames:p?p.dimensionNames:null,encode:p?p.encode:null,marker:Fd({color:l,renderMode:d}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,i,o){t=t||"normal";var a=this.getData(n),s=a.getItemModel(e),l=this.getDataParams(e,n);null!=i&&l.value instanceof Array&&(l.value=l.value[i]);var u=s.get("normal"===t?[o||"label","formatter"]:[t,o||"label","formatter"]);return"function"==typeof u?(l.status=t,l.dimensionIndex=i,u(l)):"string"==typeof u?Mp(u,l).replace(VM,function(c,d){var h=d.length;return"["===d.charAt(0)&&"]"===d.charAt(h-1)&&(d=+d.slice(1,h-1)),ll(a,e,d)}):void 0},getRawValue:function(e,t){return ll(this.getData(t),e)},formatTooltip:function(){}};function Ku(e){return new d1(e)}function d1(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}var Ms=d1.prototype;Ms.perform=function(e){var t,n=this._upstream,i=e&&e.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(t=this._plan(this.context));var a,s=d(this._modBy),l=this._modDataCount||0,u=d(e&&e.modBy),c=e&&e.modDataCount||0;function d(ee){return 1<=ee||(ee=1),ee}s===u&&l===c||(t="reset"),!this._dirty&&"reset"!==t||(this._dirty=!1,a=function(ee,le){var ae,we;ee._dueIndex=ee._outputDueEnd=ee._dueEnd=0,ee._settedOutputEnd=null,!le&&ee._reset&&((ae=ee._reset(ee.context))&&ae.progress&&(we=ae.forceFirstProgress,ae=ae.progress),ze(ae)&&!ae.length&&(ae=null)),ee._progress=ae,ee._modBy=ee._modDataCount=null;var _e=ee._downstream;return _e&&_e.dirty(),we}(this,i)),this._modBy=u,this._modDataCount=c;var h=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,p=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(a||f<p)){var v=this._progress;if(ze(v))for(var F=0;F<v.length;F++)p1(this,v[F],f,p,u,c);else p1(this,v,f,p,u,c)}this._dueIndex=p,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:p}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var Up,ks,Yd,Xd,qp,h1,f1=h1={reset:function(e,t,n,i){ks=e,Up=t,Yd=n,Xd=i,qp=Math.ceil(Xd/Yd),h1.next=1<Yd&&0<Xd?WM:HM}};function HM(){return ks<Up?ks++:null}function WM(){var e=ks%qp*Yd+Math.ceil(ks/qp),t=Up<=ks?null:e<Xd?e:ks;return ks++,t}function p1(e,t,n,i,o,a){f1.reset(n,i,o,a),e._callingProgress=t,e._callingProgress({start:n,end:i,count:i-n,next:f1.next},e.context)}Ms.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Ms.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Ms.pipe=function(e){this._downstream===e&&!this._dirty||((this._downstream=e)._upstream=this,e.dirty())},Ms.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Ms.getUpstream=function(){return this._upstream},Ms.getDownstream=function(){return this._downstream},Ms.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var Ju=$o(),co=Or.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Ku({count:GM,reset:jM}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),Yy(this);var o=this.getInitialData(e,n);m1(o,this),this.dataTask.context.data=o,Ju(this).dataBeforeProcessed=o,g1(this)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?ql(e):{},o=this.subType;Or.hasClass(o)&&(o+="Series"),oe(e,t.getTheme().get(this.subType)),oe(e,this.getDefaultOption()),Xs(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&Cs(e,i,n)},mergeOption:function(e,t){e=oe(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&Cs(this.option,e,n),Yy(this);var i=this.getInitialData(e,t);m1(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,Ju(this).dataBeforeProcessed=i,g1(this)},fillDataTextStyle:function(e){if(e&&!Gt(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&Xs(e[n],"label",t)},getInitialData:function(){},appendData:function(e){this.getRawData().appendData(e.data)},getData:function(e){var t=Yp(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return Ju(this).data},setData:function(e){var t=Yp(this);if(t){var n=t.context;n.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),n.outputData=e,t!==this.dataTask&&(n.data=e)}Ju(this).data=e},getSource:function(){return function(e){return Yl(e).source}(this)},getRawData:function(){return Ju(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n,i){var o=this,a="html"===(i=i||"html")?"<br/>":"\n",s="richText"===i,l={},u=0,d=this.getData(),h=d.mapDimension("defaultedTooltip",!0),f=h.length,p=this.getRawValue(e),v=ze(p),F=d.getItemVisual(e,"color");st(F)&&F.colorStops&&(F=(F.colorStops[0]||{}).color),F=F||"transparent";var P=(1<f||v&&!f?function(Ce){var Le=qe(Ce,function(Rt,Ot,Wt){var Qt=d.getDimensionInfo(Wt);return Rt|(Qt&&!1!==Qt.tooltip&&null!=Qt.displayName)},0),Fe=[];function at(Rt,Ot){var Wt=d.getDimensionInfo(Ot);if(Wt&&!1!==Wt.otherDims.tooltip){var Qt=Wt.type,rn="sub"+o.seriesIndex+"at"+u,$t=Fd({color:F,type:"subItem",renderMode:i,markerId:rn}),Un=(Le?("string"==typeof $t?$t:$t.content)+ro(Wt.displayName||"-")+": ":"")+ro("ordinal"===Qt?Rt+"":"time"===Qt?t?"":kp("yyyy/MM/dd hh:mm:ss",Rt):Ss(Rt));Un&&Fe.push(Un),s&&(l[rn]=F,++u)}}h.length?ce(h,function(Rt){at(ll(d,e,Rt),Rt)}):ce(Ce,at);var pt=Le?s?"\n":"<br/>":"",wt=pt+Fe.join(pt||", ");return{renderMode:i,content:wt,style:l}}(p):function c(Ce){return{renderMode:i,content:ro(Ss(Ce)),style:l}}(f?ll(d,e,h[0]):v?p[0]:p)).content,ee=o.seriesIndex+"at"+u,le=Fd({color:F,type:"item",renderMode:i,markerId:ee});l[ee]=F,++u;var ae=d.getName(e),we=this.name;$f(this)||(we=""),we=we?ro(we)+(t?": ":a):"";var _e="string"==typeof le?le:le.content;return{html:t?_e+we+P:we+_e+(ae?ro(ae)+": "+P:P),markers:l}},isAnimationEnabled:function(){if(Ne.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,n){var i=this.ecModel;return Dp.getColorFromPalette.call(this,e,t,n)||i.getColorFromPalette(e,t,n)},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function g1(e){var t=e.name;$f(e)||(e.name=function(n){var i=n.getRawData(),o=i.mapDimension("seriesName",!0),a=[];return ce(o,function(s){var l=i.getDimensionInfo(s);l.displayName&&a.push(l.displayName)}),a.join(" ")}(e)||t)}function GM(e){return e.model.getRawData().count()}function jM(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),UM}function UM(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function m1(e,t){ce(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,xt(qM,t))})}function qM(e){var t=Yp(e);t&&t.setOutputEnd(this.count())}function Yp(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var i=n.currentTask;if(i){var o=i.agentStubMap;o&&(i=o.get(e.uid))}return i}}Te(co,jp),Te(co,Dp);var Ga=function(){this.group=new E,this.uid=Wu("viewComponent")};Ga.prototype={constructor:Ga,init:function(e,t){},render:function(e,t,n,i){},dispose:function(){},filterForExposedEvent:null};var Xp=Ga.prototype;function Xl(){var e=$o();return function(t){var n=e(t),i=t.pipelineContext,o=n.large,a=n.progressiveRender,s=n.large=i&&i.large,l=n.progressiveRender=i&&i.progressiveRender;return!!(o^s||a^l)&&"reset"}}Xp.updateView=Xp.updateLayout=Xp.updateVisual=function(e,t,n,i){},Eu(Ga),pd(Ga,{registerWhenExtend:!0});var v1=$o(),YM=Xl();function No(){this.group=new E,this.uid=Wu("viewChart"),this.renderTask=Ku({plan:XM,reset:ZM}),this.renderTask.context={view:this}}var Zp=No.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,i){},highlight:function(e,t,n,i){y1(e.getData(),i,"emphasis")},downplay:function(e,t,n,i){y1(e.getData(),i,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};function $p(e,t,n){if(e&&(e.trigger(t,n),e.isGroup&&!Ld(e)))for(var i=0,o=e.childCount();i<o;i++)$p(e.childAt(i),t,n)}function y1(e,t,n){var i=dd(e,t),o=t&&null!=t.highlightKey?Sy(t.highlightKey):null;null!=i?ce(Po(i),function(a){$p(e.getItemGraphicEl(a),n,o)}):e.eachItemGraphicEl(function(a){$p(a,n,o)})}function XM(e){return YM(e.model)}function ZM(e){var t=e.model,n=e.ecModel,i=e.api,o=e.payload,a=t.pipelineContext.progressiveRender,s=e.view,l=o&&v1(o).updateMethod,u=a?"incrementalPrepareRender":l&&s[l]?l:"render";return"render"!==u&&s[u](t,n,i,o),$M[u]}Zp.updateView=Zp.updateLayout=Zp.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},Eu(No),pd(No,{registerWhenExtend:!0}),No.markUpdateMethod=function(e,t){v1(e).updateMethod=t};var $M={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Zd="\0__throttleOriginMethod",x1="\0__throttleRate",b1="\0__throttleType";function $d(e,t,n){var i,o,a,s,l,u=0,c=0,d=null;function h(){c=(new Date).getTime(),d=null,e.apply(a,s||[])}function f(){i=(new Date).getTime(),a=this,s=arguments;var p=l||t,v=l||n;l=null,o=i-(v?u:c)-p,clearTimeout(d),v?d=setTimeout(h,p):0<=o?h():d=setTimeout(h,-o),u=i}return t=t||0,f.clear=function(){d&&(clearTimeout(d),d=null)},f.debounceNextCall=function(p){l=p},f}function Qu(e,t,n,i){var o=e[t];if(o){var a=o[Zd]||o;if(o[x1]!==n||o[b1]!==i){if(null==n||!i)return e[t]=a;(o=e[t]=$d(a,n,"debounce"===i))[Zd]=a,o[b1]=i,o[x1]=n}return o}}function _1(e,t){var n=e[t];n&&n[Zd]&&(e[t]=n[Zd])}var KM={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=(e.visualColorAccessPath||"itemStyle.color").split("."),o=e.get(i),a=!Xe(o)||o instanceof Va?null:o;o&&!a||(o=e.getColorFromPalette(e.name,null,t.getSeriesCount())),n.setVisual("color",o);var s=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),l=e.get(s);if(n.setVisual("borderColor",l),!t.isSeriesFiltered(e))return a&&n.each(function(u){n.setItemVisual(u,"color",a(e.getDataParams(u)))}),{dataEach:n.hasItemOption?function(u,c){var d=u.getItemModel(c),h=d.get(i,!0),f=d.get(s,!0);null!=h&&u.setItemVisual(c,"color",h),null!=f&&u.setItemVisual(c,"borderColor",f)}:null}}},is={legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}},JM=function(e,t){var f,n=t.getModel("aria");if(n.get("show"))if(n.get("description"))e.setAttribute("aria-label",n.get("description"));else{var i=0;t.eachSeries(function(f,p){++i},this);var o,a=n.get("data.maxCount")||10,s=n.get("series.maxCount")||10,l=Math.min(i,s);if(!(i<1)){var u=((f=t.getModel("title").option)&&f.length&&(f=f[0]),f&&f.text);o=u?d(h("general.withTitle"),{title:u}):h("general.withoutTitle");var c=[];o+=d(h(1<i?"series.multiple.prefix":"series.single.prefix"),{seriesCount:i}),t.eachSeries(function(f,p){if(p<l){var v,F=f.get("name"),P="series."+(1<i?"multiple":"single")+".";v=d(v=h(F?P+"withName":P+"withoutName"),{seriesId:f.seriesIndex,seriesName:f.get("name"),seriesType:(Ce=f.subType,is.series.typeNames[Ce]||"\u81ea\u5b9a\u4e49\u56fe")});var ee=f.getData();(window.data=ee).count()>a?v+=d(h("data.partialData"),{displayCnt:a}):v+=h("data.allData");for(var le=[],ae=0;ae<ee.count();ae++)if(ae<a){var we=ee.getName(ae),_e=ll(ee,ae);le.push(d(h(we?"data.withName":"data.withoutName"),{name:we,value:_e}))}v+=le.join(h("data.separator.middle"))+h("data.separator.end"),c.push(v)}var Ce}),o+=c.join(h("series.multiple.separator.middle"))+h("series.multiple.separator.end"),e.setAttribute("aria-label",o)}}function d(f,p){if("string"!=typeof f)return f;var v=f;return ce(p,function(F,P){v=v.replace(new RegExp("\\{\\s*"+P+"\\s*\\}","g"),F)}),v}function h(f){var p=n.get(f);if(null!=p)return p;for(var v=f.split("."),F=is.aria,P=0;P<v.length;++P)F=F[v[P]];return F}},Kd=Math.PI;function Jd(e,t,n,i){this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i),this._stageTaskMap=bn()}var wa=Jd.prototype;function w1(e,t,n,i,o){var a;function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}o=o||{},ce(t,function(l,u){if(!o.visualType||o.visualType===l.visualType){var c=e._stageTaskMap.get(l.uid),d=c.seriesTaskMap,h=c.overallTask;if(h){var f,p=h.agentStubMap;p.each(function(F){s(o,F)&&(F.dirty(),f=!0)}),f&&h.dirty(),S1(h,i);var v=e.getPerformArgs(h,o.block);p.each(function(F){F.perform(v)}),a|=h.perform(v)}else d&&d.each(function(F,P){s(o,F)&&F.dirty();var ee=e.getPerformArgs(F,o.block);ee.skip=!l.performRawSeries&&n.isSeriesFiltered(F.context.model),S1(F,i),a|=F.perform(ee)})}}),e.unfinished|=a}wa.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},wa.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,o=!t&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex?n.step:null,a=i&&i.modDataCount;return{step:o,modBy:null!=a?Math.ceil(a/o):null,modDataCount:a}}},wa.getPipeline=function(e){return this._pipelineMap.get(e)},wa.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData().count(),o=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,a=e.get("large")&&i>=e.get("largeThreshold"),s="mod"===e.get("progressiveChunkMode")?i:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:s,large:a}},wa.restorePipelines=function(e){var t=this,n=t._pipelineMap=bn();e.eachSeries(function(i){var o=i.getProgressive(),a=i.uid;n.set(a,{id:a,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),Qd(t,i,i.dataTask)})},wa.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),n=this.api;ce(this._allHandlers,function(i){var o=e.get(i.uid)||e.set(i.uid,[]);i.reset&&function(a,s,l,u,c){var d=l.seriesTaskMap||(l.seriesTaskMap=bn()),h=s.seriesType,f=s.getTargetSeries;function p(F){var P=F.uid,ee=d.get(P)||d.set(P,Ku({plan:ik,reset:rk,count:ak}));ee.context={model:F,ecModel:u,api:c,useClearVisual:s.isVisual&&!s.isLayout,plan:s.plan,reset:s.reset,scheduler:a},Qd(a,F,ee)}s.createOnAllSeries?u.eachRawSeries(p):h?u.eachRawSeriesByType(h,p):f&&f(u,c).each(p);var v=a._pipelineMap;d.each(function(F,P){v.get(P)||(F.dispose(),d.removeKey(P))})}(this,i,o,t,n),i.overallReset&&function(a,s,l,u,c){var d=l.overallTask=l.overallTask||Ku({reset:QM});d.context={ecModel:u,api:c,overallReset:s.overallReset,scheduler:a};var h=d.agentStubMap=d.agentStubMap||bn(),f=s.seriesType,p=s.getTargetSeries,v=!0,F=s.modifyOutputEnd;function P(le){var ae=le.uid,we=h.get(ae);we||(we=h.set(ae,Ku({reset:ek,onDirty:nk})),d.dirty()),we.context={model:le,overallProgress:v,modifyOutputEnd:F},we.agent=d,we.__block=v,Qd(a,le,we)}f?u.eachRawSeriesByType(f,P):p?p(u,c).each(P):(v=!1,ce(u.getSeries(),P));var ee=a._pipelineMap;h.each(function(le,ae){ee.get(ae)||(le.dispose(),d.dirty(),h.removeKey(ae))})}(this,i,o,t,n)},this)},wa.prepareView=function(e,t,n,i){var o=e.renderTask,a=o.context;a.model=t,a.ecModel=n,a.api=i,o.__block=!e.incrementalPrepareRender,Qd(this,t,o)},wa.performDataProcessorTasks=function(e,t){w1(this,this._dataProcessorHandlers,e,t,{block:!0})},wa.performVisualTasks=function(e,t,n){w1(this,this._visualHandlers,e,t,n)},wa.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t|=n.dataTask.perform()}),this.unfinished|=t},wa.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var S1=wa.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)};function QM(e){e.overallReset(e.ecModel,e.api,e.payload)}function ek(e,t){return e.overallProgress&&tk}function tk(){this.agent.dirty(),this.getDownstream().dirty()}function nk(){this.agent&&this.agent.dirty()}function ik(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function rk(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Po(e.reset(e.model,e.ecModel,e.api,e.payload));return 1<t.length?Oe(t,function(n,i){return C1(i)}):ok}var ok=C1(0);function C1(e){return function(t,n){var i=n.data,o=n.resetDefines[e];if(o&&o.dataEach)for(var a=t.start;a<t.end;a++)o.dataEach(i,a);else o&&o.progress&&o.progress(t,i)}}function ak(e){return e.data.count()}function Qd(e,t,n){var o=e._pipelineMap.get(t.uid);o.head||(o.head=n),o.tail&&o.tail.pipe(n),(o.tail=n).__idxInPipeline=o.count++,n.__pipeline=o}Jd.wrapStageHandler=function(e,t){return Xe(e)&&(e={overallReset:e,seriesType:function(n){eh=null;try{n(ec,M1)}catch{}return eh}(e)}),e.uid=Wu("stageHandler"),t&&(e.visualType=t),e};var eh,ec={},M1={};function k1(e,t){for(var n in t.prototype)e[n]=fn}function th(){return{axisLine:{lineStyle:{color:Oo}},axisTick:{lineStyle:{color:Oo}},axisLabel:{textStyle:{color:Oo}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:Oo}}}}k1(ec,Rp),k1(M1,Qy),ec.eachSeriesByType=ec.eachRawSeriesByType=function(e){eh=e},ec.eachComponent=function(e){"series"===e.mainType&&e.subType&&(eh=e.subType)};var T1=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],sk={color:T1,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],T1]},Oo="#eee",Kp=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],A1={color:Kp,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:Oo},crossStyle:{color:Oo},label:{color:"#000"}}},legend:{textStyle:{color:Oo}},textStyle:{color:Oo},title:{textStyle:{color:Oo}},toolbox:{iconStyle:{normal:{borderColor:Oo}}},dataZoom:{textStyle:{color:Oo}},visualMap:{textStyle:{color:Oo}},timeline:{lineStyle:{color:Oo},itemStyle:{normal:{color:Kp[1]}},label:{normal:{textStyle:{color:Oo}}},controlStyle:{normal:{color:Oo,borderColor:Oo}}},timeAxis:th(),logAxis:th(),valueAxis:th(),categoryAxis:th(),line:{symbol:"circle"},graph:{color:Kp},gauge:{title:{textStyle:{color:Oo}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};A1.categoryAxis.splitLine.show=!1,Or.extend({type:"dataset",defaultOption:{seriesLayoutBy:qy,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(e){var t=e.option.source,n=Uy;if(Gt(t))n=jd;else if(ze(t)){0===t.length&&(n=qu);for(var i=0,o=t.length;i<o;i++){var a=t[i];if(null!=a){if(ze(a)){n=qu;break}if(st(a)){n=Yu;break}}}}else if(st(t)){for(var s in t)if(t.hasOwnProperty(s)&&Ue(t[s])){n=Xu;break}}else if(null!=t)throw new Error("Invalid data");Yl(e).sourceFormat=n}(this)}}),Ga.extend({type:"dataset"});var lk=Er.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.rx,a=t.ry,s=.5522848*o,l=.5522848*a;e.moveTo(n-o,i),e.bezierCurveTo(n-o,i-l,n-s,i-a,n,i-a),e.bezierCurveTo(n+s,i-a,n+o,i-l,n+o,i),e.bezierCurveTo(n+o,i+l,n+s,i+a,n,i+a),e.bezierCurveTo(n-s,i+a,n-o,i+l,n-o,i),e.closePath()}}),Ts=/[\s,]+/;function I1(e){for(Je(e)&&(e=(new DOMParser).parseFromString(e,"text/xml")),9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}function nh(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}nh.prototype.parse=function(e,t){t=t||{};var n=I1(e);if(!n)throw new Error("Illegal svg");var i=new E;this._root=i;var o=n.getAttribute("viewBox")||"",a=parseFloat(n.getAttribute("width")||t.width),s=parseFloat(n.getAttribute("height")||t.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),la(n,i,null,!0);for(var l,u,c=n.firstChild;c;)this._parseNode(c,i),c=c.nextSibling;if(o){var d=_i(o).split(Ts);4<=d.length&&(l={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(l&&null!=a&&null!=s&&(u=L1(l,a,s),!t.ignoreViewBox)){var h=i;(i=new E).add(h),h.scale=u.scale.slice(),h.position=u.position.slice()}return t.ignoreRootClip||null==a||null==s||i.setClipPath(new Rr({shape:{x:0,y:0,width:a,height:s}})),{root:i,width:a,height:s,viewBoxRect:l,viewBoxTransform:u}},nh.prototype._parseNode=function(e,t){var n,i,o=e.nodeName.toLowerCase();if("defs"===o?this._isDefine=!0:"text"===o&&(this._isText=!0),this._isDefine){if(i=ck[o]){var a=i.call(this,e),s=e.getAttribute("id");s&&(this._defs[s]=a)}}else(i=uk[o])&&(n=i.call(this,e,t),t.add(n));for(var l=e.firstChild;l;)1===l.nodeType&&this._parseNode(l,n),3===l.nodeType&&this._isText&&this._parseText(l,n),l=l.nextSibling;"defs"===o?this._isDefine=!1:"text"===o&&(this._isText=!1)},nh.prototype._parseText=function(e,t){if(1===e.nodeType){var n=e.getAttribute("dx")||0,i=e.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(i)}var o=new Cr({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Sa(t,o),la(e,o,this._defs);var a=o.style.fontSize;a&&a<9&&(o.style.fontSize=9,o.scale=o.scale||[1,1],o.scale[0]*=a/9,o.scale[1]*=a/9);var s=o.getBoundingRect();return this._textX+=s.width,t.add(o),o};var uk={g:function(e,t){var n=new E;return Sa(t,n),la(e,n,this._defs),n},rect:function(e,t){var n=new Rr;return Sa(t,n),la(e,n,this._defs),n.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),n},circle:function(e,t){var n=new Fa;return Sa(t,n),la(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),n},line:function(e,t){var n=new Ro;return Sa(t,n),la(e,n,this._defs),n.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),n},ellipse:function(e,t){var n=new lk;return Sa(t,n),la(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),n},polygon:function(e,t){var n=e.getAttribute("points");n=n&&D1(n);var i=new ea({shape:{points:n||[]}});return Sa(t,i),la(e,i,this._defs),i},polyline:function(e,t){var n=new Er;Sa(t,n),la(e,n,this._defs);var i=e.getAttribute("points");return i=i&&D1(i),new ya({shape:{points:i||[]}})},image:function(e,t){var n=new Tr;return Sa(t,n),la(e,n,this._defs),n.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),n},text:function(e,t){var n=e.getAttribute("x")||0,i=e.getAttribute("y")||0,o=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(i)+parseFloat(a);var s=new E;return Sa(t,s),la(e,s,this._defs),s},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var o=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0,s=new E;return Sa(t,s),la(e,s,this._defs),this._textX+=o,this._textY+=a,s},path:function(e,t){var n=iy(e.getAttribute("d")||"");return Sa(t,n),la(e,n,this._defs),n}},ck={lineargradient:function(e){var a=new Qs(parseInt(e.getAttribute("x1")||0,10),parseInt(e.getAttribute("y1")||0,10),parseInt(e.getAttribute("x2")||10,10),parseInt(e.getAttribute("y2")||0,10));return function(s,l){for(var u=s.firstChild;u;){if(1===u.nodeType){var c=u.getAttribute("offset");c=0<c.indexOf("%")?parseInt(c,10)/100:c?parseFloat(c):0;var d=u.getAttribute("stop-color")||"#000000";l.addColorStop(c,d)}u=u.nextSibling}}(e,a),a},radialgradient:function(e){}};function Sa(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),be(t.__inheritedStyle,e.__inheritedStyle))}function D1(e){for(var t=_i(e).split(Ts),n=[],i=0;i<t.length;i+=2){var o=parseFloat(t[i]),a=parseFloat(t[i+1]);n.push([o,a])}return n}var Zl={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function la(e,t,n,i){var o=t.__inheritedStyle||{},a="text"===t.type;if(1===e.nodeType&&(function(h,f){var p=h.getAttribute("transform");if(p){p=p.replace(/,/g," ");var v=null,F=[];p.replace(hk,function(ae,we,_e){F.push(we,_e)});for(var P=F.length-1;0<P;P-=2){var ee=F[P],le=F[P-1];switch(v=v||Yi(),le){case"translate":ee=_i(ee).split(Ts),De(v,v,[parseFloat(ee[0]),parseFloat(ee[1]||0)]);break;case"scale":ee=_i(ee).split(Ts),Qe(v,v,[parseFloat(ee[0]),parseFloat(ee[1]||ee[0])]);break;case"rotate":ee=_i(ee).split(Ts),Ee(v,v,parseFloat(ee[0]));break;case"skew":ee=_i(ee).split(Ts),console.warn("Skew transform is not supported yet");break;case"matrix":ee=_i(ee).split(Ts),v[0]=parseFloat(ee[0]),v[1]=parseFloat(ee[1]),v[2]=parseFloat(ee[2]),v[3]=parseFloat(ee[3]),v[4]=parseFloat(ee[4]),v[5]=parseFloat(ee[5])}}f.setLocalTransform(v)}}(e,t),ue(o,function(h){var f=h.getAttribute("style"),p={};if(!f)return p;var v,F={};for(N1.lastIndex=0;null!=(v=N1.exec(f));)F[v[1]]=v[2];for(var P in Zl)Zl.hasOwnProperty(P)&&null!=F[P]&&(p[Zl[P]]=F[P]);return p}(e)),!i))for(var s in Zl)if(Zl.hasOwnProperty(s)){var l=e.getAttribute(s);null!=l&&(o[Zl[s]]=l)}var u=a?"textFill":"fill",c=a?"textStroke":"stroke";t.style=t.style||new Mt;var d=t.style;null!=o.fill&&d.set(u,E1(o.fill,n)),null!=o.stroke&&d.set(c,E1(o.stroke,n)),ce(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(h){null!=o[h]&&d.set("lineWidth"===h&&a?"textStrokeWidth":h,parseFloat(o[h]))}),o.textBaseline&&"auto"!==o.textBaseline||(o.textBaseline="alphabetic"),"alphabetic"===o.textBaseline&&(o.textBaseline="bottom"),"start"===o.textAlign&&(o.textAlign="left"),"end"===o.textAlign&&(o.textAlign="right"),ce(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(h){null!=o[h]&&d.set(h,o[h])}),o.lineDash&&(t.style.lineDash=_i(o.lineDash).split(Ts)),d[c]&&"none"!==d[c]&&(t[c]=!0),t.__inheritedStyle=o}var dk=/url\(\s*#(.*?)\)/;function E1(e,t){var n=t&&e&&e.match(dk);return n?t[_i(n[1])]:e}var hk=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,N1=/([^\s:;]+)\s*:\s*([^:;]+)/g;function L1(e,t,n){var a=Math.min(t/e.width,n/e.height);return{scale:[a,a],position:[-(e.x+e.width/2)*a+t/2,-(e.y+e.height/2)*a+n/2]}}var P1=bn(),ih={registerMap:function(e,t,n){var i;return ce(i=ze(t)?t:t.svg?[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(n=t.specialAreas,t=t.geoJson),[{type:"geoJSON",source:t,specialAreas:n}]),function(o){var a=o.type;"geoJson"===a&&(a=o.type="geoJSON"),(0,fk[a])(o)}),P1.set(e,i)},retrieveMap:function(e){return P1.get(e)}},fk={geoJSON:function(e){var t=e.source;e.geoJSON=Je(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=I1(e.source)}},pk=xi,To=ce,gk=Xe,tc=st,Jp=Or.parseClassType,ja={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},Ua="__flagInMainProcess",As="__optionUpdated",R1=/^[a-zA-Z0-9_]+$/;function $l(e,t){return function(n,i,o){!t&&this._disposed||(n=n&&n.toLowerCase(),Ar.prototype[e].call(this,n,i,o))}}function nc(){Ar.call(this)}function ic(e,t,n){n=n||{},"string"==typeof t&&(t=U1[t]),this._dom=e;var i=this._zr=qf(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=$d(et(i.flush,i),17),(t=U(t))&&r1(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Ho;var s,l,o=this._api=(l=(s=this)._coordSysMgr,ue(new Qy(s),{getCoordinateSystems:et(l.getCoordinateSystems,l),getComponentByElement:function(u){for(;u;){var c=u.__ecComponentInfo;if(null!=c)return s._model.getComponent(c.mainType,c.index);u=u.parent}}}));function a(s,l){return s.__prio-l.__prio}rt(lh,a),rt(ig,a),this._scheduler=new Jd(this,o,ig,lh),Ar.call(this,this._ecEventProcessor=new ng),this._messageCenter=new nc,this._initEvents(),this.resize=et(this.resize,this),this._pendingActions=[],i.animation.on("frame",this._onframe,this),function(s,l){s.on("rendered",function(){l.trigger("rendered"),!s.animation.isFinished()||l[As]||l._scheduler.unfinished||l._pendingActions.length||l.trigger("finished")})}(i,this),Pi(this)}nc.prototype.on=$l("on",!0),nc.prototype.off=$l("off",!0),nc.prototype.one=$l("one",!0),Te(nc,Ar);var Hr=ic.prototype;function O1(e,t,n){if(!this._disposed){var i,o=this._model,a=this._coordSysMgr.getCoordinateSystems();t=hd(o,t);for(var s=0;s<a.length;s++){var l=a[s];if(l[e]&&null!=(i=l[e](o,t,n)))return i}}}Hr._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[As]){var t=this[As].silent;this[Ua]=!0,rc(this),Is.update.call(this),this[Ua]=!1,this[As]=!1,rh.call(this,t),oh.call(this,t)}else if(e.unfinished){var n=1,i=this._model;e.unfinished=!1;do{var a=+new Date;e.performSeriesTasks(i),e.performDataProcessorTasks(i),z1(this,i),e.performVisualTasks(i),eg(this,this._model,0,"remain"),n-=+new Date-a}while(0<n&&e.unfinished);e.unfinished||this._zr.flush()}}},Hr.getDom=function(){return this._dom},Hr.getZr=function(){return this._zr},Hr.setOption=function(e,t,n){if(!this._disposed){var i;if(tc(t)&&(n=t.lazyUpdate,i=t.silent,t=t.notMerge),this[Ua]=!0,!this._model||t){var o=new zp(this._api),a=this._theme,s=this._model=new Rp;s.scheduler=this._scheduler,s.init(null,null,a,o)}this._model.setOption(e,G1),n?(this[As]={silent:i},this[Ua]=!1):(rc(this),Is.update.call(this),this._zr.flush(),this[As]=!1,this[Ua]=!1,rh.call(this,i),oh.call(this,i))}},Hr.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},Hr.getModel=function(){return this._model},Hr.getOption=function(){return this._model&&this._model.getOption()},Hr.getWidth=function(){return this._zr.getWidth()},Hr.getHeight=function(){return this._zr.getHeight()},Hr.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},Hr.getRenderedCanvas=function(e){if(Ne.canvasSupported)return(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(e)},Hr.getSvgDataURL=function(){if(Ne.svgSupported){var e=this._zr;return ce(e.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),e.painter.toDataURL()}},Hr.getDataURL=function(e){if(!this._disposed){var t=(e=e||{}).excludeComponents,n=this._model,i=[],o=this;To(t,function(s){n.eachComponent({mainType:s},function(l){var u=o._componentsMap[l.__viewId];u.group.ignore||(i.push(u),u.group.ignore=!0)})});var a="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return To(i,function(s){s.group.ignore=!1}),a}},Hr.getConnectedDataURL=function(e){if(!this._disposed&&Ne.canvasSupported){var t="svg"===e.type,n=this.group,i=Math.min,o=Math.max;if(uh[n]){var a=1/0,s=1/0,l=-1/0,u=-1/0,c=[],d=e&&e.pixelRatio||1;ce(ul,function(P,ee){if(P.group===n){var le=t?P.getZr().painter.getSvgDom().innerHTML:P.getRenderedCanvas(U(e)),ae=P.getDom().getBoundingClientRect();a=i(ae.left,a),s=i(ae.top,s),l=o(ae.right,l),u=o(ae.bottom,u),c.push({dom:le,left:ae.left,top:ae.top})}});var h=(l*=d)-(a*=d),f=(u*=d)-(s*=d),p=Ae(),v=qf(p,{renderer:t?"svg":"canvas"});if(v.resize({width:h,height:f}),t){var F="";return To(c,function(P){F+='<g transform="translate('+(P.left-a)+","+(P.top-s)+')">'+P.dom+"</g>"}),v.painter.getSvgRoot().innerHTML=F,e.connectedBackgroundColor&&v.painter.setBackgroundColor(e.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}return e.connectedBackgroundColor&&v.add(new Rr({shape:{x:0,y:0,width:h,height:f},style:{fill:e.connectedBackgroundColor}})),To(c,function(P){var ee=new Tr({style:{x:P.left*d-a,y:P.top*d-s,image:P.dom}});v.add(ee)}),v.refreshImmediately(),p.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},Hr.convertToPixel=xt(O1,"convertToPixel"),Hr.convertFromPixel=xt(O1,"convertFromPixel"),Hr.containPixel=function(e,t){var n;if(!this._disposed)return ce(e=hd(this._model,e),function(i,o){0<=o.indexOf("Models")&&ce(i,function(a){var s=a.coordinateSystem;if(s&&s.containPoint)n|=!!s.containPoint(t);else if("seriesModels"===o){var l=this._chartsMap[a.__viewId];l&&l.containPoint&&(n|=l.containPoint(t,a))}},this)},this),!!n},Hr.getVisual=function(e,t){var n=(e=hd(this._model,e,{defaultMainType:"series"})).seriesModel.getData(),i=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?n.indexOfRawIndex(e.dataIndex):null;return null!=i?n.getItemVisual(i,t):n.getVisual(t)},Hr.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},Hr.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var Is={prepareAndUpdate:function(e){rc(this),Is.update.call(this,e)},update:function(e){var t=this._model,n=this._api,i=this._zr,o=this._coordSysMgr,a=this._scheduler;if(t){a.restoreData(t,e),a.performSeriesTasks(t),o.create(t,n),a.performDataProcessorTasks(t,e),z1(this,t),o.update(t,n),Qp(t),a.performVisualTasks(t,e),H1(this,t,n,e);var s=t.get("backgroundColor")||"transparent";if(Ne.canvasSupported)i.setBackgroundColor(s);else{var l=ji(s);s=to(l,"rgb"),0===l[3]&&(s="transparent")}tg(t,n)}},updateTransform:function(e){var t=this._model,n=this,i=this._api;if(t){var o=[];t.eachComponent(function(s,l){var u=n.getViewOfComponentModel(l);if(u&&u.__alive)if(u.updateTransform){var c=u.updateTransform(l,t,i,e);c&&c.update&&o.push(u)}else o.push(u)});var a=bn();t.eachSeries(function(s){var l=n._chartsMap[s.__viewId];if(l.updateTransform){var u=l.updateTransform(s,t,i,e);u&&u.update&&a.set(s.uid,1)}else a.set(s.uid,1)}),Qp(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0,dirtyMap:a}),eg(n,t,0,e,a),tg(t,this._api)}},updateView:function(e){var t=this._model;t&&(No.markUpdateMethod(e,"updateView"),Qp(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),H1(this,this._model,this._api,e),tg(t,this._api))},updateVisual:function(e){Is.update.call(this,e)},updateLayout:function(e){Is.update.call(this,e)}};function rc(e){var t=e._model,n=e._scheduler;n.restorePipelines(t),n.prepareStageTasks(),V1(e,"component",t,n),V1(e,"chart",t,n),n.plan()}function B1(e,t,n,i,o){var a=e._model;if(i){var s={};s[i+"Id"]=n[i+"Id"],s[i+"Index"]=n[i+"Index"],s[i+"Name"]=n[i+"Name"];var l={mainType:i,query:s};o&&(l.subType=o);var u=n.excludeSeriesId;null!=u&&(u=bn(Po(u))),a&&a.eachComponent(l,function(d){u&&null!=u.get(d.id)||c(e["series"===i?"_chartsMap":"_componentsMap"][d.__viewId])},e)}else To(e._componentsViews.concat(e._chartsViews),c);function c(d){d&&d.__alive&&d[t]&&d[t](d.__model,a,e._api,n)}}function z1(e,t){var n=e._chartsMap,i=e._scheduler;t.eachSeries(function(o){i.updateStreamModes(o,n[o.__viewId])})}function F1(e,t){var n=e.type,i=e.escapeConnect,o=ah[n],a=o.actionInfo,s=(a.update||"update").split(":"),l=s.pop();s=null!=s[0]&&Jp(s[0]),this[Ua]=!0;var u=[e],c=!1;e.batch&&(c=!0,u=Oe(e.batch,function(p){return(p=be(ue({},p),e)).batch=null,p}));var d,h=[],f="highlight"===n||"downplay"===n;To(u,function(p){(d=(d=o.action(p,this._model,this._api))||ue({},p)).type=a.event||d.type,h.push(d),f?B1(this,l,p,"series"):s&&B1(this,l,p,s.main,s.sub)},this),"none"===l||f||s||(this[As]?(rc(this),Is.update.call(this,e),this[As]=!1):Is[l].call(this,e)),d=c?{type:a.event||n,escapeConnect:i,batch:h}:h[0],this[Ua]=!1,t||this._messageCenter.trigger(d.type,d)}function rh(e){for(var t=this._pendingActions;t.length;){var n=t.shift();F1.call(this,n,e)}}function oh(e){e||this.trigger("updated")}function V1(e,t,n,i){for(var o="component"===t,a=o?e._componentsViews:e._chartsViews,s=o?e._componentsMap:e._chartsMap,l=e._zr,u=e._api,c=0;c<a.length;c++)a[c].__alive=!1;function d(f){var p="_ec_"+f.id+"_"+f.type,v=s[p];if(!v){var F=Jp(f.type);(v=new(o?Ga.getClass(F.main,F.sub):No.getClass(F.sub))).init(n,u),s[p]=v,a.push(v),l.add(v.group)}f.__viewId=v.__id=p,v.__alive=!0,v.__model=f,v.group.__ecComponentInfo={mainType:f.mainType,index:f.componentIndex},o||i.prepareView(v,f,n,u)}for(o?n.eachComponent(function(f,p){"series"!==f&&d(p)}):n.eachSeries(d),c=0;c<a.length;){var h=a[c];h.__alive?c++:(o||h.renderTask.dispose(),l.remove(h.group),h.dispose(n,u),a.splice(c,1),delete s[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function Qp(e){e.clearColorPalette(),e.eachSeries(function(t){t.clearColorPalette()})}function H1(e,t,n,i){(function(o,a,s,l,u){To(o._componentsViews,function(c){var d=c.__model;c.render(d,a,s,l),W1(d,c)})})(e,t,n,i),To(e._chartsViews,function(o){o.__alive=!1}),eg(e,t,0,i),To(e._chartsViews,function(o){o.__alive||o.remove(t,n)})}function eg(e,t,n,i,o){var a,l,u,d,s=e._scheduler;t.eachSeries(function(l){var u=e._chartsMap[l.__viewId];u.__alive=!0;var h,f,c=u.renderTask;s.updatePayload(c,i),o&&o.get(l.uid)&&c.dirty(),a|=c.perform(s.getPerformArgs(c)),u.group.silent=!!l.get("silent"),W1(l,u),h=u,f=l.get("blendMode")||null,h.group.traverse(function(p){p.isGroup||p.style.blend!==f&&p.setStyle("blend",f),p.eachPendingDisplayable&&p.eachPendingDisplayable(function(v){v.setStyle("blend",f)})})}),s.unfinished|=a,u=t,d=0,(l=e)._zr.storage.traverse(function(h){d++}),d>u.get("hoverLayerThreshold")&&!Ne.node&&u.eachSeries(function(h){if(!h.preventUsingHoverLayer){var f=l._chartsMap[h.__viewId];f.__alive&&f.group.traverse(function(p){p.useHoverLayer=!0})}}),JM(e._zr.dom,t)}function tg(e,t){To(j1,function(n){n(e,t)})}Hr.resize=function(e){if(!this._disposed){this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),i=e&&e.silent;this[Ua]=!0,n&&rc(this),Is.update.call(this),this[Ua]=!1,rh.call(this,i),oh.call(this,i)}}},Hr.showLoading=function(e,t){if(!this._disposed&&(tc(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),rg[e])){var n=rg[e](this._api,t),i=this._zr;this._loadingFX=n,i.add(n)}},Hr.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},Hr.makeActionFromEvent=function(e){var t=ue({},e);return t.type=sh[e.type],t},Hr.dispatchAction=function(e,t){this._disposed||(tc(t)||(t={silent:!!t}),ah[e.type]&&this._model&&(this[Ua]?this._pendingActions.push(e):(F1.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&Ne.browser.weChat&&this._throttledZrFlush(),rh.call(this,t.silent),oh.call(this,t.silent))))},Hr.appendData=function(e){if(!this._disposed){var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0}},Hr.on=$l("on",!1),Hr.off=$l("off",!1),Hr.one=$l("one",!1);var mk=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function W1(e,t){var n=e.get("z"),i=e.get("zlevel");t.group.traverse(function(o){"group"!==o.type&&(null!=n&&(o.z=n),null!=i&&(o.zlevel=i))})}function ng(){}Hr._initEvents=function(){To(mk,function(e){function t(n){var i,o=this.getModel(),a=n.target;if("globalout"===e)i={};else if(a&&null!=a.dataIndex){var s=a.dataModel||o.getSeriesByIndex(a.seriesIndex);i=s&&s.getDataParams(a.dataIndex,a.dataType,a)||{}}else a&&a.eventData&&(i=ue({},a.eventData));if(i){var l=i.componentType,u=i.componentIndex;"markLine"!==l&&"markPoint"!==l&&"markArea"!==l||(l="series",u=i.seriesIndex);var c=l&&null!=u&&o.getComponent(l,u),d=c&&this["series"===c.mainType?"_chartsMap":"_componentsMap"][c.__viewId];i.event=n,i.type=e,this._ecEventProcessor.eventInfo={targetEl:a,packedEvent:i,model:c,view:d},this.trigger(e,i)}}t.zrEventfulCallAtLast=!0,this._zr.on(e,t,this)},this),To(sh,function(e,t){this._messageCenter.on(t,function(n){this.trigger(t,n)},this)},this)},Hr.isDisposed=function(){return this._disposed},Hr.clear=function(){this._disposed||this.setOption({series:[]},!0)},Hr.dispose=function(){if(!this._disposed){this._disposed=!0,P0(this.getDom(),og,"");var e=this._api,t=this._model;To(this._componentsViews,function(n){n.dispose(t,e)}),To(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete ul[this.id]}},Te(ic,Ar),ng.prototype={constructor:ng,normalizeQuery:function(e){var t={},n={},i={};if(Je(e)){var o=Jp(e);t.mainType=o.main||null,t.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};ce(e,function(l,u){for(var c=!1,d=0;d<a.length;d++){var h=a[d],f=u.lastIndexOf(h);if(0<f&&f===u.length-h.length){var p=u.slice(0,f);"data"!==p&&(t.mainType=p,t[h.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:t,dataQuery:n,otherQuery:i}},filter:function(e,t,n){var i=this.eventInfo;if(!i)return!0;var o=i.targetEl,a=i.packedEvent,s=i.model,l=i.view;if(!s||!l)return!0;var u=t.cptQuery,c=t.dataQuery;return d(u,s,"mainType")&&d(u,s,"subType")&&d(u,s,"index","componentIndex")&&d(u,s,"name")&&d(u,s,"id")&&d(c,a,"name")&&d(c,a,"dataIndex")&&d(c,a,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(e,t.otherQuery,o,a));function d(h,f,p,v){return null==h[p]||f[v||p]===h[p]}},afterTrigger:function(){this.eventInfo=null}};var ah={},sh={},ig=[],G1=[],j1=[],lh=[],U1={},rg={},ul={},uh={},vk=new Date-0,yk=new Date-0,og="_echarts_instance_";function q1(e){uh[e]=!1}var xk=q1;function ag(e){return ul[function(t,n){return t.getAttribute?t.getAttribute(n):t[n]}(e,og)]}function sg(e,t){U1[e]=t}function Bo(e){G1.push(e)}function ua(e,t){ug(ig,e,t,1e3)}function Lr(e,t,n){"function"==typeof t&&(n=t,t="");var i=tc(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase(),t=e.event,pk(R1.test(i)&&R1.test(t)),ah[i]||(ah[i]={action:n,actionInfo:e}),sh[t]=i}function lg(e,t){Ho.register(e,t)}function ho(e,t){ug(lh,e,t,1e3,"layout")}function eo(e,t){ug(lh,e,t,3e3,"visual")}function ug(e,t,n,i,o){(gk(t)||tc(t))&&(n=t,t=i);var a=Jd.wrapStageHandler(n,o);return a.__prio=t,a.__raw=n,e.push(a),a}function Y1(e,t){rg[e]=t}function ca(e){return Or.extend(e)}function Ao(e){return Ga.extend(e)}function ch(e){return co.extend(e)}function na(e){return No.extend(e)}function X1(e){return e}function rs(e,t,n,i,o){this._old=e,this._new=t,this._oldKeyGetter=n||X1,this._newKeyGetter=i||X1,this.context=o}function Z1(e,t,n,i,o){for(var a=0;a<e.length;a++){var s="_ec_"+o[i](e[a],a),l=t[s];null==l?(n.push(s),t[s]=a):(l.length||(t[s]=l=[l]),l.push(a))}}eo(2e3,KM),Bo(r1),ua(900,function(e){var t=bn();e.eachSeries(function(n){var i=n.get("stack");if(i){var o=t.get(i)||t.set(i,[]),a=n.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:n};if(!s.stackedDimension||!s.isStackedByIndex&&!s.stackedByDimension)return;o.length&&a.setCalculationInfo("stackedOnSeries",o[o.length-1].seriesModel),o.push(s)}}),t.each(BM)}),Y1("default",function(e,t){be(t=t||{},{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new E,i=new Rr({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(i);var o=t.fontSize+" sans-serif",a=new Rr({style:{fill:"none",text:t.text,font:o,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(n.add(a),t.showSpinner){var s=new lp({shape:{startAngle:-Kd/2,endAngle:-Kd/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});s.animateShape(!0).when(1e3,{endAngle:3*Kd/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:3*Kd/2}).delay(300).start("circularInOut"),n.add(s)}return n.resize=function(){var l=vi(t.text,o),u=t.showSpinner?t.spinnerRadius:0,c=(e.getWidth()-2*u-(t.showSpinner&&l?10:0)-l)/2-(t.showSpinner?0:l/2),d=e.getHeight()/2;t.showSpinner&&s.setShape({cx:c,cy:d}),a.setShape({x:c-u,y:d-u,width:2*u,height:2*u}),i.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}),Lr({type:"highlight",event:"highlight",update:"highlight"},fn),Lr({type:"downplay",event:"downplay",update:"downplay"},fn),sg("light",sk),sg("dark",A1),rs.prototype={constructor:rs,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e=this._old,t=this._new,n={},i=[],o=[];for(Z1(e,{},i,"_oldKeyGetter",this),Z1(t,n,o,"_newKeyGetter",this),a=0;a<e.length;a++)null!=(l=n[s=i[a]])?((c=l.length)?(1===c&&(n[s]=null),l=l.shift()):n[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a);for(var a=0;a<o.length;a++){var s=o[a];if(n.hasOwnProperty(s)){var l;if(null==(l=n[s]))continue;if(l.length)for(var u=0,c=l.length;u<c;u++)this._add&&this._add(l[u]);else this._add&&this._add(l)}}}};var $1=bn(["tooltip","label","itemName","itemId","seriesName"]);function cg(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function dh(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function oc(e){null!=e&&ue(this,e),this.otherDims={}}var hh=st,ac="undefined",bk={float:typeof Float64Array==ac?Array:Float64Array,int:typeof Int32Array==ac?Array:Int32Array,ordinal:Array,number:Array,time:Array},_k=typeof Uint32Array==ac?Array:Uint32Array,wk=typeof Int32Array==ac?Array:Int32Array,Sk=typeof Uint16Array==ac?Array:Uint16Array;function fh(e){return 65535<e._rawCount?_k:Sk}var Ck=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Mk=["_extent","_approximateExtent","_rawExtent"];function K1(e,t){ce(Ck.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,ce(Mk,function(n){e[n]=U(t[n])}),e._calculationInfo=ue(t._calculationInfo)}var Io=function(e,t){e=e||["x","y"];for(var n={},i=[],o={},a=0;a<e.length;a++){var s=e[a];Je(s)?s=new oc({name:s}):s instanceof oc||(s=new oc(s));var l=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=l,s.coordDimIndex=0),s.otherDims=s.otherDims||{},i.push(l),(n[l]=s).index=a,s.createInvertedIndices&&(o[l]=[])}this.dimensions=i,this._dimensionInfos=n,this.hostModel=t,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=function(u){var c={},d=c.encode={},h=bn(),f=[],p=[],v=c.userOutput={dimensionNames:u.dimensions.slice(),encode:{}};ce(u.dimensions,function(ae){var Le,we=u.getDimensionInfo(ae),_e=we.coordDim;if(_e){var Ce=we.coordDimIndex;cg(d,_e)[Ce]=ae,we.isExtraCoord||(h.set(_e,1),!("ordinal"===(Le=we.type)||"time"===Le)&&(f[0]=ae),cg(v.encode,_e)[Ce]=we.index),we.defaultTooltip&&p.push(ae)}$1.each(function(Le,Fe){var at=cg(d,Fe),pt=we.otherDims[Fe];null!=pt&&!1!==pt&&(at[pt]=we.name)})});var F=[],P={};h.each(function(ae,we){var _e=d[we];P[we]=_e[0],F=F.concat(_e)}),c.dataDimsOnCoord=F,c.encodeFirstDimNotExtra=P;var ee=d.label;ee&&ee.length&&(f=ee.slice());var le=d.tooltip;return le&&le.length?p=le.slice():p.length||(p=f.slice()),d.defaultedLabel=f,d.defaultedTooltip=p,c}(this),this._invertedIndicesMap=o,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},lr=Io.prototype;function J1(e,t,n,i,o){var a=bk[t.type],s=i-1,l=t.name,u=e[l][s];if(u&&u.length<n){for(var c=new a(Math.min(o-s*n,n)),d=0;d<u.length;d++)c[d]=u[d];e[l][s]=c}for(var h=i*n;h<o;h+=n)e[l].push(new a(Math.min(o-h,n)))}function Q1(e){var t=e._invertedIndicesMap;ce(t,function(n,i){var o=e._dimensionInfos[i].ordinalMeta;if(o){n=t[i]=new wk(o.categories.length);for(var a=0;a<n.length;a++)n[a]=-1;for(a=0;a<e._count;a++)n[e.get(i,a)]=a}})}function ex(e,t,n){var i;if(null!=t){var o=e._chunkSize,a=Math.floor(n/o),l=e.dimensions[t],u=e._storage[l][a];if(u){i=u[n%o];var c=e._dimensionInfos[l].ordinalMeta;c&&c.categories.length&&(i=c.categories[i])}}return i}function sc(e){return e}function lc(e){return e<this._count&&0<=e?this._indices[e]:-1}function dg(e,t){var n=e._idList[t];return null==n&&(n=ex(e,e._idDimIdx,t)),null==n&&(n="e\0\0"+t),n}function hg(e){return ze(e)||(e=[e]),e}function tx(e,t){var n=e.dimensions,i=new Io(Oe(n,e.getDimensionInfo,e),e.hostModel);K1(i,e);for(var o=i._storage={},a=e._storage,s=0;s<n.length;s++){var l=n[s];a[l]&&(0<=Ge(t,l)?(o[l]=kk(a[l]),i._rawExtent[l]=[1/0,-1/0],i._extent[l]=null):o[l]=a[l])}return i}function kk(e){for(var t,n,i=new Array(e.length),o=0;o<e.length;o++)i[o]=(n=void 0,(n=(t=e[o]).constructor)===Array?t.slice():new n(t));return i}function Tk(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType}function nx(e,t,n){Ia.isInstance(t)||(t=Ia.seriesDataToSource(t)),n=n||{},e=(e||[]).slice();for(var i=(n.dimsDef||[]).slice(),o=bn(),a=bn(),s=[],l=function(Ce,Le,Fe,at){var pt=Math.max(Ce.dimensionsDetectCount||1,Le.length,Fe.length,at||0);return ce(Le,function(wt){var Rt=wt.dimsDef;Rt&&(pt=Math.max(pt,Rt.length))}),pt}(t,e,i,n.dimCount),u=0;u<l;u++){var c=i[u]=ue({},st(i[u])?i[u]:{name:i[u]}),d=c.name,h=s[u]=new oc;null!=d&&null==o.get(d)&&(h.name=h.displayName=d,o.set(d,u)),null!=c.type&&(h.type=c.type),null!=c.displayName&&(h.displayName=c.displayName)}var f=n.encodeDef;!f&&n.encodeDefaulter&&(f=n.encodeDefaulter(t,l)),(f=bn(f)).each(function(Ce,Le){if(1===(Ce=Po(Ce).slice()).length&&!Je(Ce[0])&&Ce[0]<0)f.set(Le,!1);else{var Fe=f.set(Le,[]);ce(Ce,function(at,pt){Je(at)&&(at=o.get(at)),null!=at&&at<l&&(Fe[pt]=at,v(s[at],Le,pt))})}});var p=0;function v(Ce,Le,Fe){null!=$1.get(Le)?Ce.otherDims[Le]=Fe:(Ce.coordDim=Le,Ce.coordDimIndex=Fe,a.set(Le,!0))}ce(e,function(Ce,Le){var Fe,at,pt;if(Je(Ce))Fe=Ce,Ce={};else{Fe=Ce.name;var wt=Ce.ordinalMeta;Ce.ordinalMeta=null,(Ce=U(Ce)).ordinalMeta=wt,at=Ce.dimsDef,pt=Ce.otherDims,Ce.name=Ce.coordDim=Ce.coordDimIndex=Ce.dimsDef=Ce.otherDims=null}if(!1!==(Rt=f.get(Fe))){var Rt;if(!(Rt=Po(Rt)).length)for(var Ot=0;Ot<(at&&at.length||1);Ot++){for(;p<s.length&&null!=s[p].coordDim;)p++;p<s.length&&Rt.push(p++)}ce(Rt,function(Wt,Qt){var rn=s[Wt];if(v(be(rn,Ce),Fe,Qt),null==rn.name&&at){var $t=at[Qt];st($t)||($t={name:$t}),rn.name=rn.displayName=$t.name,rn.defaultTooltip=$t.defaultTooltip}pt&&be(rn.otherDims,pt)})}});var F=n.generateCoord,P=n.generateCoordCount,ee=null!=P;P=F?P||1:0;for(var le,we=F||"value",_e=0;_e<l;_e++)null==(h=s[_e]=s[_e]||new oc).coordDim&&(h.coordDim=ix(we,a,ee),h.coordDimIndex=0,(!F||P<=0)&&(h.isExtraCoord=!0),P--),null==h.name&&(h.name=ix(h.coordDim,o)),null==h.type&&(Ky((le=t).data,le.sourceFormat,le.seriesLayoutBy,le.dimensionsDefine,le.startIndex,_e)===Vo.Must||h.isExtraCoord&&(null!=h.otherDims.itemName||null!=h.otherDims.seriesName))&&(h.type="ordinal");return s}function ix(e,t,n){if(n||null!=t.get(e)){for(var i=0;null!=t.get(e+i);)i++;e+=i}return t.set(e,!0),e}lr.type="list",lr.hasItemOption=!0,lr.getDimension=function(e){return"number"!=typeof e&&(isNaN(e)||this._dimensionInfos.hasOwnProperty(e))||(e=this.dimensions[e]),e},lr.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},lr.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},lr.mapDimension=function(e,t){var n=this._dimensionsSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return!0===t?(i||[]).slice():i&&i[t]},lr.initData=function(e,t,n){(Ia.isInstance(e)||Ue(e))&&(e=new o1(e,this.dimensions.length)),this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=l1[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=l1.arrayRows,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},lr.getProvider=function(){return this._rawData},lr.appendData=function(e){var t=this._rawData,n=this.count();t.appendData(e);var i=t.count();t.persistent||(i+=n),this._initDataFromProvider(n,i)},lr.appendValues=function(e,t){for(var n=this._chunkSize,i=this._storage,o=this.dimensions,a=o.length,s=this._rawExtent,l=this.count(),u=l+Math.max(e.length,t?t.length:0),c=this._chunkCount,d=0;d<a;d++)s[ee=o[d]]||(s[ee]=[1/0,-1/0]),i[ee]||(i[ee]=[]),J1(i,this._dimensionInfos[ee],n,c,u),this._chunkCount=i[ee].length;for(var h=new Array(a),f=l;f<u;f++){for(var p=f-l,v=Math.floor(f/n),F=f%n,P=0;P<a;P++){var ee=o[P],le=this._dimValueGetterArrayRows(e[p]||h,ee,p,P);i[ee][v][F]=le;var ae=s[ee];le<ae[0]&&(ae[0]=le),le>ae[1]&&(ae[1]=le)}t&&(this._nameList[f]=t[p])}this._rawCount=this._count=u,this._extent={},Q1(this)},lr._initDataFromProvider=function(e,t){if(!(t<=e)){for(var n,i=this._chunkSize,o=this._rawData,a=this._storage,s=this.dimensions,l=s.length,u=this._dimensionInfos,c=this._nameList,d=this._idList,h=this._rawExtent,f=this._nameRepeatCount={},p=this._chunkCount,v=0;v<l;v++){h[_e=s[v]]||(h[_e]=[1/0,-1/0]);var F=u[_e];0===F.otherDims.itemName&&(n=this._nameDimIdx=v),0===F.otherDims.itemId&&(this._idDimIdx=v),a[_e]||(a[_e]=[]),J1(a,F,i,p,t),this._chunkCount=a[_e].length}for(var P=new Array(l),ee=e;ee<t;ee++){P=o.getItem(ee,P);for(var le=Math.floor(ee/i),ae=ee%i,we=0;we<l;we++){var _e,Ce=a[_e=s[we]][le],Le=this._dimValueGetter(P,_e,ee,we);Ce[ae]=Le;var Fe=h[_e];Le<Fe[0]&&(Fe[0]=Le),Le>Fe[1]&&(Fe[1]=Le)}if(!o.pure){var at=c[ee];if(P&&null==at)if(null!=P.name)c[ee]=at=P.name;else if(null!=n){var pt=s[n],wt=a[pt][le];if(wt){at=wt[ae];var Rt=u[pt].ordinalMeta;Rt&&Rt.categories.length&&(at=Rt.categories[at])}}var Ot=null==P?null:P.id;null==Ot&&null!=at&&(f[at]=f[at]||0,0<f[Ot=at]&&(Ot+="__ec__"+f[at]),f[at]++),null!=Ot&&(d[ee]=Ot)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=t,this._extent={},Q1(this)}},lr.count=function(){return this._count},lr.getIndices=function(){var e=this._indices;if(e){var t=e.constructor,n=this._count;if(t===Array){o=new t(n);for(var i=0;i<n;i++)o[i]=e[i]}else o=new t(e.buffer,0,n)}else{var o=new(t=fh(this))(this.count());for(i=0;i<o.length;i++)o[i]=i}return o},lr.get=function(e,t){if(!(0<=t&&t<this._count))return NaN;var n=this._storage;if(!n[e])return NaN;t=this.getRawIndex(t);var i=Math.floor(t/this._chunkSize);return n[e][i][t%this._chunkSize]},lr.getByRawIndex=function(e,t){if(!(0<=t&&t<this._rawCount))return NaN;var n=this._storage[e];return n?n[Math.floor(t/this._chunkSize)][t%this._chunkSize]:NaN},lr._getFast=function(e,t){var n=Math.floor(t/this._chunkSize);return this._storage[e][n][t%this._chunkSize]},lr.getValues=function(e,t){var n=[];ze(e)||(t=e,e=this.dimensions);for(var i=0,o=e.length;i<o;i++)n.push(this.get(e[i],t));return n},lr.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,n=0,i=t.length;n<i;n++)if(isNaN(this.get(t[n],e)))return!1;return!0},lr.getDataExtent=function(e){e=this.getDimension(e);var n=[1/0,-1/0];if(!this._storage[e])return n;var i,o=this.count();if(!this._indices)return this._rawExtent[e].slice();if(i=this._extent[e])return i.slice();for(var a=(i=n)[0],s=i[1],l=0;l<o;l++){var u=this._getFast(e,this.getRawIndex(l));u<a&&(a=u),s<u&&(s=u)}return this._extent[e]=[a,s]},lr.getApproximateExtent=function(e){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e)},lr.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},lr.getCalculationInfo=function(e){return this._calculationInfo[e]},lr.setCalculationInfo=function(e,t){hh(e)?ue(this._calculationInfo,e):this._calculationInfo[e]=t},lr.getSum=function(e){var t=0;if(this._storage[e])for(var n=0,i=this.count();n<i;n++){var o=this.get(e,n);isNaN(o)||(t+=o)}return t},lr.getMedian=function(e){var t=[];this.each(e,function(o,a){isNaN(o)||t.push(o)});var n=[].concat(t).sort(function(o,a){return o-a}),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},lr.rawIndexOf=function(e,t){var n=(e&&this._invertedIndicesMap[e])[t];return null==n||isNaN(n)?-1:n},lr.indexOfName=function(e){for(var t=0,n=this.count();t<n;t++)if(this.getName(t)===e)return t;return-1},lr.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var i=0,o=this._count-1;i<=o;){var a=(i+o)/2|0;if(t[a]<e)i=1+a;else{if(!(t[a]>e))return a;o=a-1}}return-1},lr.indicesOfNearest=function(e,t,n){var i=[];if(!this._storage[e])return i;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,l=0,u=this.count();l<u;l++){var c=t-this.get(e,l),d=Math.abs(c);d<=n&&((d<o||d===o&&0<=c&&a<0)&&(o=d,a=c,s=0),c===a&&(i[s++]=l))}return i.length=s,i},lr.getRawIndex=sc,lr.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],n=0;n<this.dimensions.length;n++)t.push(this.get(this.dimensions[n],e));return t},lr.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||ex(this,this._nameDimIdx,t)||""},lr.getId=function(e){return dg(this,this.getRawIndex(e))},lr.each=function(e,t,n,i){if(this._count){"function"==typeof e&&(i=n,n=t,t=e,e=[]),n=n||i||this;for(var o=(e=Oe(hg(e),this.getDimension,this)).length,a=0;a<this.count();a++)switch(o){case 0:t.call(n,a);break;case 1:t.call(n,this.get(e[0],a),a);break;case 2:t.call(n,this.get(e[0],a),this.get(e[1],a),a);break;default:for(var s=0,l=[];s<o;s++)l[s]=this.get(e[s],a);l[s]=a,t.apply(n,l)}}},lr.filterSelf=function(e,t,n,i){if(this._count){"function"==typeof e&&(i=n,n=t,t=e,e=[]),n=n||i||this,e=Oe(hg(e),this.getDimension,this);for(var o=this.count(),a=new(fh(this))(o),s=[],l=e.length,u=0,c=e[0],d=0;d<o;d++){var h,f=this.getRawIndex(d);if(0===l)h=t.call(n,d);else if(1===l){var p=this._getFast(c,f);h=t.call(n,p,d)}else{for(var v=0;v<l;v++)s[v]=this._getFast(c,f);s[v]=d,h=t.apply(n,s)}h&&(a[u++]=f)}return u<o&&(this._indices=a),this._count=u,this._extent={},this.getRawIndex=this._indices?lc:sc,this}},lr.selectRange=function(e){if(this._count){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var i=t.length;if(i){var o=this.count(),a=new(fh(this))(o),s=0,l=t[0],u=e[l][0],c=e[l][1],d=!1;if(!this._indices){var h=0;if(1===i){for(var f=this._storage[t[0]],p=0;p<this._chunkCount;p++)for(var v=f[p],F=Math.min(this._count-p*this._chunkSize,this._chunkSize),P=0;P<F;P++)(u<=(_e=v[P])&&_e<=c||isNaN(_e))&&(a[s++]=h),h++;d=!0}else if(2===i){f=this._storage[l];var ee=this._storage[t[1]],le=e[t[1]][0],ae=e[t[1]][1];for(p=0;p<this._chunkCount;p++){v=f[p];var we=ee[p];for(F=Math.min(this._count-p*this._chunkSize,this._chunkSize),P=0;P<F;P++){var _e=v[P],Ce=we[P];(u<=_e&&_e<=c||isNaN(_e))&&(le<=Ce&&Ce<=ae||isNaN(Ce))&&(a[s++]=h),h++}}d=!0}}if(!d)if(1===i)for(P=0;P<o;P++){var Le=this.getRawIndex(P);(u<=(_e=this._getFast(l,Le))&&_e<=c||isNaN(_e))&&(a[s++]=Le)}else for(P=0;P<o;P++){var Fe=!0;for(Le=this.getRawIndex(P),p=0;p<i;p++){var at=t[p];((_e=this._getFast(n,Le))<e[at][0]||_e>e[at][1])&&(Fe=!1)}Fe&&(a[s++]=this.getRawIndex(P))}return s<o&&(this._indices=a),this._count=s,this._extent={},this.getRawIndex=this._indices?lc:sc,this}}},lr.mapArray=function(e,t,n,i){"function"==typeof e&&(i=n,n=t,t=e,e=[]);var o=[];return this.each(e,function(){o.push(t&&t.apply(this,arguments))},n=n||i||this),o},lr.map=function(e,t,n,i){n=n||i||this;var o=tx(this,e=Oe(hg(e),this.getDimension,this));o._indices=this._indices,o.getRawIndex=o._indices?lc:sc;for(var a=o._storage,s=[],l=this._chunkSize,u=e.length,c=this.count(),d=[],h=o._rawExtent,f=0;f<c;f++){for(var p=0;p<u;p++)d[p]=this.get(e[p],f);d[u]=f;var v=t&&t.apply(n,d);if(null!=v){"object"!=typeof v&&(s[0]=v,v=s);for(var F=this.getRawIndex(f),P=Math.floor(F/l),ee=F%l,le=0;le<v.length;le++){var ae=e[le],we=v[le],_e=h[ae],Ce=a[ae];Ce&&(Ce[P][ee]=we),we<_e[0]&&(_e[0]=we),we>_e[1]&&(_e[1]=we)}}}return o},lr.downSample=function(e,t,n,i){for(var o=tx(this,[e]),a=o._storage,s=[],l=Math.floor(1/t),u=a[e],c=this.count(),d=this._chunkSize,h=o._rawExtent[e],f=new(fh(this))(c),p=0,v=0;v<c;v+=l){c-v<l&&(s.length=l=c-v);for(var F=0;F<l;F++){var P=this.getRawIndex(v+F),ee=Math.floor(P/d);s[F]=u[ee][P%d]}var ae=n(s),we=this.getRawIndex(Math.min(v+i(s,ae)||0,c-1)),_e=we%d;(u[Math.floor(we/d)][_e]=ae)<h[0]&&(h[0]=ae),ae>h[1]&&(h[1]=ae),f[p++]=we}return o._count=p,o._indices=f,o.getRawIndex=lc,o},lr.getItemModel=function(e){var t=this.hostModel;return new Nr(this.getRawDataItem(e),t,t&&t.ecModel)},lr.diff=function(e){var t=this;return new rs(e?e.getIndices():[],this.getIndices(),function(n){return dg(e,n)},function(n){return dg(t,n)})},lr.getVisual=function(e){var t=this._visual;return t&&t[e]},lr.setVisual=function(e,t){if(hh(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},lr.setLayout=function(e,t){if(hh(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},lr.getLayout=function(e){return this._layout[e]},lr.getItemLayout=function(e){return this._itemLayouts[e]},lr.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?ue(this._itemLayouts[e]||{},t):t},lr.clearItemLayouts=function(){this._itemLayouts.length=0},lr.getItemVisual=function(e,t,n){var i=this._itemVisuals[e],o=i&&i[t];return null!=o||n?o:this.getVisual(t)},lr.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{},o=this.hasItemVisual;if(this._itemVisuals[e]=i,hh(t))for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a],o[a]=!0);else i[t]=n,o[t]=!0},lr.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}},lr.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(Tk,t)),this._graphicEls[e]=t},lr.getItemGraphicEl=function(e){return this._graphicEls[e]},lr.eachItemGraphicEl=function(e,t){ce(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},lr.cloneShallow=function(e){if(!e){var t=Oe(this.dimensions,this.getDimensionInfo,this);e=new Io(t,this.hostModel)}return e._storage=this._storage,K1(e,this),e._indices=this._indices?new(0,this._indices.constructor)(this._indices):null,e.getRawIndex=e._indices?lc:sc,e},lr.wrapMethod=function(e,t){var n=this[e];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return t.apply(this,[i].concat(gn(arguments)))})},lr.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],lr.CHANGABLE_METHODS=["filterSelf","selectRange"];var Kl=function(e,t){return nx((t=t||{}).coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})};function Ak(e){this.coordSysName=e,this.coordSysDims=[],this.axisMap=bn(),this.categoryAxisMap=bn(),this.firstCategoryDimIndex=null}var Ik={cartesian2d:function(e,t,n,i){var o=e.getReferringComponents("xAxis")[0],a=e.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"],n.set("x",o),n.set("y",a),Jl(o)&&(i.set("x",o),t.firstCategoryDimIndex=0),Jl(a)&&(i.set("y",a),t.firstCategoryDimIndex=1)},singleAxis:function(e,t,n,i){var o=e.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"],n.set("single",o),Jl(o)&&(i.set("single",o),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var o=e.getReferringComponents("polar")[0],a=o.findAxisModel("radiusAxis"),s=o.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",s),Jl(a)&&(i.set("radius",a),t.firstCategoryDimIndex=0),Jl(s)&&(i.set("angle",s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,i){var o=e.ecModel,a=o.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=a.dimensions.slice();ce(a.parallelAxisIndex,function(l,u){var c=o.getComponent("parallelAxis",l),d=s[u];n.set(d,c),Jl(c)&&null==t.firstCategoryDimIndex&&(i.set(d,c),t.firstCategoryDimIndex=u)})}};function Jl(e){return"category"===e.get("type")}function rx(e,t,n){var i,o,a,s,l=(n=n||{}).byIndex,u=n.stackedCoordDimension,c=!(!e||!e.get("stack"));if(ce(t,function(p,v){Je(p)&&(t[v]=p={name:p}),c&&!p.isExtraCoord&&(l||i||!p.ordinalMeta||(i=p),o||"ordinal"===p.type||"time"===p.type||u&&u!==p.coordDim||(o=p))}),!o||l||i||(l=!0),o){a="__\0ecstackresult",s="__\0ecstackedover",i&&(i.createInvertedIndices=!0);var d=o.coordDim,h=o.type,f=0;ce(t,function(p){p.coordDim===d&&f++}),t.push({name:a,coordDim:d,coordDimIndex:f,type:h,isExtraCoord:!0,isCalculationCoord:!0}),f++,t.push({name:s,coordDim:s,coordDimIndex:f,type:h,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:i&&i.name,isStackedByIndex:l,stackedOverDimension:s,stackResultDimension:a}}function os(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function uc(e,t){return os(e,t)?e.getCalculationInfo("stackResultDimension"):t}function as(e,t,n){n=n||{},Ia.isInstance(e)||(e=Ia.seriesDataToSource(e));var i,o=t.get("coordinateSystem"),a=Ho.get(o),s=function(p){var v=p.get("coordinateSystem"),F=new Ak(v),P=Ik[v];if(P)return P(p,F,F.axisMap,F.categoryAxisMap),F}(t);s&&(i=Oe(s.coordSysDims,function(p){var v={name:p},F=s.axisMap.get(p);if(F){var P=F.get("type");v.type=dh(P)}return v})),i=i||a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"];var l,u,c=Kl(e,{coordDimensions:i,generateCoord:n.generateCoord,encodeDefaulter:n.useEncodeDefaulter?xt($y,i,t):null});s&&ce(c,function(p,v){var P=s.categoryAxisMap.get(p.coordDim);P&&(null==l&&(l=v),p.ordinalMeta=P.getOrdinalMeta()),null!=p.otherDims.itemName&&(u=!0)}),u||null==l||(c[l].otherDims.itemName=0);var d=rx(t,c),h=new Io(c,t);h.setCalculationInfo(d);var f=null!=l&&function(p){if(p.sourceFormat===al){var v=function(F){for(var P=0;P<F.length&&null==F[P];)P++;return F[P]}(p.data||[]);return null!=v&&!ze(Du(v))}}(e)?function(p,v,F,P){return P===l?F:this.defaultDimValueGetter(p,v,F,P)}:null;return h.hasItemOption=!1,h.initData(e,null,f),h}function _o(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function cc(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication}_o.prototype.parse=function(e){return e},_o.prototype.getSetting=function(e){return this._setting[e]},_o.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},_o.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},_o.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},_o.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},_o.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},_o.prototype.getExtent=function(){return this._extent.slice()},_o.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},_o.prototype.isBlank=function(){return this._isBlank},_o.prototype.setBlank=function(e){this._isBlank=e},_o.prototype.getLabel=null,Eu(_o),pd(_o,{registerWhenExtend:!0}),cc.createByAxisModel=function(e){var t=e.option,n=t.data,i=n&&Oe(n,Dk);return new cc({categories:i,needCollect:!i,deduplication:!1!==t.dedplication})};var ox=cc.prototype;function ax(e){return e._map||(e._map=bn(e.categories))}function Dk(e){return st(e)&&null!=e.value?e.value:e+""}ox.getOrdinal=function(e){return ax(this).get(e)},ox.parseAndCollect=function(e){var t,n=this._needCollect;if("string"!=typeof e&&!n)return e;if(n&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var i=ax(this);return null==(t=i.get(e))&&(n?(this.categories[t=this.categories.length]=e,i.set(e,t)):t=NaN),t};var fg=_o.prototype,pg=_o.extend({type:"ordinal",init:function(e,t){e&&!ze(e)||(e=new cc({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return"string"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),fg.contain.call(this,e)&&null!=this._ordinalMeta.categories[e]},normalize:function(e){return fg.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(fg.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){if(!this.isBlank())return this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:fn,niceExtent:fn});pg.create=function(){return new pg};var sx=Mo;function lx(e){return zd(e)+2}function ux(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function cx(e,t){isFinite(e[0])||(e[0]=t[0]),isFinite(e[1])||(e[1]=t[1]),ux(e,0,t),ux(e,1,t),e[0]>e[1]&&(e[0]=e[1])}var Ql=Mo,qa=_o.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),qa.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=lx(e)},getTicks:function(e){var t=this._interval,n=this._extent,i=this._niceExtent,o=this._intervalPrecision,a=[];if(!t)return a;n[0]<i[0]&&a.push(e?Ql(i[0]-t,o):n[0]);for(var s=i[0];s<=i[1]&&(a.push(s),(s=Ql(s+t,o))!==a[a.length-1]);)if(1e4<a.length)return[];var l=a.length?a[a.length-1]:i[1];return n[1]>l&&a.push(e?Ql(l+t,o):n[1]),a},getMinorTicks:function(e){for(var t=this.getTicks(!0),n=[],i=this.getExtent(),o=1;o<t.length;o++){for(var s=t[o-1],l=0,u=[],c=(t[o]-s)/e;l<e-1;){var d=Mo(s+(l+1)*c);d>i[0]&&d<i[1]&&u.push(d),l++}n.push(u)}return n},getLabel:function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=zd(e)||0:"auto"===n&&(n=this._intervalPrecision),Ss(e=Ql(e,n,!0))},niceTicks:function(e,t,n){e=e||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var a=function(s,l,u,c){var d={},f=d.interval=wp((s[1]-s[0])/l,!0);null!=u&&f<u&&(f=d.interval=u),null!=c&&c<f&&(f=d.interval=c);var p=d.intervalPrecision=lx(f);return cx(d.niceTickExtent=[sx(Math.ceil(s[0]/f)*f,p),sx(Math.floor(s[1]/f)*f,p)],s),d}(i,e,t,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;isFinite(t[1]-t[0])||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval;e.fixMin||(t[0]=Ql(Math.floor(t[0]/o)*o)),e.fixMax||(t[1]=Ql(Math.ceil(t[1]/o)*o))}});qa.create=function(){return new qa};var gg="__ec_stack_",mg=typeof Float32Array<"u"?Float32Array:Array;function vg(e){return e.get("stack")||gg+e.seriesIndex}function yg(e){return e.dim+e.index}function dx(e,t){var n=[];return t.eachSeriesByType(e,function(i){gx(i)&&!mx(i)&&n.push(i)}),n}function xg(e){var t=function(i){var o={};ce(i,function(h){var f=h.coordinateSystem.getBaseAxis();if("time"===f.type||"value"===f.type)for(var p=h.getData(),v=f.dim+"_"+f.index,F=p.mapDimension(f.dim),P=0,ee=p.count();P<ee;++P){var le=p.get(F,P);o[v]?o[v].push(le):o[v]=[le]}});var a=[];for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];if(l){l.sort(function(h,f){return h-f});for(var u=null,c=1;c<l.length;++c){var d=l[c]-l[c-1];0<d&&(u=null===u?d:Math.min(u,d))}a[s]=u}}return a}(e),n=[];return ce(e,function(i){var o,a=i.coordinateSystem.getBaseAxis(),s=a.getExtent();if("category"===a.type)o=a.getBandWidth();else if("value"===a.type||"time"===a.type){var u=t[a.dim+"_"+a.index],c=Math.abs(s[1]-s[0]),d=a.scale.getExtent(),h=Math.abs(d[1]-d[0]);o=u?c/h*u:c}else{var f=i.getData();o=Math.abs(s[1]-s[0])/f.count()}var p=Mi(i.get("barWidth"),o),v=Mi(i.get("barMaxWidth"),o),F=Mi(i.get("barMinWidth")||1,o),P=i.get("barGap"),ee=i.get("barCategoryGap");n.push({bandWidth:o,barWidth:p,barMaxWidth:v,barMinWidth:F,barGap:P,barCategoryGap:ee,axisKey:yg(a),stackId:vg(i)})}),hx(n)}function hx(e){var t={};ce(e,function(i,o){var a=i.axisKey,s=i.bandWidth,l=t[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=l.stacks;t[a]=l;var c=i.stackId;u[c]||l.autoWidthCount++,u[c]=u[c]||{width:0,maxWidth:0};var d=i.barWidth;d&&!u[c].width&&(u[c].width=d,d=Math.min(l.remainedWidth,d),l.remainedWidth-=d);var h=i.barMaxWidth;h&&(u[c].maxWidth=h);var f=i.barMinWidth;f&&(u[c].minWidth=f);var p=i.barGap;null!=p&&(l.gap=p);var v=i.barCategoryGap;null!=v&&(l.categoryGap=v)});var n={};return ce(t,function(i,o){n[o]={};var a=i.stacks,s=i.bandWidth,l=Mi(i.categoryGap,s),u=Mi(i.gap,1),c=i.remainedWidth,d=i.autoWidthCount,h=(c-l)/(d+(d-1)*u);h=Math.max(h,0),ce(a,function(F){var P=F.maxWidth,ee=F.minWidth;if(F.width)le=F.width,P&&(le=Math.min(le,P)),ee&&(le=Math.max(le,ee)),F.width=le,c-=le+u*le,d--;else{var le=h;P&&P<le&&(le=Math.min(P,c)),ee&&le<ee&&(le=ee),le!==h&&(F.width=le,c-=le+u*le,d--)}}),h=(c-l)/(d+(d-1)*u),h=Math.max(h,0);var f,p=0;ce(a,function(F,P){F.width||(F.width=h),p+=(f=F).width*(1+u)}),f&&(p-=f.width*u);var v=-p/2;ce(a,function(F,P){n[o][P]=n[o][P]||{bandWidth:s,offset:v,width:F.width},v+=F.width*(1+u)})}),n}function fx(e,t,n){if(e&&t){var i=e[yg(t)];return null!=i&&null!=n&&(i=i[vg(n)]),i}}function px(e,t){var n=dx(e,t),i=xg(n),o={};ce(n,function(a){var s=a.getData(),l=a.coordinateSystem,u=l.getBaseAxis(),c=vg(a),d=i[yg(u)][c],h=d.offset,f=d.width,p=l.getOtherAxis(u),v=a.get("barMinHeight")||0;o[c]=o[c]||[],s.setLayout({bandWidth:d.bandWidth,offset:h,size:f});for(var F=s.mapDimension(p.dim),P=s.mapDimension(u.dim),ee=os(s,F),le=p.isHorizontal(),ae=vx(0,p),we=0,_e=s.count();we<_e;we++){var Ce,Le,Fe,at,pt,wt=s.get(F,we),Rt=s.get(P,we),Ot=0<=wt?"p":"n",Wt=ae;ee&&(o[c][Rt]||(o[c][Rt]={p:ae,n:ae}),Wt=o[c][Rt][Ot]),le?(Ce=Wt,Le=(pt=l.dataToPoint([wt,Rt]))[1]+h,Fe=pt[0]-ae,at=f,Math.abs(Fe)<v&&(Fe=(Fe<0?-1:1)*v),isNaN(Fe)||ee&&(o[c][Rt][Ot]+=Fe)):(Ce=(pt=l.dataToPoint([Rt,wt]))[0]+h,Le=Wt,Fe=f,at=pt[1]-ae,Math.abs(at)<v&&(at=(at<=0?-1:1)*v),isNaN(at)||ee&&(o[c][Rt][Ot]+=at)),s.setItemLayout(we,{x:Ce,y:Le,width:Fe,height:at})}},this)}var Ek={seriesType:"bar",plan:Xl(),reset:function(e){if(gx(e)&&mx(e)){var t=e.getData(),n=e.coordinateSystem,i=n.grid.getRect(),o=n.getBaseAxis(),a=n.getOtherAxis(o),s=t.mapDimension(a.dim),l=t.mapDimension(o.dim),u=a.isHorizontal(),c=u?0:1,d=fx(xg([e]),o,e).width;return.5<d||(d=.5),{progress:function(h,f){for(var p,v=h.count,F=new mg(2*v),P=new mg(2*v),ee=new mg(v),le=[],ae=[],we=0,_e=0;null!=(p=h.next());)ae[c]=f.get(s,p),ae[1-c]=f.get(l,p),le=n.dataToPoint(ae,null,le),P[we]=u?i.x+i.width:le[0],F[we++]=le[0],P[we]=u?le[1]:i.y+i.height,F[we++]=le[1],ee[_e++]=p;f.setLayout({largePoints:F,largeDataIndices:ee,largeBackgroundPoints:P,barWidth:d,valueAxisStart:vx(0,a),backgroundStart:u?i.x:i.y,valueAxisHorizontal:u})}}}}};function gx(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function mx(e){return e.pipelineContext&&e.pipelineContext.large}function vx(e,t){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}var Nk=qa.prototype,yx=Math.ceil,xx=Math.floor,ko=864e5,bg=qa.extend({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return kp(t[0],n,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=ko,t[1]+=ko),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-ko}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=Mo(xx(t[0]/i)*i)),e.fixMax||(t[1]=Mo(yx(t[1]/i)*i))},niceTicks:function(e,t,n){var i=this._extent,o=i[1]-i[0],a=o/(e=e||10);null!=t&&a<t&&(a=t),null!=n&&n<a&&(a=n);var s=_g.length,l=function(f,p,v,F){for(;v<F;){var P=v+F>>>1;f[P][1]<p?v=1+P:F=P}return v}(_g,a,0,s),u=_g[Math.min(l,s-1)],c=u[1];"year"===u[0]&&(c*=wp(o/c/e,!0));var d=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,h=[Math.round(yx((i[0]-d)/c)*c+d),Math.round(xx((i[1]-d)/c)*c+d)];cx(h,i),this._stepLvl=u,this._interval=c,this._niceExtent=h},parse:function(e){return+ju(e)}});ce(["contain","normalize"],function(e){bg.prototype[e]=function(t){return Nk[e].call(this,this.parse(t))}});var _g=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",ko],["MM-dd\nyyyy",2*ko],["MM-dd\nyyyy",3*ko],["MM-dd\nyyyy",4*ko],["MM-dd\nyyyy",5*ko],["MM-dd\nyyyy",6*ko],["week",7*ko],["MM-dd\nyyyy",864e6],["week",14*ko],["week",21*ko],["month",31*ko],["week",42*ko],["month",62*ko],["week",70*ko],["quarter",95*ko],["month",31*ko*4],["month",13392e6],["half-year",16416e6],["month",31*ko*8],["month",26784e6],["year",380*ko]];bg.create=function(e){return new bg({useUTC:e.ecModel.get("useUTC")})};var gh=_o.prototype,dc=qa.prototype,Lk=zd,Pk=Mo,Rk=Math.floor,Ok=Math.ceil,mh=Math.pow,Ya=Math.log,vh=_o.extend({type:"log",base:10,$constructor:function(){_o.apply(this,arguments),this._originalScale=new qa},getTicks:function(e){var t=this._originalScale,n=this._extent,i=t.getExtent();return Oe(dc.getTicks.call(this,e),function(o){var a=Mo(mh(this.base,o));return a=o===n[0]&&t.__fixMin?yh(a,i[0]):a,o===n[1]&&t.__fixMax?yh(a,i[1]):a},this)},getMinorTicks:dc.getMinorTicks,getLabel:dc.getLabel,scale:function(e){return e=gh.scale.call(this,e),mh(this.base,e)},setExtent:function(e,t){var n=this.base;e=Ya(e)/Ya(n),t=Ya(t)/Ya(n),dc.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=gh.getExtent.call(this);t[0]=mh(e,t[0]),t[1]=mh(e,t[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(t[0]=yh(t[0],i[0])),n.__fixMax&&(t[1]=yh(t[1],i[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=Ya(e[0])/Ya(t),e[1]=Ya(e[1])/Ya(t),gh.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n==1/0||n<=0)){var i=Py(n);for(e/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&0<Math.abs(i);)i*=10;var o=[Mo(Ok(t[0]/i)*i),Mo(Rk(t[1]/i)*i)];this._interval=i,this._niceExtent=o}},niceExtent:function(e){dc.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});function yh(e,t){return Pk(e,Lk(t))}function _x(e,t){var n,i,o,a=e.type,s=t.getMin(),l=t.getMax(),u=e.getExtent();"ordinal"===a?n=t.getCategories().length:(ze(i=t.get("boundaryGap"))||(i=[i||0,i||0]),"boolean"==typeof i[0]&&(i=[0,0]),i[0]=Mi(i[0],1),i[1]=Mi(i[1],1),o=u[1]-u[0]||Math.abs(u[0])),"dataMin"===s?s=u[0]:"function"==typeof s&&(s=s({min:u[0],max:u[1]})),"dataMax"===l?l=u[1]:"function"==typeof l&&(l=l({min:u[0],max:u[1]}));var c=null!=s,d=null!=l;null==s&&(s="ordinal"===a?n?0:NaN:u[0]-i[0]*o),null==l&&(l="ordinal"===a?n?n-1:NaN:u[1]+i[1]*o),null!=s&&isFinite(s)||(s=NaN),null!=l&&isFinite(l)||(l=NaN),e.setBlank(Nt(s)||Nt(l)||"ordinal"===a&&!e.getOrdinalMeta().categories.length),t.getNeedCrossZero()&&(0<s&&0<l&&!c&&(s=0),s<0&&l<0&&!d&&(l=0));var h=t.ecModel;if(h&&"time"===a){var f,p=dx("bar",h);if(ce(p,function(P){f|=P.getBaseAxis()===t.axis}),f){var v=xg(p),F=function(P,ee,le,ae){var we=le.axis.getExtent(),_e=we[1]-we[0],Ce=fx(ae,le.axis);if(void 0===Ce)return{min:P,max:ee};var Le=1/0;ce(Ce,function(Rt){Le=Math.min(Rt.offset,Le)});var Fe=-1/0;ce(Ce,function(Rt){Fe=Math.max(Rt.offset+Rt.width,Fe)}),Le=Math.abs(Le),Fe=Math.abs(Fe);var at=Le+Fe,pt=ee-P,wt=pt/(1-(Le+Fe)/_e)-pt;return{min:P-=Le/at*wt,max:ee+=Fe/at*wt}}(s,l,t,v);s=F.min,l=F.max}}return{extent:[s,l],fixMin:c,fixMax:d}}function Ds(e,t){var n=_x(e,t),i=n.extent,o=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase"));var a=e.type;e.setExtent(i[0],i[1]),e.niceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===a||"time"===a?t.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?t.get("maxInterval"):null});var s=t.get("interval");null!=s&&e.setInterval&&e.setInterval(s)}function eu(e,t){if(t=t||e.get("type"))switch(t){case"category":return new pg(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new qa;default:return(_o.getClass(t)||qa).create(e)}}function hc(e){var t,n=e.getLabelModel().get("formatter"),i="category"===e.type?e.scale.getExtent()[0]:null;return"string"==typeof n?(t=n,n=function(o){return o=e.scale.getLabel(o),t.replace("{value}",o??"")}):"function"==typeof n?function(o,a){return null!=i&&(a=o-i),n(wg(e,o),a)}:function(o){return e.scale.getLabel(o)}}function wg(e,t){return"category"===e.type?e.scale.getLabel(t):t}function Sg(e){return e.get("interval")??"auto"}function Sx(e){return"category"===e.type&&0===Sg(e.getLabelModel())}ce(["contain","normalize"],function(e){vh.prototype[e]=function(t){return t=Ya(t)/Ya(this.base),gh[e].call(this,t)}}),vh.create=function(){return new vh};var cl={getMin:function(e){var t=this.option,n=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!Nt(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(e){var t=this.option,n=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!Nt(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:fn,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Bk=xa({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.width/2,a=t.height/2;e.moveTo(n,i-a),e.lineTo(n+o,i+a),e.lineTo(n-o,i+a),e.closePath()}}),zk=xa({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.width/2,a=t.height/2;e.moveTo(n,i-a),e.lineTo(n+o,i),e.lineTo(n,i+a),e.lineTo(n-o,i),e.closePath()}}),Fk=xa({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,o=t.width/5*3,a=Math.max(o,t.height),s=o/2,l=s*s/(a-s),u=i-a+s+l,c=Math.asin(l/s),d=Math.cos(c)*s,h=Math.sin(c),f=Math.cos(c),p=.6*s,v=.7*s;e.moveTo(n-d,u+l),e.arc(n,u,s,Math.PI-c,2*Math.PI+c),e.bezierCurveTo(n+d-h*p,u+l+f*p,n,i-v,n,i),e.bezierCurveTo(n,i-v,n-d+h*p,u+l+f*p,n-d,u+l),e.closePath()}}),Vk=xa({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,o=t.x,a=t.y,s=t.width/3*2;e.moveTo(o,a),e.lineTo(o+s,a+n),e.lineTo(o,a+n/4*3),e.lineTo(o-s,a+n),e.lineTo(o,a),e.closePath()}}),Hk={line:function(e,t,n,i,o){o.x1=e,o.y1=t+i/2,o.x2=e+n,o.y2=t+i/2},rect:function(e,t,n,i,o){o.x=e,o.y=t,o.width=n,o.height=i},roundRect:function(e,t,n,i,o){o.x=e,o.y=t,o.width=n,o.height=i,o.r=Math.min(n,i)/4},square:function(e,t,n,i,o){var a=Math.min(n,i);o.x=e,o.y=t,o.width=a,o.height=a},circle:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.r=Math.min(n,i)/2},diamond:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.width=n,o.height=i},pin:function(e,t,n,i,o){o.x=e+n/2,o.y=t+i/2,o.width=n,o.height=i},arrow:function(e,t,n,i,o){o.x=e+n/2,o.y=t+i/2,o.width=n,o.height=i},triangle:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.width=n,o.height=i}},Cg={};ce({line:Ro,rect:Rr,roundRect:Rr,square:Rr,circle:Fa,diamond:zk,pin:Fk,arrow:Vk,triangle:Bk},function(e,t){Cg[t]=new e});var Wk=xa({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var i=Ri(e,t,n),o=this.shape;return o&&"pin"===o.symbolType&&"inside"===t.textPosition&&(i.y=n.y+.4*n.height),i},buildPath:function(e,t,n){var i=t.symbolType;if("none"!==i){var o=Cg[i];o=o||Cg[i="rect"],Hk[i](t.x,t.y,t.width,t.height,o.shape),o.buildPath(e,o.shape,n)}}});function Gk(e,t){if("image"!==this.type){var n=this.style,i=this.shape;i&&"line"===i.symbolType?n.stroke=e:this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff"):(n.fill&&(n.fill=e),n.stroke&&(n.stroke=e)),this.dirty(!1)}}function da(e,t,n,i,o,a,s){var l,u=0===e.indexOf("empty");return u&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(l=0===e.indexOf("image://")?gy(e.slice(8),new C(t,n,i,o),s?"center":"cover"):0===e.indexOf("path://")?Ed(e.slice(7),{},new C(t,n,i,o),s?"center":"cover"):new Wk({shape:{symbolType:e,x:t,y:n,width:i,height:o}})).__isEmptyBrush=u,l.setColor=Gk,l.setColor(a),l}var Uk=(Object.freeze||Object)({createList:function(e){return as(e.getSource(),e)},getLayoutRect:xo,dataStack:{isDimensionStacked:os,enableDataStack:rx,getStackedDimension:uc},createScale:function(e,t){var n=t;Nr.isInstance(t)||Te(n=new Nr(t),cl);var i=eu(n);return i.setExtent(e[0],e[1]),Ds(i,n),i},mixinAxisModelCommonMethods:function(e){Te(e,cl)},completeDimensions:nx,createDimensions:Kl,createSymbol:da}),qk=1e-8;function Cx(e,t){return Math.abs(e-t)<qk}function dl(e,t,n){var i=0,o=e[0];if(!o)return!1;for(var a=1;a<e.length;a++){var s=e[a];i+=es(o[0],o[1],s[0],s[1],t,n),o=s}var l=e[0];return Cx(o[0],l[0])&&Cx(o[1],l[1])||(i+=es(o[0],o[1],l[0],l[1],t,n)),0!==i}function fc(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}function Mx(e,t,n){for(var i=[],o=t[0],a=t[1],s=0;s<e.length;s+=2){var l=e.charCodeAt(s)-64,u=e.charCodeAt(s+1)-64;l=l>>1^-(1&l),u=u>>1^-(1&u),o=l+=o,a=u+=a,i.push([l/n,u/n])}return i}function Mg(e,t){return function(n){if(n.UTF8Encoding){var i=n.UTF8Scale;null==i&&(i=1024);for(var o=n.features,a=0;a<o.length;a++)for(var s=o[a].geometry,l=s.coordinates,u=s.encodeOffsets,c=0;c<l.length;c++){var d=l[c];if("Polygon"===s.type)l[c]=Mx(d,u[c],i);else if("MultiPolygon"===s.type)for(var h=0;h<d.length;h++)d[h]=Mx(d[h],u[c][h],i)}n.UTF8Encoding=!1}}(e),Oe(xe(e.features,function(n){return n.geometry&&n.properties&&0<n.geometry.coordinates.length}),function(n){var i=n.properties,o=n.geometry,a=o.coordinates,s=[];"Polygon"===o.type&&s.push({type:"polygon",exterior:a[0],interiors:a.slice(1)}),"MultiPolygon"===o.type&&ce(a,function(u){u[0]&&s.push({type:"polygon",exterior:u[0],interiors:u.slice(1)})});var l=new fc(i[t||"name"],s,i.cp);return l.properties=i,l})}fc.prototype={constructor:fc,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],i=[-t,-t],o=[],a=[],s=this.geometries,l=0;l<s.length;l++)"polygon"===s[l].type&&(Nu(s[l].exterior,o,a),Jr(n,n,o),hr(i,i,a));return 0===l&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new C(n[0],n[1],i[0]-n[0],i[1]-n[1])},contain:function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,o=n.length;i<o;i++)if("polygon"===n[i].type){var s=n[i].interiors;if(dl(n[i].exterior,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++)if(dl(s[l]))continue e;return!0}}return!1},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=o.width/o.height;n?i=i||n/a:n=a*i;for(var s=new C(e,t,n,i),l=o.calculateTransform(s),u=this.geometries,c=0;c<u.length;c++)if("polygon"===u[c].type){for(var d=u[c].exterior,h=u[c].interiors,f=0;f<d.length;f++)cr(d[f],d[f],l);for(var p=0;p<(h?h.length:0);p++)for(f=0;f<h[p].length;f++)cr(h[p][f],h[p][f],l)}(o=this._rect).copy(s),this.center=[o.x+o.width/2,o.y+o.height/2]},cloneShallow:function(e){null==e&&(e=this.name);var t=new fc(e,this.geometries,this.center);return t._rect=this._rect,t.transformTo=null,t}};var pc=$o();function kx(e,t){var n,s,i=Tx(e,"labels"),o=Sg(t);return Ax(i,o)||Ix(i,o,{labels:Xe(o)?Ex(e,o):Dx(e,n="auto"===o?(s=e,pc(s).autoInterval??(pc(s).autoInterval=s.calculateCategoryInterval())):o),labelCategoryInterval:n})}function Tx(e,t){return pc(e)[t]||(pc(e)[t]=[])}function Ax(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function Ix(e,t,n){return e.push({key:t,value:n}),n}function Dx(e,t,n){var i=hc(e),o=e.scale,a=o.getExtent(),s=e.getLabelModel(),l=[],u=Math.max((t||0)+1,1),c=a[0],d=o.count();0!==c&&1<u&&2<d/u&&(c=Math.round(Math.ceil(c/u)*u));var h=Sx(e),f=s.get("showMinLabel")||h,p=s.get("showMaxLabel")||h;f&&c!==a[0]&&F(a[0]);for(var v=c;v<=a[1];v+=u)F(v);function F(P){l.push(n?P:{formattedLabel:i(P),rawLabel:o.getLabel(P),tickValue:P})}return p&&v-u!==a[1]&&F(a[1]),l}function Ex(e,t,n){var i=e.scale,o=hc(e),a=[];return ce(i.getTicks(),function(s){var l=i.getLabel(s);t(s,l)&&a.push(n?s:{formattedLabel:o(s),rawLabel:l,tickValue:s})}),a}var Nx=[0,1],wo=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};function Lx(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}wo.prototype={constructor:wo,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return n<=e&&e<=i},containData:function(e){return this.scale.contain(e)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return yp(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&Lx(n=n.slice(),i.count()),io(e,Nx,n,t)},coordToData:function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&Lx(n=n.slice(),i.count());var o=io(e,n,Nx,t);return this.scale.scale(o)},pointToData:function(e,t){},getTicksCoords:function(e){var t=(e=e||{}).tickModel||this.getTickModel(),n=Oe(function Xk(e,t){return"category"===e.type?function(n,i){var o,a,s=Tx(n,"ticks"),l=Sg(i),u=Ax(s,l);if(u)return u;if(i.get("show")&&!n.scale.isBlank()||(o=[]),Xe(l))o=Ex(n,l,!0);else if("auto"===l){var c=kx(n,n.getLabelModel());a=c.labelCategoryInterval,o=Oe(c.labels,function(d){return d.tickValue})}else o=Dx(n,a=l,!0);return Ix(s,l,{ticks:o,tickCategoryInterval:a})}(e,t):{ticks:e.scale.getTicks()}}(this,t).ticks,function(i){return{coord:this.dataToCoord(i),tickValue:i}},this);return function(i,o,a,s){var l=o.length;if(i.onBand&&!a&&l){var u,d=i.getExtent();if(1===l)o[0].coord=d[0],u=o[1]={coord:d[0]};else{var f=(o[l-1].coord-o[0].coord)/(o[l-1].tickValue-o[0].tickValue);ce(o,function(P){P.coord-=f/2});var p=i.scale.getExtent();o.push(u={coord:o[l-1].coord+f*(1+p[1]-o[l-1].tickValue)})}var v=d[0]>d[1];F(o[0].coord,d[0])&&(s?o[0].coord=d[0]:o.shift()),s&&F(d[0],o[0].coord)&&o.unshift({coord:d[0]}),F(d[1],u.coord)&&(s?u.coord=d[1]:o.pop()),s&&F(u.coord,d[1])&&o.push({coord:d[1]})}function F(P,ee){return P=Mo(P),ee=Mo(ee),v?ee<P:P<ee}}(this,n,t.get("alignWithLabel"),e.clamp),n},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return 0<e&&e<100||(e=5),Oe(this.scale.getMinorTicks(e),function(t){return Oe(t,function(n){return{coord:this.dataToCoord(n),tickValue:n}},this)},this)},getViewLabels:function(){return function Yk(e){return"category"===e.type?function(t){var n=t.getLabelModel(),i=kx(t,n);return!n.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(e):function(t){var n=t.scale.getTicks(),i=hc(t);return{labels:Oe(n,function(o,a){return{formattedLabel:i(o,a),rawLabel:t.scale.getLabel(o),tickValue:o}})}}(e)}(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return function(e){var Fe,at,t=(at=(Fe=e).getLabelModel(),{axisRotate:Fe.getRotate?Fe.getRotate():Fe.isHorizontal&&!Fe.isHorizontal()?90:0,labelRotate:at.get("rotate")||0,font:at.getFont()}),n=hc(e),i=(t.axisRotate-t.labelRotate)/180*Math.PI,o=e.scale,a=o.getExtent(),s=o.count();if(a[1]-a[0]<1)return 0;var l=1;40<s&&(l=Math.max(1,Math.floor(s/40)));for(var u=a[0],c=e.dataToCoord(u+1)-e.dataToCoord(u),d=Math.abs(c*Math.cos(i)),h=Math.abs(c*Math.sin(i)),f=0,p=0;u<=a[1];u+=l){var F,P=yi(n(u),t.font,"center","top");F=1.3*P.height,f=Math.max(f,1.3*P.width,7),p=Math.max(p,F,7)}var ee=f/d,le=p/h;isNaN(ee)&&(ee=1/0),isNaN(le)&&(le=1/0);var ae=Math.max(0,Math.floor(Math.min(ee,le))),we=pc(e.model),_e=e.getExtent(),Ce=we.lastAutoInterval,Le=we.lastTickCount;return null!=Ce&&null!=Le&&Math.abs(Ce-ae)<=1&&Math.abs(Le-s)<=1&&ae<Ce&&we.axisExtend0===_e[0]&&we.axisExtend1===_e[1]?ae=Ce:(we.lastTickCount=s,we.lastAutoInterval=ae,we.axisExtend0=_e[0],we.axisExtend1=_e[1]),ae}(this)}};var Zk=Mg,Px={};ce(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){Px[e]=Wn[e]});var Rx={};function xh(e,t){var n=e.mapDimension("defaultedLabel",!0),i=n.length;if(1===i)return ll(e,t,n[0]);if(i){for(var o=[],a=0;a<n.length;a++){var s=ll(e,t,n[a]);o.push(s)}return o.join(" ")}}function Es(e,t,n){E.call(this),this.updateData(e,t,n)}ce(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(e){Rx[e]=ts[e]}),co.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return as(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Ea=Es.prototype,$k=Es.getSymbolSize=function(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};function kg(e){return[e[0]/2,e[1]/2]}function Kk(e,t){this.parent.drift(e,t)}Ea._createSymbol=function(e,t,n,i,o){this.removeAll();var a=da(e,-1,-1,2,2,t.getItemVisual(n,"color"),o);a.attr({z2:100,culling:!0,scale:kg(i)}),a.drift=Kk,this._symbolType=e,this.add(a)},Ea.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},Ea.getSymbolPath=function(){return this.childAt(0)},Ea.getScale=function(){return this.childAt(0).scale},Ea.highlight=function(){this.childAt(0).trigger("emphasis")},Ea.downplay=function(){this.childAt(0).trigger("normal")},Ea.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},Ea.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},Ea.updateData=function(e,t,n){this.silent=!1;var i=e.getItemVisual(t,"symbol")||"circle",o=e.hostModel,a=$k(e,t),s=i!==this._symbolType;if(s){var l=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(i,e,t,a,l)}else(u=this.childAt(0)).silent=!1,xr(u,{scale:kg(a)},o,t);if(this._updateCommon(e,t,a,n),s){var u=this.childAt(0),c=n&&n.fadeIn,d={scale:u.scale.slice()};c&&(d.style={opacity:u.style.opacity}),u.scale=[0,0],c&&(u.style.opacity=0),Fo(u,d,o,t)}this._seriesModel=o};var Jk=["itemStyle"],Qk=["emphasis","itemStyle"],eT=["label"],tT=["emphasis","label"];function nT(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var n=this.__symbolOriginalScale,i=n[1]/n[0],o={scale:[Math.max(1.1*n[0],n[0]+3),Math.max(1.1*n[1],n[1]+3*i)]};this.animateTo(o,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function tu(e){this.group=new E,this._symbolCtor=e||Es}Ea._updateCommon=function(e,t,n,i){var o=this.childAt(0),a=e.hostModel,s=e.getItemVisual(t,"color");"image"!==o.type?o.useStyle({strokeNoScale:!0}):o.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var l=i&&i.itemStyle,u=i&&i.hoverItemStyle,c=i&&i.symbolOffset,d=i&&i.labelModel,h=i&&i.hoverLabelModel,f=i&&i.hoverAnimation,p=i&&i.cursorStyle;if(!i||e.hasItemOption){var v=i&&i.itemModel?i.itemModel:e.getItemModel(t);l=v.getModel(Jk).getItemStyle(["color"]),u=v.getModel(Qk).getItemStyle(),c=v.getShallow("symbolOffset"),d=v.getModel(eT),h=v.getModel(tT),f=v.getShallow("hoverAnimation"),p=v.getShallow("cursor")}else u=ue({},u);var F=o.style,P=e.getItemVisual(t,"symbolRotate");o.attr("rotation",(P||0)*Math.PI/180||0),c&&o.attr("position",[Mi(c[0],n[0]),Mi(c[1],n[1])]),p&&o.attr("cursor",p),o.setColor(s,i&&i.symbolInnerColor),o.setStyle(l);var ee=e.getItemVisual(t,"opacity");null!=ee&&(F.opacity=ee);var le=e.getItemVisual(t,"liftZ"),ae=o.__z2Origin;null!=le?null==ae&&(o.__z2Origin=o.z2,o.z2+=le):null!=ae&&(o.z2=ae,o.__z2Origin=null);var we=i&&i.useNameLabel;sa(F,u,d,h,{labelFetcher:a,labelDataIndex:t,defaultText:function(_e,Ce){return we?e.getName(_e):xh(e,_e)},isRectText:!0,autoColor:s}),o.__symbolOriginalScale=kg(n),o.hoverStyle=u,o.highDownOnUpdate=f&&a.isAnimationEnabled()?nT:null,no(o)},Ea.fadeOut=function(e,t){var n=this.childAt(0);this.silent=n.silent=!0,t&&t.keepLabel||(n.style.text=null),xr(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},ye(Es,E);var nu=tu.prototype;function Tg(e,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function Ox(e){return null==e||st(e)||(e={isIgnore:e}),e||{}}function Bx(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}function Ag(e,t,n){var i,F,P,ee,o=e.getBaseAxis(),a=e.getOtherAxis(o),s=(F=n,P=0,ee=a.scale.getExtent(),"start"===F?P=ee[0]:"end"===F?P=ee[1]:0<ee[0]?P=ee[0]:ee[1]<0&&(P=ee[1]),P),l=o.dim,u=a.dim,c=t.mapDimension(u),d=t.mapDimension(l),h="x"===u||"radius"===u?1:0,f=Oe(e.dimensions,function(v){return t.mapDimension(v)}),p=t.getCalculationInfo("stackResultDimension");return(i|=os(t,f[0]))&&(f[0]=p),(i|=os(t,f[1]))&&(f[1]=p),{dataDimsForPoint:f,valueStart:s,valueAxisDim:u,baseAxisDim:l,stacked:!!i,valueDim:c,baseDim:d,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Ig(e,t,n,i){var o=NaN;e.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(o)&&(o=e.valueStart);var a=e.baseDataOffset,s=[];return s[a]=n.get(e.baseDim,i),s[1-a]=o,t.dataToPoint(s)}nu.updateData=function(e,t){t=Ox(t);var n=this.group,i=e.hostModel,o=this._data,a=this._symbolCtor,s=Bx(e);o||n.removeAll(),e.diff(o).add(function(l){var u=e.getItemLayout(l);if(Tg(e,u,l,t)){var c=new a(e,l,s);c.attr("position",u),e.setItemGraphicEl(l,c),n.add(c)}}).update(function(l,u){var c=o.getItemGraphicEl(u),d=e.getItemLayout(l);Tg(e,d,l,t)?(c?(c.updateData(e,l,s),xr(c,{position:d},i)):(c=new a(e,l)).attr("position",d),n.add(c),e.setItemGraphicEl(l,c)):n.remove(c)}).remove(function(l){var u=o.getItemGraphicEl(l);u&&u.fadeOut(function(){n.remove(u)})}).execute(),this._data=e},nu.isPersistent=function(){return!0},nu.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var i=e.getItemLayout(n);t.attr("position",i)})},nu.incrementalPrepareUpdate=function(e){this._seriesScope=Bx(e),this._data=null,this.group.removeAll()},nu.incrementalUpdate=function(e,t,n){function i(l){l.isGroup||(l.incremental=l.useHoverLayer=!0)}n=Ox(n);for(var o=e.start;o<e.end;o++){var a=t.getItemLayout(o);if(Tg(t,a,o,n)){var s=new this._symbolCtor(t,o,this._seriesScope);s.traverse(i),s.attr("position",a),this.group.add(s),t.setItemGraphicEl(o,s)}}},nu.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)})}):t.removeAll()};var zx=Jr,Fx=hr,Vx=Cn,bh=ei,Dg=[],Ca=[],Ma=[];function ss(e){return isNaN(e[0])||isNaN(e[1])}function Eg(e,t,n,i,o,a,s,l,u,c){return"none"!==c&&c?function(d,h,f,p,v,F,P,ee,le,ae,we){for(var _e=0,Ce=f,Le=0;Le<p;Le++){var Fe=h[Ce];if(v<=Ce||Ce<0)break;if(ss(Fe)){if(we){Ce+=F;continue}break}if(Ce===f)d[0<F?"moveTo":"lineTo"](Fe[0],Fe[1]);else if(0<le){var at=h[_e],pt="y"===ae?1:0,wt=(Fe[pt]-at[pt])*le;bh(Ca,at),Ca[pt]=at[pt]+wt,bh(Ma,Fe),Ma[pt]=Fe[pt]-wt,d.bezierCurveTo(Ca[0],Ca[1],Ma[0],Ma[1],Fe[0],Fe[1])}else d.lineTo(Fe[0],Fe[1]);_e=Ce,Ce+=F}return Le}.apply(this,arguments):function(d,h,f,p,v,F,P,ee,le,ae,we){for(var _e=0,Ce=f,Le=0;Le<p;Le++){var Fe=h[Ce];if(v<=Ce||Ce<0)break;if(ss(Fe)){if(we){Ce+=F;continue}break}if(Ce===f)d[0<F?"moveTo":"lineTo"](Fe[0],Fe[1]),bh(Ca,Fe);else if(0<le){var at=Ce+F,pt=h[at];if(we)for(;pt&&ss(h[at]);)pt=h[at+=F];var wt=.5,Rt=h[_e];if(!(pt=h[at])||ss(pt))bh(Ma,Fe);else{var Ot,Wt;if(ss(pt)&&!we&&(pt=Fe),Rn(Dg,pt,Rt),"x"===ae||"y"===ae){var Qt="x"===ae?0:1;Ot=Math.abs(Fe[Qt]-Rt[Qt]),Wt=Math.abs(Fe[Qt]-pt[Qt])}else Ot=Wi(Fe,Rt),Wt=Wi(Fe,pt);Vx(Ma,Fe,Dg,-le*(1-(wt=Wt/(Wt+Ot))))}zx(Ca,Ca,ee),Fx(Ca,Ca,P),zx(Ma,Ma,ee),Fx(Ma,Ma,P),d.bezierCurveTo(Ca[0],Ca[1],Ma[0],Ma[1],Fe[0],Fe[1]),Vx(Ca,Fe,Dg,le*wt)}else d.lineTo(Fe[0],Fe[1]);_e=Ce,Ce+=F}return Le}.apply(this,arguments)}function Ng(e,t){var n=[1/0,1/0],i=[-1/0,-1/0];if(t)for(var o=0;o<e.length;o++){var a=e[o];a[0]<n[0]&&(n[0]=a[0]),a[1]<n[1]&&(n[1]=a[1]),a[0]>i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])}return{min:t?n:i,max:t?i:n}}var iT=Er.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:sp(Er.prototype.brush),buildPath:function(e,t){var n=t.points,i=0,o=n.length,a=Ng(n,t.smoothConstraint);if(t.connectNulls){for(;0<o&&ss(n[o-1]);o--);for(;i<o&&ss(n[i]);i++);}for(;i<o;)i+=Eg(e,n,i,o,o,1,a.min,a.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),Hx=Er.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:sp(Er.prototype.brush),buildPath:function(e,t){var n=t.points,i=t.stackedOnPoints,o=0,a=n.length,s=t.smoothMonotone,l=Ng(n,t.smoothConstraint),u=Ng(i,t.smoothConstraint);if(t.connectNulls){for(;0<a&&ss(n[a-1]);a--);for(;o<a&&ss(n[o]);o++);}for(;o<a;){var c=Eg(e,n,o,a,a,1,l.min,l.max,t.smooth,s,t.connectNulls);Eg(e,i,o+c-1,c,a,-1,u.min,u.max,t.stackedOnSmooth,s,t.connectNulls),o+=c+1,e.closePath()}}});function Wx(e,t,n){var i=e.getArea(),o=e.getBaseAxis().isHorizontal(),a=i.x,s=i.y,l=i.width,u=i.height,c=n.get("lineStyle.width")||2;a-=c/2,s-=c/2,l+=c,u+=c,a=Math.floor(a),l=Math.round(l);var d=new Rr({shape:{x:a,y:s,width:l,height:u}});return t&&(d.shape[o?"width":"height"]=0,Fo(d,{shape:{width:l,height:u}},n)),d}function Gx(e,t,n){var i=e.getArea(),o=new Aa({shape:{cx:Mo(e.cx,1),cy:Mo(e.cy,1),r0:Mo(i.r0,1),r:Mo(i.r,1),startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return t&&(o.shape.endAngle=i.startAngle,Fo(o,{shape:{endAngle:i.endAngle}},n)),o}function _h(e,t,n){return e?"polar"===e.type?Gx(e,t,n):"cartesian2d"===e.type?Wx(e,t,n):null:null}function jx(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i[0]!==o[0]||i[1]!==o[1])return}return!0}}function Ux(e,t){var n=[],i=[],o=[],a=[];return Nu(e,n,i),Nu(t,o,a),Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]))}function qx(e){return"number"==typeof e?e:e?.5:0}function Ns(e,t,n){for(var i=t.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,a=[],s=0;s<e.length-1;s++){var l=e[s+1],u=e[s];a.push(u);var c=[];switch(n){case"end":c[o]=l[o],c[1-o]=u[1-o],a.push(c);break;case"middle":var h=[];c[o]=h[o]=(u[o]+l[o])/2,c[1-o]=u[1-o],h[1-o]=l[1-o],a.push(c),a.push(h);break;default:c[o]=u[o],c[1-o]=l[1-o],a.push(c)}}return e[s]&&a.push(e[s]),a}function Yx(e,t,n){if("cartesian2d"!==e.type)return Gx(e,t,n);var i=e.getBaseAxis().isHorizontal(),o=Wx(e,t,n);if(!n.get("clip",!0)){var a=o.shape,s=Math.max(a.width,a.height);i?(a.y-=s,a.height+=2*s):(a.x-=s,a.width+=2*s)}return o}function hl(e,t,n){return{seriesType:e,performRawSeries:!0,reset:function(i,o,a){var s=i.getData(),l=i.get("symbol"),u=i.get("symbolSize"),c=i.get("symbolKeepAspect"),d=i.get("symbolRotate"),h=Xe(l),f=Xe(u),p=Xe(d),v=h||f||p,F=!h&&l?l:t;if(s.setVisual({legendSymbol:n||F,symbol:F,symbolSize:f?null:u,symbolKeepAspect:c,symbolRotate:d}),!o.isSeriesFiltered(i))return{dataEach:s.hasItemOption||v?function(ee,le){if(v){var ae=i.getRawValue(le),we=i.getDataParams(le);h&&ee.setItemVisual(le,"symbol",l(ae,we)),f&&ee.setItemVisual(le,"symbolSize",u(ae,we)),p&&ee.setItemVisual(le,"symbolRotate",d(ae,we))}if(ee.hasItemOption){var _e=ee.getItemModel(le),Ce=_e.getShallow("symbol",!0),Le=_e.getShallow("symbolSize",!0),Fe=_e.getShallow("symbolRotate",!0),at=_e.getShallow("symbolKeepAspect",!0);null!=Ce&&ee.setItemVisual(le,"symbol",Ce),null!=Le&&ee.setItemVisual(le,"symbolSize",Le),null!=Fe&&ee.setItemVisual(le,"symbolRotate",Fe),null!=at&&ee.setItemVisual(le,"symbolKeepAspect",at)}}:null}}}}function gc(e){return{seriesType:e,plan:Xl(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,o=t.pipelineContext.large;if(i){var a=Oe(i.dimensions,function(u){return n.mapDimension(u)}).slice(0,2),s=a.length,l=n.getCalculationInfo("stackResultDimension");return os(n,a[0])&&(a[0]=l),os(n,a[1])&&(a[1]=l),s&&{progress:function(u,c){for(var h=o&&new Float32Array((u.end-u.start)*s),f=u.start,p=0,v=[],F=[];f<u.end;f++){var P;if(1===s){var ee=c.get(a[0],f);P=!isNaN(ee)&&i.dataToPoint(ee,null,F)}else{ee=v[0]=c.get(a[0],f);var le=v[1]=c.get(a[1],f);P=!isNaN(ee)&&!isNaN(le)&&i.dataToPoint(v,null,F)}o?(h[p++]=P?P[0]:NaN,h[p++]=P?P[1]:NaN):c.setItemLayout(f,P&&P.slice()||[NaN,NaN])}o&&c.setLayout("symbolPoints",h)}}}}}}function oT(e,t){return Math.round(e.length/2)}No.extend({type:"line",init:function(){var e=new E,t=new tu;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var i=e.coordinateSystem,o=this.group,a=e.getData(),s=e.getModel("lineStyle"),l=e.getModel("areaStyle"),u=a.mapArray(a.getItemLayout),c="polar"===i.type,d=this._coordSys,h=this._symbolDraw,f=this._polyline,p=this._polygon,v=this._lineGroup,F=e.get("animation"),P=!l.isEmpty(),ee=l.get("origin"),le=function(Rt,Ot,Wt){if(!Wt.valueDim)return[];for(var Qt=[],rn=0,$t=Ot.count();rn<$t;rn++)Qt.push(Ig(Wt,Rt,Ot,rn));return Qt}(i,a,Ag(i,a,ee)),ae=e.get("showSymbol"),we=ae&&!c&&function rT(e,t,n){var i=e.get("showAllSymbol"),o="auto"===i;if(!i||o){var a=n.getAxesByScale("ordinal")[0];if(a&&(!o||!function(u,c){var d=u.getExtent(),h=Math.abs(d[1]-d[0])/u.scale.count();isNaN(h)&&(h=0);for(var f=c.count(),p=Math.max(1,Math.round(f/5)),v=0;v<f;v+=p)if(1.5*Es.getSymbolSize(c,v)[u.isHorizontal()?1:0]>h)return!1;return!0}(a,t))){var s=t.mapDimension(a.dim),l={};return ce(a.getViewLabels(),function(u){l[u.tickValue]=1}),function(u){return!l.hasOwnProperty(t.get(s,u))}}}}(e,a,i),_e=this._data;_e&&_e.eachItemGraphicEl(function(Rt,Ot){Rt.__temp&&(o.remove(Rt),_e.setItemGraphicEl(Ot,null))}),ae||h.remove(),o.add(v);var Ce,Le=!c&&e.get("step");i&&i.getArea&&e.get("clip",!0)&&(null!=(Ce=i.getArea()).width?(Ce.x-=.1,Ce.y-=.1,Ce.width+=.2,Ce.height+=.2):Ce.r0&&(Ce.r0-=.5,Ce.r1+=.5)),this._clipShapeForSymbol=Ce,f&&d.type===i.type&&Le===this._step?(P&&!p?p=this._newPolygon(u,le,i,F):p&&!P&&(v.remove(p),p=this._polygon=null),v.setClipPath(Yx(i,!1,e)),ae&&h.updateData(a,{isIgnore:we,clipShape:Ce}),a.eachItemGraphicEl(function(Rt){Rt.stopAnimation(!0)}),jx(this._stackedOnPoints,le)&&jx(this._points,u)||(F?this._updateAnimation(a,le,i,n,Le,ee):(Le&&(u=Ns(u,i,Le),le=Ns(le,i,Le)),f.setShape({points:u}),p&&p.setShape({points:u,stackedOnPoints:le})))):(ae&&h.updateData(a,{isIgnore:we,clipShape:Ce}),Le&&(u=Ns(u,i,Le),le=Ns(le,i,Le)),f=this._newPolyline(u,i,F),P&&(p=this._newPolygon(u,le,i,F)),v.setClipPath(Yx(i,!0,e)));var Fe=function(Rt,Ot){var Wt=Rt.getVisual("visualMeta");if(Wt&&Wt.length&&Rt.count()&&"cartesian2d"===Ot.type){for(var Qt,rn,$t=Wt.length-1;0<=$t;$t--){var Zn=Rt.getDimensionInfo(Rt.dimensions[Wt[$t].dimension]);if("x"===(Qt=Zn&&Zn.coordDim)||"y"===Qt){rn=Wt[$t];break}}if(rn){var Hn=Ot.getAxis(Qt),li=Oe(rn.stops,function(Fr){return{coord:Hn.toGlobalCoord(Hn.dataToCoord(Fr.value)),color:Fr.color}}),Si=li.length,Xi=rn.outerColors.slice();Si&&li[0].coord>li[Si-1].coord&&(li.reverse(),Xi.reverse());var ri=li[0].coord-10,Gi=li[Si-1].coord+10,Zi=Gi-ri;if(Zi<.001)return"transparent";ce(li,function(Fr){Fr.offset=(Fr.coord-ri)/Zi}),li.push({offset:Si?li[Si-1].offset:.5,color:Xi[1]||"transparent"}),li.unshift({offset:Si?li[0].offset:.5,color:Xi[0]||"transparent"});var ar=new Qs(0,0,0,0,li,!0);return ar[Qt]=ri,ar[Qt+"2"]=Gi,ar}}}(a,i)||a.getVisual("color");f.useStyle(be(s.getLineStyle(),{fill:"none",stroke:Fe,lineJoin:"bevel"}));var at=e.get("smooth");if(at=qx(e.get("smooth")),f.setShape({smooth:at,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),p){var pt=a.getCalculationInfo("stackedOnSeries"),wt=0;p.useStyle(be(l.getAreaStyle(),{fill:Fe,opacity:.7,lineJoin:"bevel"})),pt&&(wt=qx(pt.get("smooth"))),p.setShape({smooth:at,stackedOnSmooth:wt,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=a,this._coordSys=i,this._stackedOnPoints=le,this._points=u,this._step=Le,this._valueOrigin=ee},dispose:function(){},highlight:function(e,t,n,i){var o=e.getData(),a=dd(o,i);if(!(a instanceof Array)&&null!=a&&0<=a){var s=o.getItemGraphicEl(a);if(!s){var l=o.getItemLayout(a);if(!l||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l[0],l[1]))return;(s=new Es(o,a)).position=l,s.setZ(e.get("zlevel"),e.get("z")),s.ignore=isNaN(l[0])||isNaN(l[1]),s.__temp=!0,o.setItemGraphicEl(a,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else No.prototype.highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var o=e.getData(),a=dd(o,i);if(null!=a&&0<=a){var s=o.getItemGraphicEl(a);s&&(s.__temp?(o.setItemGraphicEl(a,null),this.group.remove(s)):s.downplay())}else No.prototype.downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new iT({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Hx({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n},_updateAnimation:function(e,t,n,i,o,a){var s=this._polyline,l=this._polygon,u=e.hostModel,c=function(le,ae,we,_e,Ce,Le,Fe,at){for(var pt=function(Yo,jo){var ps=[];return jo.diff(Yo).add(function(qs){ps.push({cmd:"+",idx:qs})}).update(function(qs,od){ps.push({cmd:"=",idx:od,idx1:qs})}).remove(function(qs){ps.push({cmd:"-",idx:qs})}).execute(),ps}(le,ae),wt=[],Rt=[],Ot=[],Wt=[],Qt=[],rn=[],$t=[],Sn=Ag(Ce,ae,Fe),Un=Ag(Le,le,at),Zn=0;Zn<pt.length;Zn++){var Hn=pt[Zn],li=!0;switch(Hn.cmd){case"=":var Si=le.getItemLayout(Hn.idx),Xi=ae.getItemLayout(Hn.idx1);(isNaN(Si[0])||isNaN(Si[1]))&&(Si=Xi.slice()),wt.push(Si),Rt.push(Xi),Ot.push(we[Hn.idx]),Wt.push(_e[Hn.idx1]),$t.push(ae.getRawIndex(Hn.idx1));break;case"+":var ri=Hn.idx;wt.push(Ce.dataToPoint([ae.get(Sn.dataDimsForPoint[0],ri),ae.get(Sn.dataDimsForPoint[1],ri)])),Rt.push(ae.getItemLayout(ri).slice()),Ot.push(Ig(Sn,Ce,ae,ri)),Wt.push(_e[ri]),$t.push(ae.getRawIndex(ri));break;case"-":var Gi=le.getRawIndex(ri=Hn.idx);Gi!==ri?(wt.push(le.getItemLayout(ri)),Rt.push(Le.dataToPoint([le.get(Un.dataDimsForPoint[0],ri),le.get(Un.dataDimsForPoint[1],ri)])),Ot.push(we[ri]),Wt.push(Ig(Un,Le,le,ri)),$t.push(Gi)):li=!1}li&&(Qt.push(Hn),rn.push(rn.length))}rn.sort(function(Yo,jo){return $t[Yo]-$t[jo]});var Zi=[],ar=[],Fr=[],Pr=[],Gr=[];for(Zn=0;Zn<rn.length;Zn++)Zi[Zn]=wt[ri=rn[Zn]],ar[Zn]=Rt[ri],Fr[Zn]=Ot[ri],Pr[Zn]=Wt[ri],Gr[Zn]=Qt[ri];return{current:Zi,next:ar,stackedOnCurrent:Fr,stackedOnNext:Pr,status:Gr}}(this._data,e,this._stackedOnPoints,t,this._coordSys,n,this._valueOrigin,a),d=c.current,h=c.stackedOnCurrent,f=c.next,p=c.stackedOnNext;if(o&&(d=Ns(c.current,n,o),h=Ns(c.stackedOnCurrent,n,o),f=Ns(c.next,n,o),p=Ns(c.stackedOnNext,n,o)),3e3<Ux(d,f)||l&&3e3<Ux(h,p))return s.setShape({points:f}),void(l&&l.setShape({points:f,stackedOnPoints:p}));s.shape.__points=c.current,s.shape.points=d,xr(s,{shape:{points:f}},u),l&&(l.setShape({points:d,stackedOnPoints:h}),xr(l,{shape:{points:f,stackedOnPoints:p}},u));for(var v=[],F=c.status,P=0;P<F.length;P++)if("="===F[P].cmd){var ee=e.getItemGraphicEl(F[P].idx1);ee&&v.push({el:ee,ptIdx:P})}s.animators&&s.animators.length&&s.animators[0].during(function(){for(var le=0;le<v.length;le++)v[le].el.attr("position",s.shape.__points[v[le].ptIdx])})},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(t.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var aT={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}};function sT(e){return this._axes[e]}function wh(e){this._axes={},this._dimList=[],this.name=e||""}function mc(e){wh.call(this,e)}function Sh(e,t,n,i,o){wo.call(this,e,t,n),this.type=i||"value",this.position=o||"bottom"}wh.prototype={constructor:wh,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return Oe(this._dimList,sT,this)},getAxesByScale:function(e){return e=e.toLowerCase(),xe(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,i=e instanceof Array?[]:{},o=0;o<n.length;o++){var a=n[o];i[a]=this._axes[a][t](e[a])}return i}},mc.prototype={constructor:mc,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t,n){var i=this.getAxis("x"),o=this.getAxis("y");return(n=n||[])[0]=i.toGlobalCoord(i.dataToCoord(e[0])),n[1]=o.toGlobalCoord(o.dataToCoord(e[1])),n},clampData:function(e,t){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),a=i.getExtent(),s=n.parse(e[0]),l=i.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),t[1]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),t},pointToData:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return(t=t||[])[0]=n.coordToData(n.toLocalCoord(e[0])),t[1]=i.coordToData(i.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")},getArea:function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),i=Math.min(t[0],t[1]);return new C(n,i,Math.max(e[0],e[1])-n,Math.max(t[0],t[1])-i)}},ye(mc,wh),Sh.prototype={constructor:Sh,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},ye(Sh,wo);var Xx={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Ls={};function iu(e,t,n,i){ce(lT,function(o){t.extend({type:e+"Axis."+o,mergeDefaultAndTheme:function(a,s){var l=this.layoutMode,u=l?ql(a):{};oe(a,s.getTheme().get(o+"Axis")),oe(a,this.getDefaultOption()),a.type=n(e,a),l&&Cs(a,u,l)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=cc.createByAxisModel(this))},getCategories:function(a){var s=this.option;if("category"===s.type)return a?s.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:fe([{},Ls[o+"Axis"],i],!0)})}),Or.registerSubTypeDefaulter(e+"Axis",xt(n,e))}Ls.categoryAxis=oe({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Xx),Ls.valueAxis=oe({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},Xx),Ls.timeAxis=be({scale:!0,min:"dataMin",max:"dataMax"},Ls.valueAxis),Ls.logAxis=be({scale:!0,logBase:10},Ls.valueAxis);var lT=["value","category","time","log"],ru=Or.extend({type:"cartesian2dAxis",axis:null,init:function(){ru.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){ru.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){ru.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function Zx(e,t){return t.type||(t.data?"category":"value")}oe(ru.prototype,cl);var $x={offset:0};function Lg(e,t){return e.getCoordSysModel()===t}function ou(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}iu("x",ru,Zx,$x),iu("y",ru,Zx,$x),Or.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var Go=ou.prototype;function Kx(e,t,n,i){n.getAxesOnZeroOf=function(){return o?[o]:[]};var o,a=e[t],s=n.model,l=s.get("axisLine.onZero"),u=s.get("axisLine.onZeroAxisIndex");if(l){if(null!=u)Jx(a[u])&&(o=a[u]);else for(var c in a)if(a.hasOwnProperty(c)&&Jx(a[c])&&!i[d(a[c])]){o=a[c];break}o&&(i[d(o)]=!0)}function d(h){return h.dim+"_"+h.index}}function Jx(e){return e&&"category"!==e.type&&"time"!==e.type&&function(t){var n=t.scale.getExtent(),i=n[0],o=n[1];return!(0<i&&0<o||i<0&&o<0)}(e)}Go.type="grid",Go.axisPointerEnabled=!0,Go.getRect=function(){return this._rect},Go.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),ce(n.x,function(o){Ds(o.scale,o.model)}),ce(n.y,function(o){Ds(o.scale,o.model)});var i={};ce(n.x,function(o){Kx(n,"y",o,i)}),ce(n.y,function(o){Kx(n,"x",o,i)}),this.resize(this.model,t)},Go.resize=function(e,t,n){var i=xo(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=i;var o=this._axesList;function a(){ce(o,function(s){var d,h,f,p,l=s.isHorizontal(),u=l?[0,i.width]:[0,i.height],c=s.inverse?1:0;s.setExtent(u[c],u[1-c]),h=l?i.x:i.y,f=(d=s).getExtent(),p=f[0]+f[1],d.toGlobalCoord="x"===d.dim?function(v){return v+h}:function(v){return p-v+h},d.toLocalCoord="x"===d.dim?function(v){return v-h}:function(v){return p-v+h}})}a(),!n&&e.get("containLabel")&&(ce(o,function(s){if(!s.model.get("axisLabel.inside")){var l=function(d){var f=d.scale;if(d.model.get("axisLabel.show")&&!f.isBlank()){var p,v,F="category"===d.type,P=f.getExtent();v=F?f.count():(p=f.getTicks()).length;var ee,le,we,_e,Ce,Le,Fe,at,pt=d.getLabelModel(),wt=hc(d),Rt=1;40<v&&(Rt=Math.ceil(v/40));for(var Ot=0;Ot<v;Ot+=Rt){var Wt=wt(p?p[Ot]:P[0]+Ot),rn=(le=pt.getTextRect(Wt),we=(pt.get("rotate")||0)*Math.PI/180,Le=(_e=le.plain()).height,Fe=(Ce=_e.width)*Math.abs(Math.cos(we))+Math.abs(Le*Math.sin(we)),at=Ce*Math.abs(Math.sin(we))+Math.abs(Le*Math.cos(we)),new C(_e.x,_e.y,Fe,at));ee?ee.union(rn):ee=rn}return ee}}(s);if(l){var u=s.isHorizontal()?"height":"width",c=s.model.get("axisLabel.margin");i[u]-=l[u]+c,"top"===s.position?i.y+=l.height+c:"left"===s.position&&(i.x+=l.width+c)}}}),a())},Go.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[t]}},Go.getAxes=function(){return this._axesList.slice()},Go.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap["x"+e+"y"+t];st(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===e||o[i].getAxis("y").index===t)return o[i]},Go.getCartesians=function(){return this._coordsList.slice()},Go.convertToPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},Go.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},Go._findConvertTarget=function(e,t){var n,i,o=t.seriesModel,a=t.xAxisModel||o&&o.getReferringComponents("xAxis")[0],s=t.yAxisModel||o&&o.getReferringComponents("yAxis")[0],l=t.gridModel;return o?Ge(this._coordsList,n=o.coordinateSystem)<0&&(n=null):a&&s?n=this.getCartesian(a.componentIndex,s.componentIndex):a?i=this.getAxis("x",a.componentIndex):s?i=this.getAxis("y",s.componentIndex):l&&l.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:i}},Go.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},Go._initCartesian=function(e,t,n){var i={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},a={x:0,y:0};if(t.eachComponent("xAxis",s("x"),this),t.eachComponent("yAxis",s("y"),this),!a.x||!a.y)return this._axesMap={},void(this._axesList=[]);function s(l){return function(u,c){if(Lg(u,e)){var d=u.get("position");"x"===l?"top"!==d&&"bottom"!==d&&(d=i.bottom?"top":"bottom"):"left"!==d&&"right"!==d&&(d=i.left?"right":"left"),i[d]=!0;var h=new Sh(l,eu(u),[0,0],u.get("type"),d);h.onBand="category"===h.type&&u.get("boundaryGap"),h.inverse=u.get("inverse"),(u.axis=h).model=u,h.grid=this,h.index=c,this._axesList.push(h),o[l][c]=h,a[l]++}}}ce((this._axesMap=o).x,function(l,u){ce(o.y,function(c,d){var h="x"+u+"y"+d,f=new mc(h);f.grid=this,f.model=e,this._coordsMap[h]=f,this._coordsList.push(f),f.addAxis(l),f.addAxis(c)},this)},this)},Go._updateScale=function(e,t){function n(i,o){ce(i.mapDimension(o.dim,!0),function(a){o.scale.unionExtentFromData(i,uc(i,a))})}ce(this._axesList,function(i){i.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(i){if(eb(i)){var o=Qx(i),a=o[0],s=o[1];if(!Lg(a,t)||!Lg(s,t))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),d=l.getAxis("y");"list"===u.type&&(n(u,c),n(u,d))}},this)},Go.getTooltipAxes=function(e){var t=[],n=[];return ce(this.getCartesians(),function(i){var o=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),a=i.getOtherAxis(o);Ge(t,o)<0&&t.push(o),Ge(n,a)<0&&n.push(a)}),{baseAxes:t,otherAxes:n}};var uT=["xAxis","yAxis"];function Qx(e){return Oe(uT,function(t){return e.getReferringComponents(t)[0]})}function eb(e){return"cartesian2d"===e.get("coordinateSystem")}function ia(e,t){this.opt=t,this.axisModel=e,be(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new E;var n=new E({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n}ou.create=function(e,t){var n=[];return e.eachComponent("grid",function(i,o){var a=new ou(i,e,t);a.name="grid_"+o,a.resize(i,t,!0),i.coordinateSystem=a,n.push(a)}),e.eachSeries(function(i){if(eb(i)){var o=Qx(i),a=o[0],s=o[1],l=a.getCoordSysModel().coordinateSystem;i.coordinateSystem=l.getCartesian(a.componentIndex,s.componentIndex)}}),n},ou.dimensions=ou.prototype.dimensions=mc.prototype.dimensions,Ho.register("cartesian2d",ou);var Ps=Math.PI;ia.prototype={constructor:ia,hasBuilder:function(e){return!!tb[e]},add:function(e){tb[e].call(this)},getGroup:function(){return this.group}};var tb={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,o=[n[0],0],a=[n[1],0];i&&(cr(o,o,i),cr(a,a,i));var s=ue({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Ro({anid:"line",subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:a[0],y2:a[1]},style:s,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1}));var l=t.get("axisLine.symbol"),u=t.get("axisLine.symbolSize"),c=t.get("axisLine.symbolOffset")||0;if("number"==typeof c&&(c=[c,c]),null!=l){"string"==typeof l&&(l=[l,l]),"string"!=typeof u&&"number"!=typeof u||(u=[u,u]);var d=u[0],h=u[1];ce([{rotate:e.rotation+Math.PI/2,offset:c[0],r:0},{rotate:e.rotation-Math.PI/2,offset:c[1],r:Math.sqrt((o[0]-a[0])*(o[0]-a[0])+(o[1]-a[1])*(o[1]-a[1]))}],function(f,p){if("none"!==l[p]&&null!=l[p]){var v=da(l[p],-d/2,-h/2,d,h,s.stroke,!0),F=f.r+f.offset,P=[o[0]+F*Math.cos(e.rotation),o[1]-F*Math.sin(e.rotation)];v.attr({rotation:f.rotate,position:P,silent:!0,z2:11}),this.group.add(v)}},this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,n=function(i,o,a){var s=o.axis,l=o.getModel("axisTick");if(l.get("show")&&!s.scale.isBlank()){for(var u=l.getModel("lineStyle"),c=a.tickDirection*l.get("length"),d=sb(s.getTicksCoords(),i._transform,c,be(u.getLineStyle(),{stroke:o.get("axisLine.lineStyle.color")}),"ticks"),h=0;h<d.length;h++)i.group.add(d[h]);return d}}(this,e,t);(function(i,o,a){if(!Sx(i.axis)){var s=i.get("axisLabel.showMinLabel"),l=i.get("axisLabel.showMaxLabel"),u=(o=o||[])[0],c=o[1],d=o[o.length-1],h=o[o.length-2],f=(a=a||[])[0],p=a[1],v=a[a.length-1],F=a[a.length-2];!1===s?(ka(u),ka(f)):ob(u,c)&&(s?(ka(c),ka(p)):(ka(u),ka(f))),!1===l?(ka(d),ka(v)):ob(h,d)&&(l?(ka(h),ka(F)):(ka(d),ka(v)))}})(e,function(i,o,a){var s=o.axis;if(en(a.axisLabelShow,o.get("axisLabel.show"))&&!s.scale.isBlank()){var l=o.getModel("axisLabel"),u=l.get("margin"),c=s.getViewLabels(),d=(en(a.labelRotate,l.get("rotate"))||0)*Ps/180,h=ib(a.rotation,d,a.labelDirection),f=o.getCategories&&o.getCategories(!0),p=[],v=rb(o),F=o.get("triggerEvent");return ce(c,function(P,ee){var le=P.tickValue,ae=P.formattedLabel,we=P.rawLabel,_e=l;f&&f[le]&&f[le].textStyle&&(_e=new Nr(f[le].textStyle,l,o.ecModel));var Ce=_e.getTextColor()||o.get("axisLine.lineStyle.color"),Le=[s.dataToCoord(le),a.labelOffset+a.labelDirection*u],Fe=new Cr({anid:"label_"+le,position:Le,rotation:h.rotation,silent:v,z2:10});uo(Fe.style,_e,{text:ae,textAlign:_e.getShallow("align",!0)||h.textAlign,textVerticalAlign:_e.getShallow("verticalAlign",!0)||_e.getShallow("baseline",!0)||h.textVerticalAlign,textFill:"function"==typeof Ce?Ce("category"===s.type?we:"value"===s.type?le+"":le,ee):Ce}),F&&(Fe.eventData=nb(o),Fe.eventData.targetType="axisLabel",Fe.eventData.value=we),i._dumbGroup.add(Fe),Fe.updateTransform(),p.push(Fe),i.group.add(Fe),Fe.decomposeTransform()}),p}}(this,e,t),n),function(i,o,a){var s=o.axis,l=o.getModel("minorTick");if(l.get("show")&&!s.scale.isBlank()){var u=s.getMinorTicksCoords();if(u.length)for(var c=l.getModel("lineStyle"),d=a.tickDirection*l.get("length"),h=be(c.getLineStyle(),be(o.getModel("axisTick").getLineStyle(),{stroke:o.get("axisLine.lineStyle.color")})),f=0;f<u.length;f++)for(var p=sb(u[f],i._transform,d,h,"minorticks_"+f),v=0;v<p.length;v++)i.group.add(p[v])}}(this,e,t)},axisName:function(){var Le,at,wt,Rt,Ot,Wt,e=this.opt,t=this.axisModel,n=en(e.axisName,t.get("name"));if(n){var i,o,a=t.get("nameLocation"),s=e.nameDirection,l=t.getModel("nameTextStyle"),u=t.get("nameGap")||0,c=this.axisModel.axis.getExtent(),d=c[0]>c[1]?-1:1,h=["start"===a?c[0]-d*u:"end"===a?c[1]+d*u:(c[0]+c[1])/2,ab(a)?e.labelOffset+s*u:0],f=t.get("nameRotate");null!=f&&(f=f*Ps/180),ab(a)?i=ib(e.rotation,f??e.rotation,s):(Le=a,at=c,Rt=bp((f||0)-e.rotation),Ot=at[0]>at[1],Wt="start"===Le&&!Ot||"start"!==Le&&Ot,i={rotation:Rt,textAlign:Gu(Rt-Ps/2)?(wt=Wt?"bottom":"top","center"):Gu(Rt-1.5*Ps)?(wt=Wt?"top":"bottom","center"):(wt="middle",Rt<1.5*Ps&&Ps/2<Rt?Wt?"left":"right":Wt?"right":"left"),textVerticalAlign:wt},null!=(o=e.axisNameAvailableWidth)&&(o=Math.abs(o/Math.sin(i.rotation)),isFinite(o)||(o=null)));var p=l.getFont(),v=t.get("nameTruncate",!0)||{},F=v.ellipsis,P=en(e.nameTruncateMaxWidth,v.maxWidth,o),ee=null!=F&&null!=P?Fy(n,P,p,F,{minChar:2,placeholder:v.placeholder}):n,le=t.get("tooltip",!0),ae=t.mainType,we={componentType:ae,name:n,$vars:["name"]};we[ae+"Index"]=t.componentIndex;var _e=new Cr({anid:"name",__fullText:n,__truncatedText:ee,position:h,rotation:i.rotation,silent:rb(t),z2:1,tooltip:le&&le.show?ue({content:n,formatter:function(){return n},formatterParams:we},le):null});uo(_e.style,l,{text:ee,textFont:p,textFill:l.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:l.get("align")||i.textAlign,textVerticalAlign:l.get("verticalAlign")||i.textVerticalAlign}),t.get("triggerEvent")&&(_e.eventData=nb(t),_e.eventData.targetType="axisName",_e.eventData.name=n),this._dumbGroup.add(_e),_e.updateTransform(),this.group.add(_e),_e.decomposeTransform()}}},nb=ia.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},ib=ia.innerTextLayout=function(e,t,n){var i,o=bp(t-e);return{rotation:o,textAlign:Gu(o)?(i=0<n?"top":"bottom","center"):Gu(o-Ps)?(i=0<n?"bottom":"top","center"):(i="middle",0<o&&o<Ps?0<n?"right":"left":0<n?"left":"right"),textVerticalAlign:i}},rb=ia.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)};function ka(e){e&&(e.ignore=!0)}function ob(e,t){var n=e&&e.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(n&&i){var o=Zr([]);return Ee(o,o,-e.rotation),n.applyTransform(X([],o,e.getLocalTransform())),i.applyTransform(X([],o,t.getLocalTransform())),n.intersect(i)}}function ab(e){return"middle"===e||"center"===e}function sb(e,t,n,i,o){for(var a=[],s=[],l=[],u=0;u<e.length;u++){var c=e[u].coord;s[0]=c,l[s[1]=0]=c,l[1]=n,t&&(cr(s,s,t),cr(l,l,t));var d=new Ro({anid:o+"_"+e[u].tickValue,subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:i,z2:2,silent:!0});a.push(d)}return a}var au=ce,Pg=xt;function Rg(e,t){return"all"===e||ze(e)&&0<=Ge(e,t)||e===t}function Og(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[vc(e)]}function Bg(e){return!!e.get("handle.show")}function vc(e){return e.type+"||"+e.id}var ha=Ao({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,i){this.axisPointerClass&&function(o){var a=Og(o);if(a){var s=a.axisPointerModel,l=a.axis.scale,u=s.option,c=s.get("status"),d=s.get("value");null!=d&&(d=l.parse(d));var h=Bg(s);null==c&&(u.status=h?"show":"hide");var f=l.getExtent().slice();f[0]>f[1]&&f.reverse(),(null==d||d>f[1])&&(d=f[1]),d<f[0]&&(d=f[0]),u.value=d,h&&(u.status=a.axis.scale.isBlank()?"hide":"show")}}(e),ha.superApply(this,"render",arguments),lb(this,e,0,n,0,!0)},updateAxisPointer:function(e,t,n,i,o){lb(this,e,0,n,0,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),ha.superApply(this,"remove",arguments)},dispose:function(e,t){ub(this,t),ha.superApply(this,"dispose",arguments)}});function lb(e,t,n,i,o,a){var c,s=ha.getAxisPointerClass(e.axisPointerClass);if(s){var l=(c=Og(t))&&c.axisPointerModel;l?(e._axisPointer||(e._axisPointer=new s)).render(t,l,i,a):ub(e,i)}}function ub(e,t,n){var i=e._axisPointer;i&&i.dispose(t,n),e._axisPointer=null}var cb=[];function zg(e,t,n){n=n||{};var i=e.coordinateSystem,o=t.axis,a={},s=o.getAxesOnZeroOf()[0],l=o.position,u=s?"onZero":l,c=o.dim,d=i.getRect(),h=[d.x,d.x+d.width,d.y,d.y+d.height],f={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,v="x"===c?[h[2]-p,h[3]+p]:[h[0]-p,h[1]+p];if(s){var F=s.toGlobalCoord(s.dataToCoord(0));v[f.onZero]=Math.max(Math.min(F,v[1]),v[0])}a.position=["y"===c?v[f[u]]:h[0],"x"===c?v[f[u]]:h[3]],a.rotation=Math.PI/2*("x"===c?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],a.labelOffset=s?v[f[l]]-v[f.onZero]:0,t.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),en(n.labelInside,t.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var P=t.get("axisLabel.rotate");return a.labelRotate="top"===u?-P:P,a.z2=1,a}function db(e,t,n,i){var o=n.axis;if(!o.scale.isBlank()){var a=n.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),u=i.coordinateSystem.getRect(),c=o.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var d=l.length,h=e.__splitAreaColors,f=bn(),p=0;if(h)for(var v=0;v<c.length;v++){var F=h.get(c[v].tickValue);if(null!=F){p=(F+(d-1)*v)%d;break}}var P=o.toGlobalCoord(c[0].coord),ee=s.getAreaStyle();for(l=ze(l)?l:[l],v=1;v<c.length;v++){var le,ae,we,_e,Ce=o.toGlobalCoord(c[v].coord);P=o.isHorizontal()?(ae=u.y,_e=u.height,(le=P)+(we=Ce-le)):(le=u.x,we=u.width,(ae=P)+(_e=Ce-ae));var Le=c[v-1].tickValue;null!=Le&&f.set(Le,p),t.add(new Rr({anid:null!=Le?"area_"+Le:null,shape:{x:le,y:ae,width:we,height:_e},style:be({fill:l[p]},ee),silent:!0})),p=(p+1)%d}e.__splitAreaColors=f}}}function hb(e){e.__splitAreaColors=null}ha.registerAxisPointerClass=function(e,t){cb[e]=t},ha.getAxisPointerClass=function(e){return e&&cb[e]};var dT=["axisLine","axisTickLabel","axisName"],hT=["splitArea","splitLine","minorSplitLine"],Fg=ha.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new E,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),s=zg(a,e),l=new ia(e,s);ce(dT,l.add,l),this._axisGroup.add(l.getGroup()),ce(hT,function(u){e.get(u+".show")&&this["_"+u](e,a)},this),Od(o,this._axisGroup,e),Fg.superCall(this,"render",e,t,n,i)}},remove:function(){hb(this)},_splitLine:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitLine"),o=i.getModel("lineStyle"),a=o.get("color");a=ze(a)?a:[a];for(var s=t.coordinateSystem.getRect(),l=n.isHorizontal(),u=0,c=n.getTicksCoords({tickModel:i}),d=[],h=[],f=o.getLineStyle(),p=0;p<c.length;p++){var v=n.toGlobalCoord(c[p].coord);l?(d[0]=v,d[1]=s.y,h[0]=v,h[1]=s.y+s.height):(d[0]=s.x,d[1]=v,h[0]=s.x+s.width,h[1]=v);var F=u++%a.length;this._axisGroup.add(new Ro({anid:null!=c[p].tickValue?"line_"+c[p].tickValue:null,subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:be({stroke:a[F]},f),silent:!0}))}}},_minorSplitLine:function(e,t){var n=e.axis,i=e.getModel("minorSplitLine").getModel("lineStyle"),o=t.coordinateSystem.getRect(),a=n.isHorizontal(),s=n.getMinorTicksCoords();if(s.length)for(var l=[],u=[],c=i.getLineStyle(),d=0;d<s.length;d++)for(var h=0;h<s[d].length;h++){var f=n.toGlobalCoord(s[d][h].coord);a?(l[0]=f,l[1]=o.y,u[0]=f,u[1]=o.y+o.height):(l[0]=o.x,l[1]=f,u[0]=o.x+o.width,u[1]=f),this._axisGroup.add(new Ro({anid:"minor_line_"+s[d][h].tickValue,subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:c,silent:!0}))}},_splitArea:function(e,t){db(this,this._axisGroup,e,t)}});Fg.extend({type:"xAxis"}),Fg.extend({type:"yAxis"}),Ao({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new Rr({shape:e.coordinateSystem.getRect(),style:be({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),Bo(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}),eo(hl("line","circle","line")),ho(gc("line")),ua(ja.PROCESSOR.STATISTIC,{seriesType:"line",modifyOutputEnd:!0,reset:function(e,t,n){var i=e.getData(),o=e.get("sampling"),a=e.coordinateSystem;if("cartesian2d"===a.type&&o){var s,l=a.getBaseAxis(),u=a.getOtherAxis(l),c=l.getExtent(),d=Math.abs(c[1]-c[0]),h=Math.round(i.count()/d);1<h&&("string"==typeof o?s=aT[o]:"function"==typeof o&&(s=o),s&&e.setData(i.downSample(i.mapDimension(u.dim),1/h,s,oT)))}}});var fb=co.extend({type:"series.__base_bar__",getInitialData:function(e,t){return as(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),i=this.getData(),o=i.getLayout("offset"),a=i.getLayout("size");return n[t.getBaseAxis().isHorizontal()?0:1]+=o+a/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});function pb(e,t,n,i,o,a){sa(e,t,n.getModel("label"),n.getModel("emphasis.label"),{labelFetcher:o,labelDataIndex:a,defaultText:xh(o.getData(),a),isRectText:!0,autoColor:i}),gb(e),gb(t)}function gb(e,t){"outside"===e.textPosition&&(e.textPosition=t)}fb.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return e<t&&(e=t),e},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var fT=zl([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),pT={getBarItemStyle:function(e){var t=fT(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}},gT=xa({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r0||0,0),a=Math.max(t.r,0),s=.5*(a-o),l=o+s,u=t.startAngle,c=t.endAngle,d=t.clockwise,h=Math.cos(u),f=Math.sin(u),p=Math.cos(c),v=Math.sin(c);(d?c-u<2*Math.PI:u-c<2*Math.PI)&&(e.moveTo(h*o+n,f*o+i),e.arc(h*l+n,f*l+i,s,-Math.PI+u,u,!d)),e.arc(n,i,a,u,c,!d),e.moveTo(p*a+n,v*a+i),e.arc(p*l+n,v*l+i,s,c-2*Math.PI,c-Math.PI,!d),0!==o&&(e.arc(n,i,o,c,u,d),e.moveTo(h*o+n,v*o+i)),e.closePath()}}),mT=["itemStyle","barBorderWidth"],Ch=[0,0];ue(Nr.prototype,pT),na({type:"bar",render:function(e,t,n){this._updateDrawMode(e);var i=e.get("coordinateSystem");return"cartesian2d"!==i&&"polar"!==i||(this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n)),this.group},incrementalPrepareRender:function(e,t,n){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,n,i){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e,t,n){var i,o=this.group,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?i=u.isHorizontal():"polar"===l.type&&(i="angle"===u.dim);var c=e.isAnimationEnabled()?e:null,d=e.get("clip",!0),h=function(_e,Ce){var Le=_e.getArea&&_e.getArea();if("cartesian2d"===_e.type){var Fe=_e.getBaseAxis();if("category"!==Fe.type||!Fe.onBand){var at=Ce.getLayout("bandWidth");Fe.isHorizontal()?(Le.x-=at,Le.width+=2*at):(Le.y-=at,Le.height+=2*at)}}return Le}(l,a);function f(_e){var Fe,Ce=Mh[l.type](a,_e),Le=new("polar"===(Fe=l).type?Aa:Rr)({shape:Cb(i,Ce,Fe),silent:!0,z2:0});return Le.useStyle(F.getBarItemStyle()),"cartesian2d"===l.type&&Le.setShape("r",P),ee[_e]=Le}o.removeClipPath();var p=e.get("roundCap",!0),v=e.get("showBackground",!0),F=e.getModel("backgroundStyle"),P=F.get("barBorderRadius")||0,ee=[],le=this._backgroundEls||[];a.diff(s).add(function(_e){var Ce=a.getItemModel(_e),Le=Mh[l.type](a,_e,Ce);if(v&&f(_e),a.hasValue(_e)){if(d&&mb[l.type](h,Le))return void o.remove(Fe);var Fe=vb[l.type](_e,Le,i,c,!1,p);a.setItemGraphicEl(_e,Fe),o.add(Fe),bb(Fe,a,_e,Ce,Le,e,0,"polar"===l.type)}}).update(function(_e,Ce){var Le=a.getItemModel(_e),Fe=Mh[l.type](a,_e,Le);if(v){var at;0===le.length?at=f(Ce):((at=le[Ce]).useStyle(F.getBarItemStyle()),"cartesian2d"===l.type&&at.setShape("r",P),ee[_e]=at);var pt=Mh[l.type](a,_e);xr(at,{shape:Cb(i,pt,l)},c,_e)}var wt=s.getItemGraphicEl(Ce);if(a.hasValue(_e)){if(d&&mb[l.type](h,Fe))return void o.remove(wt);wt?xr(wt,{shape:Fe},c,_e):wt=vb[l.type](_e,Fe,i,c,!0,p),a.setItemGraphicEl(_e,wt),o.add(wt),bb(wt,a,_e,Le,Fe,e,0,"polar"===l.type)}else o.remove(wt)}).remove(function(_e){var Ce=s.getItemGraphicEl(_e);"cartesian2d"===l.type?Ce&&yb(_e,c,Ce):Ce&&xb(_e,c,Ce)}).execute();var ae=this._backgroundGroup||(this._backgroundGroup=new E);ae.removeAll();for(var we=0;we<ee.length;++we)ae.add(ee[we]);o.add(ae),this._backgroundEls=ee,this._data=a},_renderLarge:function(e,t,n){this._clear(),wb(e,this.group);var i=e.get("clip",!0)?_h(e.coordinateSystem,!1,e):null;i?this.group.setClipPath(i):this.group.removeClipPath()},_incrementalRenderLarge:function(e,t){this._removeBackground(),wb(t,this.group,!0)},dispose:fn,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,n=this._data;e&&e.get("animation")&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){"sector"===i.type?xb(i.dataIndex,e,i):yb(i.dataIndex,e,i)})):t.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}});var Vg=Math.max,Hg=Math.min,mb={cartesian2d:function(e,t){var n=t.width<0?-1:1,i=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var o=Vg(t.x,e.x),a=Hg(t.x+t.width,e.x+e.width),s=Vg(t.y,e.y),l=Hg(t.y+t.height,e.y+e.height);t.x=o,t.y=s,t.width=a-o,t.height=l-s;var u=t.width<0||t.height<0;return n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),u},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var i=t.r;t.r=t.r0,t.r0=i}i=Hg(t.r,e.r);var o=Vg(t.r0,e.r0),a=(t.r=i)-(t.r0=o)<0;return n<0&&(i=t.r,t.r=t.r0,t.r0=i),a}},vb={cartesian2d:function(e,t,n,i,o){var a=new Rr({shape:ue({},t),z2:1});if(a.name="item",i){var s=n?"height":"width",l={};a.shape[s]=0,l[s]=t[s],ts[o?"updateProps":"initProps"](a,{shape:l},i,e)}return a},polar:function(e,t,n,i,o,a){var l=new(!n&&a?gT:Aa)({shape:be({clockwise:t.startAngle<t.endAngle},t),z2:1});if(l.name="item",i){var u=n?"r":"endAngle",c={};l.shape[u]=n?0:t.startAngle,c[u]=t[u],ts[o?"updateProps":"initProps"](l,{shape:c},i,e)}return l}};function yb(e,t,n){n.style.text=null,xr(n,{shape:{width:0}},t,e,function(){n.parent&&n.parent.remove(n)})}function xb(e,t,n){n.style.text=null,xr(n,{shape:{r:n.shape.r0}},t,e,function(){n.parent&&n.parent.remove(n)})}var Mh={cartesian2d:function(e,t,n){var u,c,d,h,i=e.getItemLayout(t),o=n?(u=i,c=n.get(mT)||0,d=isNaN(u.width)?Number.MAX_VALUE:Math.abs(u.width),h=isNaN(u.height)?Number.MAX_VALUE:Math.abs(u.height),Math.min(c,d,h)):0,a=0<i.width?1:-1,s=0<i.height?1:-1;return{x:i.x+a*o/2,y:i.y+s*o/2,width:i.width-a*o,height:i.height-s*o}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};function Wg(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function bb(e,t,n,i,o,a,s,l){var u=t.getItemVisual(n,"color"),c=t.getItemVisual(n,"opacity"),d=t.getVisual("borderColor"),h=i.getModel("itemStyle"),f=i.getModel("emphasis.itemStyle").getBarItemStyle();l||e.setShape("r",h.get("barBorderRadius")||0),e.useStyle(be({stroke:Wg(o)?"none":d,fill:Wg(o)?"none":u,opacity:c},h.getBarItemStyle()));var p=i.getShallow("cursor");p&&e.attr("cursor",p),l||pb(e.style,f,i,u,a,n),Wg(o)&&(f.fill=f.stroke="none"),no(e,f)}var _b=Er.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var n=t.points,i=this.__startPoint,o=this.__baseDimIdx,a=0;a<n.length;a+=2)i[o]=n[a+o],e.moveTo(i[0],i[1]),e.lineTo(n[a],n[a+1])}});function wb(e,t,n){var i=e.getData(),o=[],a=i.getLayout("valueAxisHorizontal")?1:0;o[1-a]=i.getLayout("valueAxisStart");var p,v,F,P,ee,s=i.getLayout("largeDataIndices"),l=i.getLayout("barWidth"),u=e.getModel("backgroundStyle");if(e.get("showBackground",!0)){var c=i.getLayout("largeBackgroundPoints"),d=[];d[1-a]=i.getLayout("backgroundStart");var h=new _b({shape:{points:c},incremental:!!n,__startPoint:d,__baseDimIdx:a,__largeDataIndices:s,__barWidth:l,silent:!0,z2:0});p=h,F=i,P=(v=u).get("borderColor")||v.get("color"),ee=v.getItemStyle(["color","borderColor"]),p.useStyle(ee),p.style.fill=null,p.style.stroke=P,p.style.lineWidth=F.getLayout("barWidth"),t.add(h)}var f=new _b({shape:{points:i.getLayout("largePoints")},incremental:!!n,__startPoint:o,__baseDimIdx:a,__largeDataIndices:s,__barWidth:l});t.add(f),function(p,v,F){var P=F.getVisual("borderColor")||F.getVisual("color"),ee=v.getModel("itemStyle").getItemStyle(["color","borderColor"]);p.useStyle(ee),p.style.fill=null,p.style.stroke=P,p.style.lineWidth=F.getLayout("barWidth")}(f,e,i),f.seriesIndex=e.seriesIndex,e.get("silent")||(f.on("mousedown",Sb),f.on("mousemove",Sb))}var Sb=$d(function(e){var t=function(n,i,o){var a=n.__baseDimIdx,s=1-a,l=n.shape.points,u=n.__largeDataIndices,c=Math.abs(n.__barWidth/2),d=n.__startPoint[s];Ch[0]=i,Ch[1]=o;for(var h=Ch[a],f=Ch[1-a],p=h-c,v=h+c,F=0,P=l.length/2;F<P;F++){var ee=2*F,le=l[ee+a],ae=l[ee+s];if(p<=le&&le<=v&&(d<=ae?d<=f&&f<=ae:ae<=f&&f<=d))return u[F]}return-1}(this,e.offsetX,e.offsetY);this.dataIndex=0<=t?t:null},30,!1);function Cb(e,t,n){var i,o="polar"===n.type;return i=o?n.getArea():n.grid.getRect(),o?{cx:i.cx,cy:i.cy,r0:e?i.r0:t.r0,r:e?i.r:t.r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}:{x:e?t.x:i.x,y:e?i.y:t.y,width:e?t.width:i.width,height:e?i.height:t.height}}function su(e,t,n){t=ze(t)&&{coordDimensions:t}||ue({},t);var i=e.getSource(),o=Kl(i,t),a=new Io(o,e);return a.initData(i,n),a}ho(ja.VISUAL.LAYOUT,xt(px,"bar")),ho(ja.VISUAL.PROGRESSIVE_LAYOUT,Ek),eo({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}});var Gg={updateSelectedMap:function(e){this._targetList=ze(e)?e.slice():[],this._selectTargetMap=qe(e||[],function(t,n){return t.set(n.name,n),t},bn())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(i){i.selected=!1}),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=n)return this[n.selected?"unSelect":"select"](e,t),n.selected},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}};function yc(e,t){this.getAllNames=function(){var n=t();return n.mapArray(n.getName)},this.containName=function(n){return 0<=t().indexOfName(n)},this.indexOfName=function(n){return e().indexOfName(n)},this.getItemVisual=function(n,i){return e().getItemVisual(n,i)}}var kh=ch({type:"series.pie",init:function(e){kh.superApply(this,"init",arguments),this.legendVisualProvider=new yc(et(this.getData,this),et(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){kh.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return su(this,{coordDimensions:["value"],encodeDefaulter:xt(Np,this)})},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),n=[],i=0,o=e.count();i<o;i++)n.push({name:e.getName(i),value:e.get(t,i),selected:c1(e,i,"selected")});return n},getDataParams:function(e){var t=this.getData(),n=kh.superCall(this,"getDataParams",e),i=[];return t.each(t.mapDimension("value"),function(o){i.push(o)}),n.percent=Ly(i,e,t.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(e){Xs(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});function vT(e,t,n,i){var o=t.getData(),s=o.getName(this.dataIndex),l=t.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:e,name:s,seriesId:t.id}),o.each(function(u){Mb(o.getItemGraphicEl(u),o.getItemLayout(u),t.isSelected(o.getName(u)),l,n)})}function Mb(e,t,n,i,o){var a=(t.startAngle+t.endAngle)/2,s=n?i:0,l=[Math.cos(a)*s,Math.sin(a)*s];o?e.animate().when(200,{position:l}).start("bounceOut"):e.attr("position",l)}function jg(e,t){E.call(this);var n=new Aa({z2:2}),i=new ya,o=new Cr;this.add(n),this.add(i),this.add(o),this.updateData(e,t,!0)}Te(kh,Gg);var kb=jg.prototype;function Tb(e,t){ce(t,function(n){n.update="updateView",Lr(n,function(i,o){var a={};return o.eachComponent({mainType:"series",subType:e,query:i},function(s){s[n.method]&&s[n.method](i.name,i.dataIndex);var l=s.getData();l.each(function(u){var c=l.getName(u);a[c]=s.isSelected(c)||!1})}),{name:i.name,selected:a,seriesId:i.seriesId}})})}function Th(e){return{getTargetSeries:function(t){var n={},i=bn();return t.eachSeriesByType(e,function(o){o.__paletteScope=n,i.set(o.uid,o)}),i},reset:function(t,n){var i=t.getRawData(),o={},a=t.getData();a.each(function(s){var l=a.getRawIndex(s);o[l]=s}),i.each(function(s){var l,u=o[s],c=null!=u&&a.getItemVisual(u,"color",!0),d=null!=u&&a.getItemVisual(u,"borderColor",!0);if(c&&d||(l=i.getItemModel(s)),!c){var h=l.get("itemStyle.color")||t.getColorFromPalette(i.getName(s)||s+"",t.__paletteScope,i.count());null!=u&&a.setItemVisual(u,"color",h)}if(!d){var f=l.get("itemStyle.borderColor");null!=u&&a.setItemVisual(u,"borderColor",f)}})}}}kb.updateData=function(e,t,n){var i=this.childAt(0),o=this.childAt(1),a=this.childAt(2),s=e.hostModel,l=e.getItemModel(t),u=e.getItemLayout(t),c=ue({},u);c.label=null;var d=s.getShallow("animationTypeUpdate");n?(i.setShape(c),"scale"===s.getShallow("animationType")?(i.shape.r=u.r0,Fo(i,{shape:{r:u.r}},s,t)):(i.shape.endAngle=u.startAngle,xr(i,{shape:{endAngle:u.endAngle}},s,t))):"expansion"===d?i.setShape(c):xr(i,{shape:c},s,t);var h=e.getItemVisual(t,"color");i.useStyle(be({lineJoin:"bevel",fill:h},l.getModel("itemStyle").getItemStyle())),i.hoverStyle=l.getModel("emphasis.itemStyle").getItemStyle();var f=l.getShallow("cursor");f&&i.attr("cursor",f),Mb(this,e.getItemLayout(t),s.isSelected(e.getName(t)),s.get("selectedOffset"),s.get("animation")),this._updateLabel(e,t,!n&&"transition"===d),this.highDownOnUpdate=s.get("silent")?null:function(v,F){var P=s.isAnimationEnabled()&&l.get("hoverAnimation");"emphasis"===F?(o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore,P&&(i.stopAnimation(!0),i.animateTo({shape:{r:u.r+s.get("hoverOffset")}},300,"elasticOut"))):(o.ignore=o.normalIgnore,a.ignore=a.normalIgnore,P&&(i.stopAnimation(!0),i.animateTo({shape:{r:u.r}},300,"elasticOut")))},no(this)},kb._updateLabel=function(e,t,n){var i=this.childAt(1),o=this.childAt(2),a=e.hostModel,s=e.getItemModel(t),l=e.getItemLayout(t).label,u=e.getItemVisual(t,"color");if(!l||isNaN(l.x)||isNaN(l.y))o.ignore=o.normalIgnore=o.hoverIgnore=i.ignore=i.normalIgnore=i.hoverIgnore=!0;else{var c={points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]},d={x:l.x,y:l.y};n?(xr(i,{shape:c},a,t),xr(o,{style:d},a,t)):(i.attr({shape:c}),o.attr({style:d})),o.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var h=s.getModel("label"),f=s.getModel("emphasis.label"),p=s.getModel("labelLine"),v=s.getModel("emphasis.labelLine");u=e.getItemVisual(t,"color"),sa(o.style,o.hoverStyle={},h,f,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:l.text,autoColor:u,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),o.ignore=o.normalIgnore=!h.get("show"),o.hoverIgnore=!f.get("show"),i.ignore=i.normalIgnore=!p.get("show"),i.hoverIgnore=!v.get("show"),i.setStyle({stroke:u,opacity:e.getItemVisual(t,"opacity")}),i.setStyle(p.getModel("lineStyle").getLineStyle()),i.hoverStyle=v.getModel("lineStyle").getLineStyle();var F=p.get("smooth");F&&!0===F&&(F=.4),i.setShape({smooth:F})}},ye(jg,E),No.extend({type:"pie",init:function(){var e=new E;this._sectorGroup=e},render:function(e,t,n,i){if(!i||i.from!==this.uid){var o=e.getData(),a=this._data,s=this.group,l=t.get("animation"),u=!a,c=e.get("animationType"),d=e.get("animationTypeUpdate"),h=xt(vT,this.uid,e,l,n),f=e.get("selectedMode");if(o.diff(a).add(function(ee){var le=new jg(o,ee);u&&"scale"!==c&&le.eachChild(function(ae){ae.stopAnimation(!0)}),f&&le.on("click",h),o.setItemGraphicEl(ee,le),s.add(le)}).update(function(ee,le){var ae=a.getItemGraphicEl(le);u||"transition"===d||ae.eachChild(function(we){we.stopAnimation(!0)}),ae.updateData(o,ee),ae.off("click"),f&&ae.on("click",h),s.add(ae),o.setItemGraphicEl(ee,ae)}).remove(function(ee){var le=a.getItemGraphicEl(ee);s.remove(le)}).execute(),l&&0<o.count()&&(u?"scale"!==c:"transition"!==d)){for(var p=o.getItemLayout(0),v=1;isNaN(p.startAngle)&&v<o.count();++v)p=o.getItemLayout(v);var F=Math.max(n.getWidth(),n.getHeight())/2,P=et(s.removeClipPath,s);s.setClipPath(this._createClipPath(p.cx,p.cy,F,p.startAngle,p.clockwise,P,e,u))}else s.removeClipPath();this._data=o}},dispose:function(){},_createClipPath:function(e,t,n,i,o,a,s,l){var u=new Aa({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:o}});return(l?Fo:xr)(u,{shape:{endAngle:i+(o?1:-1)*Math.PI*2}},s,a),u},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,o=e[1]-n.cy,a=Math.sqrt(i*i+o*o);return a<=n.r&&a>=n.r0}}});var yT=Math.PI/180;function Ab(e,t,n,i,o,a,s,l,u,c){function d(we,_e,Ce){for(var Le=we;Le<_e&&!(e[Le].y+Ce>u+s);Le++)if(e[Le].y+=Ce,we<Le&&Le+1<_e&&e[Le+1].y>e[Le].y+e[Le].height)return void h(Le,Ce/2);h(_e-1,Ce/2)}function h(we,_e){for(var Ce=we;0<=Ce&&!(e[Ce].y-_e<u)&&(e[Ce].y-=_e,!(0<Ce&&e[Ce].y>e[Ce-1].y+e[Ce-1].height));Ce--);}function f(we,_e,Ce,Le,Fe,at){for(var pt=_e?Number.MAX_VALUE:0,wt=0,Rt=we.length;wt<Rt;wt++)if("none"===we[wt].labelAlignTo){var Ot=Math.abs(we[wt].y-Le),Wt=we[wt].len,Qt=we[wt].len2,rn=Ot<Fe+Wt?Math.sqrt((Fe+Wt+Qt)*(Fe+Wt+Qt)-Ot*Ot):Math.abs(we[wt].x-Ce);_e&&pt<=rn&&(rn=pt-10),!_e&&rn<=pt&&(rn=pt+10),we[wt].x=Ce+rn*at,pt=rn}}e.sort(function(we,_e){return we.y-_e.y});for(var p,v=0,F=e.length,P=[],ee=[],le=0;le<F;le++)"outer"===e[le].position&&"labelLine"===e[le].labelAlignTo&&(e[le].linePoints[1][0]+=e[le].x-c,e[le].x=c),(p=e[le].y-v)<0&&d(le,F,-p),v=e[le].y+e[le].height;for(s-v<0&&h(F-1,v-s),le=0;le<F;le++)e[le].y>=n?ee.push(e[le]):P.push(e[le]);f(P,!1,t,n,i,o),f(ee,!0,t,n,i,o)}function Ib(e){return"center"===e.position}var Ah=2*Math.PI,Db=Math.PI/180;function xc(e){return{seriesType:e,reset:function(t,n){var i=n.findComponents({mainType:"legend"});if(i&&i.length){var o=t.getData();o.filterSelf(function(a){for(var s=o.getName(a),l=0;l<i.length;l++)if(!i[l].isSelected(s))return!1;return!0})}}}}Tb("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),eo(Th("pie")),ho(xt(function(e,t,n,i){t.eachSeriesByType(e,function(o){var rn,a=o.getData(),s=a.mapDimension("value"),l=(rn=n,xo(o.getBoxLayoutParams(),{width:rn.getWidth(),height:rn.getHeight()})),u=o.get("center"),c=o.get("radius");ze(c)||(c=[0,c]),ze(u)||(u=[u,u]);var d=Mi(l.width,n.getWidth()),h=Mi(l.height,n.getHeight()),f=Math.min(d,h),p=Mi(u[0],d)+l.x,v=Mi(u[1],h)+l.y,F=Mi(c[0],f/2),P=Mi(c[1],f/2),ee=-o.get("startAngle")*Db,le=o.get("minAngle")*Db,ae=0;a.each(s,function(Qt){isNaN(Qt)||ae++});var we=a.getSum(s),_e=Math.PI/(we||ae)*2,Ce=o.get("clockwise"),Le=o.get("roseType"),Fe=o.get("stillShowZeroSum"),at=a.getDataExtent(s);at[0]=0;var pt=Ah,wt=0,Rt=ee,Ot=Ce?1:-1;if(a.each(s,function(Qt,rn){var $t;if(isNaN(Qt))a.setItemLayout(rn,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:Ce,cx:p,cy:v,r0:F,r:Le?NaN:P,viewRect:l});else{($t="area"!==Le?0===we&&Fe?_e:Qt*_e:Ah/ae)<le?pt-=$t=le:wt+=Qt;var Sn=Rt+Ot*$t;a.setItemLayout(rn,{angle:$t,startAngle:Rt,endAngle:Sn,clockwise:Ce,cx:p,cy:v,r0:F,r:Le?io(Qt,at,[F,P]):P,viewRect:l}),Rt=Sn}}),pt<Ah&&ae)if(pt<=.001){var Wt=Ah/ae;a.each(s,function(Qt,rn){if(!isNaN(Qt)){var $t=a.getItemLayout(rn);$t.angle=Wt,$t.startAngle=ee+Ot*rn*Wt,$t.endAngle=ee+Ot*(rn+1)*Wt}})}else _e=pt/wt,Rt=ee,a.each(s,function(Qt,rn){if(!isNaN(Qt)){var $t=a.getItemLayout(rn),Sn=$t.angle===le?le:Qt*_e;$t.startAngle=Rt,$t.endAngle=Rt+Ot*Sn,Rt+=Ot*Sn}});!function xT(e,t,n,i,o,a){var s,l,u=e.getData(),c=[],d=!1,h=(e.get("minShowLabelAngle")||0)*yT;u.each(function(f){var p=u.getItemLayout(f),v=u.getItemModel(f),F=v.getModel("label"),P=F.get("position")||v.get("emphasis.label.position"),ee=F.get("distanceToLabelLine"),le=F.get("alignTo"),ae=Mi(F.get("margin"),n),we=F.get("bleedMargin"),_e=F.getFont(),Ce=v.getModel("labelLine"),Le=Ce.get("length");Le=Mi(Le,n);var Fe=Ce.get("length2");if(Fe=Mi(Fe,n),!(p.angle<h)){var at,pt,wt,Rt,Ot=(p.startAngle+p.endAngle)/2,Wt=Math.cos(Ot),Qt=Math.sin(Ot);s=p.cx,l=p.cy;var rn,$t=e.getFormattedLabel(f,"normal")||u.getName(f),Sn=yi($t,_e,Rt,"top"),Un="inside"===P||"inner"===P;if("center"===P)at=p.cx,pt=p.cy,Rt="center";else{var Zn=(Un?(p.r+p.r0)/2*Wt:p.r*Wt)+s,Hn=(Un?(p.r+p.r0)/2*Qt:p.r*Qt)+l;if(at=Zn+3*Wt,pt=Hn+3*Qt,!Un){var li=Zn+Wt*(Le+t-p.r),Si=Hn+Qt*(Le+t-p.r),Xi=li+(Wt<0?-1:1)*Fe;at="edge"===le?Wt<0?o+ae:o+n-ae:Xi+(Wt<0?-ee:ee),wt=[[Zn,Hn],[li,Si],[Xi,pt=Si]]}Rt=Un?"center":"edge"===le?0<Wt?"right":"left":0<Wt?"left":"right"}var ri=F.get("rotate");rn="number"==typeof ri?ri*(Math.PI/180):ri?Wt<0?-Ot+Math.PI:-Ot:0,d=!!rn,p.label={x:at,y:pt,position:P,height:Sn.height,len:Le,len2:Fe,linePoints:wt,textAlign:Rt,verticalAlign:"middle",rotation:rn,inside:Un,labelDistance:ee,labelAlignTo:le,labelMargin:ae,bleedMargin:we,textRect:Sn,text:$t,font:_e},Un||c.push(p.label)}}),!d&&e.get("avoidLabelOverlap")&&function(f,p,v,F,P,ee,le,ae){for(var we=[],_e=[],Ce=Number.MAX_VALUE,Le=-Number.MAX_VALUE,Fe=0;Fe<f.length;Fe++)Ib(f[Fe])||(f[Fe].x<p?(Ce=Math.min(Ce,f[Fe].x),we.push(f[Fe])):(Le=Math.max(Le,f[Fe].x),_e.push(f[Fe])));for(Ab(_e,p,v,F,1,0,ee,0,ae,Le),Ab(we,p,v,F,-1,0,ee,0,ae,Ce),Fe=0;Fe<f.length;Fe++){var at=f[Fe];if(!Ib(at)){var pt=at.linePoints;if(pt){var wt,Rt="edge"===at.labelAlignTo,Ot=at.textRect.width;(wt=Rt?at.x<p?pt[2][0]-at.labelDistance-le-at.labelMargin:le+P-at.labelMargin-pt[2][0]-at.labelDistance:at.x<p?at.x-le-at.bleedMargin:le+P-at.x-at.bleedMargin)<at.textRect.width&&(at.text=Bi(at.text,wt,at.font),"edge"===at.labelAlignTo&&(Ot=vi(at.text,at.font)));var Wt=pt[1][0]-pt[2][0];Rt?pt[2][0]=at.x<p?le+at.labelMargin+Ot+at.labelDistance:le+P-at.labelMargin-Ot-at.labelDistance:(pt[2][0]=at.x<p?at.x+at.labelDistance:at.x-at.labelDistance,pt[1][0]=pt[2][0]+Wt),pt[1][1]=pt[2][1]=at.y}}}}(c,s,l,t,n,i,o,a)}(o,P,l.width,l.height,l.x,l.y)})},"pie")),ua(xc("pie")),co.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,t){return as(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},getProgressiveThreshold:function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});var Ug=xa({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(e,t){var n=t.points,i=t.size,o=this.symbolProxy,a=o.shape;if(!((e.getContext?e.getContext():e)&&i[0]<4))for(var s=0;s<n.length;){var l=n[s++],u=n[s++];isNaN(l)||isNaN(u)||this.softClipShape&&!this.softClipShape.contain(l,u)||(a.x=l-i[0]/2,a.y=u-i[1]/2,a.width=i[0],a.height=i[1],o.buildPath(e,a,!0))}},afterBrush:function(e){var t=this.shape,n=t.points,i=t.size;if(i[0]<4){this.setTransform(e);for(var o=0;o<n.length;){var a=n[o++],s=n[o++];isNaN(a)||isNaN(s)||this.softClipShape&&!this.softClipShape.contain(a,s)||e.fillRect(a-i[0]/2,s-i[1]/2,i[0],i[1])}this.restoreTransform(e)}},findDataIndex:function(e,t){for(var n=this.shape,i=n.points,o=n.size,a=Math.max(o[0],4),s=Math.max(o[1],4),l=i.length/2-1;0<=l;l--){var u=2*l,c=i[u]-a/2,d=i[1+u]-s/2;if(c<=e&&d<=t&&e<=c+a&&t<=d+s)return l}return-1}});function Eb(){this.group=new E}var Rs=Eb.prototype;function Nb(e,t,n){wo.call(this,e,t,n),this.type="value",this.angle=0,this.name=""}function Xa(e,t,n){this._model=e,this.dimensions=[],this._indicatorAxes=Oe(e.getIndicatorModels(),function(i,o){var a="indicator_"+o,s=new Nb(a,"log"===i.get("axisType")?new vh:new qa);return s.name=i.get("name"),(s.model=i).axis=s,this.dimensions.push(a),s},this),this.resize(e,n)}Rs.isPersistent=function(){return!this._incremental},Rs.updateData=function(e,t){this.group.removeAll();var n=new Ug({rectHover:!0,cursor:"default"});n.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(n,e,!1,t),this.group.add(n),this._incremental=null},Rs.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("symbolPoints");this.group.eachChild(function(n){null!=n.startIndex&&(t=new Float32Array(t.buffer,4*n.startIndex*2,2*(n.endIndex-n.startIndex))),n.setShape("points",t)})}},Rs.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),2e6<e.count()?(this._incremental||(this._incremental=new aa({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Rs.incrementalUpdate=function(e,t,n){var i;this._incremental?(i=new Ug,this._incremental.addDisplayable(i,!0)):((i=new Ug({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(i)),i.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(i,t,!!this._incremental,n)},Rs._setCommon=function(e,t,n,i){var o=t.hostModel;i=i||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=i.clipShape||null,e.symbolProxy=da(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<4;e.useStyle(o.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=t.getVisual("color");l&&e.setColor(l),n||(e.seriesIndex=o.seriesIndex,e.on("mousemove",function(u){e.dataIndex=null;var c=e.findDataIndex(u.offsetX,u.offsetY);0<=c&&(e.dataIndex=c+(e.startIndex||0))}))},Rs.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Rs._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},na({type:"scatter",render:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData();if(this.group.dirty(),!this._finished||1e4<i.count()||!this._symbolDraw.isPersistent())return{update:!0};var o=gc().reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_getClipShape:function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},_updateSymbolDraw:function(e,t){var n=this._symbolDraw,i=t.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new Eb:new tu,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),eo(hl("scatter","circle")),ho(gc("scatter")),ye(Nb,wo),Xa.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Xa.prototype.dataToPoint=function(e,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e),t)},Xa.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},Xa.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var o,a=Math.atan2(-n,t),s=1/0,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],d=Math.abs(a-c.angle);d<s&&(o=c,l=u,s=d)}return[l,+(o&&o.coordToData(i))]},Xa.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),o=t.getHeight(),a=Math.min(i,o)/2;this.cx=Mi(n[0],i),this.cy=Mi(n[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");"string"!=typeof s&&"number"!=typeof s||(s=[0,s]),this.r0=Mi(s[0],a),this.r=Mi(s[1],a),ce(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},Xa.prototype.update=function(e,t){var n=this._indicatorAxes,i=this._model;ce(n,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,l){if("radar"===s.get("coordinateSystem")&&e.getComponent("radar",s.get("radarIndex"))===i){var u=s.getData();ce(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var o=i.get("splitNumber");function a(s){var l=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=s/l;return 2===u?u=5:u*=2,u*l}ce(n,function(s,l){var u=_x(s.scale,s.model).extent;Ds(s.scale,s.model);var c=s.model,d=s.scale,h=c.getMin(),f=c.getMax(),p=d.getInterval();if(null!=h&&null!=f)d.setExtent(+h,+f),d.setInterval((f-h)/o);else if(null!=h)for(;d.setExtent(+h,F=h+p*o),d.setInterval(p),p=a(p),F<u[1]&&isFinite(F)&&isFinite(u[1]););else if(null!=f)for(;d.setExtent(P=f-p*o,+f),d.setInterval(p),p=a(p),P>u[0]&&isFinite(P)&&isFinite(u[0]););else{var v=d.getTicks().length-1;o<v&&(p=a(p));var F,P=Mo((F=Math.ceil(u[1]/p)*p)-p*o);d.setExtent(P,F),d.setInterval(p)}})},Xa.dimensions=[],Xa.create=function(e,t){var n=[];return e.eachComponent("radar",function(i){var o=new Xa(i,e,t);n.push(o),i.coordinateSystem=o}),e.eachSeriesByType("radar",function(i){"radar"===i.get("coordinateSystem")&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},Ho.register("radar",Xa);var bc=Ls.valueAxis;function Ih(e,t){return be({show:t},e)}ca({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),o=this.get("axisTick"),a=this.get("axisType"),s=this.get("axisLabel"),l=this.get("name"),u=this.get("name.show"),c=this.get("name.formatter"),d=this.get("nameGap"),h=this.get("triggerEvent"),f=Oe(this.get("indicator")||[],function(p){null!=p.max&&0<p.max&&!p.min?p.min=0:null!=p.min&&p.min<0&&!p.max&&(p.max=0);var v=l;null!=p.color&&(v=be({color:p.color},l)),p=oe(U(p),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:o,axisType:a,axisLabel:s,name:p.text,nameLocation:"end",nameGap:d,nameTextStyle:v,triggerEvent:h},!1),u||(p.name=""),"string"==typeof c?p.name=c.replace("{value}",p.name??""):"function"==typeof c&&(p.name=c(p.name,p));var P=ue(new Nr(p,null,this.ecModel),cl);return P.mainType="radar",P.componentIndex=this.componentIndex,P},this);this.getIndicatorModels=function(){return f}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:oe({lineStyle:{color:"#bbb"}},bc.axisLine),axisLabel:Ih(bc.axisLabel,!1),axisTick:Ih(bc.axisTick,!1),axisType:"interval",splitLine:Ih(bc.splitLine,!0),splitArea:Ih(bc.splitArea,!0),indicator:[]}});var bT=["axisLine","axisTickLabel","axisName"];Ao({type:"radar",render:function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem;ce(Oe(t.getIndicatorAxes(),function(n){return new ia(n.model,{position:[t.cx,t.cy],rotation:n.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(n){ce(bT,n.add,n),this.group.add(n.getGroup())},this)},_buildSplitLineAndArea:function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var i=e.get("shape"),o=e.getModel("splitLine"),a=e.getModel("splitArea"),s=o.getModel("lineStyle"),l=a.getModel("areaStyle"),u=o.get("show"),c=a.get("show"),d=s.get("color"),h=l.get("color");d=ze(d)?d:[d],h=ze(h)?h:[h];var f=[],p=[];if("circle"===i)for(var v=n[0].getTicksCoords(),F=t.cx,P=t.cy,ee=0;ee<v.length;ee++)u&&f[at(f,d,ee)].push(new Fa({shape:{cx:F,cy:P,r:v[ee].coord}})),c&&ee<v.length-1&&p[at(p,h,ee)].push(new Md({shape:{cx:F,cy:P,r0:v[ee].coord,r:v[ee+1].coord}}));else{var le,ae=Oe(n,function(pt,wt){var Rt=pt.getTicksCoords();return le=null==le?Rt.length-1:Math.min(Rt.length-1,le),Oe(Rt,function(Ot){return t.coordToPoint(Ot.coord,wt)})}),we=[];for(ee=0;ee<=le;ee++){for(var _e=[],Ce=0;Ce<n.length;Ce++)_e.push(ae[Ce][ee]);_e[0]&&_e.push(_e[0].slice()),u&&f[at(f,d,ee)].push(new ya({shape:{points:_e}})),c&&we&&p[at(p,h,ee-1)].push(new ea({shape:{points:_e.concat(we)}})),we=_e.slice().reverse()}}var Le=s.getLineStyle(),Fe=l.getAreaStyle();ce(p,function(pt,wt){this.group.add(ba(pt,{style:be({stroke:"none",fill:h[wt%h.length]},Fe),silent:!0}))},this),ce(f,function(pt,wt){this.group.add(ba(pt,{style:be({fill:"none",stroke:d[wt%d.length]},Le),silent:!0}))},this)}function at(pt,wt,Rt){var Ot=Rt%wt.length;return pt[Ot]=pt[Ot]||[],Ot}}});var _T=co.extend({type:"series.radar",dependencies:["radar"],init:function(e){_T.superApply(this,"init",arguments),this.legendVisualProvider=new yc(et(this.getData,this),et(this.getRawData,this))},getInitialData:function(e,t){return su(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(e,t,n,i){var o=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),s=this.getData().getName(e),l="html"===i?"<br/>":"\n";return ro(""===s?this.name:s)+l+Oe(a,function(u,c){var d=o.get(o.mapDimension(u.dim),e);return ro(u.name+" : "+d)}).join(l)},getTooltipPosition:function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,i=t.getValues(Oe(n.dimensions,function(l){return t.mapDimension(l)}),e,!0),o=0,a=i.length;o<a;o++)if(!isNaN(i[o])){var s=n.getIndicatorAxes();return n.coordToPoint(s[o].dataToCoord(i[o]),o)}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});function Lb(e){return!isNaN(e[0])&&!isNaN(e[1])}function Pb(e){return[e.cx,e.cy]}na({type:"radar",render:function(e,t,n){var i=e.coordinateSystem,o=this.group,a=e.getData(),s=this._data;function l(d,h){var ee,f=d.getItemVisual(h,"symbol")||"circle",p=d.getItemVisual(h,"color");if("none"!==f){var v=(ze(ee=d.getItemVisual(h,"symbolSize"))||(ee=[+ee,+ee]),ee),F=da(f,-1,-1,2,2,p),P=d.getItemVisual(h,"symbolRotate")||0;return F.attr({style:{strokeNoScale:!0},z2:100,scale:[v[0]/2,v[1]/2],rotation:P*Math.PI/180||0}),F}}function u(d,h,f,p,v,F){f.removeAll();for(var P=0;P<h.length-1;P++){var ee=l(p,v);ee&&(d[ee.__dimIdx=P]?(ee.attr("position",d[P]),ts[F?"initProps":"updateProps"](ee,{position:h[P]},e,v)):ee.attr("position",h[P]),f.add(ee))}}function c(d){return Oe(d,function(h){return[i.cx,i.cy]})}a.diff(s).add(function(d){var h=a.getItemLayout(d);if(h){var f=new ea,p=new ya,v={shape:{points:h}};f.shape.points=c(h),p.shape.points=c(h),Fo(f,v,e,d),Fo(p,v,e,d);var F=new E,P=new E;F.add(p),F.add(f),F.add(P),u(p.shape.points,h,P,a,d,!0),a.setItemGraphicEl(d,F)}}).update(function(d,h){var f=s.getItemGraphicEl(h),p=f.childAt(0),v=f.childAt(1),F=f.childAt(2),P={shape:{points:a.getItemLayout(d)}};P.shape.points&&(u(p.shape.points,P.shape.points,F,a,d,!1),xr(p,P,e),xr(v,P,e),a.setItemGraphicEl(d,f))}).remove(function(d){o.remove(s.getItemGraphicEl(d))}).execute(),a.eachItemGraphicEl(function(d,h){var f=a.getItemModel(h),p=d.childAt(0),v=d.childAt(1),F=d.childAt(2),P=a.getItemVisual(h,"color");o.add(d),p.useStyle(be(f.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:P})),p.hoverStyle=f.getModel("emphasis.lineStyle").getLineStyle();var ee=f.getModel("areaStyle"),le=f.getModel("emphasis.areaStyle"),ae=ee.isEmpty()&&ee.parentModel.isEmpty(),we=le.isEmpty()&&le.parentModel.isEmpty();we=we&&ae,v.ignore=ae,v.useStyle(be(ee.getAreaStyle(),{fill:P,opacity:.7})),v.hoverStyle=le.getAreaStyle();var _e=f.getModel("itemStyle").getItemStyle(["color"]),Ce=f.getModel("emphasis.itemStyle").getItemStyle(),Le=f.getModel("label"),Fe=f.getModel("emphasis.label");F.eachChild(function(at){at.setStyle(_e),at.hoverStyle=U(Ce);var pt=a.get(a.dimensions[at.__dimIdx],h);null!=pt&&!isNaN(pt)||(pt=""),sa(at.style,at.hoverStyle,Le,Fe,{labelFetcher:a.hostModel,labelDataIndex:h,labelDimIndex:at.__dimIdx,defaultText:pt,autoColor:P,isRectText:!0})}),d.highDownOnUpdate=function(at,pt){v.attr("ignore","emphasis"===pt?we:ae)},no(d)}),this._data=a},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),eo(Th("radar")),eo(hl("radar","circle")),ho(function(e){e.eachSeriesByType("radar",function(t){var n=t.getData(),i=[],o=t.coordinateSystem;if(o){var a=o.getIndicatorAxes();ce(a,function(s,l){n.each(n.mapDimension(a[l].dim),function(u,c){i[c]=i[c]||[];var d=o.dataToPoint(u,l);i[c][l]=Lb(d)?d:Pb(o)})}),n.each(function(s){var l=We(i[s],function(u){return Lb(u)})||Pb(o);i[s].push(l.slice()),n.setItemLayout(s,i[s])})}})}),ua(xc("radar")),Bo(function(e){var t=e.polar;if(t){ze(t)||(t=[t]);var n=[];ce(t,function(i,o){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),e.radar=e.radar||[],ze(e.radar)||(e.radar=[e.radar]),e.radar.push(i)):n.push(i)}),e.polar=n}ce(e.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})});for(var qg=[126,25],fl=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],pl=0;pl<fl.length;pl++)for(var lu=0;lu<fl[pl].length;lu++)fl[pl][lu][0]/=10.5,fl[pl][lu][1]/=-14,fl[pl][lu][0]+=qg[0],fl[pl][lu][1]+=qg[1];var wT={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},ST={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},CT=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],Rb=$o(),MT={load:function(e,t,n){var i=Rb(t).parsed;if(i)return i;var o,l,a=t.specialAreas||{},s=t.geoJSON;try{o=s?Mg(s,n):[]}catch(l){throw new Error("Invalid geoJson format\n"+l.message)}return"china"===(l=e)&&o.push(new fc("\u5357\u6d77\u8bf8\u5c9b",Oe(fl,function(c){return{type:"polygon",exterior:c}}),qg)),ce(o,function(l){var h,u=l.name;(function(d,h){if("china"===d){var f=wT[h.name];if(f){var p=h.center;p[0]+=f[0]/10.5,p[1]+=-f[1]/14}}})(e,l),function(d,h){if("world"===d){var f=ST[h.name];if(f){var p=h.center;p[0]=f[0],p[1]=f[1]}}}(e,l),h=l,"china"===e&&"\u53f0\u6e7e"===h.name&&h.geometries.push({type:"polygon",exterior:CT[0]});var c=a[u];c&&l.transformTo(c.left,c.top,c.width,c.height)}),Rb(t).parsed={regions:o,boundingRect:function(l){for(var u,c=0;c<l.length;c++){var d=l[c].getBoundingRect();(u=u||d.clone()).union(d)}return u}(o)}}},uu=$o();function Ob(e,t){var n,i,d,o=e.svgXML;try{xi(null!=(i=(n=o&&(d=o,(new nh).parse(d,{ignoreViewBox:!0,ignoreRootClip:!0}))||{}).root))}catch(d){throw new Error("Invalid svg format\n"+d.message)}var a=n.width,s=n.height,l=n.viewBoxRect;if(t||(t=null==a||null==s?i.getBoundingRect():new C(0,0,0,0),null!=a&&(t.width=a),null!=s&&(t.height=s)),l){var u=L1(l,t.width,t.height),c=i;(i=new E).add(c),c.scale=u.scale,c.position=u.position}return i.setClipPath(new Rr({shape:t.plain()})),{root:i,boundingRect:t}}var Bb={geoJSON:MT,svg:{load:function(e,t){var n=uu(t).originRoot;if(n)return{root:n,boundingRect:uu(t).boundingRect};var i=Ob(t);return uu(t).originRoot=i.root,uu(t).boundingRect=i.boundingRect,i},makeGraphic:function(e,t,n){var i=uu(t),o=i.rootMap||(i.rootMap=bn()),a=o.get(n);if(a)return a;var s=i.originRoot;return a=i.originRootHostKey?Ob(t,i.boundingRect).root:(i.originRootHostKey=n,s),o.set(n,a)},removeGraphic:function(e,t,n){var i=uu(t),o=i.rootMap;o&&o.removeKey(n),n===i.originRootHostKey&&(i.originRootHostKey=null)}}},_c={load:function(e,t,n){var i,o=[],a=bn(),s=bn();return ce(Fb(e),function(l){var u=Bb[l.type].load(e,l,n);ce(u.regions,function(d){var h=d.name;t&&t.hasOwnProperty(h)&&(d=d.cloneShallow(h=t[h])),o.push(d),a.set(h,d),s.set(h,d.center)});var c=u.boundingRect;c&&(i?i.union(c):i=c.clone())}),{regions:o,regionsMap:a,nameCoordMap:s,boundingRect:i||new C(0,0,0,0)}},makeGraphic:zb("makeGraphic"),removeGraphic:zb("removeGraphic")};function zb(e){return function(t,n){var i=Fb(t),o=[];return ce(i,function(a){var s=Bb[a.type][e];s&&o.push(s(t,a,n))}),o}}function Fb(e){return ih.retrieveMap(e)||[]}Te(co.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(e){for(var t=su(this,{coordDimensions:["value"],encodeDefaulter:xt(Np,this)}),n=t.mapDimension("value"),i=bn(),o=[],a=[],s=0,l=t.count();s<l;s++){var u=t.getName(s);i.set(u,!0),o.push({name:u,value:t.get(n,s),selected:c1(t,s,"selected")})}return ce(_c.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(c){var d=c.name;i.get(d)||(o.push({name:d}),a.push(d))}),this.updateSelectedMap(o),t.appendValues([],a),t},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e,t,n,i){for(var o=this.getData(),a=Ss(this.getRawValue(e)),s=o.getName(e),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var d=l[c].originalData.indexOfName(s),h=o.mapDimension("value");isNaN(l[c].originalData.get(h,d))||u.push(ro(l[c].name))}var f="html"===i?"<br/>":"\n";return u.join(", ")+f+ro(s+" : "+a)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}}),Gg);var Vb="\0_ec_interaction_mutex";function Hb(e,t){return!!Yg(e)[t]}function Yg(e){return e[Vb]||(e[Vb]={})}function cu(e){this._zr=e,this._opt={};var t=et,n=t(kT,this),i=t(TT,this),o=t(AT,this),a=t(IT,this),s=t(DT,this);Ar.call(this),this.setPointerChecker=function(l){this.pointerChecker=l},this.enable=function(l,u){this.disable(),this._opt=be(U(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==l&&(l=!0),!0!==l&&"move"!==l&&"pan"!==l||(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",o)),!0!==l&&"scale"!==l&&"zoom"!==l||(e.on("mousewheel",a),e.on("pinch",s))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",o),e.off("mousewheel",a),e.off("pinch",s)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function kT(e){if(!(kr(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function TT(e){if(this._dragging&&Dh("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!Hb(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,o=this._y,a=t-i,s=n-o;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&Ir(e.event),Wb(this,"pan","moveOnMouseMove",e,{dx:a,dy:s,oldX:i,oldY:o,newX:t,newY:n})}}function AT(e){kr(e)||(this._dragging=!1)}function IT(e){var t=Dh("zoomOnMouseWheel",e,this._opt),n=Dh("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,o=Math.abs(i),a=e.offsetX,s=e.offsetY;if(0!==i&&(t||n)){if(t){var l=3<o?1.4:1<o?1.2:1.1;Xg(this,"zoom","zoomOnMouseWheel",e,{scale:0<i?l:1/l,originX:a,originY:s})}if(n){var u=Math.abs(i);Xg(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(0<i?1:-1)*(3<u?.4:1<u?.15:.05),originX:a,originY:s})}}}function DT(e){Hb(this._zr,"globalPan")||Xg(this,"zoom",null,e,{scale:1<e.pinchScale?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function Xg(e,t,n,i,o){e.pointerChecker&&e.pointerChecker(i,o.originX,o.originY)&&(Ir(i.event),Wb(e,t,n,i,o))}function Wb(e,t,n,i,o){o.isAvailableBehavior=et(Dh,null,n,i),e.trigger(t,o)}function Dh(e,t,n){var i=n[e];return!e||i&&(!Je(i)||t.event[i+"Key"])}function Zg(e,t,n){var i=e.target,o=i.position;o[0]+=t,o[1]+=n,i.dirty()}function $g(e,t,n,i){var o=e.target,a=e.zoomLimit,s=o.position,l=o.scale,u=e.zoom=e.zoom||1;if(u*=t,a){var c=a.min||0;u=Math.max(Math.min(a.max||1/0,u),c)}var h=u/e.zoom;e.zoom=u,s[0]-=(n-s[0])*(h-1),s[1]-=(i-s[1])*(h-1),l[0]*=h,l[1]*=h,o.dirty()}Lr({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),Te(cu,Ar);var ET={axisPointer:1,tooltip:1,brush:1};function Eh(e,t,n){var i=t.getComponentByElement(e.topTarget),o=i&&i.coordinateSystem;return i&&i!==n&&!ET[i.mainType]&&o&&o.model!==n}function Gb(e){var t=e.getItemStyle(),n=e.get("areaColor");return null!=n&&(t.fill=n),t}function jb(e,t){t.eachChild(function(n){ce(n.__regions,function(i){n.trigger(e.isSelected(i.name)?"emphasis":"normal")})})}function Nh(e,t){var n=new E;this.uid=Wu("ec_map_draw"),this._controller=new cu(e.getZr()),this._controllerHost={target:t?n:null},this.group=n,this._updateGroup=t,n.add(this._regionsGroup=new E),n.add(this._backgroundGroup=new E)}Nh.prototype={constructor:Nh,draw:function(e,t,n,i,o){var a="geo"===e.mainType,s=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},function(Ce){s||Ce.getHostGeoModel()!==e||(s=Ce.getData())});var l=e.coordinateSystem;this._updateBackground(l);var u,c=this._regionsGroup,d=this.group,h=l.getTransformInfo(),f=!c.childAt(0)||o;if(f)d.transform=h.roamTransform,d.decomposeTransform(),d.dirty();else{var p=new it;p.transform=h.roamTransform,p.decomposeTransform(),u=p.scale,xr(d,{scale:p.scale,position:p.position},e)}var F=h.rawScale,P=h.rawPosition;c.removeAll();var Ce,Le,Fe,at,pt,ee=["itemStyle"],le=["emphasis","itemStyle"],ae=["label"],we=["emphasis","label"],_e=bn();ce(l.regions,function(Ce){var Le=_e.get(Ce.name)||_e.set(Ce.name,new E),Fe=new uy({segmentIgnoreThreshold:1,shape:{paths:[]}});Le.add(Fe);var at,pt=(ri=e.getRegionModel(Ce.name)||e).getModel(ee),wt=ri.getModel(le),Rt=Gb(pt),Ot=Gb(wt),Wt=ri.getModel(ae),Qt=ri.getModel(we);if(s){at=s.indexOfName(Ce.name);var rn=s.getItemVisual(at,"color",!0);rn&&(Rt.fill=rn)}function $t(Gi){return[Gi[0]*F[0]+P[0],Gi[1]*F[1]+P[1]]}ce(Ce.geometries,function(Gi){if("polygon"===Gi.type){for(var Zi=[],ar=0;ar<Gi.exterior.length;++ar)Zi.push($t(Gi.exterior[ar]));for(Fe.shape.paths.push(new ea({segmentIgnoreThreshold:1,shape:{points:Zi}})),ar=0;ar<(Gi.interiors?Gi.interiors.length:0);++ar){for(var Fr=Gi.interiors[ar],Pr=(Zi=[],0);Pr<Fr.length;++Pr)Zi.push($t(Fr[Pr]));Fe.shape.paths.push(new ea({segmentIgnoreThreshold:1,shape:{points:Zi}}))}}}),Fe.setStyle(Rt),Fe.style.strokeNoScale=!0,Fe.culling=!0;var Sn=Wt.get("show"),Un=Qt.get("show"),Zn=s&&isNaN(s.get(s.mapDimension("value"),at)),Hn=s&&s.getItemLayout(at);if(a||Zn&&(Sn||Un)||Hn&&Hn.showLabel){var li,Si=a?Ce.name:at;(!s||0<=at)&&(li=e);var Xi=new Cr({position:$t(Ce.center.slice()),scale:[1/d.scale[0],1/d.scale[1]],z2:10,silent:!0});sa(Xi.style,Xi.hoverStyle={},Wt,Qt,{labelFetcher:li,labelDataIndex:Si,defaultText:Ce.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),!f&&xr(Xi,{scale:[1/u[0],1/u[1]]},e),Le.add(Xi)}if(s)s.setItemGraphicEl(at,Le);else{var ri=e.getRegionModel(Ce.name);Fe.eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:Ce.name,region:ri&&ri.option||{}}}(Le.__regions||(Le.__regions=[])).push(Ce),Le.highDownSilentOnTouch=!!e.get("selectedMode"),no(Le,Ot),c.add(Le)}),this._updateController(e,t,n),Ce=this,Le=e,at=n,pt=i,(Fe=c).off("click"),Fe.off("mousedown"),Le.get("selectedMode")&&(Fe.on("mousedown",function(){Ce._mouseDownFlag=!0}),Fe.on("click",function(wt){if(Ce._mouseDownFlag){Ce._mouseDownFlag=!1;for(var Rt=wt.target;!Rt.__regions;)Rt=Rt.parent;if(Rt){var Ot={type:("geo"===Le.mainType?"geo":"map")+"ToggleSelect",batch:Oe(Rt.__regions,function(Wt){return{name:Wt.name,from:pt.uid}})};Ot[Le.mainType+"Id"]=Le.id,at.dispatchAction(Ot),jb(Le,Fe)}}})),jb(e,c)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&_c.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(e){var t=e.map;this._mapName!==t&&ce(_c.makeGraphic(t,this.uid),function(n){this._backgroundGroup.add(n)},this),this._mapName=t},_updateController:function(e,t,n){var i=e.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=i.getZoom(),o.enable(e.get("roam")||!1);var s=e.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=e.id,u}o.off("pan").on("pan",function(u){this._mouseDownFlag=!1,Zg(a,u.dx,u.dy),n.dispatchAction(ue(l(),{dx:u.dx,dy:u.dy}))},this),o.off("zoom").on("zoom",function(u){if(this._mouseDownFlag=!1,$g(a,u.scale,u.originX,u.originY),n.dispatchAction(ue(l(),{zoom:u.scale,originX:u.originX,originY:u.originY})),this._updateGroup){var c=this.group.scale;this._regionsGroup.traverse(function(d){"text"===d.type&&d.attr("scale",[1/c[0],1/c[1]])})}},this),o.setPointerChecker(function(u,c,d){return i.getViewRectAfterRoam().contain(c,d)&&!Eh(u,n,e)})}};var Kg="__seriesMapHighDown",Ub="__seriesMapCallKey";function qb(e){var t=this[Kg];t&&t.recordVersion===this[Ub]&&Yb(t,e)}function Yb(e,t){var n=e.circle,i=e.labelModel,o=e.hoverLabelModel,a=e.emphasisText,s=e.normalText;t?(n.style.extendFrom(uo({},o,{text:o.get("show")?a:null},{isRectText:!0,useInsideStyle:!1},!0)),n.__mapOriginalZ2=n.z2,n.z2+=Bu):(uo(n.style,i,{text:i.get("show")?s:null,textPosition:i.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),n.dirty(!1),null!=n.__mapOriginalZ2&&(n.z2=n.__mapOriginalZ2,n.__mapOriginalZ2=null))}function Jg(e,t,n){var i=e.getZoom(),o=e.getCenter(),a=t.zoom,s=e.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,o=e.pointToData(s),e.setCenter(o)),null!=a){if(n){var l=n.min||0;a=Math.max(Math.min(i*a,n.max||1/0),l)/i}e.scale[0]*=a,e.scale[1]*=a;var c=e.position,h=(t.originY-c[1])*(a-1);c[0]-=(t.originX-c[0])*(a-1),c[1]-=h,e.updateTransform(),o=e.pointToData(s),e.setCenter(o),e.setZoom(a*i)}return{center:e.getCenter(),zoom:e.getZoom()}}na({type:"map",render:function(e,t,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id)(a=this._mapDraw)&&o.add(a.group);else if(e.needsDrawMap){var a=this._mapDraw||new Nh(n,!0);o.add(a.group),a.draw(e,t,n,this,i),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,n){var i=e.originalData,o=this.group;i.each(i.mapDimension("value"),function(a,s){if(!isNaN(a)){var l=i.getItemLayout(s);if(l&&l.point){var u=l.point,c=l.offset,d=new Fa({style:{fill:e.getData().getVisual("color")},shape:{cx:u[0]+9*c,cy:u[1],r:3},silent:!0,z2:8+(c?0:Bu+1)});if(!c){var h=e.mainSeries.getData(),f=i.getName(s),p=h.indexOfName(f),v=i.getItemModel(s),F=v.getModel("label"),P=v.getModel("emphasis.label"),ee=h.getItemGraphicEl(p),le=Ht(e.getFormattedLabel(p,"normal"),f),ae=Ht(e.getFormattedLabel(p,"emphasis"),le),we=ee[Kg],_e=Math.random();if(!we){we=ee[Kg]={};var Ce=xt(qb,!0),Le=xt(qb,!1);ee.on("mouseover",Ce).on("mouseout",Le).on("emphasis",Ce).on("normal",Le)}ue(we,{recordVersion:ee[Ub]=_e,circle:d,labelModel:F,hoverLabelModel:P,emphasisText:ae,normalText:le}),Yb(we,!1)}o.add(d)}}})}}),Lr({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(i){var o=i.coordinateSystem;if("geo"===o.type){var a=Jg(o,e,i.get("scaleLimit"));i.setCenter&&i.setCenter(a.center),i.setZoom&&i.setZoom(a.zoom),"series"===n&&ce(i.seriesGroup,function(s){s.setCenter(a.center),s.setZoom(a.zoom)})}})});var Xb=cr;function Qg(){it.call(this)}function Os(e){this.name=e,it.call(this),this._roamTransformable=new Qg,this._rawTransformable=new Qg}function Zb(e,t,n,i){var o=n.seriesModel,a=o?o.coordinateSystem:null;return a===this?a[e](i):null}function du(e,t,n,i){Os.call(this,e),this.map=t;var o=_c.load(t,n);this._nameCoordMap=o.nameCoordMap,this._regionsMap=o.regionsMap,this._invertLongitute=null==i||i,this.regions=o.regions,this._rect=o.boundingRect}function $b(e,t,n,i){var o=n.geoModel,a=n.seriesModel,s=o?o.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return s===this?s[e](i):null}function Kb(e,t){var n=e.get("boundingCoords");if(null!=n){var i=n[0],o=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1])}var a,s=this.getBoundingRect(),l=e.get("layoutCenter"),u=e.get("layoutSize"),c=t.getWidth(),d=t.getHeight(),h=s.width/s.height*this.aspectScale,f=!1;if(l&&u&&(l=[Mi(l[0],c),Mi(l[1],d)],u=Mi(u,Math.min(c,d)),isNaN(l[0])||isNaN(l[1])||isNaN(u)||(f=!0)),f){var p={};1<h?(p.width=u,p.height=u/h):(p.height=u,p.width=u*h),p.y=l[1]-p.height/2,p.x=l[0]-p.width/2}else(a=e.getBoxLayoutParams()).aspect=h,p=xo(a,{width:c,height:d});this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function Jb(e,t){ce(t.get("geoCoord"),function(n,i){e.addGeoCoord(i,n)})}Te(Qg,it),Os.prototype={constructor:Os,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,i){return this._rect=new C(e,t,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,i){this.transformTo(e,t,n,i),this._viewRect=new C(e,t,n,i)},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new C(e,t,n,i)),a.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=cr([],i,e),n=cr([],n,e),t.origin=i,t.position=[n[0]-i[0],n[1]-i[1]],t.scale=[o,o],this._updateTransform()},_updateTransform:function(){var t=this._rawTransformable;(t.parent=this._roamTransformable).updateTransform(),t.updateTransform(),go(this.transform||(this.transform=[]),t.transform||Yi()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],N(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var e=this._roamTransformable.transform,t=this._rawTransformable;return{roamTransform:e?gn(e):Yi(),rawScale:gn(t.scale),rawPosition:gn(t.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?Xb(n,e,i):ei(n,e)},pointToData:function(e){var t=this.invTransform;return t?Xb([],e,t):[e[0],e[1]]},convertToPixel:xt(Zb,"dataToPoint"),convertFromPixel:xt(Zb,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},Te(Os,it),du.prototype={constructor:du,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=this._invertLongitute;o=o.clone(),a&&(o.y=-o.y-o.height);var s=this._rawTransformable;if(s.transform=o.calculateTransform(new C(e,t,n,i)),s.decomposeTransform(),a){var l=s.scale;l[1]=-l[1]}s.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){return this._rect},dataToPoint:function(e,t,n){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return Os.prototype.dataToPoint.call(this,e,t,n)},convertToPixel:xt($b,"dataToPoint"),convertFromPixel:xt($b,"pointToData")},Te(du,Os);var Qb={dimensions:du.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("geo",function(o,a){var s=o.get("map"),l=o.get("aspectScale"),u=!0,c=ih.retrieveMap(s);c&&c[0]&&"svg"===c[0].type?(null==l&&(l=1),u=!1):null==l&&(l=.75);var d=new du(s+a,s,o.get("nameMap"),u);d.aspectScale=l,d.zoomLimit=o.get("scaleLimit"),n.push(d),Jb(d,o),(o.coordinateSystem=d).model=o,d.resize=Kb,d.resize(o,t)}),e.eachSeries(function(o){if("geo"===o.get("coordinateSystem")){var a=o.get("geoIndex")||0;o.coordinateSystem=n[a]}});var i={};return e.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var a=o.getMapType();i[a]=i[a]||[],i[a].push(o)}}),ce(i,function(o,a){var s=new du(a,a,fe(Oe(o,function(l){return l.get("nameMap")})));s.zoomLimit=en.apply(null,Oe(o,function(l){return l.get("scaleLimit")})),n.push(s),s.resize=Kb,s.aspectScale=o[0].get("aspectScale"),s.resize(o[0],t),ce(o,function(l){Jb(l.coordinateSystem=s,l)})}),n},getFilledRegions:function(e,t,n){for(var i=(e||[]).slice(),o=bn(),a=0;a<i.length;a++)o.set(i[a].name,i[a]);return ce(_c.load(t,n).regions,function(s){var l=s.name;o.get(l)||i.push({name:l})}),i}};lg("geo",Qb),ho(function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var o={};ce(n.seriesGroup,function(s){var l=s.coordinateSystem,u=s.originalData;s.get("showLegendSymbol")&&e.getComponent("legend")&&u.each(u.mapDimension("value"),function(c,d){var h=u.getName(d),f=l.getRegion(h);if(f&&!isNaN(c)){var p=o[h]||0,v=l.dataToPoint(f.center);o[h]=p+1,u.setItemLayout(d,{point:v,offset:p})}})});var a=n.getData();a.each(function(s){var l=a.getName(s),u=a.getItemLayout(s)||{};u.showLabel=!o[l],a.setItemLayout(s,u)}),t[i]=!0}})}),eo(function(e){e.eachSeriesByType("map",function(t){var n=t.get("color"),i=t.getModel("itemStyle"),o=i.get("areaColor"),a=i.get("color")||n[t.seriesIndex%n.length];t.getData().setVisual({areaColor:o,color:a})})}),ua(ja.PROCESSOR.STATISTIC,function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getHostGeoModel(),o=i?"o"+i.id:"i"+n.getMapType();(t[o]=t[o]||[]).push(n)}),ce(t,function(n,i){for(var o=function(s,l){var u={};return ce(s,function(c){c.each(c.mapDimension("value"),function(d,h){var f="ec-"+c.getName(h);u[f]=u[f]||[],isNaN(d)||u[f].push(d)})}),s[0].map(s[0].mapDimension("value"),function(c,d){for(var f="ec-"+s[0].getName(d),p=0,v=1/0,F=-1/0,P=u[f].length,ee=0;ee<P;ee++)v=Math.min(v,u[f][ee]),F=Math.max(F,u[f][ee]),p+=u[f][ee];return 0===P?NaN:"min"===l?v:"max"===l?F:"average"===l?p/P:p})}(Oe(n,function(s){return s.getData()}),n[0].get("mapValueCalculation")),a=0;a<n.length;a++)n[a].originalData=n[a].getData();for(a=0;a<n.length;a++)(n[a].seriesGroup=n)[a].needsDrawMap=0===a&&!n[a].getHostGeoModel(),n[a].setData(o.cloneShallow()),n[a].mainSeries=n[0]})}),Bo(function(e){var t=[];ce(e.series,function(n){n&&"map"===n.type&&(t.push(n),n.map=n.map||n.mapType,be(n,n.mapLocation))})}),Tb("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var wc=ce,Sc="\0__link_datas",Lh="\0__link_mainData";function e_(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,t_(t,n,e),wc(n,function(i){wc(t.TRANSFERABLE_METHODS,function(o){i.wrapMethod(o,xt(NT,e))})}),t.wrapMethod("cloneShallow",xt(PT,e)),wc(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,xt(LT,e))}),xi(n[t.dataType]===t)}function NT(e,t){if(function(i){return i[Lh]===i}(this)){var n=ue({},this[Sc]);t_(n[this.dataType]=t,n,e)}else em(t,this.dataType,this[Lh],e);return t}function LT(e,t){return e.struct&&e.struct.update(this),t}function PT(e,t){return wc(t[Sc],function(n,i){n!==t&&em(n.cloneShallow(),i,t,e)}),t}function RT(e){var t=this[Lh];return null==e||null==t?t:t[Sc][e]}function t_(e,t,n){e[Sc]={},wc(t,function(i,o){em(i,o,e,n)})}function em(e,t,n,i){(n[Sc][t]=e)[Lh]=n,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=RT}function tm(e,t){this.name=e||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t}function gl(e){this._nodes=[],this.hostModel=e}function BT(e,t){var n=e.isExpand?e.children:[],i=e.parentNode.children,o=e.hierNode.i?i[e.hierNode.i-1]:null;if(n.length){!function(s){for(var l=s.children,u=l.length,c=0,d=0;0<=--u;){var h=l[u];h.hierNode.prelim+=c,h.hierNode.modifier+=c,c+=h.hierNode.shift+(d+=h.hierNode.change)}}(e);var a=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;o?(e.hierNode.prelim=o.hierNode.prelim+t(e,o),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else o&&(e.hierNode.prelim=o.hierNode.prelim+t(e,o));e.parentNode.hierNode.defaultAncestor=function(s,l,u,c){if(l){for(var d=s,h=s,f=h.parentNode.children[0],p=l,v=d.hierNode.modifier,F=h.hierNode.modifier,P=f.hierNode.modifier,ee=p.hierNode.modifier;p=nm(p),h=im(h),p&&h;){d=nm(d),f=im(f),d.hierNode.ancestor=s;var le=p.hierNode.prelim+ee-h.hierNode.prelim-F+c(p,h);0<le&&(FT((ae=p).hierNode.ancestor.parentNode===s.parentNode?ae.hierNode.ancestor:u,s,le),F+=le,v+=le),ee+=p.hierNode.modifier,F+=h.hierNode.modifier,v+=d.hierNode.modifier,P+=f.hierNode.modifier}p&&!nm(d)&&(d.hierNode.thread=p,d.hierNode.modifier+=ee-v),h&&!im(f)&&(f.hierNode.thread=h,f.hierNode.modifier+=F-P,u=s)}var ae;return u}(e,o,e.parentNode.hierNode.defaultAncestor||i[0],t)}function zT(e){e.setLayout({x:e.hierNode.prelim+e.parentNode.hierNode.modifier},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function n_(e){return arguments.length?e:VT}function Cc(e,t){var n={};return e-=Math.PI/2,n.x=t*Math.cos(e),n.y=t*Math.sin(e),n}function nm(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function im(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function FT(e,t,n){var i=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=i}function VT(e,t){return e.parentNode===t.parentNode?1:2}tm.prototype={constructor:tm,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null),Je(e=e||{})&&(e={order:e});var i,o=e.order||"preorder",a=this[e.attr||"children"];"preorder"===o&&(i=t.call(n,this));for(var s=0;!i&&s<a.length;s++)a[s].eachNode(e,t,n);"postorder"===o&&t.call(n,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var o=n[t].getNodeById(e);if(o)return o}},contains:function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var o=n[t].contains(e);if(o)return o}},getAncestors:function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},setVisual:function(e,t){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}},gl.prototype={constructor:gl,type:"tree",eachNode:function(e,t,n){this.root.eachNode(e,t,n)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},gl.createTree=function(e,t,n){var i=new gl(t),o=[],a=1;(function u(c,d){var h=c.value;a=Math.max(a,ze(h)?h.length:1),o.push(c);var f=new tm(c.name,i);d?function OT(e,t){e.parentNode!==t&&(t.children.push(e),e.parentNode=t)}(f,d):i.root=f,i._nodes.push(f);var p=c.children;if(p)for(var v=0;v<p.length;v++)u(p[v],f)})(e),i.root.updateDepthAndHeight(0);var s=Kl(o,{coordDimensions:["value"],dimensionsCount:a}),l=new Io(s,t);return l.initData(o),n&&n(l),e_({mainData:l,struct:i,structAttr:"tree"}),i.update(),i},co.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},n=new Nr(e.leaves||{},this,this.ecModel),i=gl.createTree(t,this,function(s){s.wrapMethod("getItemModel",function(l,u){var c=i.getNodeByDataIndex(u);return c.children.length&&c.isExpand||(l.parentModel=n),l})}),o=0;i.eachNode("preorder",function(s){s.depth>o&&(o=s.depth)});var a=e.expandAndCollapse&&0<=e.initialTreeDepth?e.initialTreeDepth:o;return i.root.eachNode("preorder",function(s){var l=s.hostTree.data.getRawDataItem(s.dataIndex);s.isExpand=l&&null!=l.collapsed?!l.collapsed:s.depth<=a}),i.data},getOrient:function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(e){for(var t=this.getData().tree,n=t.root.children[0],i=t.getNodeByDataIndex(e),o=i.getValue(),a=i.name;i&&i!==n;)a=i.parentNode.name+"."+a,i=i.parentNode;return ro(a+(isNaN(o)||null==o?"":" : "+o))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});var HT=xa({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.childPoints,i=n.length,o=t.parentPoint,a=n[0],s=n[i-1];if(1===i)return e.moveTo(o[0],o[1]),void e.lineTo(a[0],a[1]);var l=t.orient,u="TB"===l||"BT"===l?0:1,c=1-u,d=Mi(t.forkPosition,1),h=[];h[u]=o[u],h[c]=o[c]+(s[c]-o[c])*d,e.moveTo(o[0],o[1]),e.lineTo(h[0],h[1]),e.moveTo(a[0],a[1]),h[u]=a[u],e.lineTo(h[0],h[1]),h[u]=s[u],e.lineTo(h[0],h[1]),e.lineTo(s[0],s[1]);for(var f=1;f<i-1;f++){var p=n[f];e.moveTo(p[0],p[1]),h[u]=p[u],e.lineTo(h[0],h[1])}}});function i_(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==e.getItemVisual(t,"symbol")}function r_(e,t,n){return n.itemModel=t,n.itemStyle=t.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=t.getModel("lineStyle").getLineStyle(),n.labelModel=t.getModel("label"),n.hoverLabelModel=t.getModel("emphasis.label"),n.symbolInnerColor=!1===e.isExpand&&0!==e.children.length?n.itemStyle.fill:"#fff",n}function o_(e,t,n,i,o,a){var s=!n,l=e.tree.getNodeByDataIndex(t),u=l.getModel(),c=(a=r_(l,u,a),e.tree.root),d=l.parentNode===c?l:l.parentNode||l,h=e.getItemGraphicEl(d.dataIndex),f=d.getLayout(),p=h?{x:h.position[0],y:h.position[1],rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:f,v=l.getLayout();s?(n=new Es(e,t,a)).attr("position",[p.x,p.y]):n.updateData(e,t,a),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=v.rawX,n.__radialRawY=v.rawY,i.add(n),e.setItemGraphicEl(t,n),xr(n,{position:[v.x,v.y]},o);var F=n.getSymbolPath();if("radial"===a.layout){var P,ee,le=c.children[0],ae=le.getLayout(),we=le.children.length;if(v.x===ae.x&&!0===l.isExpand){var _e={};_e.x=(le.children[0].getLayout().x+le.children[we-1].getLayout().x)/2,_e.y=(le.children[0].getLayout().y+le.children[we-1].getLayout().y)/2,(P=Math.atan2(_e.y-ae.y,_e.x-ae.x))<0&&(P=2*Math.PI+P),(ee=_e.x<ae.x)&&(P-=Math.PI)}else(P=Math.atan2(v.y-ae.y,v.x-ae.x))<0&&(P=2*Math.PI+P),0===l.children.length||0!==l.children.length&&!1===l.isExpand?(ee=v.x<ae.x)&&(P-=Math.PI):(ee=v.x>ae.x)||(P-=Math.PI);var Ce=ee?"left":"right",Le=a.labelModel.get("rotate"),Fe=Le*(Math.PI/180);F.setStyle({textPosition:a.labelModel.get("position")||Ce,textRotation:null==Le?-P:Fe,textOrigin:"center",verticalAlign:"middle"})}!function(at,pt,wt,Rt,Ot,Wt,Qt,rn,$t){var Sn=$t.edgeShape,Un=Rt.__edge;if("curve"===Sn)pt.parentNode&&pt.parentNode!==wt&&xr(Un=Un||(Rt.__edge=new kd({shape:rm($t,Ot,Ot),style:be({opacity:0,strokeNoScale:!0},$t.lineStyle)})),{shape:rm($t,Wt,Qt),style:be({opacity:1},$t.lineStyle)},at);else if("polyline"===Sn&&"orthogonal"===$t.layout&&pt!==wt&&pt.children&&0!==pt.children.length&&!0===pt.isExpand){for(var Zn=pt.children,Hn=[],li=0;li<Zn.length;li++){var Si=Zn[li].getLayout();Hn.push([Si.x,Si.y])}xr(Un=Un||(Rt.__edge=new HT({shape:{parentPoint:[Qt.x,Qt.y],childPoints:[[Qt.x,Qt.y]],orient:$t.orient,forkPosition:$t.edgeForkPosition},style:be({opacity:0,strokeNoScale:!0},$t.lineStyle)})),{shape:{parentPoint:[Qt.x,Qt.y],childPoints:Hn},style:be({opacity:1},$t.lineStyle)},at)}rn.add(Un)}(o,l,c,n,p,f,v,i,a)}function a_(e,t,n,i,o,a){for(var s,h,l=e.tree.getNodeByDataIndex(t),u=e.tree.root,c=l.getModel(),d=(a=r_(l,c,a),l.parentNode===u?l:l.parentNode||l);null==(s=d.getLayout());)d=d.parentNode===u?d:d.parentNode||d;xr(n,{position:[s.x+1,s.y+1]},o,function(){i.remove(n),e.setItemGraphicEl(t,null)}),n.fadeOut(null,{keepLabel:!0});var f=e.getItemGraphicEl(d.dataIndex).__edge,p=n.__edge||(!1===d.isExpand||1===d.children.length?f:void 0);h=a.edgeShape,p&&("curve"===h?xr(p,{shape:rm(a,s,s),style:{opacity:0}},o,function(){i.remove(p)}):"polyline"===h&&"orthogonal"===a.layout&&xr(p,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},o,function(){i.remove(p)}))}function rm(e,t,n){var i,o,a,s,l,u,c,d,h=e.orient;if("radial"!==e.layout)return l=t.x,c=t.y,u=n.x,d=n.y,"LR"!==h&&"RL"!==h||(i=l+(u-l)*e.curvature,o=c,a=u+(l-u)*e.curvature,s=d),"TB"!==h&&"BT"!==h||(i=l,o=c+(d-c)*e.curvature,a=u,s=d+(c-d)*e.curvature),{x1:l,y1:c,x2:u,y2:d,cpx1:i,cpy1:o,cpx2:a,cpy2:s};u=n.rawX,d=n.rawY;var f=Cc(l=t.rawX,c=t.rawY),p=Cc(l,c+(d-c)*e.curvature),v=Cc(u,d+(c-d)*e.curvature),F=Cc(u,d);return{x1:f.x,y1:f.y,x2:F.x,y2:F.y,cpx1:p.x,cpy1:p.y,cpx2:v.x,cpy2:v.y}}function Mc(e,t){for(var n,i=[e];n=i.pop();)if(t(n),n.isExpand){var o=n.children;if(o.length)for(var a=o.length-1;0<=a;a--)i.push(o[a])}}function kc(e,t,n){if(e&&0<=Ge(t,e.type)){var i=n.getData().tree.root,o=e.targetNode;if("string"==typeof o&&(o=i.getNodeById(o)),o&&i.contains(o))return{node:o};var a=e.targetNodeId;if(null!=a&&(o=i.getNodeById(a)))return{node:o}}}function s_(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function om(e,t){return 0<=Ge(s_(e),t)}function am(e,t){for(var n=[];e;){var i=e.dataIndex;n.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return n.reverse(),n}na({type:"tree",init:function(e,t){this._mainGroup=new E,this._controller=new cu(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(e,t,n,i){var o=e.getData(),a=e.layoutInfo,s=this._mainGroup,l=e.get("layout");s.attr("position","radial"===l?[a.x+a.width/2,a.y+a.height/2]:[a.x,a.y]),this._updateViewCoordSys(e,a,l),this._updateController(e,t,n);var u=this._data,c={expandAndCollapse:e.get("expandAndCollapse"),layout:l,edgeShape:e.get("edgeShape"),edgeForkPosition:e.get("edgeForkPosition"),orient:e.getOrient(),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};o.diff(u).add(function(d){i_(o,d)&&o_(o,d,null,s,e,c)}).update(function(d,h){var f=u.getItemGraphicEl(h);i_(o,d)?o_(o,d,f,s,e,c):f&&a_(u,h,f,s,e,c)}).remove(function(d){var h=u.getItemGraphicEl(d);h&&a_(u,d,h,s,e,c)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===c.expandAndCollapse&&o.eachItemGraphicEl(function(d,h){d.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=o},_updateViewCoordSys:function(e){var t=e.getData(),n=[];t.each(function(u){var c=t.getItemLayout(u);!c||isNaN(c.x)||isNaN(c.y)||n.push([+c.x,+c.y])});var i=[],o=[];Nu(n,i,o);var a=this._min,s=this._max;o[0]-i[0]==0&&(i[0]=a?a[0]:i[0]-1,o[0]=s?s[0]:o[0]+1),o[1]-i[1]==0&&(i[1]=a?a[1]:i[1]-1,o[1]=s?s[1]:o[1]+1);var l=e.coordinateSystem=new Os;l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1]),l.setCenter(e.get("center")),l.setZoom(e.get("zoom")),this.group.attr({position:l.position,scale:l.scale}),this._viewCoordSys=l,this._min=i,this._max=o},_updateController:function(e,t,n){var i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(s,l,u){var c=a.getBoundingRect();return c.applyTransform(a.transform),c.contain(l,u)&&!Eh(s,n,e)}),i.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(s){Zg(o,s.dx,s.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:s.dx,dy:s.dy})},this).on("zoom",function(s){$g(o,s.scale,s.originX,s.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:s.scale,originX:s.originX,originY:s.originY}),this._updateNodeAndLinkScale(e)},this)},_updateNodeAndLinkScale:function(e){var t=e.getData(),n=this._getNodeGlobalScale(e),i=[n,n];t.eachItemGraphicEl(function(o,a){o.attr("scale",i)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,i=t.scale,o=i&&i[0]||1;return((t.getZoom()-1)*n+1)/o},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}}),Lr({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=e.dataIndex,o=n.getData().tree.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),Lr({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=Jg(n.coordinateSystem,e);n.setCenter&&n.setCenter(i.center),n.setZoom&&n.setZoom(i.zoom)})}),eo(hl("tree","circle")),ho(function(e,t){e.eachSeriesByType("tree",function(n){!function(i,o){var Le,a=(Le=o,xo(i.getBoxLayoutParams(),{width:Le.getWidth(),height:Le.getHeight()}));i.layoutInfo=a;var s=i.get("layout"),l=0,u=0,c=null;c="radial"===s?(l=2*Math.PI,u=Math.min(a.height,a.width)/2,n_(function(Ce,Le){return(Ce.parentNode===Le.parentNode?1:2)/Ce.depth})):(l=a.width,u=a.height,n_());var d=i.getData().tree.root,h=d.children[0];if(h){(function(Ce){Ce.hierNode={defaultAncestor:null,ancestor:Ce,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var Le,Fe,at=[Ce];Le=at.pop();)if(Fe=Le.children,Le.isExpand&&Fe.length)for(var pt=Fe.length-1;0<=pt;pt--){var wt=Fe[pt];wt.hierNode={defaultAncestor:null,ancestor:wt,prelim:0,modifier:0,change:0,shift:0,i:pt,thread:null},at.push(wt)}})(d),function(Ce,Le,Fe){for(var at,pt=[Ce],wt=[];at=pt.pop();)if(wt.push(at),at.isExpand){var Rt=at.children;if(Rt.length)for(var Ot=0;Ot<Rt.length;Ot++)pt.push(Rt[Ot])}for(;at=wt.pop();)Le(at,Fe)}(h,BT,c),d.hierNode.modifier=-h.hierNode.prelim,Mc(h,zT);var f=h,p=h,v=h;Mc(h,function(Ce){var Le=Ce.getLayout().x;Le<f.getLayout().x&&(f=Ce),Le>p.getLayout().x&&(p=Ce),Ce.depth>v.depth&&(v=Ce)});var F=f===p?1:c(f,p)/2,P=F-f.getLayout().x,ee=0,le=0,ae=0,we=0;if("radial"===s)ee=l/(p.getLayout().x+F+P),le=u/(v.depth-1||1),Mc(h,function(Ce){var Le=Cc(ae=(Ce.getLayout().x+P)*ee,we=(Ce.depth-1)*le);Ce.setLayout({x:Le.x,y:Le.y,rawX:ae,rawY:we},!0)});else{var _e=i.getOrient();"RL"===_e||"LR"===_e?(le=u/(p.getLayout().x+F+P),ee=l/(v.depth-1||1),Mc(h,function(Ce){we=(Ce.getLayout().x+P)*le,Ce.setLayout({x:ae="LR"===_e?(Ce.depth-1)*ee:l-(Ce.depth-1)*ee,y:we},!0)})):"TB"!==_e&&"BT"!==_e||(ee=l/(p.getLayout().x+F+P),le=u/(v.depth-1||1),Mc(h,function(Ce){ae=(Ce.getLayout().x+P)*ee,Ce.setLayout({x:ae,y:we="TB"===_e?(Ce.depth-1)*le:u-(Ce.depth-1)*le},!0)}))}}}(n,t)})}),co.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var n={name:e.name,children:e.data};!function l(u){var c=0;ce(u.children,function(h){l(h);var f=h.value;ze(f)&&(f=f[0]),c+=f});var d=u.value;ze(d)&&(d=d[0]),null!=d&&!isNaN(d)||(d=c),d<0&&(d=0),ze(u.value)?u.value[0]=d:u.value=d}(n);var i=e.levels||[],o=new Nr({itemStyle:this.designatedVisualItemStyle={}},this,t),a=Oe((i=e.levels=function(l,u){var c,d=u.get("color");if(d)return ce(l=l||[],function(h){var f=new Nr(h),p=f.get("color");(f.get("itemStyle.color")||p&&"none"!==p)&&(c=!0)}),!c&&((l[0]||(l[0]={})).color=d.slice()),l}(i,t))||[],function(l){return new Nr(l,o,t)},this),s=gl.createTree(n,this,function(l){l.wrapMethod("getItemModel",function(u,c){var d=s.getNodeByDataIndex(c);return u.parentModel=a[d.depth]||o,u})});return s.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),i=ze(n)?Ss(n[0]):Ss(n);return ro(t.getName(e)+": "+i)},getDataParams:function(e){var t=co.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=am(n,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},ue(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=bn(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var sm=5;function lm(e){this.group=new E,e.add(this.group)}function WT(e,t,n,i,o,a){var s=[[o?e:e-sm,t],[e+n,t],[e+n,t+i],[o?e:e-sm,t+i]];return a||s.splice(2,0,[e+n+sm,t+i/2]),o||s.push([e,t+i/2]),s}function l_(e){var t=um(e);return t.stroke=t.fill=t.lineWidth=null,t}lm.prototype={constructor:lm,render:function(e,t,n,i){var o=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&n){var s=o.getModel("itemStyle"),l=s.getModel("textStyle"),u={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,l),this._renderContent(e,u,s,l,i),Wd(a,u.pos,u.box)}},_prepare:function(e,t,n){for(var i=e;i;i=i.parentNode){var o=i.getModel().get("name"),a=n.getTextRect(o),s=Math.max(a.width+16,t.emptyItemWidth);t.totalWidth+=s+8,t.renderList.push({node:i,text:o,width:s})}},_renderContent:function(e,t,n,i,o){for(var a,s,l=0,u=t.emptyItemWidth,c=e.get("breadcrumb.height"),d=(_e=void 0,void 0,void 0,Fe=void 0,at=void 0,pt=void 0,wt=void 0,Le=(we=t.box).height,Fe=Mi((ae=t.pos).x,Ce=we.width),at=Mi(ae.y,Le),pt=Mi(ae.x2,Ce),wt=Mi(ae.y2,Le),(isNaN(Fe)||isNaN(parseFloat(ae.x)))&&(Fe=0),(isNaN(pt)||isNaN(parseFloat(ae.x2)))&&(pt=Ce),(isNaN(at)||isNaN(parseFloat(ae.y)))&&(at=0),(isNaN(wt)||isNaN(parseFloat(ae.y2)))&&(wt=Le),_e=il(_e||0),{width:Math.max(pt-Fe-_e[1]-_e[3],0),height:Math.max(wt-at-_e[0]-_e[2],0)}),h=t.totalWidth,f=t.renderList,p=f.length-1;0<=p;p--){var v=f[p],F=v.node,P=v.width,ee=v.text;h>d.width&&(h-=P-u,P=u,ee=null);var le=new ea({shape:{points:WT(l,0,P,c,p===f.length-1,0===p)},style:be(n.getItemStyle(),{lineJoin:"bevel",text:ee,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:xt(o,F)});this.group.add(le),le.eventData={componentType:"series",componentSubType:"treemap",componentIndex:(a=e).componentIndex,seriesIndex:a.componentIndex,seriesName:a.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:(s=F)&&s.dataIndex,name:s&&s.name},treePathInfo:s&&am(s,a)},l+=P+8}var ae,we,_e,Ce,Le,Fe,at,pt,wt},remove:function(){this.group.removeAll()}};var Ph=et,u_=E,c_=Rr,Za=ce,GT=["label"],jT=["emphasis","label"],UT=["upperLabel"],qT=["emphasis","upperLabel"],YT=10,um=zl([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);function XT(e,t,n,i,o,a,s,l,u,c){if(s){var d=s.getLayout(),h=e.getData();if(h.setItemGraphicEl(s.dataIndex,null),d&&d.isInView){var f=d.width,p=d.height,v=d.borderWidth,F=d.invisible,P=s.getRawIndex(),ee=l&&l.getRawIndex(),le=s.viewChildren,ae=d.upperHeight,we=le&&le.length,_e=s.getModel("itemStyle"),Ce=s.getModel("emphasis.itemStyle"),Le=Wt("nodeGroup",u_);if(Le){if(u.add(Le),Le.attr("position",[d.x||0,d.y||0]),Le.__tmNodeWidth=f,Le.__tmNodeHeight=p,d.isAboveViewRoot)return Le;var Fe=s.getModel(),at=Wt("background",c_,c,1);if(at&&function(Qt,rn,$t){if(rn.dataIndex=s.dataIndex,rn.seriesIndex=e.seriesIndex,rn.setShape({x:0,y:0,width:f,height:p}),F)wt(rn);else{rn.invisible=!1;var Sn=s.getVisual("borderColor",!0),Un=Ce.get("borderColor"),Zn=l_(_e);Zn.fill=Sn;var Hn=um(Ce);if(Hn.fill=Un,$t){var li=f-2*v;Rt(Zn,Hn,Sn,li,ae,{x:v,y:0,width:li,height:ae})}else Zn.text=Hn.text=null;rn.setStyle(Zn),Fu(rn,Hn)}Qt.add(rn)}(Le,at,we&&d.upperLabelHeight),we)Ld(Le)&&el(Le,!1),at&&(el(at,!0),h.setItemGraphicEl(s.dataIndex,at));else{var pt=Wt("content",c_,c,2);pt&&function(Qt,rn){rn.dataIndex=s.dataIndex,rn.seriesIndex=e.seriesIndex;var $t=Math.max(f-2*v,0),Sn=Math.max(p-2*v,0);if(rn.culling=!0,rn.setShape({x:v,y:v,width:$t,height:Sn}),F)wt(rn);else{rn.invisible=!1;var Un=s.getVisual("color",!0),Zn=l_(_e);Zn.fill=Un;var Hn=um(Ce);Rt(Zn,Hn,Un,$t,Sn),rn.setStyle(Zn),Fu(rn,Hn)}Qt.add(rn)}(Le,pt),at&&Ld(at)&&el(at,!1),el(Le,!0),h.setItemGraphicEl(s.dataIndex,Le)}return Le}}}function wt(Qt){Qt.invisible||a.push(Qt)}function Rt(Qt,rn,$t,Sn,Un,Zn){var Hn=Fe.get("name"),li=Fe.getModel(Zn?UT:GT),Si=Fe.getModel(Zn?qT:jT),Xi=li.getShallow("show");sa(Qt,rn,li,Si,{defaultText:Xi?Hn:null,autoColor:$t,isRectText:!0,labelFetcher:e,labelDataIndex:s.dataIndex,labelProp:Zn?"upperLabel":"label"}),Ot(Qt,Zn,d),Ot(rn,Zn,d),Zn&&(Qt.textRect=U(Zn)),Qt.truncate=Xi&&li.get("ellipsis")?{outerWidth:Sn,outerHeight:Un,minChar:2}:null}function Ot(Qt,rn,$t){var Sn=Qt.text;if(!rn&&$t.isLeafRoot&&null!=Sn){var Un=e.get("drillDownIcon",!0);Qt.text=Un?Un+" "+Sn:Sn}}function Wt(Qt,rn,$t,Sn){var li,Si,Un=null!=ee&&n[Qt][ee],Zn=o[Qt];return Un?(n[Qt][ee]=null,li=Un,Si=Qt,(Zn[P]={}).old="nodeGroup"===Si?li.position.slice():ue({},li.shape)):F||((Un=new rn({z:function(Hn,li){var Si=Hn*YT+li;return(Si-1)/Si}($t,Sn)})).__tmDepth=$t,function(Hn,li,Si){var Xi=Hn[P]={},ri=s.parentNode;if(ri&&(!i||"drillDown"===i.direction)){var Gi=0,Zi=0,ar=o.background[ri.getRawIndex()];!i&&ar&&ar.old&&(Gi=ar.old.width,Zi=ar.old.height),Xi.old="nodeGroup"===Si?[0,Zi]:{x:Gi,y:Zi,width:0,height:0}}Xi.fadein="nodeGroup"!==Si}(Zn,0,Un.__tmStorageName=Qt)),t[Qt][P]=Un}}na({type:"treemap",init:function(e,t){this._storage={nodeGroup:[],background:[],content:[]},this._state="ready"},render:function(e,t,n,i){if(!(Ge(t.findComponents({mainType:"series",subType:"treemap",query:i}),e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var o=kc(i,["treemapZoomToNode","treemapRootToNode"],e),a=i&&i.type,s=e.layoutInfo,l=!this._oldTree,u=this._storage,c="treemapRootToNode"===a&&o&&u?{rootNodeGroup:u.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null,d=this._giveContainerGroup(s),h=this._doRender(d,e,c);l||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?h.renderFinally():this._doAnimation(d,h,e,c),this._resetController(n),this._renderBreadcrumb(e,n,o)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new u_,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,n){var i=t.getData().tree,o=this._oldTree,a={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},l=this._storage,u=[],c=xt(XT,t,s,l,n,a,u);!function p(v,F,P,ee,le){function ae(_e){return _e.getId()}function we(_e,Ce){var Le=null!=_e?v[_e]:null,Fe=null!=Ce?F[Ce]:null,at=c(Le,Fe,P,le);at&&p(Le&&Le.viewChildren||[],Fe&&Fe.viewChildren||[],at,ee,le+1)}ee?Za(F=v,function(_e,Ce){_e.isRemoved()||we(Ce,Ce)}):new rs(F,v,ae,ae).add(we).update(we).remove(xt(we,null)).execute()}(i.root?[i.root]:[],o&&o.root?[o.root]:[],e,i===o||!o,0);var d,h,f=(h={nodeGroup:[],background:[],content:[]},(d=l)&&Za(d,function(p,v){var F=h[v];Za(p,function(P){P&&(F.push(P),P.__tmWillDelete=1)})}),h);return this._oldTree=i,this._storage=s,{lastsForAnimation:a,willDeleteEls:f,renderFinally:function(){Za(f,function(p){Za(p,function(v){v.parent&&v.parent.remove(v)})}),Za(u,function(p){p.invisible=!0,p.dirty()})}}},_doAnimation:function(e,t,n,i){if(n.get("animation")){var o=n.get("animationDurationUpdate"),a=n.get("animationEasing"),s=(u=[],c={},{add:function(d,h,f,p,v){return Je(p)&&(v=p,p=0),!c[d.id]&&(c[d.id]=1,u.push({el:d,target:h,time:f,delay:p,easing:v}),!0)},done:function(d){return l=d,this},start:function(){for(var d=u.length,h=0,f=u.length;h<f;h++){var p=u[h];p.el.animateTo(p.target,p.time,p.delay,p.easing,v)}return this;function v(){--d||(u.length=0,c={},l&&l())}}});Za(t.willDeleteEls,function(l,u){Za(l,function(c,d){if(!c.invisible){var h,f=c.parent;if(i&&"drillDown"===i.direction)h=f===i.rootNodeGroup?{shape:{x:0,y:0,width:f.__tmNodeWidth,height:f.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var p=0,v=0;f.__tmWillDelete||(p=f.__tmNodeWidth/2,v=f.__tmNodeHeight/2),h="nodeGroup"===u?{position:[p,v],style:{opacity:0}}:{shape:{x:p,y:v,width:0,height:0},style:{opacity:0}}}h&&s.add(c,h,o,a)}})}),Za(this._storage,function(l,u){Za(l,function(c,d){var h=t.lastsForAnimation[u][d],f={};h&&("nodeGroup"===u?h.old&&(f.position=c.position.slice(),c.attr("position",h.old)):(h.old&&(f.shape=ue({},c.shape),c.setShape(h.old)),h.fadein?(c.setStyle("opacity",0),f.style={opacity:1}):1!==c.style.opacity&&(f.style={opacity:1})),s.add(c,f,o,a))})},this),this._state="animating",s.done(Ph(function(){this._state="ready",t.renderFinally()},this)).start()}var l,u,c},_resetController:function(e){var t=this._controller;t||((t=this._controller=new cu(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",Ph(this._onPan,this)),t.on("zoom",Ph(this._onZoom,this)));var n=new C(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(i,o,a){return n.contain(o,a)})},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e){if("animating"!==this._state&&(3<Math.abs(e.dx)||3<Math.abs(e.dy))){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},_onZoom:function(e){var t=e.originX,n=e.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var o=i.getLayout();if(!o)return;var a=new C(o.x,o.y,o.width,o.height),s=this.seriesModel.layoutInfo;t-=s.x,n-=s.y;var l=Yi();De(l,l,[-t,-n]),Qe(l,l,[e.scale,e.scale]),De(l,l,[t,n]),a.applyTransform(l),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(e){e.on("click",function(t){if("ready"===this._state){var n=this.seriesModel.get("nodeClick",!0);if(n){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var o=i.node;if(o.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===n)this._zoomToNode(i);else if("link"===n){var a=o.hostTree.data.getItemModel(o.dataIndex),s=a.get("link",!0),l=a.get("target",!0)||"blank";s&&Uu(s,l)}}}}},this)},_renderBreadcrumb:function(e,t,n){n=n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||{node:e.getData().tree.root},(this._breadcrumb||(this._breadcrumb=new lm(this.group))).render(e,t,n.node,Ph(function(i){"animating"!==this._state&&(om(e.getViewRoot(),i)?this._rootToNode({node:i}):this._zoomToNode({node:i}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(i){var o=this._storage.background[i.getRawIndex()];if(o){var a=o.transformCoordToLocal(e,t),s=o.shape;if(!(s.x<=a[0]&&a[0]<=s.x+s.width&&s.y<=a[1]&&a[1]<=s.y+s.height))return!1;n={node:i,offsetX:a[0],offsetY:a[1]}}},this),n}});for(var ZT=function(){},d_=["treemapZoomToNode","treemapRender","treemapMove"],cm=0;cm<d_.length;cm++)Lr({type:d_[cm],update:"updateView"},ZT);Lr({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(n,i){var o=kc(e,["treemapZoomToNode","treemapRootToNode"],n);if(o){var a=n.getViewRoot();a&&(e.direction=om(a,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}})});var Tc=ce,h_=st,Rh=-1,qr=function(e){var t=e.mappingMethod,n=e.type,i=this.option=U(e);this.type=n,this.mappingMethod=t,this._normalizeData=$T[t];var o=Ac[n];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._doMap=o._doMap[t],"piecewise"===t?(dm(i),function(a){var s=a.pieceList;a.hasSpecialVisual=!1,ce(s,function(l,u){l.originIndex=u,null!=l.visual&&(a.hasSpecialVisual=!0)})}(i)):"category"===t?i.categories?function(a){var s=a.categories,l=a.visual,u=a.categoryMap={};if(Tc(s,function(h,f){u[h]=f}),!ze(l)){var c=[];st(l)?Tc(l,function(h,f){c[u[f]??Rh]=h}):c[Rh]=l,l=p_(a,c)}for(var d=s.length-1;0<=d;d--)null==l[d]&&(delete u[s[d]],s.pop())}(i):dm(i,!0):(xi("linear"!==t||i.dataExtent),dm(i))};qr.prototype={constructor:qr,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return et(this._normalizeData,this)}};var Ac=qr.visualHandlers={color:{applyVisual:Bh("color"),getColorMapper:function(){var e=this.option;return et("category"===e.mappingMethod?function(t,n){return n||(t=this._normalizeData(t)),zh.call(this,t)}:function(t,n,i){var o=!!i;return n||(t=this._normalizeData(t)),i=ki(t,e.parsedVisual,i),o?i:to(i,"rgba")},this)},_doMap:{linear:function(e){return to(ki(e,this.option.parsedVisual),"rgba")},category:zh,piecewise:function(e,t){var n=fm.call(this,t);return null==n&&(n=to(ki(e,this.option.parsedVisual),"rgba")),n},fixed:ml}},colorHue:Oh(function(e,t){return wr(e,t)}),colorSaturation:Oh(function(e,t){return wr(e,null,t)}),colorLightness:Oh(function(e,t){return wr(e,null,null,t)}),colorAlpha:Oh(function(e,t){return Sr(e,t)}),opacity:{applyVisual:Bh("opacity"),_doMap:hm([0,1])},liftZ:{applyVisual:Bh("liftZ"),_doMap:{linear:ml,category:ml,piecewise:ml,fixed:ml}},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);if(Je(i))n("symbol",i);else if(h_(i))for(var o in i)i.hasOwnProperty(o)&&n(o,i[o])},_doMap:{linear:f_,category:zh,piecewise:function(e,t){var n=fm.call(this,t);return null==n&&(n=f_.call(this,e)),n},fixed:ml}},symbolSize:{applyVisual:Bh("symbolSize"),_doMap:hm([0,1])}};function dm(e,t){var n=e.visual,i=[];st(n)?Tc(n,function(o){i.push(o)}):null!=n&&i.push(n),t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(i[1]=i[0]),p_(e,i)}function Oh(e){return{applyVisual:function(t,n,i){t=this.mapValueToVisual(t),i("color",e(n("color"),t))},_doMap:hm([0,1])}}function f_(e){var t=this.option.visual;return t[Math.round(io(e,[0,1],[0,t.length-1],!0))]||{}}function Bh(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function zh(e){var t=this.option.visual;return t[this.option.loop&&e!==Rh?e%t.length:e]}function ml(){return this.option.visual[0]}function hm(e){return{linear:function(t){return io(t,e,this.option.visual,!0)},category:zh,piecewise:function(t,n){var i=fm.call(this,n);return null==i&&(i=io(t,e,this.option.visual,!0)),i},fixed:ml}}function fm(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=n[qr.findPieceIndex(e,n)];if(i&&i.visual)return i.visual[this.type]}}function p_(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=Oe(t,function(n){return ji(n)})),t}var $T={linear:function(e){return io(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=qr.findPieceIndex(e,t,!0);if(null!=n)return io(n,[0,t.length-1],[0,1],!0)},category:function(e){return(this.option.categories?this.option.categoryMap[e]:e)??Rh},fixed:fn};function Fh(e,t,n){return e?t<=n:t<n}qr.listVisualTypes=function(){var e=[];return ce(Ac,function(t,n){e.push(n)}),e},qr.addVisualHandler=function(e,t){Ac[e]=t},qr.isValidType=function(e){return Ac.hasOwnProperty(e)},qr.eachVisual=function(e,t,n){st(e)?ce(e,t,n):t.call(n,e)},qr.mapVisual=function(e,t,n){var i,o=ze(e)?[]:st(e)?{}:(i=!0,null);return qr.eachVisual(e,function(a,s){var l=t.call(n,a,s);i?o=l:o[s]=l}),o},qr.retrieveVisuals=function(e){var t,n={};return e&&Tc(Ac,function(i,o){e.hasOwnProperty(o)&&(n[o]=e[o],t=!0)}),t?n:null},qr.prepareVisualTypes=function(e){if(h_(e)){var t=[];Tc(e,function(n,i){t.push(i)}),e=t}else{if(!ze(e))return[];e=e.slice()}return e.sort(function(n,i){return"color"===i&&"color"!==n&&0===n.indexOf("color")?1:-1}),e},qr.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},qr.findPieceIndex=function(e,t,n){for(var i,o=1/0,a=0,s=t.length;a<s;a++){var l=t[a].value;if(null!=l){if(l===e||"string"==typeof l&&l===e+"")return a;n&&h(l,a)}}for(a=0,s=t.length;a<s;a++){var u=t[a],c=u.interval,d=u.close;if(c){if(c[0]===-1/0){if(Fh(d[1],e,c[1]))return a}else if(c[1]===1/0){if(Fh(d[0],c[0],e))return a}else if(Fh(d[0],c[0],e)&&Fh(d[1],e,c[1]))return a;n&&h(c[0],a),n&&h(c[1],a)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function h(f,p){var v=Math.abs(f-e);v<o&&(o=v,i=p)}};var KT=ze,QT={seriesType:"treemap",reset:function(e,t,n,i){var o=e.getData().tree.root;o.isRemoved()||function a(s,l,u,c){var d=s.getModel(),h=s.getLayout();if(h&&!h.invisible&&h.isInView){var P,le,f=s.getModel("itemStyle"),p=function eA(e,t,n){var i=ue({},t),o=n.designatedVisualItemStyle;return ce(["color","colorAlpha","colorSaturation"],function(a){o[a]=t[a];var s=e.get(a);(o[a]=null)!=s&&(i[a]=s)}),i}(f,l,c),v=f.get("borderColor"),F=f.get("borderColorSaturation");null!=F&&(v=null!=(le=P=g_(p))?wr(le,null,null,F):null),s.setVisual("borderColor",v);var ae=s.viewChildren;if(ae&&ae.length){var we=function tA(e,t,n,i,o,a){if(a&&a.length){var s=gm(t,"color")||null!=o.color&&"none"!==o.color&&(gm(t,"colorAlpha")||gm(t,"colorSaturation"));if(s){var l=t.get("visualMin"),u=t.get("visualMax"),c=n.dataExtent.slice();null!=l&&l<c[0]&&(c[0]=l),null!=u&&u>c[1]&&(c[1]=u);var d=t.get("colorMappingBy"),h={type:s.name,dataExtent:c,visual:s.range};"color"!==h.type||"index"!==d&&"id"!==d?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var f=new qr(h);return f.__drColorMappingBy=d,f}}}(0,d,h,0,p,ae);ce(ae,function(_e,Ce){if(_e.depth>=u.length||_e===u[_e.depth]){var Le=function nA(e,t,n,i,o,a){var s=ue({},t);if(o){var l=o.type,u="color"===l&&o.__drColorMappingBy,c="index"===u?i:"id"===u?a.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));s[l]=o.mapValueToVisual(c)}return s}(d,p,_e,Ce,we,c);a(_e,Le,u,c)}})}else P=g_(p),s.setVisual("color",P)}}(o,{},e.getViewRoot().getAncestors(),e)}};function g_(e){var t=pm(e,"color");if(t){var n=pm(e,"colorAlpha"),i=pm(e,"colorSaturation");return i&&(t=wr(t,null,null,i)),n&&(t=Sr(t,n)),t}}function pm(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function gm(e,t){var n=e.get(t);return KT(n)&&n.length?{name:t,range:n}:null}var Ic=Math.max,Vh=Math.min,m_=en,mm=ce,v_=["itemStyle","borderWidth"],iA=["itemStyle","gapWidth"],rA=["upperLabel","show"],oA=["upperLabel","height"],aA={seriesType:"treemap",reset:function(e,t,n,i){var o=n.getWidth(),a=n.getHeight(),s=e.option,l=xo(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=s.size||[],c=Mi(m_(l.width,u[0]),o),d=Mi(m_(l.height,u[1]),a),h=i&&i.type,f=kc(i,["treemapZoomToNode","treemapRootToNode"],e),p="treemapRender"===h||"treemapMove"===h?i.rootRect:null,v=e.getViewRoot(),F=s_(v);if("treemapMove"!==h){var P="treemapZoomToNode"===h?function(_e,Ce,Le,Fe,at){var pt,wt=(Ce||{}).node,Rt=[Fe,at];if(!wt||wt===Le)return Rt;for(var Ot=Fe*at,Wt=Ot*_e.option.zoomToNodeRatio;pt=wt.parentNode;){for(var Qt=0,rn=pt.children,$t=0,Sn=rn.length;$t<Sn;$t++)Qt+=rn[$t].getValue();var Un=wt.getValue();if(0===Un)return Rt;Wt*=Qt/Un;var Zn=pt.getModel(),Hn=Zn.get(v_);Wt+=4*Hn*Hn+(3*Hn+Math.max(Hn,x_(Zn)))*Math.pow(Wt,.5),xp<Wt&&(Wt=xp),wt=pt}Wt<Ot&&(Wt=Ot);var Si=Math.pow(Wt/Ot,.5);return[Fe*Si,at*Si]}(e,f,v,c,d):p?[p.width,p.height]:[c,d],ee=s.sort;ee&&"asc"!==ee&&"desc"!==ee&&(ee="desc");var le={squareRatio:s.squareRatio,sort:ee,leafDepth:s.leafDepth};v.hostTree.clearLayouts();var ae={x:0,y:0,width:P[0],height:P[1],area:P[0]*P[1]};v.setLayout(ae),function _e(Ce,Le,Fe,at){var pt,wt;if(!Ce.isRemoved()){var Rt=Ce.getLayout();pt=Rt.width,wt=Rt.height;var Ot=(Un=Ce.getModel()).get(v_),Wt=Un.get(iA)/2,Qt=x_(Un),rn=Math.max(Ot,Qt),$t=Ot-Wt,Sn=rn-Wt,Un=Ce.getModel();Ce.setLayout({borderWidth:Ot,upperHeight:rn,upperLabelHeight:Qt},!0);var Zn=(pt=Ic(pt-2*$t,0))*(wt=Ic(wt-$t-Sn,0)),Hn=function sA(e,t,n,i,o,a){var s=e.children||[],l=i.sort;"asc"!==l&&"desc"!==l&&(l=null);var u=null!=i.leafDepth&&i.leafDepth<=a;if(o&&!u)return e.viewChildren=[];!function(p,v){v&&p.sort(function(F,P){var ee="asc"===v?F.getValue()-P.getValue():P.getValue()-F.getValue();return 0==ee?"asc"===v?F.dataIndex-P.dataIndex:P.dataIndex-F.dataIndex:ee})}(s=xe(s,function(p){return!p.isRemoved()}),l);var c=function(p,v,F){for(var P=0,ee=0,le=v.length;ee<le;ee++)P+=v[ee].getValue();var ae=p.get("visualDimension");if(v&&v.length)if("value"===ae&&F)we=[v[v.length-1].getValue(),v[0].getValue()],"asc"===F&&we.reverse();else{var we=[1/0,-1/0];mm(v,function(_e){var Ce=_e.getValue(ae);Ce<we[0]&&(we[0]=Ce),Ce>we[1]&&(we[1]=Ce)})}else we=[NaN,NaN];return{sum:P,dataExtent:we}}(t,s,l);if(0===c.sum)return e.viewChildren=[];if(c.sum=function(p,v,F,P,ee){if(!P)return F;for(var le=p.get("visibleMin"),ae=ee.length,we=ae,_e=ae-1;0<=_e;_e--){var Ce=ee["asc"===P?ae-_e-1:_e].getValue();Ce/F*v<le&&(we=_e,F-=Ce)}return ee.splice("asc"===P?0:we,ae-we),F}(t,n,c.sum,l,s),0===c.sum)return e.viewChildren=[];for(var d=0,h=s.length;d<h;d++){var f=s[d].getValue()/c.sum*n;s[d].setLayout({area:f})}return u&&(s.length&&e.setLayout({isLeafRoot:!0},!0),s.length=0),e.viewChildren=s,e.setLayout({dataExtent:c.dataExtent},!0),s}(Ce,Un,Zn,Le,Fe,at);if(Hn.length){var li={x:$t,y:Sn,width:pt,height:wt},Si=Vh(pt,wt),Xi=1/0,ri=[];ri.area=0;for(var Gi=0,Zi=Hn.length;Gi<Zi;){var ar=Hn[Gi];ri.push(ar),ri.area+=ar.getLayout().area;var Fr=lA(ri,Si,Le.squareRatio);Xi=Fr<=Xi?(Gi++,Fr):(ri.area-=ri.pop().getLayout().area,y_(ri,Si,li,Wt,!1),Si=Vh(li.width,li.height),ri.length=ri.area=0,1/0)}if(ri.length&&y_(ri,Si,li,Wt,!0),!Fe){var Pr=Un.get("childrenVisibleMin");null!=Pr&&Zn<Pr&&(Fe=!0)}for(Gi=0,Zi=Hn.length;Gi<Zi;Gi++)_e(Hn[Gi],Le,Fe,at+1)}}}(v,le,!1,0),ae=v.getLayout(),mm(F,function(_e,Ce){var Le=(F[Ce+1]||v).getValue();_e.setLayout(ue({dataExtent:[Le,Le],borderWidth:0,upperHeight:0},ae))})}var we=e.getData().tree.root;we.setLayout(function(_e,Ce,Le){if(Ce)return{x:Ce.x,y:Ce.y};var Fe={x:0,y:0};if(!Le)return Fe;var at=Le.node,pt=at.getLayout();if(!pt)return Fe;for(var wt=[pt.width/2,pt.height/2],Rt=at;Rt;){var Ot=Rt.getLayout();wt[0]+=Ot.x,wt[1]+=Ot.y,Rt=Rt.parentNode}return{x:_e.width/2-wt[0],y:_e.height/2-wt[1]}}(l,p,f),!0),e.setLayoutInfo(l),function _e(Ce,Le,Fe,at,pt){var wt=Ce.getLayout(),Rt=Fe[pt],Ot=Rt&&Rt===Ce;if(!(Rt&&!Ot||pt===Fe.length&&Ce!==at)){Ce.setLayout({isInView:!0,invisible:!Ot&&!Le.intersect(wt),isAboveViewRoot:Ot},!0);var Wt=new C(Le.x-wt.x,Le.y-wt.y,Le.width,Le.height);mm(Ce.viewChildren||[],function(Qt){_e(Qt,Wt,Fe,at,pt+1)})}}(we,new C(-l.x,-l.y,o,a),F,v,0)}};function lA(e,t,n){for(var i,o=0,a=1/0,s=0,l=e.length;s<l;s++)(i=e[s].getLayout().area)&&(i<a&&(a=i),o<i&&(o=i));var u=e.area*e.area,c=t*t*n;return u?Ic(c*o/u,u/(c*a)):1/0}function y_(e,t,n,i,o){var a=t===n.width?0:1,s=1-a,l=["x","y"],u=["width","height"],c=n[l[a]],d=t?e.area/t:0;(o||d>n[u[s]])&&(d=n[u[s]]);for(var h=0,f=e.length;h<f;h++){var p=e[h],v={},F=d?p.getLayout().area/d:0,P=v[u[s]]=Ic(d-2*i,0),ee=n[l[a]]+n[u[a]]-c,le=h===f-1||ee<F?ee:F,ae=v[u[a]]=Ic(le-2*i,0);v[l[s]]=n[l[s]]+Vh(i,P/2),v[l[a]]=c+Vh(i,ae/2),c+=le,p.setLayout(v,!0)}n[l[s]]+=d,n[u[s]]-=d}function x_(e){return e.get(rA)?e.get(oA):0}function hu(e){return"_EC_"+e}function Dc(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}}eo(QT),ho(aA);var fa=Dc.prototype;function Na(e,t){this.id=e??"",this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=t??-1}function Ec(e,t,n){this.node1=e,this.node2=t,this.dataIndex=n??-1}function b_(e,t){return{getValue:function(n){var i=this[e][t];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){0<=this.dataIndex&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[e][t].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){0<=this.dataIndex&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}function __(e,t,n,i,o){for(var a=new Dc(i),s=0;s<e.length;s++)a.addNode(en(e[s].id,e[s].name,s),s);var l=[],u=[],c=0;for(s=0;s<t.length;s++){var d=t[s],h=d.source,f=d.target;a.addEdge(h,f,c)&&(u.push(d),l.push(en(d.id,h+" > "+f)),c++)}var p,v=n.get("coordinateSystem");if("cartesian2d"===v||"polar"===v)p=as(e,n);else{var F=Ho.get(v),P=F&&"view"!==F.type&&F.dimensions||[];Ge(P,"value")<0&&P.concat(["value"]);var ee=Kl(e,{coordDimensions:P});(p=new Io(ee,n)).initData(e)}var le=new Io(["value"],n);return le.initData(u,l),o&&o(p,le),e_({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:le},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}fa.type="graph",fa.isDirected=function(){return this._directed},fa.addNode=function(e,t){var n=this._nodesMap;if(!n[hu(e=null==e?""+t:""+e)]){var i=new Na(e,t);return(i.hostGraph=this).nodes.push(i),n[hu(e)]=i}},fa.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},fa.getNodeById=function(e){return this._nodesMap[hu(e)]},fa.addEdge=function(e,t,n){var i=this._nodesMap,o=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),Na.isInstance(e)||(e=i[hu(e)]),Na.isInstance(t)||(t=i[hu(t)]),e&&t){var a=e.id+"-"+t.id,s=new Ec(e,t,n);return(s.hostGraph=this)._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),o[a]=s}},fa.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},fa.getEdge=function(e,t){Na.isInstance(e)&&(e=e.id),Na.isInstance(t)&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},fa.eachNode=function(e,t){for(var n=this.nodes,i=n.length,o=0;o<i;o++)0<=n[o].dataIndex&&e.call(t,n[o],o)},fa.eachEdge=function(e,t){for(var n=this.edges,i=n.length,o=0;o<i;o++)0<=n[o].dataIndex&&0<=n[o].node1.dataIndex&&0<=n[o].node2.dataIndex&&e.call(t,n[o],o)},fa.breadthFirstTraverse=function(e,t,n,i){if(Na.isInstance(t)||(t=this._nodesMap[hu(t)]),t){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(i,t,null))for(var s=[t];s.length;){var l=s.shift(),u=l[o];for(a=0;a<u.length;a++){var c=u[a],d=c.node1===l?c.node2:c.node1;if(!d.__visited){if(e.call(i,d,l))return;s.push(d),d.__visited=!0}}}}},fa.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)n[e.getRawIndex(o)].dataIndex=o;for(t.filterSelf(function(s){var l=i[t.getRawIndex(s)];return 0<=l.node1.dataIndex&&0<=l.node2.dataIndex}),o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)i[t.getRawIndex(o)].dataIndex=o},fa.clone=function(){for(var e=new Dc(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(i=0;i<n.length;i++){var o=n[i];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},Na.prototype={constructor:Na,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},Ec.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},Te(Na,b_("hostGraph","data")),Te(Ec,b_("hostGraph","edgeData")),Dc.Node=Na,Dc.Edge=Ec,fd(Na),fd(Ec);var Hh=function(e){return e.get("autoCurveness")||null},w_=function(e,t){var n=Hh(e),i=20,o=[];if("number"==typeof n)i=n;else if(ze(n))return void(e.__curvenessList=n);i<t&&(i=t);var a=i%2?i+2:i+3;o=[];for(var s=0;s<a;s++)o.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=o},Nc=function(e,t,n){var i=[e.id,e.dataIndex].join("."),o=[t.id,t.dataIndex].join(".");return[n.uid,i,o].join("--\x3e")},S_=function(e){var t=e.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},uA=function(e,t){var n=Nc(e.node1,e.node2,t);return t.__edgeMap[n]},cA=function(e,t){return ym(Nc(e.node1,e.node2,t),t)+ym(Nc(e.node2,e.node1,t),t)},ym=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function xm(e,t,n,i){var o=Hh(t),a=ze(o);if(!o)return null;var s=uA(e,t);if(!s)return null;for(var l=-1,u=0;u<s.length;u++)if(s[u]===n){l=u;break}var c=cA(e,t);w_(t,c),e.lineStyle=e.lineStyle||{};var d=Nc(e.node1,e.node2,t),h=t.__curvenessList,f=a||c%2?0:1;if(s.isForward)return h[f+l];var p=S_(d),v=ym(p,t),F=h[l+v+f];return i?a?o&&0===o[0]?(v+f)%2?F:-F:((v%2?0:1)+f)%2?F:-F:(v+f)%2?F:-F:h[l+v+f]}var Lc=ch({type:"series.graph",init:function(e){Lc.superApply(this,"init",arguments);var t=this;function n(){return t._categoriesData}this.legendVisualProvider=new yc(n,n),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){Lc.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){Lc.superApply(this,"mergeDefaultAndTheme",arguments),Xs(e,["edgeLabel"],["show"])},getInitialData:function(e,t){var s,n=e.edges||e.links||[],i=e.data||e.nodes||[],o=this;if(i&&n){Hh(s=this)&&(s.__curvenessList=[],s.__edgeMap={},w_(s));var a=__(i,n,this,!0,function(s,l){s.wrapMethod("getItemModel",function(p){var v=o._categoriesModels[p.getShallow("category")];return v&&(v.parentModel=p.parentModel,p.parentModel=v),p});var u=o.getModel("edgeLabel"),c=new Nr({label:u.option},u.parentModel,t),d=o.getModel("emphasis.edgeLabel"),h=new Nr({emphasis:{label:d.option}},d.parentModel,t);function f(p){return(p=this.parsePath(p))&&"label"===p[0]?c:p&&"emphasis"===p[0]&&"label"===p[1]?h:this.parentModel}l.wrapMethod("getItemModel",function(p){return p.customizeGetParent(f),p})});return ce(a.edges,function(s){!function(l,u,c,d){if(Hh(c)){var h=Nc(l,u,c),f=c.__edgeMap,p=f[S_(h)];f[h]&&!p?f[h].isForward=!0:p&&f[h]&&(p.isForward=!0,f[h].isForward=!1),f[h]=f[h]||[],f[h].push(d)}}(s.node1,s.node2,this,s.dataIndex)},this),a.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if("edge"!==n)return Lc.superApply(this,"formatTooltip",arguments);var i=this.getData(),o=this.getDataParams(e,n),a=i.graph.getEdgeByIndex(e),s=i.getName(a.node1.dataIndex),l=i.getName(a.node2.dataIndex),u=[];return null!=s&&u.push(s),null!=l&&u.push(l),u=ro(u.join(" > ")),o.value&&(u+=" : "+ro(o.value)),u},_updateCategoriesData:function(){var e=Oe(this.option.categories||[],function(n){return null!=n.value?n:ue({value:0},n)}),t=new Io(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(n){return t.getItemModel(n,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return Lc.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}}),C_=Ro.prototype,bm=kd.prototype;function _m(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var dA=xa({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){this[_m(t)?"_buildPathLine":"_buildPathCurve"](e,t)},_buildPathLine:C_.buildPath,_buildPathCurve:bm.buildPath,pointAt:function(e){return this[_m(this.shape)?"_pointAtLine":"_pointAtCurve"](e)},_pointAtLine:C_.pointAt,_pointAtCurve:bm.pointAt,tangentAt:function(e){var t=this.shape,n=_m(t)?[t.x2-t.x1,t.y2-t.y1]:this._tangentAtCurve(e);return Ii(n,n)},_tangentAtCurve:bm.tangentAt}),wm=["fromSymbol","toSymbol"];function M_(e){return"_"+e+"Type"}function k_(e,t,n){var i=t.getItemVisual(n,e);if(i&&"none"!==i){var o=t.getItemVisual(n,"color"),a=t.getItemVisual(n,e+"Size"),s=t.getItemVisual(n,e+"Rotate");ze(a)||(a=[a,a]);var l=da(i,-a[0]/2,-a[1]/2,a[0],a[1],o);return l.__specifiedRotation=null==s||isNaN(s)?void 0:+s*Math.PI/180||0,l.name=e,l}}function Sm(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}function Pc(e,t,n){E.call(this),this._createLine(e,t,n)}var Bs=Pc.prototype;function Wh(e){this._ctor=e||Pc,this.group=new E}Bs.beforeUpdate=function(){var e=this.childOfName("fromSymbol"),t=this.childOfName("toSymbol"),n=this.childOfName("label");if(e||t||!n.ignore){for(var i=1,o=this.parent;o;)o.scale&&(i/=o.scale[0]),o=o.parent;var a=this.childOfName("line");if(this.__dirty||a.__dirty){var h,s=a.shape.percent,l=a.pointAt(0),u=a.pointAt(s),c=Rn([],u,l);if(Ii(c,c),e){if(e.attr("position",l),null==(h=e.__specifiedRotation)){var d=a.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(d[1],d[0]))}else e.attr("rotation",h);e.attr("scale",[i*s,i*s])}if(t&&(t.attr("position",u),null==(h=t.__specifiedRotation)?(d=a.tangentAt(1),t.attr("rotation",-Math.PI/2-Math.atan2(d[1],d[0]))):t.attr("rotation",h),t.attr("scale",[i*s,i*s])),!n.ignore){var f,p,v,F;n.attr("position",u);var P=n.__labelDistance,ee=P[0]*i,le=P[1]*i,ae=s/2,we=[(d=a.tangentAt(ae))[1],-d[0]],_e=a.pointAt(ae);0<we[1]&&(we[0]=-we[0],we[1]=-we[1]);var Ce,Le=d[0]<0?-1:1;if("start"!==n.__position&&"end"!==n.__position){var Fe=-Math.atan2(d[1],d[0]);u[0]<l[0]&&(Fe=Math.PI+Fe),n.attr("rotation",Fe)}switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":Ce=-le,v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":Ce=le,v="top";break;default:Ce=0,v="middle"}switch(n.__position){case"end":f=[c[0]*ee+u[0],c[1]*le+u[1]],p=.8<c[0]?"left":c[0]<-.8?"right":"center",v=.8<c[1]?"top":c[1]<-.8?"bottom":"middle";break;case"start":f=[-c[0]*ee+l[0],-c[1]*le+l[1]],p=.8<c[0]?"right":c[0]<-.8?"left":"center",v=.8<c[1]?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":f=[ee*Le+l[0],l[1]+Ce],p=d[0]<0?"right":"left",F=[-ee*Le,-Ce];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":f=[_e[0],_e[1]+Ce],p="center",F=[0,-Ce];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":f=[-ee*Le+u[0],u[1]+Ce],p=0<=d[0]?"right":"left",F=[ee*Le,-Ce]}n.attr({style:{textVerticalAlign:n.__verticalAlign||v,textAlign:n.__textAlign||p},position:f,scale:[i,i],origin:F})}}}},Bs._createLine=function(e,t,n){var s,l,i=e.hostModel,o=(s=e.getItemLayout(t),Sm((l=new dA({name:"line",subPixelOptimize:!0})).shape,s),l);o.shape.percent=0,Fo(o,{shape:{percent:1}},i,t),this.add(o);var a=new Cr({name:"label",lineLabelOriginalOpacity:1});this.add(a),ce(wm,function(s){var l=k_(s,e,t);this.add(l),this[M_(s)]=e.getItemVisual(t,s)},this),this._updateCommonStl(e,t,n)},Bs.updateData=function(e,t,n){var i=e.hostModel,o=this.childOfName("line"),a=e.getItemLayout(t),s={shape:{}};Sm(s.shape,a),xr(o,s,i,t),ce(wm,function(l){var u=e.getItemVisual(t,l),c=M_(l);if(this[c]!==u){this.remove(this.childOfName(l));var d=k_(l,e,t);this.add(d)}this[c]=u},this),this._updateCommonStl(e,t,n)},Bs._updateCommonStl=function(e,t,n){var i=e.hostModel,o=this.childOfName("line"),a=n&&n.lineStyle,s=n&&n.hoverLineStyle,l=n&&n.labelModel,u=n&&n.hoverLabelModel;if(!n||e.hasItemOption){var c=e.getItemModel(t);a=c.getModel("lineStyle").getLineStyle(),s=c.getModel("emphasis.lineStyle").getLineStyle(),l=c.getModel("label"),u=c.getModel("emphasis.label")}var d=e.getItemVisual(t,"color"),h=Mn(e.getItemVisual(t,"opacity"),a.opacity,1);o.useStyle(be({strokeNoScale:!0,fill:"none",stroke:d,opacity:h},a)),o.hoverStyle=s,ce(wm,function(Ce){var Le=this.childOfName(Ce);Le&&(Le.setColor(d),Le.setStyle({opacity:h}))},this);var f,p,v=l.getShallow("show"),F=u.getShallow("show"),P=this.childOfName("label");if((v||F)&&(f=d||"#000",null==(p=i.getFormattedLabel(t,"normal",e.dataType)))){var ee=i.getRawValue(t);p=null==ee?e.getName(t):isFinite(ee)?Mo(ee):ee}var le=v?p:null,ae=F?Ht(i.getFormattedLabel(t,"emphasis",e.dataType),p):null,we=P.style;if(null!=le||null!=ae){uo(P.style,l,{text:le},{autoColor:f}),P.__textAlign=we.textAlign,P.__verticalAlign=we.textVerticalAlign,P.__position=l.get("position")||"middle";var _e=l.get("distance");ze(_e)||(_e=[_e,_e]),P.__labelDistance=_e}P.hoverStyle=null!=ae?{text:ae,textFill:u.getTextColor(!0),fontStyle:u.getShallow("fontStyle"),fontWeight:u.getShallow("fontWeight"),fontSize:u.getShallow("fontSize"),fontFamily:u.getShallow("fontFamily")}:{text:null},P.ignore=!v&&!F,no(this)},Bs.highlight=function(){this.trigger("emphasis")},Bs.downplay=function(){this.trigger("normal")},Bs.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},Bs.setLinePoints=function(e){var t=this.childOfName("line");Sm(t.shape,e),t.dirty()},ye(Pc,E);var vl=Wh.prototype;function T_(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function A_(e){return isNaN(e[0])||isNaN(e[1])}function Cm(e){return!A_(e[0])&&!A_(e[1])}function Rc(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,i=t.scale,o=i&&i[0]||1;return((t.getZoom()-1)*n+1)/o}function Oc(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}vl.isPersistent=function(){return!0},vl.updateData=function(e){var t=this,n=t.group,i=t._lineData;t._lineData=e,i||n.removeAll();var o=T_(e);e.diff(i).add(function(a){!function(s,l,u,c){if(Cm(l.getItemLayout(u))){var d=new s._ctor(l,u,c);l.setItemGraphicEl(u,d),s.group.add(d)}}(t,e,a,o)}).update(function(a,s){!function(l,u,c,d,h,f){var p=u.getItemGraphicEl(d);if(!Cm(c.getItemLayout(h)))return l.group.remove(p);p?p.updateData(c,h,f):p=new l._ctor(c,h,f),c.setItemGraphicEl(h,p),l.group.add(p)}(t,i,e,s,a,o)}).remove(function(a){n.remove(i.getItemGraphicEl(a))}).execute()},vl.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},vl.incrementalPrepareUpdate=function(e){this._seriesScope=T_(e),this._lineData=null,this.group.removeAll()},vl.incrementalUpdate=function(e,t){function n(a){var s;a.isGroup||(s=a).animators&&0<s.animators.length||(a.incremental=a.useHoverLayer=!0)}for(var i=e.start;i<e.end;i++)if(Cm(t.getItemLayout(i))){var o=new this._ctor(t,i,this._seriesScope);o.traverse(n),this.group.add(o),t.setItemGraphicEl(i,o)}},vl.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},vl._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var Mm=[],km=[],Tm=[],fu=zo,Am=Br,I_=Math.abs;function D_(e,t,n){for(var i,o=e[0],a=e[1],s=e[2],l=1/0,u=n*n,c=.1,d=.1;d<=.9;d+=.1)Mm[0]=fu(o[0],a[0],s[0],d),Mm[1]=fu(o[1],a[1],s[1],d),(p=I_(Am(Mm,t)-u))<l&&(l=p,i=d);for(var h=0;h<32;h++){var f=i+c;km[0]=fu(o[0],a[0],s[0],i),km[1]=fu(o[1],a[1],s[1],i),Tm[0]=fu(o[0],a[0],s[0],f),Tm[1]=fu(o[1],a[1],s[1],f);var p=Am(km,t)-u;if(I_(p)<.01)break;var v=Am(Tm,t)-u;c/=2,p<0?0<=v?i+=c:i-=c:0<=v?i-=c:i+=c}return i}function Im(e,t){var n=[],i=ep,o=[[],[],[]],a=[[],[]],s=[];t/=2,e.eachEdge(function(l,u){var c=l.getLayout(),d=l.getVisual("fromSymbol"),h=l.getVisual("toSymbol");c.__original||(c.__original=[Vi(c[0]),Vi(c[1])],c[2]&&c.__original.push(Vi(c[2])));var f=c.__original;if(null!=c[2]){if(ei(o[0],f[0]),ei(o[1],f[2]),ei(o[2],f[1]),d&&"none"!==d){var p=Oc(l.node1),v=D_(o,f[0],p*t);i(o[0][0],o[1][0],o[2][0],v,n),o[0][0]=n[3],o[1][0]=n[4],i(o[0][1],o[1][1],o[2][1],v,n),o[0][1]=n[3],o[1][1]=n[4]}h&&"none"!==h&&(p=Oc(l.node2),v=D_(o,f[1],p*t),i(o[0][0],o[1][0],o[2][0],v,n),o[1][0]=n[1],o[2][0]=n[2],i(o[0][1],o[1][1],o[2][1],v,n),o[1][1]=n[1],o[2][1]=n[2]),ei(c[0],o[0]),ei(c[1],o[2]),ei(c[2],o[1])}else ei(a[0],f[0]),ei(a[1],f[1]),Rn(s,a[1],a[0]),Ii(s,s),d&&"none"!==d&&(p=Oc(l.node1),Cn(a[0],a[0],s,p*t)),h&&"none"!==h&&(p=Oc(l.node2),Cn(a[1],a[1],s,-p*t)),ei(c[0],a[0]),ei(c[1],a[1])})}var pu="__focusNodeAdjacency",gu="__unfocusNodeAdjacency",yl=["itemStyle","opacity"],Gh=["lineStyle","opacity"];function E_(e,t){return e.getVisual("opacity")??e.getModel().get(t)}function jh(e,t,n){var i=e.getGraphicEl(),o=E_(e,t);null!=n&&(null==o&&(o=1),o*=n),i.downplay&&i.downplay(),i.traverse(function(a){if(!a.isGroup){var s=a.lineLabelOriginalOpacity;null!=s&&null==n||(s=o),a.setStyle("opacity",s)}})}function xl(e,t){var n=E_(e,t),i=e.getGraphicEl();i.traverse(function(o){o.isGroup||o.setStyle("opacity",n)}),i.highlight&&i.highlight()}function Uh(e){return e instanceof Array||(e=[e,e]),e}function N_(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode(function(i){var o=i.getModel();i.setLayout([+o.get("x"),+o.get("y")])}),L_(n,e)}}function L_(e,t){e.eachEdge(function(n,i){var o=Mn(n.getModel().get("lineStyle.curveness"),-xm(n,t,i,!0),0),a=Vi(n.node1.getLayout()),s=Vi(n.node2.getLayout()),l=[a,s];+o&&l.push([(a[0]+s[0])/2-(a[1]-s[1])*o,(a[1]+s[1])/2-(s[0]-a[0])*o]),n.setLayout(l)})}na({type:"graph",init:function(e,t){var n=new tu,i=new Wh,o=this.group;this._controller=new cu(t.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},render:function(e,t,n){var i=this,o=e.coordinateSystem;this._model=e;var a=this._symbolDraw,s=this._lineDraw,l=this.group;if("view"===o.type){var u={position:o.position,scale:o.scale};this._firstRender?l.attr(u):xr(l,u,e)}Im(e.getGraph(),Rc(e));var c=e.getData();a.updateData(c);var d=e.getEdgeData();s.updateData(d),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var h=e.forceLayout,f=e.get("force.layoutAnimation");h&&this._startForceLayoutIteration(h,f),c.eachItemGraphicEl(function(P,ee){var le=c.getItemModel(ee);P.off("drag").off("dragend");var ae=le.get("draggable");ae&&P.on("drag",function(){h&&(h.warmUp(),this._layouting||this._startForceLayoutIteration(h,f),h.setFixed(ee),c.setItemLayout(ee,P.position))},this).on("dragend",function(){h&&h.setUnfixed(ee)},this),P.setDraggable(ae&&h),P[pu]&&P.off("mouseover",P[pu]),P[gu]&&P.off("mouseout",P[gu]),le.get("focusNodeAdjacency")&&(P.on("mouseover",P[pu]=function(){i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:P.dataIndex})}),P.on("mouseout",P[gu]=function(){i._dispatchUnfocus(n)}))},this),c.graph.eachEdge(function(P){var ee=P.getGraphicEl();ee[pu]&&ee.off("mouseover",ee[pu]),ee[gu]&&ee.off("mouseout",ee[gu]),P.getModel().get("focusNodeAdjacency")&&(ee.on("mouseover",ee[pu]=function(){i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:P.dataIndex})}),ee.on("mouseout",ee[gu]=function(){i._dispatchUnfocus(n)}))});var p="circular"===e.get("layout")&&e.get("circular.rotateLabel"),v=c.getLayout("cx"),F=c.getLayout("cy");c.eachItemGraphicEl(function(P,ee){var le=c.getItemModel(ee).get("label.rotate")||0,ae=P.getSymbolPath();if(p){var we=c.getItemLayout(ee),_e=Math.atan2(we[1]-F,we[0]-v);_e<0&&(_e=2*Math.PI+_e);var Ce=we[0]<v;Ce&&(_e-=Math.PI);var Le=Ce?"left":"right";fp(ae,{textRotation:-_e,textPosition:Le,textOrigin:"center"},{textPosition:Le})}else fp(ae,{textRotation:le*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(e,t){var n=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){n._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:n._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,n,i){var o=e.getData().graph,s=i.edgeDataIndex,l=o.getNodeByIndex(i.dataIndex),u=o.getEdgeByIndex(s);(l||u)&&(o.eachNode(function(c){jh(c,yl,.1)}),o.eachEdge(function(c){jh(c,Gh,.1)}),l&&(xl(l,yl),ce(l.edges,function(c){c.dataIndex<0||(xl(c,Gh),xl(c.node1,yl),xl(c.node2,yl))})),u&&(xl(u,Gh),xl(u.node1,yl),xl(u.node2,yl)))},unfocusNodeAdjacency:function(e,t,n,i){var o=e.getData().graph;o.eachNode(function(a){jh(a,yl)}),o.eachEdge(function(a){jh(a,Gh)})},_startForceLayoutIteration:function(e,t){var n=this;!function i(){e.step(function(o){n.updateLayout(n._model),(n._layouting=!o)&&(t?n._layoutTimeout=setTimeout(i,16):i())})}()},_updateController:function(e,t,n){var i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(s,l,u){var c=a.getBoundingRect();return c.applyTransform(a.transform),c.contain(l,u)&&!Eh(s,n,e)}),"view"===e.coordinateSystem.type?(i.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(s){Zg(o,s.dx,s.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:s.dx,dy:s.dy})}).on("zoom",function(s){$g(o,s.scale,s.originX,s.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:s.scale,originX:s.originX,originY:s.originY}),this._updateNodeAndLinkScale(),Im(e.getGraph(),Rc(e)),this._lineDraw.updateLayout()},this)):i.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),n=Rc(e),i=[n,n];t.eachItemGraphicEl(function(o,a){o.attr("scale",i)})},updateLayout:function(e){Im(e.getGraph(),Rc(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),Lr({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),Lr({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),Lr({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",query:e},function(n){var i=Jg(n.coordinateSystem,e);n.setCenter&&n.setCenter(i.center),n.setZoom&&n.setZoom(i.zoom)})});var P_=Math.PI,Dm=[];function R_(e,t){var n=e.coordinateSystem;if(!n||"view"===n.type){var i=n.getBoundingRect(),o=e.getData(),a=o.graph,s=i.width/2+i.x,l=i.height/2+i.y,u=Math.min(i.width,i.height)/2,c=o.count();o.setLayout({cx:s,cy:l}),c&&(hA[t](e,n,a,o,u,s,l,c),a.eachEdge(function(d,h){var f,p=Mn(d.getModel().get("lineStyle.curveness"),xm(d,e,h),0),v=Vi(d.node1.getLayout()),F=Vi(d.node2.getLayout());+p&&(f=[s*(p*=3)+(v[0]+F[0])/2*(1-p),l*p+(v[1]+F[1])/2*(1-p)]),d.setLayout([v,F,f])}))}}var hA={value:function(e,t,n,i,o,a,s,l){var u=0,c=i.getSum("value"),d=2*Math.PI/(c||l);n.eachNode(function(h){var f=h.getValue("value"),p=d*(c?f:1)/2;u+=p,h.setLayout([o*Math.cos(u)+a,o*Math.sin(u)+s]),u+=p})},symbolSize:function(e,t,n,i,o,a,s,l){var u=0;Dm.length=l;var c=Rc(e);n.eachNode(function(f){var p=Oc(f);isNaN(p)&&(p=2),p<0&&(p=0),p*=c;var v=Math.asin(p/2/o);isNaN(v)&&(v=P_/2),Dm[f.dataIndex]=v,u+=2*v});var d=(2*P_-u)/l/2,h=0;n.eachNode(function(f){var p=d+Dm[f.dataIndex];h+=p,f.setLayout([o*Math.cos(h)+a,o*Math.sin(h)+s]),h+=p})}},mu=Cn;ua(function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),o=n.getGraph().data,a=i.mapArray(i.getName);o.filterSelf(function(s){var l=o.getItemModel(s).getShallow("category");if(null!=l){"number"==typeof l&&(l=a[l]);for(var u=0;u<t.length;u++)if(!t[u].isSelected(l))return!1}return!0})},this)}),eo(hl("graph","circle",null)),eo(function(e){var t={};e.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),o=n.getData(),a={};i.each(function(s){var l=i.getName(s);a["ec-"+l]=s;var u=i.getItemModel(s),c=u.get("itemStyle.color")||n.getColorFromPalette(l,t);i.setItemVisual(s,"color",c);for(var d=["opacity","symbol","symbolSize","symbolKeepAspect"],h=0;h<d.length;h++){var f=u.getShallow(d[h],!0);null!=f&&i.setItemVisual(s,d[h],f)}}),i.count()&&o.each(function(s){var l=o.getItemModel(s).getShallow("category");if(null!=l){"string"==typeof l&&(l=a["ec-"+l]);for(var u=["color","opacity","symbol","symbolSize","symbolKeepAspect"],c=0;c<u.length;c++)null==o.getItemVisual(s,u[c],!0)&&o.setItemVisual(s,u[c],i.getItemVisual(l,u[c]))}})})}),eo(function(e){e.eachSeriesByType("graph",function(t){var n=t.getGraph(),i=t.getEdgeData(),o=Uh(t.get("edgeSymbol")),a=Uh(t.get("edgeSymbolSize")),s="lineStyle.color".split("."),l="lineStyle.opacity".split(".");i.setVisual("fromSymbol",o&&o[0]),i.setVisual("toSymbol",o&&o[1]),i.setVisual("fromSymbolSize",a&&a[0]),i.setVisual("toSymbolSize",a&&a[1]),i.setVisual("color",t.get(s)),i.setVisual("opacity",t.get(l)),i.each(function(u){var c=i.getItemModel(u),d=n.getEdgeByIndex(u),h=Uh(c.getShallow("symbol",!0)),f=Uh(c.getShallow("symbolSize",!0)),p=c.get(s),v=c.get(l);switch(p){case"source":p=d.node1.getVisual("color");break;case"target":p=d.node2.getVisual("color")}h[0]&&d.setVisual("fromSymbol",h[0]),h[1]&&d.setVisual("toSymbol",h[1]),f[0]&&d.setVisual("fromSymbolSize",f[0]),f[1]&&d.setVisual("toSymbolSize",f[1]),d.setVisual("color",p),d.setVisual("opacity",v)})})}),ho(function(e,t){e.eachSeriesByType("graph",function(n){var i=n.get("layout"),o=n.coordinateSystem;if(o&&"view"!==o.type){var a=n.getData(),s=[];ce(o.dimensions,function(f){s=s.concat(a.mapDimension(f,!0))});for(var l=0;l<a.count();l++){for(var u=[],c=!1,d=0;d<s.length;d++){var h=a.get(s[d],l);isNaN(h)||(c=!0),u.push(h)}a.setItemLayout(l,c?o.dataToPoint(u):[NaN,NaN])}L_(a.graph,n)}else i&&"none"!==i||N_(n)})}),ho(ja.VISUAL.POST_CHART_LAYOUT,function(e){e.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&R_(t,"symbolSize")})}),ho(function(e){e.eachSeriesByType("graph",function(t){if(!(f=t.coordinateSystem)||"view"===f.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},i=t.getGraph(),o=i.data,a=i.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?o.each(function(le){var ae=o.getId(le);o.setItemLayout(le,n[ae]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&R_(t,"value"):N_(t);var u=o.getDataExtent("value"),c=a.getDataExtent("value"),d=s.get("repulsion"),h=s.get("edgeLength");ze(d)||(d=[d,d]),ze(h)||(h=[h,h]),h=[h[1],h[0]];var f,p=o.mapArray("value",function(le,ae){var we=o.getItemLayout(ae),_e=io(le,u,d);return isNaN(_e)&&(_e=(d[0]+d[1])/2),{w:_e,rep:_e,fixed:o.getItemModel(ae).get("fixed"),p:!we||isNaN(we[0])||isNaN(we[1])?null:we}}),v=a.mapArray("value",function(le,ae){var we=i.getEdgeByIndex(ae),_e=io(le,c,h);isNaN(_e)&&(_e=(h[0]+h[1])/2);var Ce=we.getModel(),Le=Mn(Ce.get("lineStyle.curveness"),-xm(we,t,ae,!0),0);return{n1:p[we.node1.dataIndex],n2:p[we.node2.dataIndex],d:_e,curveness:Le,ignoreForceLayout:Ce.get("ignoreForceLayout")}}),F=(f=t.coordinateSystem).getBoundingRect(),P=function(le,ae,we){for(var _e=we.rect,Ce=_e.width,Le=_e.height,Fe=[_e.x+Ce/2,_e.y+Le/2],at=null==we.gravity?.1:we.gravity,pt=0;pt<le.length;pt++){var wt=le[pt];wt.p||(wt.p=Nn(Ce*(Math.random()-.5)+Fe[0],Le*(Math.random()-.5)+Fe[1])),wt.pp=Vi(wt.p),wt.edges=null}var Rt=null==we.friction?.6:we.friction,Ot=Rt;return{warmUp:function(){Ot=.8*Rt},setFixed:function(Wt){le[Wt].fixed=!0},setUnfixed:function(Wt){le[Wt].fixed=!1},step:function(Wt){for(var Qt=[],rn=le.length,$t=0;$t<ae.length;$t++){var Sn=ae[$t];if(!Sn.ignoreForceLayout){var Un=Sn.n1;Rn(Qt,(Si=Sn.n2).p,Un.p);var Zn=ti(Qt)-Sn.d,Hn=Si.w/(Un.w+Si.w);isNaN(Hn)&&(Hn=0),Ii(Qt,Qt),Un.fixed||mu(Un.p,Un.p,Qt,Hn*Zn*Ot),Si.fixed||mu(Si.p,Si.p,Qt,-(1-Hn)*Zn*Ot)}}for($t=0;$t<rn;$t++)(Gi=le[$t]).fixed||(Rn(Qt,Fe,Gi.p),mu(Gi.p,Gi.p,Qt,at*Ot));for($t=0;$t<rn;$t++){Un=le[$t];for(var li=$t+1;li<rn;li++){var Si;Rn(Qt,(Si=le[li]).p,Un.p),0===(Zn=ti(Qt))&&($i(Qt,Math.random()-.5,Math.random()-.5),Zn=1);var Xi=(Un.rep+Si.rep)/Zn/Zn;Un.fixed||mu(Un.pp,Un.pp,Qt,Xi),Si.fixed||mu(Si.pp,Si.pp,Qt,-Xi)}}var ri=[];for($t=0;$t<rn;$t++){var Gi;(Gi=le[$t]).fixed||(Rn(ri,Gi.p,Gi.pp),mu(Gi.p,Gi.p,ri,Ot),ei(Gi.pp,Gi.p))}Ot*=.992,Wt&&Wt(le,ae,Ot<.01)}}}(p,v,{rect:F,gravity:s.get("gravity"),friction:s.get("friction")}),ee=P.step;P.step=function(le){for(var ae=0,we=p.length;ae<we;ae++)p[ae].fixed&&ei(p[ae].p,i.getNodeByIndex(ae).getLayout());ee(function(_e,Ce,Le){for(var Fe=0,at=_e.length;Fe<at;Fe++)_e[Fe].fixed||i.getNodeByIndex(Fe).setLayout(_e[Fe].p),n[o.getId(Fe)]=_e[Fe].p;for(Fe=0,at=Ce.length;Fe<at;Fe++){var pt=Ce[Fe],wt=i.getEdgeByIndex(Fe),Rt=pt.n1.p,Ot=pt.n2.p,Wt=wt.getLayout();(Wt=Wt?Wt.slice():[])[0]=Wt[0]||[],Wt[1]=Wt[1]||[],ei(Wt[0],Rt),ei(Wt[1],Ot),+pt.curveness&&(Wt[2]=[(Rt[0]+Ot[0])/2-(Rt[1]-Ot[1])*pt.curveness,(Rt[1]+Ot[1])/2-(Ot[0]-Rt[0])*pt.curveness]),wt.setLayout(Wt)}le&&le(Le)})},t.forceLayout=P,t.preservedPoints=n,P.step()}else t.forceLayout=null})}),lg("graphView",{create:function(e,t){var n=[];return e.eachSeriesByType("graph",function(i){var P,ee,le,o=i.get("coordinateSystem");if(!o||"view"===o){var a=i.getData(),s=[],l=[];Nu(a.mapArray(function(F){var P=a.getItemModel(F);return[+P.get("x"),+P.get("y")]}),s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=(P=t,ee=u,(le=i.getBoxLayoutParams()).aspect=ee,xo(le,{width:P.getWidth(),height:P.getHeight()}));isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var d=l[0]-s[0],h=l[1]-s[1],f=c.width,p=c.height,v=i.coordinateSystem=new Os;v.zoomLimit=i.get("scaleLimit"),v.setBoundingRect(s[0],s[1],d,h),v.setViewRect(c.x,c.y,f,p),v.setCenter(i.get("center")),v.setZoom(i.get("zoom")),n.push(v)}}),n}}),co.extend({type:"series.gauge",getInitialData:function(e,t){return su(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var fA=Er.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos,i=Math.sin,o=t.r,a=t.width,s=t.angle,l=t.x-n(s)*a*(o/3<=a?1:2),u=t.y-i(s)*a*(o/3<=a?1:2);s=t.angle-Math.PI/2,e.moveTo(l,u),e.lineTo(t.x+n(s)*a,t.y+i(s)*a),e.lineTo(t.x+n(t.angle)*o,t.y+i(t.angle)*o),e.lineTo(t.x-n(s)*a,t.y-i(s)*a),e.lineTo(l,u)}});function O_(e,t){return t&&("string"==typeof t?e=t.replace("{value}",e??""):"function"==typeof t&&(e=t(e))),e}var pA=2*Math.PI,B_=(No.extend({type:"gauge",render:function(e,t,n){this.group.removeAll();var i=e.get("axisLine.lineStyle.color"),o=function(a,s){var l=a.get("center"),u=s.getWidth(),c=s.getHeight(),d=Math.min(u,c);return{cx:Mi(l[0],s.getWidth()),cy:Mi(l[1],s.getHeight()),r:Mi(a.get("radius"),d/2)}}(e,n);this._renderMain(e,t,n,i,o)},dispose:function(){},_renderMain:function(e,t,n,i,o){for(var a=this.group,s=e.getModel("axisLine"),l=s.getModel("lineStyle"),u=e.get("clockwise"),c=-e.get("startAngle")/180*Math.PI,d=((F=-e.get("endAngle")/180*Math.PI)-c)%pA,h=c,f=l.get("width"),p=s.get("show"),v=0;p&&v<i.length;v++){var F,P=Math.min(Math.max(i[v][0],0),1),ee=new Aa({shape:{startAngle:h,endAngle:F=c+d*P,cx:o.cx,cy:o.cy,clockwise:u,r0:o.r-f,r:o.r},silent:!0});ee.setStyle({fill:i[v][1]}),ee.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),a.add(ee),h=F}function le(we){if(we<=0)return i[0][1];for(var _e=0;_e<i.length;_e++)if(i[_e][0]>=we&&(0===_e?0:i[_e-1][0])<we)return i[_e][1];return i[_e-1][1]}if(!u){var ae=c;c=F,F=ae}this._renderTicks(e,t,n,le,o,c,F,u),this._renderPointer(e,t,n,le,o,c,F,u),this._renderTitle(e,t,n,le,o),this._renderDetail(e,t,n,le,o)},_renderTicks:function(e,t,n,i,o,a,s,l){for(var u=this.group,c=o.cx,d=o.cy,h=o.r,f=+e.get("min"),p=+e.get("max"),v=e.getModel("splitLine"),F=e.getModel("axisTick"),P=e.getModel("axisLabel"),ee=e.get("splitNumber"),le=F.get("splitNumber"),ae=Mi(v.get("length"),h),we=Mi(F.get("length"),h),_e=a,Ce=(s-a)/ee,Le=Ce/le,Fe=v.getModel("lineStyle").getLineStyle(),at=F.getModel("lineStyle").getLineStyle(),pt=0;pt<=ee;pt++){var wt=Math.cos(_e),Rt=Math.sin(_e);if(v.get("show")){var Ot=new Ro({shape:{x1:wt*h+c,y1:Rt*h+d,x2:wt*(h-ae)+c,y2:Rt*(h-ae)+d},style:Fe,silent:!0});"auto"===Fe.stroke&&Ot.setStyle({stroke:i(pt/ee)}),u.add(Ot)}if(P.get("show")){var Wt=O_(Mo(pt/ee*(p-f)+f),P.get("formatter")),Qt=P.get("distance"),rn=i(pt/ee);u.add(new Cr({style:uo({},P,{text:Wt,x:wt*(h-ae-Qt)+c,y:Rt*(h-ae-Qt)+d,textVerticalAlign:Rt<-.4?"top":.4<Rt?"bottom":"middle",textAlign:wt<-.4?"left":.4<wt?"right":"center"},{autoColor:rn}),silent:!0}))}if(F.get("show")&&pt!==ee){for(var $t=0;$t<=le;$t++){wt=Math.cos(_e),Rt=Math.sin(_e);var Sn=new Ro({shape:{x1:wt*h+c,y1:Rt*h+d,x2:wt*(h-we)+c,y2:Rt*(h-we)+d},silent:!0,style:at});"auto"===at.stroke&&Sn.setStyle({stroke:i((pt+$t/le)/ee)}),u.add(Sn),_e+=Le}_e-=Le}else _e+=Ce}},_renderPointer:function(e,t,n,i,o,a,s,l){var u=this.group,c=this._data;if(e.get("pointer.show")){var d=[+e.get("min"),+e.get("max")],h=[a,s],f=e.getData(),p=f.mapDimension("value");f.diff(c).add(function(v){var F=new fA({shape:{angle:a}});Fo(F,{shape:{angle:io(f.get(p,v),d,h,!0)}},e),u.add(F),f.setItemGraphicEl(v,F)}).update(function(v,F){var P=c.getItemGraphicEl(F);xr(P,{shape:{angle:io(f.get(p,v),d,h,!0)}},e),u.add(P),f.setItemGraphicEl(v,P)}).remove(function(v){var F=c.getItemGraphicEl(v);u.remove(F)}).execute(),f.eachItemGraphicEl(function(v,F){var P=f.getItemModel(F),ee=P.getModel("pointer");v.setShape({x:o.cx,y:o.cy,width:Mi(ee.get("width"),o.r),r:Mi(ee.get("length"),o.r)}),v.useStyle(P.getModel("itemStyle").getItemStyle()),"auto"===v.style.fill&&v.setStyle("fill",i(io(f.get(p,F),d,[0,1],!0))),no(v,P.getModel("emphasis.itemStyle").getItemStyle())}),this._data=f}else c&&c.eachItemGraphicEl(function(v){u.remove(v)})},_renderTitle:function(e,t,n,i,o){var a=e.getData(),s=a.mapDimension("value"),l=e.getModel("title");if(l.get("show")){var u=l.get("offsetCenter"),c=o.cx+Mi(u[0],o.r),d=o.cy+Mi(u[1],o.r),h=+e.get("min"),f=+e.get("max"),p=i(io(e.getData().get(s,0),[h,f],[0,1],!0));this.group.add(new Cr({silent:!0,style:uo({},l,{x:c,y:d,text:a.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:p,forceRich:!0})}))}},_renderDetail:function(e,t,n,i,o){var a=e.getModel("detail"),s=+e.get("min"),l=+e.get("max");if(a.get("show")){var u=a.get("offsetCenter"),c=o.cx+Mi(u[0],o.r),d=o.cy+Mi(u[1],o.r),h=Mi(a.get("width"),o.r),f=Mi(a.get("height"),o.r),p=e.getData(),v=p.get(p.mapDimension("value"),0),F=i(io(v,[s,l],[0,1],!0));this.group.add(new Cr({silent:!0,style:uo({},a,{x:c,y:d,text:O_(v,a.get("formatter")),textWidth:isNaN(h)?null:h,textHeight:isNaN(f)?null:f,textAlign:"center",textVerticalAlign:"middle"},{autoColor:F,forceRich:!0})}))}}}),ch({type:"series.funnel",init:function(e){B_.superApply(this,"init",arguments),this.legendVisualProvider=new yc(et(this.getData,this),et(this.getRawData,this)),this._defaultLabelLine(e)},getInitialData:function(e,t){return su(this,{coordDimensions:["value"],encodeDefaulter:xt(Np,this)})},_defaultLabelLine:function(e){Xs(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),n=B_.superCall(this,"getDataParams",e),i=t.mapDimension("value"),o=t.getSum(i);return n.percent=o?+(t.get(i,e)/o*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}));function Em(e,t){E.call(this);var n=new ea,i=new ya,o=new Cr;this.add(n),this.add(i),this.add(o),this.highDownOnUpdate=function(a,s){"emphasis"===s?(i.ignore=i.hoverIgnore,o.ignore=o.hoverIgnore):(i.ignore=i.normalIgnore,o.ignore=o.normalIgnore)},this.updateData(e,t,!0)}var z_=Em.prototype,gA=["itemStyle","opacity"];function qh(e,t,n,i,o){wo.call(this,e,t,n),this.type=i||"value",this.axisIndex=o}function bl(e,t,n,i,o,a){e=e||0;var s=n[1]-n[0];if(null!=o&&(o=vu(o,[0,s])),null!=a&&(a=Math.max(a,o??0)),"all"===i){var l=Math.abs(t[1]-t[0]);o=a=vu(l=vu(l,[0,s]),[o,a]),i=0}t[0]=vu(t[0],n),t[1]=vu(t[1],n);var u=Nm(t,i);t[i]+=e;var c=o||0,d=n.slice();u.sign<0?d[0]+=c:d[1]-=c,t[i]=vu(t[i],d);var h=Nm(t,i);return null!=o&&(h.sign!==u.sign||h.span<o)&&(t[1-i]=t[i]+u.sign*o),h=Nm(t,i),null!=a&&h.span>a&&(t[1-i]=t[i]+h.sign*a),t}function Nm(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:0<n?-1:n<0?1:t?-1:1}}function vu(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}z_.updateData=function(e,t,n){var i=this.childAt(0),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t),l=e.getItemModel(t).get(gA);l=l??1,i.useStyle({}),n?(i.setShape({points:s.points}),i.setStyle({opacity:0}),Fo(i,{style:{opacity:l}},o,t)):xr(i,{style:{opacity:l},shape:{points:s.points}},o,t);var u=a.getModel("itemStyle"),c=e.getItemVisual(t,"color");i.setStyle(be({lineJoin:"round",fill:c},u.getItemStyle(["opacity"]))),i.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),no(this)},z_._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"color");xr(n,{shape:{points:s.linePoints||s.linePoints}},o,t),xr(i,{style:{x:s.x,y:s.y}},o,t),i.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var u=a.getModel("label"),c=a.getModel("emphasis.label"),d=a.getModel("labelLine"),h=a.getModel("emphasis.labelLine");l=e.getItemVisual(t,"color"),sa(i.style,i.hoverStyle={},u,c,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign}),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!c.get("show"),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!h.get("show"),n.setStyle({stroke:l}),n.setStyle(d.getModel("lineStyle").getLineStyle()),n.hoverStyle=h.getModel("lineStyle").getLineStyle()},ye(Em,E),No.extend({type:"funnel",render:function(e,t,n){var i=e.getData(),o=this._data,a=this.group;i.diff(o).add(function(s){var l=new Em(i,s);i.setItemGraphicEl(s,l),a.add(l)}).update(function(s,l){var u=o.getItemGraphicEl(l);u.updateData(i,s),a.add(u),i.setItemGraphicEl(s,u)}).remove(function(s){var l=o.getItemGraphicEl(s);a.remove(l)}).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),eo(Th("funnel")),ho(function(e,t,n){e.eachSeriesByType("funnel",function(i){var Qt,o=i.getData(),a=o.mapDimension("value"),s=i.get("sort"),l=(Qt=t,xo(i.getBoxLayoutParams(),{width:Qt.getWidth(),height:Qt.getHeight()})),u=function(Wt,Qt){for(var rn=Wt.mapDimension("value"),$t=Wt.mapArray(rn,function(li){return li}),Sn=[],Un="ascending"===Qt,Zn=0,Hn=Wt.count();Zn<Hn;Zn++)Sn[Zn]=Zn;return"function"==typeof Qt?Sn.sort(Qt):"none"!==Qt&&Sn.sort(function(li,Si){return Un?$t[li]-$t[Si]:$t[Si]-$t[li]}),Sn}(o,s),c=i.get("orient"),d=l.width,h=l.height,f=l.x,p=l.y,v="horizontal"===c?[Mi(i.get("minSize"),h),Mi(i.get("maxSize"),h)]:[Mi(i.get("minSize"),d),Mi(i.get("maxSize"),d)],F=o.getDataExtent(a),P=i.get("min"),ee=i.get("max");function le(Wt,Qt){if("horizontal"===c){var rn,$t=io(o.get(a,Wt)||0,[P,ee],v,!0);switch(ae){case"top":rn=p;break;case"center":rn=p+(h-$t)/2;break;case"bottom":rn=p+(h-$t)}return[[Qt,rn],[Qt,rn+$t]]}var Sn,Un=io(o.get(a,Wt)||0,[P,ee],v,!0);switch(ae){case"left":Sn=f;break;case"center":Sn=f+(d-Un)/2;break;case"right":Sn=f+d-Un}return[[Sn,Qt],[Sn+Un,Qt]]}null==P&&(P=Math.min(F[0],0)),null==ee&&(ee=F[1]);var Wt,ae=i.get("funnelAlign"),we=i.get("gap"),_e=(("horizontal"===c?d:h)-we*(o.count()-1))/o.count();"ascending"===s&&(_e=-_e,we=-we,"horizontal"===c?f+=d:p+=h,u=u.reverse());for(var Ce=0;Ce<u.length;Ce++){var Le=u[Ce],Fe=u[Ce+1],at=o.getItemModel(Le);if("horizontal"===c){var pt=at.get("itemStyle.width");null==pt?pt=_e:(pt=Mi(pt,d),"ascending"===s&&(pt=-pt));var wt=le(Le,f),Rt=le(Fe,f+pt);f+=pt+we,o.setItemLayout(Le,{points:wt.concat(Rt.slice().reverse())})}else{var Ot=at.get("itemStyle.height");null==Ot?Ot=_e:(Ot=Mi(Ot,h),"ascending"===s&&(Ot=-Ot)),wt=le(Le,"horizontal"===c?f:p),Rt=le(Fe,"horizontal"===c?f+pt:p+Ot),p+=Ot+we,o.setItemLayout(Le,{points:wt.concat(Rt.slice().reverse())})}}(Wt=o).each(function(Qt){var rn,$t,Sn,Un,Zn=Wt.getItemModel(Qt),Hn=Zn.getModel("label").get("position"),li=Zn.get("orient"),Si=Zn.getModel("labelLine"),Xi=Wt.getItemLayout(Qt),ri=Xi.points,Gi="inner"===Hn||"inside"===Hn||"center"===Hn||"insideLeft"===Hn||"insideRight"===Hn;if(Gi)rn="insideLeft"===Hn?($t=(ri[0][0]+ri[3][0])/2+5,Sn=(ri[0][1]+ri[3][1])/2,"left"):"insideRight"===Hn?($t=(ri[1][0]+ri[2][0])/2-5,Sn=(ri[1][1]+ri[2][1])/2,"right"):($t=(ri[0][0]+ri[1][0]+ri[2][0]+ri[3][0])/4,Sn=(ri[0][1]+ri[1][1]+ri[2][1]+ri[3][1])/4,"center"),Un=[[$t,Sn],[$t,Sn]];else{var Zi,ar,Fr,Pr,Gr=Si.get("length");rn="left"===Hn?(ar=(ri[3][1]+ri[0][1])/2,$t=(Fr=(Zi=(ri[3][0]+ri[0][0])/2)-Gr)-5,"right"):"right"===Hn?(ar=(ri[1][1]+ri[2][1])/2,$t=(Fr=(Zi=(ri[1][0]+ri[2][0])/2)+Gr)+5,"left"):"top"===Hn?(Zi=(ri[3][0]+ri[0][0])/2,Sn=(Pr=(ar=(ri[3][1]+ri[0][1])/2)-Gr)-5,"center"):"bottom"===Hn?(Zi=(ri[1][0]+ri[2][0])/2,Sn=(Pr=(ar=(ri[1][1]+ri[2][1])/2)+Gr)+5,"center"):"rightTop"===Hn?(Zi="horizontal"===li?ri[3][0]:ri[1][0],ar="horizontal"===li?ri[3][1]:ri[1][1],"horizontal"===li?(Sn=(Pr=ar-Gr)-5,"center"):($t=(Fr=Zi+Gr)+5,"top")):"rightBottom"===Hn?(Zi=ri[2][0],ar=ri[2][1],"horizontal"===li?(Sn=(Pr=ar+Gr)+5,"center"):($t=(Fr=Zi+Gr)+5,"bottom")):"leftTop"===Hn?(Zi=ri[0][0],ar="horizontal"===li?ri[0][1]:ri[1][1],"horizontal"===li?(Sn=(Pr=ar-Gr)-5,"center"):($t=(Fr=Zi-Gr)-5,"right")):"leftBottom"===Hn?(Zi="horizontal"===li?ri[1][0]:ri[3][0],ar="horizontal"===li?ri[1][1]:ri[2][1],"horizontal"===li?(Sn=(Pr=ar+Gr)+5,"center"):($t=(Fr=Zi-Gr)-5,"right")):(Zi=(ri[1][0]+ri[2][0])/2,ar=(ri[1][1]+ri[2][1])/2,"horizontal"===li?(Sn=(Pr=ar+Gr)+5,"center"):($t=(Fr=Zi+Gr)+5,"left")),"horizontal"===li?$t=Fr=Zi:Sn=Pr=ar,Un=[[Zi,ar],[Fr,Pr]]}Xi.label={linePoints:Un,x:$t,y:Sn,verticalAlign:"middle",textAlign:rn,inside:Gi}})})}),ua(xc("funnel")),qh.prototype={constructor:qh,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},ye(qh,wo);var Lm=ce,F_=Math.min,V_=Math.max,H_=Math.floor,mA=Math.ceil,W_=Mo,vA=Math.PI;function Pm(e,t,n){this._axesMap=bn(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}function Yh(e,t){return F_(V_(e,t[0]),t[1])}Pm.prototype={type:"parallel",constructor:Pm,_init:function(e,t,n){var o=e.parallelAxisIndex;Lm(e.dimensions,function(a,s){var l=o[s],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(a,new qh(a,eu(u),[0,0],u.get("type"),l));c.onBand="category"===c.type&&u.get("boundaryGap"),c.inverse=u.get("inverse"),(u.axis=c).model=u,c.coordinateSystem=u.coordinateSystem=this},this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,o=t.pixelDimIndex,a=e[1-o],s=e[o];return n<=a&&a<=n+t.axisLength&&i<=s&&s<=i+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();Lm(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(i,i.mapDimension(o)),Ds(a.scale,a.model)},this)}},this)},resize:function(e,t){this._rect=xo(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var e,t=this._model,n=this._rect,i=["x","y"],o=["width","height"],a=t.get("layout"),s="horizontal"===a?0:1,l=n[o[s]],u=[0,l],c=this.dimensions.length,d=Yh(t.get("axisExpandWidth"),u),h=Yh(t.get("axisExpandCount")||0,[0,c]),f=t.get("axisExpandable")&&3<c&&h<c&&1<h&&0<d&&0<l,p=t.get("axisExpandWindow");p?(e=Yh(p[1]-p[0],u),p[1]=p[0]+e):(e=Yh(d*(h-1),u),(p=[d*(t.get("axisExpandCenter")||H_(c/2))-e/2])[1]=p[0]+e);var v=(l-e)/(c-h);v<3&&(v=0);var F=[H_(W_(p[0]/d,1))+1,mA(W_(p[1]/d,1))-1];return{layout:a,pixelDimIndex:s,layoutBase:n[i[s]],layoutLength:l,axisBase:n[i[1-s]],axisLength:n[o[1-s]],axisExpandable:f,axisExpandWidth:d,axisCollapseWidth:v,axisExpandWindow:p,axisCount:c,winInnerIndices:F,axisExpandWindow0Pos:v/d*p[0]}},_layoutAxes:function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),o=i.layout;t.each(function(a){var s=[0,i.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),Lm(n,function(a,s){var l=(i.axisExpandable?function(p,v){var F,P,le=v.axisExpandWidth,we=v.axisCollapseWidth,_e=v.winInnerIndices,Ce=we,Le=!1;return p<_e[0]?(F=p*we,P=we):p<=_e[1]?(F=v.axisExpandWindow0Pos+p*le-v.axisExpandWindow[0],Ce=le,Le=!0):(F=v.layoutLength-(v.axisCount-1-p)*we,P=we),{position:F,axisNameAvailableWidth:Ce,axisLabelShow:Le,nameTruncateMaxWidth:P}}:function(p,v){var F=v.layoutLength/(v.axisCount-1);return{position:F*p,axisNameAvailableWidth:F,axisLabelShow:!0}})(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},d=[u[o].x+e.x,u[o].y+e.y],h={horizontal:vA/2,vertical:0}[o],f=Yi();Ee(f,f,h),De(f,f,d),this._axesLayout[a]={position:d,rotation:h,transform:f,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},eachActiveState:function(e,t,n,i){null==n&&(n=0),null==i&&(i=e.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];ce(a,function(v){s.push(e.mapDimension(v)),l.push(o.get(v).model)});for(var u=this.hasAxisBrushed(),c=n;c<i;c++){var d;if(u){d="active";for(var h=e.getValues(s,c),f=0,p=a.length;f<p;f++)if("inactive"===l[f].getActiveState(h[f])){d="inactive";break}}else d="normal";t(d,c)}},hasAxisBrushed:function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,o=e.length;i<o;i++)"normal"!==t.get(e[i]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(e,t){return Wa([e,0],this._axesLayout[t].transform)},getAxisLayout:function(e){return U(this._axesLayout[e])},getSlidedAxisExpandWindow:function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),o=i[1]-i[0],a=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var s,l=e[n]-t.layoutBase-t.axisExpandWindow0Pos,u="slide",c=t.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),h=null!=d[0];return c?(h&&c&&l<o*d[0]?(u="jump",s=l-o*d[2]):h&&c&&l>o*(1-d[0])?(u="jump",s=l-o*(1-d[2])):0<=(s=l-o*d[1])&&(s=l-o*(1-d[1]))<=0&&(s=0),(s*=t.axisExpandWidth/c)?bl(s,i,a,"all"):u="none"):((i=[V_(0,a[1]*l/(o=i[1]-i[0])-o/2)])[1]=F_(a[1],i[0]+o),i[0]=i[1]-o),{axisExpandWindow:i,behavior:u}}},Ho.register("parallel",{create:function(e,t){var n=[];return e.eachComponent("parallel",function(i,o){var a=new Pm(i,e,t);a.name="parallel_"+o,a.resize(i,t),(i.coordinateSystem=a).model=i,n.push(a)}),e.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var o=e.queryComponents({mainType:"parallel",index:i.get("parallelIndex"),id:i.get("parallelId")})[0];i.coordinateSystem=o.coordinateSystem}}),n}});var G_=Or.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return zl([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var t=this.activeIntervals=U(e);if(t)for(var n=t.length-1;0<=n;n--)nl(t[n])},getActiveState:function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(e))return"inactive";if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var i=0,o=t.length;i<o;i++)if(t[i][0]<=e&&e<=t[i][1])return"active";return"inactive"}});oe(G_.prototype,cl),iu("parallel",G_,function(e,t){return t.type||(t.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10}),Or.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){Or.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){e&&oe(this.option,e,!0),this._initDimensions()},contains:function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},setAxisExpand:function(e){ce(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];ce(xe(this.dependentModels.parallelAxis,function(n){return(n.get("parallelIndex")||0)===this.componentIndex},this),function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)})}}),Lr({type:"axisAreaSelect",event:"axisAreaSelected"},function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),Lr("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})});var zs=xt,$a=ce,yA=Oe,Bc=Math.min,yu=Math.max,xA=Math.pow,bA=1e4,_A=6,wA=6,j_="globalPan",SA={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CA={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},U_={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},MA=0;function xu(e){Ar.call(this),this._zr=e,this.group=new E,this._track=[],this._covers=[],this._uid="brushController_"+MA++,this._handlers={},$a(TA,function(t,n){this._handlers[n]=et(t,this)},this)}function q_(e,t){var n=Xh[t.brushType].createCover(e,t);return n.__brushOption=t,Z_(n,t),e.group.add(n),n}function Y_(e,t){var n=Om(t);return n.endCreating&&(n.endCreating(e,t),Z_(t,t.__brushOption)),t}function X_(e,t){var n=t.__brushOption;Om(t).updateCoverShape(e,t,n.range,n)}function Z_(e,t){var n=t.z;null==n&&(n=bA),e.traverse(function(i){i.z=n,i.z2=n})}function Rm(e,t){Om(t).updateCommon(e,t),X_(e,t)}function Om(e){return Xh[e.__brushOption.brushType]}function Bm(e,t,n){var i,o=e._panels;if(!o)return!0;var a=e._transform;return $a(o,function(s){s.isTargetByCursor(t,n,a)&&(i=s)}),i}function $_(e,t){var n=e._panels;if(!n)return!0;var i=t.__brushOption.panelId;return null==i||n[i]}function zm(e){var t=e._covers,n=t.length;return $a(t,function(i){e.group.remove(i)},e),t.length=0,!!n}function _l(e,t){var n=yA(e._covers,function(i){var o=i.__brushOption,a=U(o.range);return{brushType:o.brushType,panelId:o.panelId,range:a}});e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function K_(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function J_(e,t,n,i){var o=new E;return o.add(new Rr({name:"main",style:Vm(n),silent:!0,draggable:!0,cursor:"move",drift:zs(e,t,o,"nswe"),ondragend:zs(_l,t,{isEnd:!0})})),$a(i,function(a){o.add(new Rr({name:a,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:zs(e,t,o,a),ondragend:zs(_l,t,{isEnd:!0})}))}),o}function Q_(e,t,n,i){var o=i.brushStyle.lineWidth||0,a=yu(o,wA),s=n[0][0],l=n[1][0],u=s-o/2,c=l-o/2,d=n[0][1],h=n[1][1],f=d-a+o/2,p=h-a+o/2,v=d-s,F=h-l,P=v+o,ee=F+o;ls(e,t,"main",s,l,v,F),i.transformable&&(ls(e,t,"w",u,c,a,ee),ls(e,t,"e",f,c,a,ee),ls(e,t,"n",u,c,P,a),ls(e,t,"s",u,p,P,a),ls(e,t,"nw",u,c,a,a),ls(e,t,"ne",f,c,a,a),ls(e,t,"sw",u,p,a,a),ls(e,t,"se",f,p,a,a))}function Fm(e,t){var n=t.__brushOption,i=n.transformable,o=t.childAt(0);o.useStyle(Vm(n)),o.attr({silent:!i,cursor:i?"move":"default"}),$a(["w","e","n","s","se","sw","ne","nw"],function(a){var s=t.childOfName(a),l=function u(c,d){return 1<d.length?("e"!==(p=[u(c,(d=d.split(""))[0]),u(c,d[1])])[0]&&"w"!==p[0]||p.reverse(),p.join("")):{left:"w",right:"e",top:"n",bottom:"s"}[p=gp({w:"left",e:"right",n:"top",s:"bottom"}[d],tl(c.group))];var p}(e,a);s&&s.attr({silent:!i,invisible:!i,cursor:i?CA[l]+"-resize":null})})}function ls(e,t,n,i,o,a,s){var u,c,d,l=t.childOfName(n);l&&l.setShape((u=Hm(e,t,[[i,o],[i+a,o+s]]),{x:c=Bc(u[0][0],u[1][0]),y:d=Bc(u[0][1],u[1][1]),width:yu(u[0][0],u[1][0])-c,height:yu(u[0][1],u[1][1])-d}))}function Vm(e){return be({strokeNoScale:!0},e.brushStyle)}function ew(e,t,n,i){var o=[Bc(e,n),Bc(t,i)],a=[yu(e,n),yu(t,i)];return[[o[0],a[0]],[o[1],a[1]]]}function tw(e,t,n,i,o,a,s,l){var u=i.__brushOption,c=e(u.range),d=nw(n,a,s);$a(o.split(""),function(h){var f=SA[h];c[f[0]][f[1]]+=d[f[0]]}),u.range=t(ew(c[0][0],c[1][0],c[0][1],c[1][1])),Rm(n,i),_l(n,{isEnd:!1})}function kA(e,t,n,i,o){var a=t.__brushOption.range,s=nw(e,n,i);$a(a,function(l){l[0]+=s[0],l[1]+=s[1]}),Rm(e,t),_l(e,{isEnd:!1})}function nw(e,t,n){var i=e.group,o=i.transformCoordToLocal(t,n),a=i.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function Hm(e,t,n){var i=$_(e,t);return i&&!0!==i?i.clipPath(n,e._transform):U(n)}function Wm(e){var t=e.event;t.preventDefault&&t.preventDefault()}function Gm(e,t,n){return e.childOfName("main").contain(t,n)}function iw(e,t,n,i){var o,a=e._creatingCover,s=e._creatingPanel,l=e._brushOption;if(e._track.push(n.slice()),function(d){var h=d._track;if(!h.length)return!1;var f=h[h.length-1],p=h[0],v=f[0]-p[0],F=f[1]-p[1],P=xA(v*v+F*F,.5);return _A<P}(e)||a){if(s&&!a){"single"===l.brushMode&&zm(e);var u=U(l);u.brushType=rw(u.brushType,s),u.panelId=!0===s?null:s.panelId,a=e._creatingCover=q_(e,u),e._covers.push(a)}if(a){var c=Xh[rw(e._brushType,s)];a.__brushOption.range=c.getCreatingRange(Hm(e,a,e._track)),i&&(Y_(e,a),c.updateCommon(e,a)),X_(e,a),o={isEnd:i}}}else i&&"single"===l.brushMode&&l.removeOnClick&&Bm(e,t,n)&&zm(e)&&(o={isEnd:i,removeOnClick:!0});return o}function rw(e,t){return"auto"===e?t.defaultBrushType:e}xu.prototype={constructor:xu,enableBrush:function(e){return this._brushType&&function(t){var n=t._zr;(function(i,o,a){var s=Yg(i);s[o]===a&&(s[o]=null)})(n,j_,t._uid),function(i,o){$a(o,function(a,s){i.off(s,a)})}(n,t._handlers),t._brushType=t._brushOption=null}(this),e.brushType&&function(t,n){var i=t._zr;t._enableGlobalPan||function(o,a,s){Yg(o)[a]=s}(i,j_,t._uid),function(o,a){$a(a,function(s,l){o.on(l,s)})}(i,t._handlers),t._brushType=n.brushType,t._brushOption=oe(U(U_),n,!0)}(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};ce(e,function(n){t[n.panelId]=U(n)})}else this._panels=null;return this},mount:function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){$a(this._covers,e,t)},updateCovers:function(e){e=Oe(e,function(u){return oe(U(U_),u,!0)});var t="\0-brush-index-",n=this._covers,i=this._covers=[],o=this,a=this._creatingCover;return new rs(n,e,function(u,c){return s(u.__brushOption,c)},s).add(l).update(l).remove(function(u){n[u]!==a&&o.group.remove(n[u])}).execute(),this;function s(u,c){return(null!=u.id?u.id:t+c)+"-"+u.brushType}function l(u,c){var d=e[u];if(null!=c&&n[c]===a)i[u]=n[c];else{var h=i[u]=null!=c?(n[c].__brushOption=d,n[c]):Y_(o,q_(o,d));Rm(o,h)}}},unmount:function(){return this.enableBrush(!1),zm(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},Te(xu,Ar);var TA={mousedown:function(e){if(this._dragging)ow(this,e);else if(!e.target||!e.target.draggable){Wm(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=Bm(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var i=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(function(a,s,l){if(a._brushType&&(P=a._zr,!((v=s)<0||v>P.getWidth()||undefined>P.getHeight()))){var u=a._zr,c=a._covers,d=Bm(a,s,l);if(!a._dragging)for(var h=0;h<c.length;h++){var f=c[h].__brushOption;if(d&&(!0===d||f.panelId===d.panelId)&&Xh[f.brushType].contain(c[h],l[0],l[1]))return}d&&u.setCursorStyle("crosshair")}var v,P}(this,e,i),this._dragging){Wm(e);var o=iw(this,e,i,!1);o&&_l(this,o)}},mouseup:function(e){ow(this,e)}};function ow(e,t){if(e._dragging){Wm(t);var o=e.group.transformCoordToLocal(t.offsetX,t.offsetY),a=iw(e,t,o,!0);e._dragging=!1,e._track=[],e._creatingCover=null,a&&_l(e,a)}}var Xh={lineX:aw(0),lineY:aw(1),rect:{createCover:function(e,t){return J_(zs(tw,function(n){return n},function(n){return n}),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=K_(e);return ew(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){Q_(e,t,n,i)},updateCommon:Fm,contain:Gm},polygon:{createCover:function(e,t){var n=new E;return n.add(new ya({name:"main",style:Vm(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new ea({name:"main",draggable:!0,drift:zs(kA,e,t),ondragend:zs(_l,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:Hm(e,t,n)})},updateCommon:Fm,contain:Gm}};function aw(e){return{createCover:function(t,n){return J_(zs(tw,function(i){var o=[i,[0,100]];return e&&o.reverse(),o},function(i){return i[e]}),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=K_(t);return[Bc(n[0][e],n[1][e]),yu(n[0][e],n[1][e])]},updateCoverShape:function(t,n,i,o){var a,s=$_(t,n);if(!0!==s&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(e,t._transform);else{var l=t._zr;a=[0,[l.getWidth(),l.getHeight()][1-e]]}var u=[i,a];e&&u.reverse(),Q_(t,n,u,o)},updateCommon:Fm,contain:Gm}}function sw(e){return e=jm(e),function(t,n){return Ty(t,e)}}function lw(e,t){return e=jm(e),function(n){var i=t??n,a=i?e.x:e.y;return[a,a+((i?e.width:e.height)||0)]}}function uw(e,t,n){return e=jm(e),function(i,o,a){return e.contain(o[0],o[1])&&!Eh(i,t,n)}}function jm(e){return C.create(e)}var AA=["axisLine","axisTickLabel","axisName"],IA=Ao({type:"parallelAxis",init:function(e,t){IA.superApply(this,"init",arguments),(this._brushController=new xu(t.getZr())).on("brush",et(this._onBrush,this))},render:function(e,t,n,i){if(p=e,!(F=i)||"axisAreaSelect"!==F.type||t.findComponents({mainType:"parallelAxis",query:F})[0]!==p){this.axisModel=e,this.api=n,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new E,this.group.add(this._axisGroup),e.get("show")){var a=function(p,v){return v.getComponent("parallel",p.get("parallelIndex"))}(e,t),s=a.coordinateSystem,l=e.getAreaSelectStyle(),u=l.width,d=ue({strokeContainThreshold:u},s.getAxisLayout(e.axis.dim)),h=new ia(e,d);ce(AA,h.add,h),this._axisGroup.add(h.getGroup()),this._refreshBrushController(d,l,e,a,u,n),Od(o,this._axisGroup,i&&!1===i.animation?null:e)}}var p,F},_refreshBrushController:function(e,t,n,i,o,a){var d,h,s=n.axis.getExtent(),l=s[1]-s[0],u=Math.min(30,.1*Math.abs(l)),c=C.create({x:s[0],y:-o/2,width:l,height:o});c.x-=u,c.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",clipPath:sw(c),isTargetByCursor:uw(c,a,i),getLinearBrushOtherExtent:lw(c,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers((h=(d=n).axis,Oe(d.activeIntervals,function(f){return{brushType:"lineX",panelId:"pl",range:[h.dataToCoord(f[0],!0),h.dataToCoord(f[1],!0)]}})))},_onBrush:function(e,t){var n=this.axisModel,i=n.axis,o=Oe(e,function(a){return[i.coordToData(a.range[0],!0),i.coordToData(a.range[1],!0)]});!n.option.realtime!==t.isEnd&&!t.removeOnClick||this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},dispose:function(){this._brushController.dispose()}});Ao({type:"parallel",render:function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},ce(DA,function(i,o){n.getZr().on(o,this._handlers[o]=et(i,this))},this)),Qu(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},dispose:function(e,t){ce(this._handlers,function(n,i){t.getZr().off(i,n)}),this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(ue({type:"parallelAxisExpand"},e))}});var DA={mousedown:function(e){Um(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(Um(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(5<Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&Um(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i&&null})}}};function Um(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}function cw(e,t,n,i){for(var o,a=[],s=0;s<n.length;s++){var l=n[s],u=e.get(e.mapDimension(l),t);o=u,("category"===i.getAxis(l).type?null==o:null==o||isNaN(o))||a.push(i.dataToPoint(u,l))}return a}function dw(e,t,n,i,o){var a=cw(e,n,i,o),s=new ya({shape:{points:a},silent:!0,z2:10});return t.add(s),e.setItemGraphicEl(n,s),s}function hw(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),{lineStyle:e.getModel("lineStyle").getLineStyle(),smooth:t??.3}}function qm(e,t,n,i){var o=i.lineStyle;t.hasItemOption&&(o=t.getItemModel(n).getModel("lineStyle").getLineStyle()),e.useStyle(o);var a=e.style;a.fill=null,a.stroke=t.getItemVisual(n,"color"),a.opacity=t.getItemVisual(n,"opacity"),i.smooth&&(e.shape.smooth=i.smooth)}Bo(function(e){(function(t){if(!t.parallel){var n=!1;ce(t.series,function(i){i&&"parallel"===i.type&&(n=!0)}),n&&(t.parallel=[{}])}})(e),function(t){ce(Po(t.parallelAxis),function(n){if(st(n)){var i=n.parallelIndex||0,o=Po(t.parallel)[i];o&&o.parallelAxisDefault&&oe(n,o.parallelAxisDefault,!1)}})}(e)}),co.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(e,t){var n=this.getSource();return function(i,o){if(!i.encodeDefine){var a=o.ecModel.getComponent("parallel",o.get("parallelIndex"));if(a){var s=i.encodeDefine=bn();ce(a.dimensions,function(l){var u=+l.replace("dim","");s.set(l,u)})}}}(n,this),as(n,this)},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,n=this.getData(),i=[];return t.eachActiveState(n,function(o,a){e===o&&i.push(n.getRawIndex(a))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}}),No.extend({type:"parallel",init:function(){this._dataGroup=new E,this.group.add(this._dataGroup)},render:function(e,t,n,i){var h,f,v,F,P,ee,o=this._dataGroup,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.dimensions,c=hw(e);if(a.diff(s).add(function(h){qm(dw(a,o,h,u,l),a,h,c)}).update(function(h,f){var p=s.getItemGraphicEl(f),v=cw(a,h,u,l);a.setItemGraphicEl(h,p),xr(p,{shape:{points:v}},i&&!1===i.animation?null:e,h),qm(p,a,h,c)}).remove(function(h){var f=s.getItemGraphicEl(h);o.remove(f)}).execute(),!this._initialized){this._initialized=!0;var d=(f=e,v=(h=l).model,F=h.getRect(),P=new Rr({shape:{x:F.x,y:F.y,width:F.width,height:F.height}}),ee="horizontal"===v.get("layout")?"width":"height",P.setShape(ee,0),Fo(P,{shape:{width:F.width,height:F.height}},f,function(){setTimeout(function(){o.removeClipPath()})}),P);o.setClipPath(d)}this._data=a},incrementalPrepareRender:function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(e,t,n){for(var i=t.getData(),o=t.coordinateSystem,a=o.dimensions,s=hw(t),l=e.start;l<e.end;l++){var u=dw(i,this._dataGroup,l,a,o);u.incremental=!0,qm(u,i,l,s)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});var EA=["lineStyle","normal","opacity"];eo({seriesType:"parallel",reset:function(e,t,n){var i=e.getModel("itemStyle"),o=e.getModel("lineStyle"),a=t.get("color"),s=o.get("color")||i.get("color")||a[e.seriesIndex%a.length],l=e.get("inactiveOpacity"),u=e.get("activeOpacity"),c=e.getModel("lineStyle").getLineStyle(),d=e.coordinateSystem,h=e.getData(),f={normal:c.opacity,active:u,inactive:l};return h.setVisual("color",s),{progress:function(p,v){d.eachActiveState(v,function(F,P){var ee=f[F];if("normal"===F&&v.hasItemOption){var le=v.getItemModel(P).get(EA,!0);null!=le&&(ee=le)}v.setItemVisual(P,"opacity",ee)},p.start,p.end)}}}});var fw=co.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(e,t){for(var n=e.edges||e.links,i=e.data||e.nodes,o=e.levels,a=this.levelModels={},s=0;s<o.length;s++)null!=o[s].depth&&0<=o[s].depth&&(a[o[s].depth]=new Nr(o[s],this,t));if(i&&n)return __(i,n,this,!0,function(l,u){l.wrapMethod("getItemModel",function(c,d){return c.customizeGetParent(function(h){var f=this.parentModel,p=f.getData().getItemLayout(d).depth;return f.levelModels[p]||this.parentModel}),c}),u.wrapMethod("getItemModel",function(c,d){return c.customizeGetParent(function(h){var f=this.parentModel,p=f.getGraph().getEdgeByIndex(d).node1.getLayout().depth;return f.levelModels[p]||this.parentModel}),c})}).data},setNodePosition:function(e,t){var n=this.option.data[e];n.localX=t[0],n.localY=t[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,n){if("edge"===n){var i=this.getDataParams(e,n),o=i.data,a=o.source+" -- "+o.target;return i.value&&(a+=" : "+i.value),ro(a)}if("node"!==n)return fw.superCall(this,"formatTooltip",e,t);var s=this.getGraph().getNodeByIndex(e).getLayout().value,l=this.getDataParams(e,n).data.name;return s&&(a=l+" : "+s),ro(a)},optionUpdated:function(){var e=this.option;!0===e.focusNodeAdjacency&&(e.focusNodeAdjacency="allEdges")},getDataParams:function(e,t){var n=fw.superCall(this,"getDataParams",e,t);if(null==n.value&&"node"===t){var i=this.getGraph().getNodeByIndex(e).getLayout().value;n.value=i}return n},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}),pw=["itemStyle","opacity"],wl=["emphasis","itemStyle","opacity"],gw=["lineStyle","opacity"],Zh=["emphasis","lineStyle","opacity"];function mw(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function $h(e,t,n){var i=e.getGraphicEl(),o=mw(e,t);null!=n&&(null==o&&(o=1),o*=n),i.downplay&&i.downplay(),i.traverse(function(a){"group"!==a.type&&a.setStyle("opacity",o)})}function La(e,t){var n=mw(e,t),i=e.getGraphicEl();i.traverse(function(o){"group"!==o.type&&o.setStyle("opacity",n)}),i.highlight&&i.highlight()}var NA=xa({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}});function vw(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&0<=t.depth}function Ym(e,t,n,i,o){var a="vertical"===o?"x":"y";ce(e,function(s){var l,u,c;s.sort(function(v,F){return v.getLayout()[a]-F.getLayout()[a]});for(var d=0,h=s.length,f="vertical"===o?"dx":"dy",p=0;p<h;p++)0<(c=d-(u=s[p]).getLayout()[a])&&(l=u.getLayout()[a]+c,u.setLayout("vertical"===o?{x:l}:{y:l},!0)),d=u.getLayout()[a]+u.getLayout()[f]+t;if(0<(c=d-t-("vertical"===o?i:n)))for(l=u.getLayout()[a]-c,u.setLayout("vertical"===o?{x:l}:{y:l},!0),d=l,p=h-2;0<=p;--p)0<(c=(u=s[p]).getLayout()[a]+u.getLayout()[f]+t-d)&&(l=u.getLayout()[a]-c,u.setLayout("vertical"===o?{x:l}:{y:l},!0)),d=u.getLayout()[a]})}function LA(e,t,n){ce(e.slice().reverse(),function(i){ce(i,function(o){if(o.outEdges.length){var a=Vs(o.outEdges,PA,n)/Vs(o.outEdges,Kh,n);if(isNaN(a)){var s=o.outEdges.length;a=s?Vs(o.outEdges,RA,n)/s:0}if("vertical"===n){var l=o.getLayout().x+(a-Fs(o,n))*t;o.setLayout({x:l},!0)}else{var u=o.getLayout().y+(a-Fs(o,n))*t;o.setLayout({y:u},!0)}}})})}function PA(e,t){return Fs(e.node2,t)*e.getValue()}function RA(e,t){return Fs(e.node2,t)}function OA(e,t){return Fs(e.node1,t)*e.getValue()}function BA(e,t){return Fs(e.node1,t)}function Fs(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function Kh(e){return e.getValue()}function Vs(e,t,n){for(var i=0,o=e.length,a=-1;++a<o;){var s=+t.call(e,e[a],n);isNaN(s)||(i+=s)}return i}function zA(e,t,n){ce(e,function(i){ce(i,function(o){if(o.inEdges.length){var a=Vs(o.inEdges,OA,n)/Vs(o.inEdges,Kh,n);if(isNaN(a)){var s=o.inEdges.length;a=s?Vs(o.inEdges,BA,n)/s:0}if("vertical"===n){var l=o.getLayout().x+(a-Fs(o,n))*t;o.setLayout({x:l},!0)}else{var u=o.getLayout().y+(a-Fs(o,n))*t;o.setLayout({y:u},!0)}}})})}na({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(e,t,n){var f,p,F,i=this,o=e.getGraph(),a=this.group,s=e.layoutInfo,l=s.width,u=s.height,c=e.getData(),d=e.getData("edge"),h=e.get("orient");this._model=e,a.removeAll(),a.attr("position",[s.x,s.y]),o.eachEdge(function(f){var p=new NA;p.dataIndex=f.dataIndex,p.seriesIndex=e.seriesIndex,p.dataType="edge";var v,F,P,ee,le,ae,we,_e,Ce=f.getModel("lineStyle"),Le=Ce.get("curveness"),Fe=f.node1.getLayout(),at=f.node1.getModel(),pt=at.get("localX"),wt=at.get("localY"),Rt=f.node2.getLayout(),Ot=f.node2.getModel(),Wt=Ot.get("localX"),Qt=Ot.get("localY"),rn=f.getLayout();switch(p.shape.extent=Math.max(1,rn.dy),_e="vertical"===(p.shape.orient=h)?(le=v=(null!=pt?pt*l:Fe.x)+rn.sy,ae=(F=(null!=wt?wt*u:Fe.y)+Fe.dy)*(1-Le)+(ee=null!=Qt?Qt*u:Rt.y)*Le,we=P=(null!=Wt?Wt*l:Rt.x)+rn.ty,F*Le+ee*(1-Le)):(le=(v=(null!=pt?pt*l:Fe.x)+Fe.dx)*(1-Le)+(P=null!=Wt?Wt*l:Rt.x)*Le,ae=F=(null!=wt?wt*u:Fe.y)+rn.sy,we=v*Le+P*(1-Le),ee=(null!=Qt?Qt*u:Rt.y)+rn.ty),p.setShape({x1:v,y1:F,x2:P,y2:ee,cpx1:le,cpy1:ae,cpx2:we,cpy2:_e}),p.setStyle(Ce.getItemStyle()),p.style.fill){case"source":p.style.fill=f.node1.getVisual("color");break;case"target":p.style.fill=f.node2.getVisual("color")}no(p,f.getModel("emphasis.lineStyle").getItemStyle()),a.add(p),d.setItemGraphicEl(f.dataIndex,p)}),o.eachNode(function(f){var p=f.getLayout(),v=f.getModel(),F=v.get("localX"),P=v.get("localY"),ee=v.getModel("label"),le=v.getModel("emphasis.label"),ae=new Rr({shape:{x:null!=F?F*l:p.x,y:null!=P?P*u:p.y,width:p.dx,height:p.dy},style:v.getModel("itemStyle").getItemStyle()}),we=f.getModel("emphasis.itemStyle").getItemStyle();sa(ae.style,we,ee,le,{labelFetcher:e,labelDataIndex:f.dataIndex,defaultText:f.id,isRectText:!0}),ae.setStyle("fill",f.getVisual("color")),no(ae,we),a.add(ae),c.setItemGraphicEl(f.dataIndex,ae),ae.dataType="node"}),c.eachItemGraphicEl(function(f,p){var v=c.getItemModel(p);v.get("draggable")&&(f.drift=function(F,P){i._focusAdjacencyDisabled=!0,this.shape.x+=F,this.shape.y+=P,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:c.getRawIndex(p),localX:this.shape.x/l,localY:this.shape.y/u})},f.ondragend=function(){i._focusAdjacencyDisabled=!1},f.draggable=!0,f.cursor="move"),f.highlight=function(){this.trigger("emphasis")},f.downplay=function(){this.trigger("normal")},f.focusNodeAdjHandler&&f.off("mouseover",f.focusNodeAdjHandler),f.unfocusNodeAdjHandler&&f.off("mouseout",f.unfocusNodeAdjHandler),v.get("focusNodeAdjacency")&&(f.on("mouseover",f.focusNodeAdjHandler=function(){i._focusAdjacencyDisabled||(i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:f.dataIndex}))}),f.on("mouseout",f.unfocusNodeAdjHandler=function(){i._focusAdjacencyDisabled||i._dispatchUnfocus(n)}))}),d.eachItemGraphicEl(function(f,p){var v=d.getItemModel(p);f.focusNodeAdjHandler&&f.off("mouseover",f.focusNodeAdjHandler),f.unfocusNodeAdjHandler&&f.off("mouseout",f.unfocusNodeAdjHandler),v.get("focusNodeAdjacency")&&(f.on("mouseover",f.focusNodeAdjHandler=function(){i._focusAdjacencyDisabled||(i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:f.dataIndex}))}),f.on("mouseout",f.unfocusNodeAdjHandler=function(){i._focusAdjacencyDisabled||i._dispatchUnfocus(n)}))}),!this._data&&e.get("animation")&&a.setClipPath((f=a.getBoundingRect(),p=e,Fo(F=new Rr({shape:{x:f.x-10,y:f.y-10,width:0,height:f.height+20}}),{shape:{width:f.width+20}},p,function(){a.removeClipPath()}),F)),this._data=e.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(e){var t=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){t._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,n,i){var o=e.getData(),a=o.graph,s=i.dataIndex,l=o.getItemModel(s),u=i.edgeDataIndex;if(null!=s||null!=u){var c=a.getNodeByIndex(s),d=a.getEdgeByIndex(u);if(a.eachNode(function(f){$h(f,pw,.1)}),a.eachEdge(function(f){$h(f,gw,.1)}),c){La(c,wl);var h=l.get("focusNodeAdjacency");"outEdges"===h?ce(c.outEdges,function(f){f.dataIndex<0||(La(f,Zh),La(f.node2,wl))}):"inEdges"===h?ce(c.inEdges,function(f){f.dataIndex<0||(La(f,Zh),La(f.node1,wl))}):"allEdges"===h&&ce(c.edges,function(f){f.dataIndex<0||(La(f,Zh),f.node1!==c&&La(f.node1,wl),f.node2!==c&&La(f.node2,wl))})}d&&(La(d,Zh),La(d.node1,wl),La(d.node2,wl))}},unfocusNodeAdjacency:function(e,t,n,i){var o=e.getGraph();o.eachNode(function(a){$h(a,pw)}),o.eachEdge(function(a){$h(a,gw)})}}),Lr({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(n){n.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),ho(function(e,t,n){e.eachSeriesByType("sankey",function(i){var p,o=i.get("nodeWidth"),a=i.get("nodeGap"),s=(p=t,xo(i.getBoxLayoutParams(),{width:p.getWidth(),height:p.getHeight()})),l=(i.layoutInfo=s).width,u=s.height,c=i.getGraph(),d=c.nodes,h=c.edges;ce(d,function(p){var v=Vs(p.outEdges,Kh),F=Vs(p.inEdges,Kh),P=p.getValue()||0,ee=Math.max(v,F,P);p.setLayout({value:ee},!0)}),function(f,p,v,F,P,ee,le,ae,we){var _e,Le;(function(_e,Ce,Le,Fe,at,pt,wt){for(var Rt=[],Ot=[],Wt=[],Qt=[],rn=0,$t=0;$t<Ce.length;$t++)Rt[$t]=1;for($t=0;$t<_e.length;$t++)Ot[$t]=_e[$t].inEdges.length,0===Ot[$t]&&Wt.push(_e[$t]);for(var Sn=-1;Wt.length;){for(var Un=0;Un<Wt.length;Un++){var Zn=Wt[Un],Hn=Zn.hostGraph.data.getRawDataItem(Zn.dataIndex),li=null!=Hn.depth&&0<=Hn.depth;li&&Hn.depth>Sn&&(Sn=Hn.depth),Zn.setLayout({depth:li?Hn.depth:rn},!0),Zn.setLayout("vertical"===pt?{dy:Le}:{dx:Le},!0);for(var Si=0;Si<Zn.outEdges.length;Si++){var Xi=Zn.outEdges[Si];Rt[Ce.indexOf(Xi)]=0;var Gi=Xi.node2;0==--Ot[_e.indexOf(Gi)]&&Qt.indexOf(Gi)<0&&Qt.push(Gi)}}++rn,Wt=Qt,Qt=[]}for($t=0;$t<Rt.length;$t++)if(1===Rt[$t])throw new Error("Sankey is a DAG, the original data has cycle!");var Pr,Gr,ar=rn-1<Sn?Sn:rn-1;wt&&"left"!==wt&&function(Fr,Pr,Gr,Yo){if("right"===Pr){for(var jo=[],ps=Fr,qs=0;ps.length;){for(var od=0;od<ps.length;od++){var b0=ps[od];b0.setLayout({skNodeHeight:qs},!0);for(var _0=0;_0<b0.inEdges.length;_0++){var F2=b0.inEdges[_0];jo.indexOf(F2.node1)<0&&jo.push(F2.node1)}}ps=jo,jo=[],++qs}ce(Fr,function(ad){vw(ad)||ad.setLayout({depth:Math.max(0,Yo-ad.getLayout().skNodeHeight)},!0)})}else"justify"===Pr&&(WD=Yo,ce(Fr,function(w0){vw(w0)||w0.outEdges.length||w0.setLayout({depth:WD},!0)}));var WD}(_e,wt,0,ar),Pr="vertical"===pt?(at-Le)/ar:(Fe-Le)/ar,Gr=pt,ce(_e,function(Yo){var jo=Yo.getLayout().depth*Pr;Yo.setLayout("vertical"===Gr?{y:jo}:{x:jo},!0)})})(f,p,v,P,ee,ae,we),function(_e,Ce,Le,Fe,at,pt,wt){var rn,$t,Sn,Rt=(rn=[],$t="vertical"===wt?"y":"x",(Sn=Jf(_e,function(Un){return Un.getLayout()[$t]})).keys.sort(function(Un,Zn){return Un-Zn}),ce(Sn.keys,function(Un){rn.push(Sn.buckets.get(Un))}),rn);(function(Wt,Qt,rn,$t,Sn,Un){var Zn=1/0;ce(Wt,function(Hn){var li=Hn.length,Si=0;ce(Hn,function(ri){Si+=ri.getLayout().value});var Xi="vertical"===Un?($t-(li-1)*Sn)/Si:(rn-(li-1)*Sn)/Si;Xi<Zn&&(Zn=Xi)}),ce(Wt,function(Hn){ce(Hn,function(li,Si){var Xi=li.getLayout().value*Zn;"vertical"===Un?(li.setLayout({x:Si},!0),li.setLayout({dx:Xi},!0)):(li.setLayout({y:Si},!0),li.setLayout({dy:Xi},!0))})}),ce(Qt,function(Hn){var li=+Hn.getValue()*Zn;Hn.setLayout({dy:li},!0)})})(Rt,Ce,Le,Fe,at,wt),Ym(Rt,at,Le,Fe,wt);for(var Ot=1;0<pt;pt--)LA(Rt,Ot*=.99,wt),Ym(Rt,at,Le,Fe,wt),zA(Rt,Ot,wt),Ym(Rt,at,Le,Fe,wt)}(f,p,ee,P,F,le,ae),Le="vertical"===ae?"x":"y",ce(_e=f,function(Fe){Fe.outEdges.sort(function(at,pt){return at.node2.getLayout()[Le]-pt.node2.getLayout()[Le]}),Fe.inEdges.sort(function(at,pt){return at.node1.getLayout()[Le]-pt.node1.getLayout()[Le]})}),ce(_e,function(Fe){var at=0,pt=0;ce(Fe.outEdges,function(wt){wt.setLayout({sy:at},!0),at+=wt.getLayout().dy}),ce(Fe.inEdges,function(wt){wt.setLayout({ty:pt},!0),pt+=wt.getLayout().dy})})}(d,h,o,a,l,u,0!==xe(d,function(f){return 0===f.getLayout().value}).length?0:i.get("layoutIterations"),i.get("orient"),i.get("nodeAlign"))})}),eo(function(e,t){e.eachSeriesByType("sankey",function(n){var i=n.getGraph().nodes;if(i.length){var o=1/0,a=-1/0;ce(i,function(s){var l=s.getLayout().value;l<o&&(o=l),a<l&&(a=l)}),ce(i,function(s){var l=new qr({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:n.get("color")}).mapValueToVisual(s.getLayout().value),u=s.getModel().get("itemStyle.color");s.setVisual("color",null!=u?u:l)})}})});var yw={_baseAxisDim:null,getInitialData:function(e,t){var n,i,o=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),s=o.get("type"),l=a.get("type");"category"===s?(e.layout="horizontal",n=o.getOrdinalMeta(),i=!0):"category"===l?(e.layout="vertical",n=a.getOrdinalMeta(),i=!0):e.layout=e.layout||"horizontal";var u=["x","y"],c="horizontal"===e.layout?0:1,d=this._baseAxisDim=u[c],h=u[1-c],f=[o,a],p=f[c].get("type"),v=f[1-c].get("type"),F=e.data;if(F&&i){var P=[];ce(F,function(ae,we){var _e;ae.value&&ze(ae.value)?(_e=ae.value.slice(),ae.value.unshift(we)):ze(ae)?(_e=ae.slice(),ae.unshift(we)):_e=ae,P.push(_e)}),e.data=P}var ee=this.defaultValueDimensions,le=[{name:d,type:dh(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:dh(v),dimsDef:ee.slice()}];return su(this,{coordDimensions:le,dimensionsCount:ee.length+1,encodeDefaulter:xt($y,le,this)})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}};Te(co.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),yw,!0);var FA=["itemStyle"],VA=["emphasis","itemStyle"],HA=(No.extend({type:"boxplot",render:function(e,t,n){var i=e.getData(),o=this.group,a=this._data;this._data||o.removeAll();var s="horizontal"===e.get("layout")?1:0;i.diff(a).add(function(l){if(i.hasValue(l)){var u=xw(i.getItemLayout(l),i,l,s,!0);i.setItemGraphicEl(l,u),o.add(u)}}).update(function(l,u){var c=a.getItemGraphicEl(u);if(i.hasValue(l)){var d=i.getItemLayout(l);c?bw(d,c,i,l):c=xw(d,i,l,s),o.add(c),i.setItemGraphicEl(l,c)}else o.remove(c)}).remove(function(l){var u=a.getItemGraphicEl(l);u&&o.remove(u)}).execute(),this._data=i},remove:function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(i){i&&t.remove(i)})},dispose:fn}),Er.extend({type:"boxplotBoxPath",shape:{},buildPath:function(e,t){var n=t.points,i=0;for(e.moveTo(n[i][0],n[i][1]),i++;i<4;i++)e.lineTo(n[i][0],n[i][1]);for(e.closePath();i<n.length;i++)e.moveTo(n[i][0],n[i][1]),i++,e.lineTo(n[i][0],n[i][1])}}));function xw(e,t,n,i,o){var l,u,c,a=e.ends,s=new HA({shape:{points:o?(l=a,u=i,c=e,Oe(l,function(d){return(d=d.slice())[u]=c.initBaseline,d})):a}});return bw(e,s,t,n,o),s}function bw(e,t,n,i,o){(0,ts[o?"initProps":"updateProps"])(t,{shape:{points:e.ends}},n.hostModel,i);var s=n.getItemModel(i),l=s.getModel(FA),u=n.getItemVisual(i,"color"),c=l.getItemStyle(["borderColor"]);c.stroke=u,c.strokeNoScale=!0,t.useStyle(c),t.z2=100,no(t,s.getModel(VA).getItemStyle())}var _w=["itemStyle","borderColor"],zc=ce;eo(function(e,t){var n=e.get("color");e.eachRawSeriesByType("boxplot",function(i){var o=n[i.seriesIndex%n.length],a=i.getData();a.setVisual({legendSymbol:"roundRect",color:i.get(_w)||o}),e.isSeriesFiltered(i)||a.each(function(s){var l=a.getItemModel(s);a.setItemVisual(s,{color:l.get(_w,!0)})})})}),ho(function(e){var t=function(n){var i=[],o=[];return n.eachSeriesByType("boxplot",function(a){var s=a.getBaseAxis(),l=Ge(o,s);l<0&&(o[l=o.length]=s,i[l]={axis:s,seriesModels:[]}),i[l].seriesModels.push(a)}),i}(e);zc(t,function(n){var i=n.seriesModels;i.length&&(function(o){var a,s,l=o.axis,u=o.seriesModels,c=u.length,d=o.boxWidthList=[],h=o.boxOffsetList=[],f=[];if("category"===l.type)s=l.getBandWidth();else{var p=0;zc(u,function(le){p=Math.max(p,le.getData().count())}),a=l.getExtent(),Math.abs(a[1]-a[0])}zc(u,function(le){var ae=le.get("boxWidth");ze(ae)||(ae=[ae,ae]),f.push([Mi(ae[0],s)||0,Mi(ae[1],s)||0])});var v=.8*s-2,F=v/c*.3,P=(v-F*(c-1))/c,ee=P/2-v/2;zc(u,function(le,ae){h.push(ee),ee+=F+P,d.push(Math.min(Math.max(P,f[ae][0]),f[ae][1]))})}(n),zc(i,function(o,a){!function(s,l,u){var c=s.coordinateSystem,d=s.getData(),h=u/2,f="horizontal"===s.get("layout")?0:1,p=1-f,v=["x","y"],F=d.mapDimension(v[f]),P=d.mapDimension(v[p],!0);if(!(null==F||P.length<5))for(var ee=0;ee<d.count();ee++){var le=d.get(F,ee),ae=at(le,P[2],ee),we=at(le,P[0],ee),_e=at(le,P[1],ee),Ce=at(le,P[3],ee),Le=at(le,P[4],ee),Fe=[];pt(Fe,_e,0),pt(Fe,Ce,1),Fe.push(we,_e,Le,Ce),wt(Fe,we),wt(Fe,Le),wt(Fe,ae),d.setItemLayout(ee,{initBaseline:ae[p],ends:Fe})}function at(Rt,Ot,Wt){var Qt,rn=d.get(Ot,Wt),$t=[];return $t[f]=Rt,$t[p]=rn,isNaN(Rt)||isNaN(rn)?Qt=[NaN,NaN]:(Qt=c.dataToPoint($t))[f]+=l,Qt}function pt(Rt,Ot,Wt){var Qt=Ot.slice(),rn=Ot.slice();Qt[f]+=h,rn[f]-=h,Wt?Rt.push(Qt,rn):Rt.push(rn,Qt)}function wt(Rt,Ot){var Wt=Ot.slice(),Qt=Ot.slice();Wt[f]-=h,Qt[f]+=h,Rt.push(Wt,Qt)}}(o,n.boxOffsetList[a],n.boxWidthList[a])}))})}),Te(co.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,t,n){var i=t.getItemLayout(e);return i&&n.rect(i.brushRect)}}),yw,!0);var ww=["itemStyle"],WA=["emphasis","itemStyle"],Sw=["color","color0","borderColor","borderColor0"],GA=(No.extend({type:"candlestick",render:function(e,t,n){this.group.removeClipPath(),this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},incrementalPrepareRender:function(e,t,n){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,n,i){this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e){var t=e.getData(),n=this._data,i=this.group,o=t.getLayout("isSimpleBox"),a=e.get("clip",!0),s=e.coordinateSystem,l=s.getArea&&s.getArea();this._data||i.removeAll(),t.diff(n).add(function(u){if(t.hasValue(u)){var c,d=t.getItemLayout(u);if(a&&Cw(l,d))return;Fo(c=Xm(d,0,!0),{shape:{points:d.ends}},e,u),Zm(c,t,u,o),i.add(c),t.setItemGraphicEl(u,c)}}).update(function(u,c){var d=n.getItemGraphicEl(c);if(t.hasValue(u)){var h=t.getItemLayout(u);a&&Cw(l,h)?i.remove(d):(d?xr(d,{shape:{points:h.ends}},e,u):d=Xm(h),Zm(d,t,u,o),i.add(d),t.setItemGraphicEl(u,d))}else i.remove(d)}).remove(function(u){var c=n.getItemGraphicEl(u);c&&i.remove(c)}).execute(),this._data=t},_renderLarge:function(e){this._clear(),kw(e,this.group);var t=e.get("clip",!0)?_h(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},_incrementalRenderNormal:function(e,t){for(var n,i=t.getData(),o=i.getLayout("isSimpleBox");null!=(n=e.next());){var a;Zm(a=Xm(i.getItemLayout(n)),i,n,o),a.incremental=!0,this.group.add(a)}},_incrementalRenderLarge:function(e,t){kw(t,this.group,!0)},remove:function(e){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:fn}),Er.extend({type:"normalCandlestickBox",shape:{},buildPath:function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))}}));function Xm(e,t,n){var i=e.ends;return new GA({shape:{points:n?function(o,a){return Oe(o,function(s){return(s=s.slice())[1]=a.initBaseline,s})}(i,e):i},z2:100})}function Cw(e,t){for(var n=!0,i=0;i<t.ends.length;i++)if(e.contain(t.ends[i][0],t.ends[i][1])){n=!1;break}return n}function Zm(e,t,n,i){var o=t.getItemModel(n),a=o.getModel(ww),s=t.getItemVisual(n,"color"),l=t.getItemVisual(n,"borderColor")||s,u=a.getItemStyle(Sw);e.useStyle(u),e.style.strokeNoScale=!0,e.style.fill=s,e.style.stroke=l,e.__simpleBox=i,no(e,o.getModel(WA).getItemStyle())}var Mw=Er.extend({type:"largeCandlestickBox",shape:{},buildPath:function(e,t){for(var n=t.points,i=0;i<n.length;)if(this.__sign===n[i++]){var o=n[i++];e.moveTo(o,n[i++]),e.lineTo(o,n[i++])}else i+=3}});function kw(e,t,n){var i=e.getData(),o=i.getLayout("largePoints"),a=new Mw({shape:{points:o},__sign:1});t.add(a);var s=new Mw({shape:{points:o},__sign:-1});t.add(s),Tw(1,a,e,i),Tw(-1,s,e,i),n&&(a.incremental=!0,s.incremental=!0)}function Tw(e,t,n,i){var o=0<e?"P":"N",a=i.getVisual("borderColor"+o)||i.getVisual("color"+o),s=n.getModel(ww).getItemStyle(Sw);t.useStyle(s),t.style.fill=null,t.style.stroke=a}var jA=["itemStyle","borderColor"],UA=["itemStyle","borderColor0"],qA=["itemStyle","color"],YA=["itemStyle","color0"],XA={seriesType:"candlestick",plan:Xl(),performRawSeries:!0,reset:function(e,t){if(e.getData().setVisual({legendSymbol:"roundRect",colorP:n(1,e),colorN:n(-1,e),borderColorP:i(1,e),borderColorN:i(-1,e)}),!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(o,a){for(var s;null!=(s=o.next());){var l=a.getItemModel(s),u=a.getItemLayout(s).sign;a.setItemVisual(s,{color:n(u,l),borderColor:i(u,l)})}}};function n(o,a){return a.get(0<o?qA:YA)}function i(o,a){return a.get(0<o?jA:UA)}}},ZA=typeof Float32Array<"u"?Float32Array:Array,$A={seriesType:"candlestick",plan:Xl(),reset:function(e){var h,f,p,v,F,P,ee,le,t=e.coordinateSystem,n=e.getData(),i=(f=n,F="category"===(v=(h=e).getBaseAxis()).type?v.getBandWidth():(p=v.getExtent(),Math.abs(p[1]-p[0])/f.count()),P=Mi(Ht(h.get("barMaxWidth"),F),F),ee=Mi(Ht(h.get("barMinWidth"),1),F),null!=(le=h.get("barWidth"))?Mi(le,F):Math.max(Math.min(F/2,P),ee)),o=["x","y"],a=n.mapDimension(o[0]),s=n.mapDimension(o[1],!0),l=s[0],u=s[1],c=s[2],d=s[3];if(n.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(null==a||s.length<4))return{progress:e.pipelineContext.large?function(h,f){for(var p,v,F=new ZA(4*h.count),P=0,ee=[],le=[];null!=(v=h.next());){var ae=f.get(a,v),we=f.get(l,v),_e=f.get(u,v),Ce=f.get(c,v),Le=f.get(d,v);isNaN(ae)||isNaN(Ce)||isNaN(Le)?(F[P++]=NaN,P+=3):(F[P++]=Aw(f,v,we,_e,u),ee[0]=ae,ee[1]=Ce,p=t.dataToPoint(ee,null,le),F[P++]=p?p[0]:NaN,F[P++]=p?p[1]:NaN,ee[1]=Le,p=t.dataToPoint(ee,null,le),F[P++]=p?p[1]:NaN)}f.setLayout("largePoints",F)}:function(h,f){for(var p;null!=(p=h.next());){var v=f.get(a,p),F=f.get(l,p),P=f.get(u,p),ee=f.get(c,p),le=f.get(d,p),ae=Math.min(F,P),we=Math.max(F,P),_e=pt(ae,v),Ce=pt(we,v),Le=pt(ee,v),Fe=pt(le,v),at=[];wt(at,Ce,0),wt(at,_e,1),at.push(Ot(Fe),Ot(Ce),Ot(Le),Ot(_e)),f.setItemLayout(p,{sign:Aw(f,p,F,P,u),initBaseline:P<F?Ce[1]:_e[1],ends:at,brushRect:(Wt=ee,Qt=le,rn=v,$t=void 0,Sn=void 0,$t=pt(Wt,rn),Sn=pt(Qt,rn),$t[0]-=i/2,Sn[0]-=i/2,{x:$t[0],y:$t[1],width:i,height:Sn[1]-$t[1]})})}var Wt,Qt,rn,$t,Sn;function pt(Wt,Qt){var rn=[];return rn[0]=Qt,rn[1]=Wt,isNaN(Qt)||isNaN(Wt)?[NaN,NaN]:t.dataToPoint(rn)}function wt(Wt,Qt,rn){var $t=Qt.slice(),Sn=Qt.slice();$t[0]=Nd($t[0]+i/2,1,!1),Sn[0]=Nd(Sn[0]-i/2,1,!0),rn?Wt.push($t,Sn):Wt.push(Sn,$t)}function Ot(Wt){return Wt[0]=Nd(Wt[0],1),Wt}}}}};function Aw(e,t,n,i,o){return i<n?-1:n<i?1:0<t?e.get(o,t-1)<=i?1:-1:1}function Iw(e,t){var n=t.rippleEffectColor||t.color;e.eachChild(function(i){i.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})})}function $m(e,t){E.call(this);var n=new Es(e,t),i=new E;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(e,t)}Bo(function(e){e&&ze(e.series)&&ce(e.series,function(t){st(t)&&"k"===t.type&&(t.type="candlestick")})}),eo(XA),ho($A),co.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){return as(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var Sl=$m.prototype;Sl.stopEffectAnimation=function(){this.childAt(1).removeAll()},Sl.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=this.childAt(1),o=0;o<3;o++){var a=da(t,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var s=-o/3*e.period+e.effectOffset;a.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(s).start(),a.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),i.add(a)}Iw(i,e)},Sl.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],o=0;o<i.length;o++){var a=i[o];if(t[a]!==e[a])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}Iw(n,e)},Sl.highlight=function(){this.trigger("emphasis")},Sl.downplay=function(){this.trigger("normal")},Sl.updateData=function(e,t){var n=e.hostModel;this.childAt(0).updateData(e,t);var F,i=this.childAt(1),o=e.getItemModel(t),a=e.getItemVisual(t,"symbol"),s=(ze(F=e.getItemVisual(t,"symbolSize"))||(F=[+F,+F]),F),l=e.getItemVisual(t,"color");i.attr("scale",s),i.traverse(function(F){F.attr({fill:l})});var u=o.getShallow("symbolOffset");if(u){var c=i.position;c[0]=Mi(u[0],s[0]),c[1]=Mi(u[1],s[1])}var d=e.getItemVisual(t,"symbolRotate");i.rotation=(d||0)*Math.PI/180||0;var h={};if(h.showEffectOn=n.get("showEffectOn"),h.rippleScale=o.get("rippleEffect.scale"),h.brushType=o.get("rippleEffect.brushType"),h.period=1e3*o.get("rippleEffect.period"),h.effectOffset=t/e.count(),h.z=o.getShallow("z")||0,h.zlevel=o.getShallow("zlevel")||0,h.symbolType=a,h.color=l,h.rippleEffectColor=o.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===h.showEffectOn)this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var f=this.childAt(0),p=function(){f.highlight(),"render"!==h.showEffectOn&&this.startEffectAnimation(h)},v=function(){f.downplay(),"render"!==h.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",p,this).on("mouseout",v,this).on("emphasis",p,this).on("normal",v,this)}this._effectCfg=h},Sl.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},ye($m,E),na({type:"effectScatter",init:function(){this._symbolDraw=new tu($m)},render:function(e,t,n){var i=e.getData(),o=this._symbolDraw;o.updateData(i),this.group.add(o.group)},updateTransform:function(e,t,n){var i=e.getData();this.group.dirty();var o=gc().reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=q(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}}),eo(hl("effectScatter","circle")),ho(gc("effectScatter"));var KA=typeof Uint32Array>"u"?Array:Uint32Array,JA=typeof Float64Array>"u"?Array:Float64Array;function Dw(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=Oe(t,function(n){var i={coords:[n[0].coord,n[1].coord]};return n[0].name&&(i.fromName=n[0].name),n[1].name&&(i.toName=n[1].name),fe([i,n[0],n[1]])}))}var Ew=co.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(e){e.data=e.data||[],Dw(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),Ew.superApply(this,"init",arguments)},mergeOption:function(e){if(Dw(e),e.data){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count))}Ew.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=_n(this._flatCoords,t.flatCoords),this._flatCoordsOffset=_n(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],o=0;o<i;o++)t[o]=t[o]||[],t[o][0]=this._flatCoords[n+2*o],t[o][1]=this._flatCoords[n+2*o+1];return i}var a=this._getCoordsFromItemModel(e);for(o=0;o<a.length;o++)t[o]=t[o]||[],t[o][0]=a[o][0],t[o][1]=a[o][1];return a.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"!=typeof e[0])return{flatCoordsOffset:null,flatCoords:null,count:e.length};for(var n=e.length,i=new KA(n),o=new JA(n),a=0,s=0,l=0,u=0;u<n;){l++;var c=e[u++];i[s++]=a+t,i[s++]=c;for(var d=0;d<c;d++){var h=e[u++],f=e[u++];o[a++]=h,o[a++]=f}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,s),flatCoords:o,count:l}},getInitialData:function(e,t){var n=new Io(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(i,o,a,s){if(i instanceof Array)return NaN;n.hasItemOption=!0;var l=i.value;return null!=l?l instanceof Array?l[s]:l:void 0}),n},formatTooltip:function(e){var t=this.getData().getItemModel(e),n=t.get("name");if(n)return n;var i=t.get("fromName"),o=t.get("toName"),a=[];return null!=i&&a.push(i),null!=o&&a.push(o),ro(a.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},getProgressiveThreshold:function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}});function Fc(e,t,n){E.call(this),this.add(this.createLine(e,t,n)),this._updateEffectSymbol(e,t)}var Hs=Fc.prototype;function Jh(e,t,n){E.call(this),this._createPolyline(e,t,n)}Hs.createLine=function(e,t,n){return new Pc(e,t,n)},Hs._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),i=n.get("symbolSize"),o=n.get("symbol");ze(i)||(i=[i,i]);var a=n.get("color")||e.getItemVisual(t,"color"),s=this.childAt(1);this._symbolType!==o&&(this.remove(s),(s=da(o,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(n.getItemStyle(["color"])),s.attr("scale",i),s.setColor(a),s.attr("scale",i),this._symbolType=o,this._symbolScale=i,this._updateEffectAnimation(e,n,t))},Hs._updateEffectAnimation=function(e,t,n){var i=this.childAt(1);if(i){var o=this,a=e.getItemLayout(n),s=1e3*t.get("period"),l=t.get("loop"),u=t.get("constantSpeed"),c=en(t.get("delay"),function(p){return p/e.count()*s/3}),d="function"==typeof c;if(i.ignore=!0,this.updateAnimationPoints(i,a),0<u&&(s=this.getLineLength(i)/u*1e3),s!==this._period||l!==this._loop){i.stopAnimation();var h=c;d&&(h=c(n)),0<i.__t&&(h=-s*i.__t),i.__t=0;var f=i.animate("",l).when(s,{__t:1}).delay(h).during(function(){o.updateSymbolPosition(i)});l||f.done(function(){o.remove(i)}),f.start()}this._period=s,this._loop=l}},Hs.getLineLength=function(e){return Wi(e.__p1,e.__cp1)+Wi(e.__cp1,e.__p2)},Hs.updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},Hs.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},Hs.updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,i=e.__cp1,o=e.__t,a=e.position,s=[a[0],a[1]],l=zo,u=Qf;a[0]=l(t[0],i[0],n[0],o),a[1]=l(t[1],i[1],n[1],o);var c=u(t[0],i[0],n[0],o),d=u(t[1],i[1],n[1],o);if(e.rotation=-Math.atan2(d,c)-Math.PI/2,"line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)if(void 0!==e.__lastT&&e.__lastT<e.__t){var h=1.05*Wi(s,a);e.attr("scale",[e.scale[0],h]),1===o&&(a[0]=s[0]+(a[0]-s[0])/2,a[1]=s[1]+(a[1]-s[1])/2)}else 1===e.__lastT?(h=2*Wi(t,a),e.attr("scale",[e.scale[0],h])):e.attr("scale",this._symbolScale);e.__lastT=e.__t,e.ignore=!1},Hs.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},ye(Fc,E);var Qh=Jh.prototype;function Km(e,t,n){Fc.call(this,e,t,n),this._lastFrame=0,this._lastFramePercent=0}Qh._createPolyline=function(e,t,n){var i=e.getItemLayout(t),o=new ya({shape:{points:i}});this.add(o),this._updateCommonStl(e,t,n)},Qh.updateData=function(e,t,n){var i=e.hostModel;xr(this.childAt(0),{shape:{points:e.getItemLayout(t)}},i,t),this._updateCommonStl(e,t,n)},Qh._updateCommonStl=function(e,t,n){var i=this.childAt(0),o=e.getItemModel(t),a=e.getItemVisual(t,"color"),s=n&&n.lineStyle,l=n&&n.hoverLineStyle;n&&!e.hasItemOption||(s=o.getModel("lineStyle").getLineStyle(),l=o.getModel("emphasis.lineStyle").getLineStyle()),i.useStyle(be({strokeNoScale:!0,fill:"none",stroke:a},s)),i.hoverStyle=l,no(this)},Qh.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},ye(Jh,E);var ef=Km.prototype;ef.createLine=function(e,t,n){return new Jh(e,t,n)},ef.updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],i=0,o=1;o<t.length;o++)i+=Wi(t[o-1],t[o]),n.push(i);if(0!==i){for(o=0;o<n.length;o++)n[o]/=i;this._offsets=n,this._length=i}},ef.getLineLength=function(e){return this._length},ef.updateSymbolPosition=function(e){var t=e.__t,n=this._points,i=this._offsets,o=n.length;if(i){var a=this._lastFrame;if(t<this._lastFramePercent){for(s=Math.min(a+1,o-1);0<=s&&!(i[s]<=t);s--);s=Math.min(s,o-2)}else{for(var s=a;s<o&&!(i[s]>t);s++);s=Math.min(s-1,o-2)}vr(e.position,n[s],n[s+1],(t-i[s])/(i[s+1]-i[s])),e.rotation=-Math.atan2(n[s+1][1]-n[s][1],n[s+1][0]-n[s][0])-Math.PI/2,this._lastFrame=s,this._lastFramePercent=t,e.ignore=!1}},ye(Km,Fc);var Nw=xa({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(e,t){var n=t.segs,i=t.curveness;if(t.polyline)for(var o=0;o<n.length;){var a=n[o++];if(0<a){e.moveTo(n[o++],n[o++]);for(var s=1;s<a;s++)e.lineTo(n[o++],n[o++])}}else for(o=0;o<n.length;){var l=n[o++],u=n[o++],c=n[o++],d=n[o++];e.moveTo(l,u),0<i?e.quadraticCurveTo((l+c)/2-(u-d)*i,(u+d)/2-(c-l)*i,c,d):e.lineTo(c,d)}},findDataIndex:function(e,t){var n=this.shape,i=n.segs,o=n.curveness;if(n.polyline)for(var a=0,s=0;s<i.length;){var l=i[s++];if(0<l)for(var u=i[s++],c=i[s++],d=1;d<l;d++)if(xs(u,c,h=i[s++],f=i[s++]))return a;a++}else for(a=0,s=0;s<i.length;){u=i[s++],c=i[s++];var h=i[s++],f=i[s++];if(0<o){if(X0(u,c,(u+h)/2-(c-f)*o,(c+f)/2-(h-u)*o,h,f))return a}else if(xs(u,c,h,f))return a;a++}return-1}});function Lw(){this.group=new E}var Cl=Lw.prototype;Cl.isPersistent=function(){return!this._incremental},Cl.updateData=function(e){this.group.removeAll();var t=new Nw({rectHover:!0,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},Cl.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),5e5<e.count()?(this._incremental||(this._incremental=new aa({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Cl.incrementalUpdate=function(e,t){var n=new Nw;n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=e.start,this.group.add(n))},Cl.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Cl._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get("lineStyle.curveness")}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("color");o&&e.setStyle("stroke",o),e.setStyle("fill"),n||(e.seriesIndex=i.seriesIndex,e.on("mousemove",function(a){e.dataIndex=null;var s=e.findDataIndex(a.offsetX,a.offsetY);0<s&&(e.dataIndex=s+e.__startIndex)}))},Cl._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var Pw={seriesType:"lines",plan:Xl(),reset:function(e){var t=e.coordinateSystem,n=e.get("polyline"),i=e.pipelineContext.large;return{progress:function(o,a){var s=[];if(i){var l,u=o.end-o.start;if(n){for(var c=0,d=o.start;d<o.end;d++)c+=e.getLineCoordsCount(d);l=new Float32Array(u+2*c)}else l=new Float32Array(4*u);var h=0,f=[];for(d=o.start;d<o.end;d++){var p=e.getLineCoords(d,s);n&&(l[h++]=p);for(var v=0;v<p;v++)f=t.dataToPoint(s[v],!1,f),l[h++]=f[0],l[h++]=f[1]}a.setLayout("linesPoints",l)}else for(d=o.start;d<o.end;d++){var F=a.getItemModel(d),P=(p=e.getLineCoords(d,s),[]);if(n)for(var ee=0;ee<p;ee++)P.push(t.dataToPoint(s[ee]));else{P[0]=t.dataToPoint(s[0]),P[1]=t.dataToPoint(s[1]);var le=F.get("lineStyle.curveness");+le&&(P[2]=[(P[0][0]+P[1][0])/2-(P[0][1]-P[1][1])*le,(P[0][1]+P[1][1])/2-(P[1][0]-P[0][0])*le])}a.setItemLayout(d,P)}}}}};function tf(e){return e instanceof Array||(e=[e,e]),e}na({type:"lines",init:function(){},render:function(e,t,n){var i=e.getData(),o=this._updateLineDraw(i,e),a=e.get("zlevel"),s=e.get("effect.trailLength"),l=n.getZr(),u="svg"===l.painter.getType();u||l.painter.getLayer(a).clear(!0),null==this._lastZlevel||u||l.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&s&&(u||l.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),o.updateData(i);var c=e.get("clip",!0)&&_h(e.coordinateSystem,!1,e);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},incrementalRender:function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var a=Pw.reset(e);a.progress&&a.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(e,t){var n=this._lineDraw,i=this._showEffect(t),o=!!t.get("polyline"),a=t.pipelineContext.large;return n&&i===this._hasEffet&&o===this._isPolyline&&a===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=a?new Lw:new Wh(o?i?Km:Jh:i?Fc:Pc),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});var Rw="lineStyle.opacity".split("."),QA={seriesType:"lines",reset:function(e,t,n){var i=tf(e.get("symbol")),o=tf(e.get("symbolSize")),a=e.getData();return a.setVisual("fromSymbol",i&&i[0]),a.setVisual("toSymbol",i&&i[1]),a.setVisual("fromSymbolSize",o&&o[0]),a.setVisual("toSymbolSize",o&&o[1]),a.setVisual("opacity",e.get(Rw)),{dataEach:a.hasItemOption?function(s,l){var u=s.getItemModel(l),c=tf(u.getShallow("symbol",!0)),d=tf(u.getShallow("symbolSize",!0)),h=u.get(Rw);c[0]&&s.setItemVisual(l,"fromSymbol",c[0]),c[1]&&s.setItemVisual(l,"toSymbol",c[1]),d[0]&&s.setItemVisual(l,"fromSymbolSize",d[0]),d[1]&&s.setItemVisual(l,"toSymbolSize",d[1]),s.setItemVisual(l,"opacity",h)}:null}}};function Ow(){var e=Ae();this.canvas=e,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}ho(Pw),eo(QA),co.extend({type:"series.heatmap",getInitialData:function(e,t){return as(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var e=Ho.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}}),Ow.prototype={update:function(e,t,n,i,o,a){var s=this._getBrush(),l=this._getGradient(e,o,"inRange"),u=this._getGradient(e,o,"outOfRange"),c=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),f=e.length;d.width=t,d.height=n;for(var p=0;p<f;++p){var v=e[p],F=v[0],P=v[1],ee=i(v[2]);h.globalAlpha=ee,h.drawImage(s,F-c,P-c)}if(!d.width||!d.height)return d;for(var le=h.getImageData(0,0,d.width,d.height),ae=le.data,we=0,_e=ae.length,Ce=this.minOpacity,Le=this.maxOpacity-Ce;we<_e;){ee=ae[we+3]/256;var Fe=4*Math.floor(255*ee);if(0<ee){var at=a(ee)?l:u;0<ee&&(ee=ee*Le+Ce),ae[we++]=at[Fe],ae[we++]=at[1+Fe],ae[we++]=at[2+Fe],ae[we++]=at[3+Fe]*ee*256}else we+=4}return h.putImageData(le,0,0),d},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=Ae()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},_getGradient:function(e,t,n){for(var i=this._gradientPixels,o=i[n]||(i[n]=new Uint8ClampedArray(1024)),a=[0,0,0,0],s=0,l=0;l<256;l++)t[n](l/255,!0,a),o[s++]=a[0],o[s++]=a[1],o[s++]=a[2],o[s++]=a[3];return o}},na({type:"heatmap",render:function(e,t,n){var i;t.eachComponent("visualMap",function(a){a.eachTargetSeries(function(s){s===e&&(i=a)})}),this.group.removeAll(),this._incrementalDisplayable=null;var o=e.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):function(a){var s=a.dimensions;return"lng"===s[0]&&"lat"===s[1]}(o)&&this._renderOnGeo(o,e,i,n)},incrementalPrepareRender:function(e,t,n){this.group.removeAll()},incrementalRender:function(e,t,n,i){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)},_renderOnCartesianAndCalendar:function(e,t,n,i,o){var a,s,l=e.coordinateSystem;if("cartesian2d"===l.type){var u=l.getAxis("x"),c=l.getAxis("y");a=u.getBandWidth(),s=c.getBandWidth()}for(var d=this.group,h=e.getData(),f="emphasis.itemStyle",p="emphasis.label",v=e.getModel("itemStyle").getItemStyle(["color"]),F=e.getModel(f).getItemStyle(),P=e.getModel("label"),ee=e.getModel(p),le=l.type,ae="cartesian2d"===le?[h.mapDimension("x"),h.mapDimension("y"),h.mapDimension("value")]:[h.mapDimension("time"),h.mapDimension("value")],we=n;we<i;we++){var _e;if("cartesian2d"===le){if(isNaN(h.get(ae[2],we)))continue;var Ce=l.dataToPoint([h.get(ae[0],we),h.get(ae[1],we)]);_e=new Rr({shape:{x:Math.floor(Math.round(Ce[0])-a/2),y:Math.floor(Math.round(Ce[1])-s/2),width:Math.ceil(a),height:Math.ceil(s)},style:{fill:h.getItemVisual(we,"color"),opacity:h.getItemVisual(we,"opacity")}})}else{if(isNaN(h.get(ae[1],we)))continue;_e=new Rr({z2:1,shape:l.dataToRect([h.get(ae[0],we)]).contentShape,style:{fill:h.getItemVisual(we,"color"),opacity:h.getItemVisual(we,"opacity")}})}var Le=h.getItemModel(we);h.hasItemOption&&(v=Le.getModel("itemStyle").getItemStyle(["color"]),F=Le.getModel(f).getItemStyle(),P=Le.getModel("label"),ee=Le.getModel(p));var Fe=e.getRawValue(we),at="-";Fe&&null!=Fe[2]&&(at=Fe[2]),sa(v,F,P,ee,{labelFetcher:e,labelDataIndex:we,defaultText:at,isRectText:!0}),_e.setStyle(v),no(_e,h.hasItemOption?F:ue({},F)),(_e.incremental=o)&&(_e.useHoverLayer=!0),d.add(_e),h.setItemGraphicEl(we,_e)}},_renderOnGeo:function(e,t,n,i){var o=n.targetVisuals.inRange,a=n.targetVisuals.outOfRange,s=t.getData(),l=this._hmLayer||this._hmLayer||new Ow;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var u=e.getViewRect().clone(),c=e.getRoamTransform();u.applyTransform(c);var _e,Ce,Le,d=Math.max(u.x,0),h=Math.max(u.y,0),f=Math.min(u.width+u.x,i.getWidth()),p=Math.min(u.height+u.y,i.getHeight()),v=f-d,F=p-h,P=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],ee=s.mapArray(P,function(_e,Ce,Le){var Fe=e.dataToPoint([_e,Ce]);return Fe[0]-=d,Fe[1]-=h,Fe.push(Le),Fe}),le=n.getExtent(),ae="visualMap.continuous"===n.type?(Ce=[((Ce=n.option.range)[0]-(_e=le)[0])/(Le=_e[1]-_e[0]),(Ce[1]-_e[0])/Le],function(Fe){return Fe>=Ce[0]&&Fe<=Ce[1]}):function(_e,Ce,Le){var Fe=_e[1]-_e[0],at=(Ce=Oe(Ce,function(wt){return{interval:[(wt.interval[0]-_e[0])/Fe,(wt.interval[1]-_e[0])/Fe]}})).length,pt=0;return function(wt){for(var Rt=pt;Rt<at;Rt++)if((Ot=Ce[Rt].interval)[0]<=wt&&wt<=Ot[1]){pt=Rt;break}if(Rt===at)for(Rt=pt-1;0<=Rt;Rt--){var Ot;if((Ot=Ce[Rt].interval)[0]<=wt&&wt<=Ot[1]){pt=Rt;break}}return 0<=Rt&&Rt<at&&Le[Rt]}}(le,n.getPieceList(),n.option.selected);l.update(ee,v,F,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:a.color.getColorMapper()},ae);var we=new Tr({style:{width:v,height:F,x:d,y:h,image:l.canvas},silent:!0});this.group.add(we)},dispose:function(){}});var eI=fb.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,eI.superApply(this,"getInitialData",arguments)}}),tI=["itemStyle","borderWidth"],Bw=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Jm=new Fa;function zw(e,t,n,i){var v,F,ee,ae,we,_e,Ce,Le,Fe,at,pt,wt,o=e.getItemLayout(t),a=n.get("symbolRepeat"),s=n.get("symbolClip"),l=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,c=n.get("symbolPatternSize")||2,d=n.isAnimationEnabled(),h={dataIndex:t,layout:o,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",color:e.getItemVisual(t,"color"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:d?n:null,hoverAnimation:d&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};(function(v,F,P,ee,le){var ae,we=ee.valueDim,_e=v.get("symbolBoundingData"),Ce=ee.coordSys.getOtherAxis(ee.coordSys.getBaseAxis()),Le=Ce.toGlobalCoord(Ce.dataToCoord(0)),Fe=1-+(P[we.wh]<=0);if(ze(_e)){var at=[Qm(Ce,_e[0])-Le,Qm(Ce,_e[1])-Le];at[1]<at[0]&&at.reverse(),ae=at[Fe]}else ae=null!=_e?Qm(Ce,_e)-Le:F?ee.coordSysExtent[we.index][Fe]-Le:P[we.wh];le.boundingLength=ae,F&&(le.repeatCutLength=P[we.wh]),le.pxSign=0<ae?1:ae<0?-1:0})(n,a,o,i,h),v=e,F=t,ee=a,ae=h.boundingLength,we=h.pxSign,_e=c,Le=h,Fe=(Ce=i).valueDim,at=Ce.categoryDim,pt=Math.abs(o[at.wh]),(wt=ze(wt=v.getItemVisual(F,"symbolSize"))?wt.slice():(null==wt&&(wt="100%"),[wt,wt]))[at.index]=Mi(wt[at.index],pt),wt[Fe.index]=Mi(wt[Fe.index],ee?pt:Math.abs(ae)),Le.symbolSize=wt,(Le.symbolScale=[wt[0]/_e,wt[1]/_e])[Fe.index]*=(Ce.isHorizontal?-1:1)*we,function(v,F,P,ee,le){var ae=v.get(tI)||0;ae&&(Jm.attr({scale:F.slice(),rotation:P}),Jm.updateTransform(),ae/=Jm.getLineScale(),ae*=F[ee.valueDim.index]),le.valueLineWidth=ae}(n,h.symbolScale,u,i,h);var f=h.symbolSize,p=n.get("symbolOffset");return ze(p)&&(p=[Mi(p[0],f[0]),Mi(p[1],f[1])]),function(v,F,P,ee,le,ae,we,_e,Ce,Le,Fe,at){var pt=Fe.categoryDim,wt=Fe.valueDim,Rt=at.pxSign,Ot=Math.max(F[wt.index]+_e,0),Wt=Ot;if(ee){var Qt=Math.abs(Ce),rn=en(v.get("symbolMargin"),"15%")+"",$t=!1;rn.lastIndexOf("!")===rn.length-1&&($t=!0,rn=rn.slice(0,rn.length-1)),rn=Mi(rn,F[wt.index]);var Sn=Math.max(Ot+2*rn,0),Un=$t?0:2*rn,Zn=Ry(ee),Hn=Zn?ee:Zw((Qt+Un)/Sn);Sn=Ot+2*(rn=(Qt-Hn*Ot)/2/($t?Hn:Hn-1)),Un=$t?0:2*rn,Zn||"fixed"===ee||(Hn=Le?Zw((Math.abs(Le)+Un)/Sn):0),Wt=Hn*Sn-Un,at.repeatTimes=Hn,at.symbolMargin=rn}var li=Rt*(Wt/2),Si=at.pathPosition=[];Si[pt.index]=P[pt.wh]/2,Si[wt.index]="start"===we?li:"end"===we?Ce-li:Ce/2,ae&&(Si[0]+=ae[0],Si[1]+=ae[1]);var Xi=at.bundlePosition=[];Xi[pt.index]=P[pt.xy],Xi[wt.index]=P[wt.xy];var ri=at.barRectShape=ue({},P);ri[wt.wh]=Rt*Math.max(Math.abs(P[wt.wh]),Math.abs(Si[wt.index]+li)),ri[pt.wh]=P[pt.wh];var Gi=at.clipShape={};Gi[pt.xy]=-P[pt.xy],Gi[pt.wh]=Fe.ecSize[pt.wh],Gi[wt.xy]=0,Gi[wt.wh]=P[wt.wh]}(n,f,o,a,0,p,l,h.valueLineWidth,h.boundingLength,h.repeatCutLength,i,h),h}function Qm(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function Fw(e){var t=e.symbolPatternSize,n=da(e.symbolType,-t/2,-t/2,t,t,e.color);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function Vw(e,t,n,i){var o=e.__pictorialBundle,l=n.pathPosition,u=t.valueDim,c=n.repeatTimes||0,d=0,h=n.symbolSize[t.valueDim.index]+n.valueLineWidth+2*n.symbolMargin;for(Vc(e,function(ee){ee.__pictorialAnimationIndex=d,ee.__pictorialRepeatTimes=c,d<c?bu(ee,null,v(d),n,i):bu(ee,null,{scale:[0,0]},n,i,function(){o.remove(ee)}),ev(ee,n),d++});d<c;d++){var f=Fw(n);f.__pictorialAnimationIndex=d,f.__pictorialRepeatTimes=c,o.add(f);var p=v(d);bu(f,{position:p.position,scale:[0,0]},{scale:p.scale,rotation:p.rotation},n,i),f.on("mouseover",F).on("mouseout",P),ev(f,n)}function v(ee){var le=l.slice(),ae=n.pxSign,we=ee;return("start"===n.symbolRepeatDirection?0<ae:ae<0)&&(we=c-1-ee),le[u.index]=h*(we-c/2+.5)+l[u.index],{position:le,scale:n.symbolScale.slice(),rotation:n.rotation}}function F(){Vc(e,function(ee){ee.trigger("emphasis")})}function P(){Vc(e,function(ee){ee.trigger("normal")})}}function Hw(e,t,n,i){var o=e.__pictorialBundle,a=e.__pictorialMainPath;a?bu(a,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,i):(a=e.__pictorialMainPath=Fw(n),o.add(a),bu(a,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,i),a.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),ev(a,n)}function Ww(e,t,n){var i=ue({},t.barRectShape),o=e.__pictorialBarRect;o?bu(o,null,{shape:i},t,n):(o=e.__pictorialBarRect=new Rr({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(o))}function Gw(e,t,n,i){if(n.symbolClip){var o=e.__pictorialClipPath,a=ue({},n.clipShape),s=t.valueDim,l=n.animationModel,u=n.dataIndex;if(o)xr(o,{shape:a},l,u);else{a[s.wh]=0,o=new Rr({shape:a}),e.__pictorialBundle.setClipPath(o),e.__pictorialClipPath=o;var c={};c[s.wh]=n.clipShape[s.wh],ts[i?"updateProps":"initProps"](o,{shape:c},l,u)}}}function jw(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=nI,n.isAnimationEnabled=iI,n}function nI(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function iI(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function ev(e,t){e.off("emphasis").off("normal");var n=t.symbolScale.slice();t.hoverAnimation&&e.on("emphasis",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:n.slice()},400,"elasticOut")})}function Uw(e,t,n,i){var o=new E,a=new E;return o.add(a),(o.__pictorialBundle=a).attr("position",n.bundlePosition.slice()),n.symbolRepeat?Vw(o,t,n):Hw(o,0,n),Ww(o,n,i),Gw(o,t,n,i),o.__pictorialShapeStr=Yw(e,n),o.__pictorialSymbolMeta=n,o}function qw(e,t,n,i){var o=i.__pictorialBarRect;o&&(o.style.text=null);var a=[];Vc(i,function(s){a.push(s)}),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),ce(a,function(s){xr(s,{scale:[0,0]},n,t,function(){i.parent&&i.parent.remove(i)})}),e.setItemGraphicEl(t,null)}function Yw(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Vc(e,t,n){ce(e.__pictorialBundle.children(),function(i){i!==e.__pictorialBarRect&&t.call(n,i)})}function bu(e,t,n,i,o,a){t&&e.attr(t),i.symbolClip&&!o?n&&e.attr(n):n&&ts[o?"updateProps":"initProps"](e,n,i.animationModel,i.dataIndex,a)}function Xw(e,t,n){var i=n.color,o=n.dataIndex,a=n.itemModel,s=a.getModel("itemStyle").getItemStyle(["color"]),l=a.getModel("emphasis.itemStyle").getItemStyle(),u=a.getShallow("cursor");Vc(e,function(h){h.setColor(i),h.setStyle(be({fill:i,opacity:n.opacity},s)),no(h,l),u&&(h.cursor=u),h.z2=n.z2});var c={},d=e.__pictorialBarRect;pb(d.style,c,a,i,t.seriesModel,o),no(d,c)}function Zw(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}function nf(e,t,n,i,o){wo.call(this,e,t,n),this.type=i||"value",this.position=o||"bottom",this.orient=null}function tv(e,t,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._init(e,t,n),this.model=e}function nv(e,t){t=t||{};var i=e.axis,o={},a=i.position,s=i.orient,l=e.coordinateSystem.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],c={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};o.position=["vertical"===s?c.vertical[a]:u[0],"horizontal"===s?c.horizontal[a]:u[3]],o.rotation=Math.PI/2*{horizontal:0,vertical:1}[s],o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),en(t.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var d=t.rotate;return null==d&&(d=e.get("axisLabel.rotate")),o.labelRotation="top"===a?-d:d,o.z2=1,o}na({type:"pictorialBar",render:function(e,t,n){var i=this.group,o=e.getData(),a=this._data,s=e.coordinateSystem,l=!!s.getBaseAxis().isHorizontal(),u=s.grid.getRect(),c={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:s,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:l,valueDim:Bw[+l],categoryDim:Bw[1-l]};return o.diff(a).add(function(d){if(o.hasValue(d)){var h=jw(o,d),f=zw(o,d,h,c),p=Uw(o,c,f);o.setItemGraphicEl(d,p),i.add(p),Xw(p,c,f)}}).update(function(d,h){var P,ee,le,ae,we,f=a.getItemGraphicEl(h);if(o.hasValue(d)){var p=jw(o,d),v=zw(o,d,p,c),F=Yw(o,v);f&&F!==f.__pictorialShapeStr&&(i.remove(f),o.setItemGraphicEl(d,null),f=null),f?(ee=c,ae=(le=v).animationModel,we=le.dataIndex,xr((P=f).__pictorialBundle,{position:le.bundlePosition.slice()},ae,we),le.symbolRepeat?Vw(P,ee,le,!0):Hw(P,0,le,!0),Ww(P,le,!0),Gw(P,ee,le,!0)):f=Uw(o,c,v,!0),o.setItemGraphicEl(d,f),f.__pictorialSymbolMeta=v,i.add(f),Xw(f,c,v)}else i.remove(f)}).remove(function(d){var h=a.getItemGraphicEl(d);h&&qw(a,d,h.__pictorialSymbolMeta.animationModel,h)}).execute(),this._data=o,this.group},dispose:fn,remove:function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(o){qw(i,o.dataIndex,e,o)}):n.removeAll()}}),ho(xt(px,"pictorialBar")),eo(hl("pictorialBar","roundRect")),nf.prototype={constructor:nf,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},pointToData:function(e,t){return this.coordinateSystem.pointToData(e,t)[0]},toGlobalCoord:null,toLocalCoord:null},ye(nf,wo),Ho.register("single",{create:function(e,t){var n=[];return e.eachComponent("singleAxis",function(i,o){var a=new tv(i,e,t);a.name="single_"+o,a.resize(i,t),i.coordinateSystem=a,n.push(a)}),e.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var o=e.queryComponents({mainType:"singleAxis",index:i.get("singleAxisIndex"),id:i.get("singleAxisId")})[0];i.coordinateSystem=o&&o.coordinateSystem}}),n},dimensions:(tv.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:tv,_init:function(e,t,n){var o=new nf(this.dimension,eu(e),[0,0],e.get("type"),e.get("position"));o.onBand="category"===o.type&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),(e.axis=o).model=e,(o.coordinateSystem=this)._axis=o},update:function(e,t){e.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();ce(i.mapDimension(this.dimension,!0),function(o){this._axis.scale.unionExtentFromData(i,o)},this),Ds(this._axis.scale,this._axis.model)}},this)},resize:function(e,t){this._rect=xo({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],o=t.reverse?1:0;t.setExtent(i[o],i[1-o]),this._updateAxisTransform(t,n?e.x:e.y)},_updateAxisTransform:function(e,t){var n=e.getExtent(),i=n[0]+n[1],o=e.isHorizontal();e.toGlobalCoord=o?function(a){return a+t}:function(a){return i-a+t},e.toLocalCoord=o?function(a){return a-t}:function(a){return i-a+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},pointToData:function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},dataToPoint:function(e){var t=this.getAxis(),n=this.getRect(),i=[],o="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),i[o]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-o]=0==o?n.y+n.height/2:n.x+n.width/2,i}}).dimensions});var rI=["axisLine","axisTickLabel","axisName"],oI=["splitArea","splitLine"],aI=ha.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(e,t,n,i){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new E;var s=nv(e),l=new ia(e,s);ce(rI,l.add,l),o.add(this._axisGroup),o.add(l.getGroup()),ce(oI,function(u){e.get(u+".show")&&this["_"+u](e)},this),Od(a,this._axisGroup,e),aI.superCall(this,"render",e,t,n,i)},remove:function(){hb(this)},_splitLine:function(e){var t=e.axis;if(!t.scale.isBlank()){var n=e.getModel("splitLine"),i=n.getModel("lineStyle"),o=i.get("width"),a=i.get("color");a=a instanceof Array?a:[a];for(var s=e.coordinateSystem.getRect(),l=t.isHorizontal(),u=[],c=0,d=t.getTicksCoords({tickModel:n}),h=[],f=[],p=0;p<d.length;++p){var v=t.toGlobalCoord(d[p].coord);l?(h[0]=v,h[1]=s.y,f[0]=v,f[1]=s.y+s.height):(h[0]=s.x,h[1]=v,f[0]=s.x+s.width,f[1]=v);var F=c++%a.length;u[F]=u[F]||[],u[F].push(new Ro({subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:{lineWidth:o},silent:!0}))}for(p=0;p<u.length;++p)this.group.add(ba(u[p],{style:{stroke:a[p%a.length],lineDash:i.getLineDash(o),lineWidth:o},silent:!0}))}},_splitArea:function(e){db(this,this._axisGroup,e,e)}}),$w=Or.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});function Kw(e,t){var n,i=[],o=e.seriesIndex;if(null==o||!(n=t.getSeriesByIndex(o)))return{point:[]};var a=n.getData(),s=dd(a,e);if(null==s||s<0||ze(s))return{point:[]};var l=a.getItemGraphicEl(s),u=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(s)||[];else if(u&&u.dataToPoint)i=u.dataToPoint(a.getValues(Oe(u.dimensions,function(d){return a.mapDimension(d)}),s,!0))||[];else if(l){var c=l.getBoundingRect().clone();c.applyTransform(l.transform),i=[c.x+c.width/2,c.y+c.height/2]}return{point:i,el:l}}oe($w.prototype,cl),iu("single",$w,function(e,t){return t.type||(t.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var Ka=ce,Jw=xt,Qw=$o();function eS(e,t,n,i,o){var c,d,h,f,p,v,F,P,a=e.axis;if(!a.scale.isBlank()&&a.containData(t))if(e.involveSeries){var s=(f=(h=(d=e).axis).dim,p=c=t,v=[],F=Number.MAX_VALUE,P=-1,Ka(d.seriesModels,function(ee,le){var ae,we,_e=ee.getData().mapDimension(f,!0);if(ee.getAxisTooltipData){var Ce=ee.getAxisTooltipData(_e,c,h);we=Ce.dataIndices,ae=Ce.nestestValue}else{if(!(we=ee.getData().indicesOfNearest(_e[0],c,"category"===h.type?.5:null)).length)return;ae=ee.getData().get(_e[0],we[0])}if(null!=ae&&isFinite(ae)){var Le=c-ae,Fe=Math.abs(Le);Fe<=F&&((Fe<F||0<=Le&&P<0)&&(F=Fe,P=Le,p=ae,v.length=0),Ka(we,function(at){v.push({seriesIndex:ee.seriesIndex,dataIndexInside:at,dataIndex:ee.getData().getRawIndex(at)})}))}}),{payloadBatch:v,snapToValue:p}),l=s.payloadBatch,u=s.snapToValue;l[0]&&null==o.seriesIndex&&ue(o,l[0]),!i&&e.snap&&a.containData(u)&&null!=u&&(t=u),n.showPointer(e,t,l,o),n.showTooltip(e,s,u)}else n.showPointer(e,t)}function sI(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function lI(e,t,n,i){var o=n.payloadBatch,a=t.axis,s=a.model,l=t.axisPointerModel;if(t.triggerTooltip&&o.length){var u=t.coordSys.model,c=vc(u),d=e.map[c];d||(d=e.map[c]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},e.list.push(d)),d.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:o.slice()})}}function tS(e){var t=e.axis.model,n={},i=n.axisDim=e.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function rf(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}ca({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var us=$o(),uI=ce;function nS(e,t,n){if(!Ne.node){var i=t.getZr();us(i).records||(us(i).records={}),function(o,a){function s(l,u){o.on(l,function(c){var h,f,p,d=(h=a,{dispatchAction:p=function(v){var F=f[v.type];F?F.push(v):(v.dispatchAction=p,h.dispatchAction(v))},pendings:f={showTip:[],hideTip:[]}});uI(us(o).records,function(h){h&&u(h,c,d.dispatchAction)}),function(h,f){var p,v=h.showTip.length,F=h.hideTip.length;v?p=h.showTip[v-1]:F&&(p=h.hideTip[F-1]),p&&(p.dispatchAction=null,f.dispatchAction(p))}(d.pendings,a)})}us(o).initialized||(us(o).initialized=!0,s("click",xt(iS,"click")),s("mousemove",xt(iS,"mousemove")),s("globalout",cI))}(i,t),(us(i).records[e]||(us(i).records[e]={})).handler=n}}function cI(e,t,n){e.handler("leave",null,n)}function iS(e,t,n,i){t.handler(e,n,i)}function iv(e,t){if(!Ne.node){var n=t.getZr();(us(n).records||{})[e]&&(us(n).records[e]=null)}}var rS=Ao({type:"axisPointer",render:function(e,t,n){var i=t.getComponent("tooltip"),o=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";nS("axisPointer",n,function(a,s,l){"none"!==o&&("leave"===a||0<=o.indexOf(a))&&l({type:"updateAxisPointer",currTrigger:a,x:s&&s.offsetX,y:s&&s.offsetY})})},remove:function(e,t){iv(t.getZr(),"axisPointer"),rS.superApply(this._model,"remove",arguments)},dispose:function(e,t){iv("axisPointer",t),rS.superApply(this._model,"dispose",arguments)}}),Ml=$o(),oS=U,rv=et;function Hc(){}function aS(e,t,n,i){!function o(a,s){if(st(a)&&st(s)){var l=!0;return ce(s,function(u,c){l=l&&o(a[c],u)}),!!l}return a===s}(Ml(n).lastProp,i)&&(Ml(n).lastProp=i,t?xr(n,i,e):(n.stopAnimation(),n.attr(i)))}function sS(e,t){e[t.get("label.show")?"show":"hide"]()}function ov(e){return{position:e.position.slice(),rotation:e.rotation||0}}function lS(e,t,n){var i=t.get("z"),o=t.get("zlevel");e&&e.traverse(function(a){"group"!==a.type&&(null!=i&&(a.z=i),null!=o&&(a.zlevel=o),a.silent=n)})}function av(e){var t,n=e.get("type"),i=e.getModel(n+"Style");return"line"===n?(t=i.getLineStyle()).fill=null:"shadow"===n&&((t=i.getAreaStyle()).stroke=null),t}function uS(e,t,n,i,o){var a=cS(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),s=n.getModel("label"),l=il(s.get("padding")||0),u=s.getFont(),c=yi(a,u),d=o.position,h=c.width+l[1]+l[3],f=c.height+l[0]+l[2],p=o.align;"right"===p&&(d[0]-=h),"center"===p&&(d[0]-=h/2);var P,ee,le,ae,we,_e,v=o.verticalAlign;"bottom"===v&&(d[1]-=f),"middle"===v&&(d[1]-=f/2),P=d,ee=h,le=f,we=(ae=i).getWidth(),_e=ae.getHeight(),P[0]=Math.min(P[0]+ee,we)-ee,P[1]=Math.min(P[1]+le,_e)-le,P[0]=Math.max(P[0],0),P[1]=Math.max(P[1],0);var F=s.get("backgroundColor");F&&"auto"!==F||(F=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:h,height:f,r:s.get("borderRadius")},position:d.slice(),style:{text:a,textFont:u,textFill:s.getTextColor(),textPosition:"inside",textPadding:l,fill:F,stroke:s.get("borderColor")||"transparent",lineWidth:s.get("borderWidth")||0,shadowBlur:s.get("shadowBlur"),shadowColor:s.get("shadowColor"),shadowOffsetX:s.get("shadowOffsetX"),shadowOffsetY:s.get("shadowOffsetY")},z2:10}}function cS(e,t,n,i,o){e=t.scale.parse(e);var a=t.scale.getLabel(e,{precision:o.precision}),s=o.formatter;if(s){var l={value:wg(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};ce(i,function(u){var c=n.getSeriesByIndex(u.seriesIndex),h=c&&c.getDataParams(u.dataIndexInside);h&&l.seriesData.push(h)}),Je(s)?a=s.replace("{value}",a):Xe(s)&&(a=s(l))}return a}function sv(e,t,n){var i=Yi();return Ee(i,i,n.rotation),De(i,i,n.position),Wa([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function dS(e,t,n,i,o,a){var s=ia.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get("label.margin"),uS(t,i,o,a,{position:sv(i.axis,e,n),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function lv(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function hS(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function fS(e,t,n,i,o,a){return{cx:e,cy:t,r0:n,r:i,startAngle:o,endAngle:a,clockwise:!0}}Eu((Hc.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,i){var o=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||"hide"===a)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,e,t,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(e,t);if(s){var h=xt(aS,t,d);this.updatePointerEl(s,u,h,t),this.updateLabelEl(s,u,h,t)}else s=this._group=new E,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),n.getZr().add(s);lS(s,t,!0),this._renderHandle(o)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),i=e.axis,o="category"===i.type,a=t.get("snap");if(!a&&!o)return!1;if("auto"!==n&&null!=n)return!0===n;var s=this.animationThreshold;if(o&&i.getBandWidth()>s)return!0;if(a){var l=Og(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1},makeElOption:function(e,t,n,i,o){},createPointerEl:function(e,t,n,i){var o=t.pointer;if(o){var a=Ml(e).pointerEl=new ts[o.type](oS(t.pointer));e.add(a)}},createLabelEl:function(e,t,n,i){if(t.label){var o=Ml(e).labelEl=new Rr(oS(t.label));e.add(o),sS(o,i)}},updatePointerEl:function(e,t,n){var i=Ml(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,i){var o=Ml(e).labelEl;o&&(o.setStyle(t.label.style),n(o,{shape:t.label.shape,position:t.label.position}),sS(o,i))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,i=this._api.getZr(),o=this._handle,a=n.getModel("handle"),s=n.get("status");if(!a.get("show")||!s||"hide"===s)return o&&i.remove(o),void(this._handle=null);this._handle||(t=!0,o=this._handle=jl(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Ir(u.event)},onmousedown:rv(this._onHandleDragMove,this,0,0),drift:rv(this._onHandleDragMove,this),ondragend:rv(this._onHandleDragEnd,this)}),i.add(o)),lS(o,n,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ze(l)||(l=[l,l]),o.attr("scale",[l[0]/2,l[1]/2]),Qu(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){aS(this._axisPointerModel,!t&&this._moveAnimation,this._handle,ov(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(ov(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(ov(i)),Ml(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}}).constructor=Hc);var dI=Hc.extend({makeElOption:function(e,t,n,i,o){var a=n.axis,s=a.grid,l=i.get("type"),u=pS(s,a).getOtherAxis(a).getGlobalExtent(),c=a.toGlobalCoord(a.dataToCoord(t,!0));if(l&&"none"!==l){var d=av(i),h=hI[l](a,c,u);h.style=d,e.graphicKey=h.type,e.pointer=h}dS(t,e,zg(s.model,n),n,i,o)},getHandleTransform:function(e,t,n){var i=zg(t.axis.grid.model,t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:sv(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var o=n.axis,a=o.grid,s=o.getGlobalExtent(!0),l=pS(a,o).getOtherAxis(o).getGlobalExtent(),u="x"===o.dim?0:1,c=e.position;c[u]+=t[u],c[u]=Math.min(s[1],c[u]),c[u]=Math.max(s[0],c[u]);var d=(l[1]+l[0])/2,h=[d,d];return h[u]=c[u],{position:c,rotation:e.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}}});function pS(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var hI={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:lv([t,n[0]],[t,n[1]],gS(e))}},shadow:function(e,t,n){var i=Math.max(1,e.getBandWidth());return{type:"Rect",shape:hS([t-i/2,n[0]],[i,n[1]-n[0]],gS(e))}}};function gS(e){return"x"===e.dim?0:1}ha.registerAxisPointerClass("CartesianAxisPointer",dI),Bo(function(e){if(e){e.axisPointer&&0!==e.axisPointer.length||(e.axisPointer={});var t=e.axisPointer.link;t&&!ze(t)&&(e.axisPointer.link=[t])}}),ua(ja.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=function cT(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(i,o,a){var s=o.getComponent("tooltip"),l=o.getComponent("axisPointer"),u=l.get("link",!0)||[],c=[];au(a.getCoordinateSystems(),function(d){if(d.axisPointerEnabled){var h=vc(d.model),f=i.coordSysAxesInfo[h]={},p=(i.coordSysMap[h]=d).model.getModel("tooltip",s);if(au(d.getAxes(),Pg(ee,!1,null)),d.getTooltipAxes&&s&&p.get("show")){var v="axis"===p.get("trigger"),F="cross"===p.get("axisPointer.type"),P=d.getTooltipAxes(p.get("axisPointer.axis"));(v||F)&&au(P.baseAxes,Pg(ee,!F||"cross",v)),F&&au(P.otherAxes,Pg(ee,"cross",!1))}}function ee(le,ae,we){var _e=we.model.getModel("axisPointer",l),Ce=_e.get("show");if(Ce&&("auto"!==Ce||le||Bg(_e))){null==ae&&(ae=_e.get("triggerTooltip"));var Le=(_e=le?function(Ot,Wt,Qt,rn,$t,Sn){var Un=Wt.getModel("axisPointer"),Zn={};au(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(Xi){Zn[Xi]=U(Un.get(Xi))}),Zn.snap="category"!==Ot.type&&!!Sn,"cross"===Un.get("type")&&(Zn.type="line");var Hn=Zn.label||(Zn.label={});if(null==Hn.show&&(Hn.show=!1),"cross"===$t){var li=Un.get("label.show");if(Hn.show=null==li||li,!Sn){var Si=Zn.lineStyle=Un.get("crossStyle");Si&&be(Hn,Si.textStyle)}}return Ot.model.getModel("axisPointer",new Nr(Zn,Qt,rn))}(we,p,l,o,le,ae):_e).get("snap"),Fe=vc(we.model),at=ae||Le||"category"===we.type,pt=i.axesInfo[Fe]={key:Fe,axis:we,coordSys:d,axisPointerModel:_e,triggerTooltip:ae,involveSeries:at,snap:Le,useHandle:Bg(_e),seriesModels:[]};f[Fe]=pt,i.seriesInvolved|=at;var wt=function(Ot,Wt){for(var Qt=Wt.model,rn=Wt.dim,$t=0;$t<Ot.length;$t++){var Sn=Ot[$t]||{};if(Rg(Sn[rn+"AxisId"],Qt.id)||Rg(Sn[rn+"AxisIndex"],Qt.componentIndex)||Rg(Sn[rn+"AxisName"],Qt.name))return $t}}(u,we);if(null!=wt){var Rt=c[wt]||(c[wt]={axesInfo:{}});Rt.axesInfo[Fe]=pt,Rt.mapper=u[wt].mapper,pt.linkGroup=Rt}}}})}(n,e,t),n.seriesInvolved&&function(i,o){o.eachSeries(function(a){var s=a.coordinateSystem,l=a.get("tooltip.trigger",!0),u=a.get("tooltip.show",!0);s&&"none"!==l&&!1!==l&&"item"!==l&&!1!==u&&!1!==a.get("axisPointer.show",!0)&&au(i.coordSysAxesInfo[vc(s.model)],function(c){var d=c.axis;s.getAxis(d.dim)===d&&(c.seriesModels.push(a),null==c.seriesDataCount&&(c.seriesDataCount=0),c.seriesDataCount+=a.getData().count())})},this)}(n,e),n}(e,t)}),Lr({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(e,t,n){var ee,le,we,i=e.currTrigger,o=[e.x,e.y],a=e,s=e.dispatchAction||et(n.dispatchAction,n),l=t.getComponent("axisPointer").coordSysAxesInfo;if(l){rf(o)&&(o=Kw({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var u=rf(o),c=a.axesInfo,d=l.axesInfo,h="leave"===i||rf(o),f={},p={},v={list:[],map:{}},F={showPointer:Jw(sI,p),showTooltip:Jw(lI,v)};Ka(l.coordSysMap,function(ee,le){var ae=u||ee.containPoint(o);Ka(l.coordSysAxesInfo[le],function(we,_e){var Ce=we.axis,Le=function(at,pt){for(var wt=0;wt<(at||[]).length;wt++){var Rt=at[wt];if(pt.axis.dim===Rt.axisDim&&pt.axis.model.componentIndex===Rt.axisIndex)return Rt}}(c,we);if(!h&&ae&&(!c||Le)){var Fe=Le&&Le.value;null!=Fe||u||(Fe=Ce.pointToData(o)),null!=Fe&&eS(we,Fe,F,!1,f)}})});var P={};return Ka(d,function(ee,le){var ae=ee.linkGroup;ae&&!p[le]&&Ka(ae.axesInfo,function(we,_e){var Ce=p[_e];if(we!==ee&&Ce){var Le=Ce.value;ae.mapper&&(Le=ee.axis.scale.parse(ae.mapper(Le,tS(we),tS(ee)))),P[ee.key]=Le}})}),Ka(P,function(ee,le){eS(d[le],ee,F,!0,f)}),ee=p,le=d,we=f.axesInfo=[],Ka(le,function(_e,Ce){var Le=_e.axisPointerModel.option,Fe=ee[Ce];Fe?(_e.useHandle||(Le.status="show"),Le.value=Fe.value,Le.seriesDataIndices=(Fe.payloadBatch||[]).slice()):_e.useHandle||(Le.status="hide"),"show"===Le.status&&we.push({axisDim:_e.axis.dim,axisIndex:_e.axis.model.componentIndex,value:Le.value})}),function(ee,le,ae,we){if(rf(le)||!ee.list.length)return we({type:"hideTip"});var _e=((ee.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};we({type:"showTip",escapeConnect:!0,x:le[0],y:le[1],tooltipOption:ae.tooltipOption,position:ae.position,dataIndexInside:_e.dataIndexInside,dataIndex:_e.dataIndex,seriesIndex:_e.seriesIndex,dataByCoordSys:ee.list})}(v,o,e,s),function(ee,le,ae){var we=ae.getZr(),_e="axisPointerLastHighlights",Ce=Qw(we)[_e]||{},Le=Qw(we)[_e]={};Ka(ee,function(pt,wt){var Rt=pt.axisPointerModel.option;"show"===Rt.status&&Ka(Rt.seriesDataIndices,function(Ot){Le[Ot.seriesIndex+" | "+Ot.dataIndex]=Ot})});var Fe=[],at=[];ce(Ce,function(pt,wt){Le[wt]||at.push(pt)}),ce(Le,function(pt,wt){Ce[wt]||Fe.push(pt)}),at.length&&ae.dispatchAction({type:"downplay",escapeConnect:!0,batch:at}),Fe.length&&ae.dispatchAction({type:"highlight",escapeConnect:!0,batch:Fe})}(d,0,n),f}});var mS=["x","y"],fI=["width","height"],pI=Hc.extend({makeElOption:function(e,t,n,i,o){var a=n.axis,s=a.coordinateSystem,l=uv(s,1-of(a)),u=s.dataToPoint(t)[0],c=i.get("type");if(c&&"none"!==c){var d=av(i),h=gI[c](a,u,l);h.style=d,e.graphicKey=h.type,e.pointer=h}dS(t,e,nv(n),n,i,o)},getHandleTransform:function(e,t,n){var i=nv(t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:sv(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var o=n.axis,a=o.coordinateSystem,s=of(o),l=uv(a,s),u=e.position;u[s]+=t[s],u[s]=Math.min(l[1],u[s]),u[s]=Math.max(l[0],u[s]);var c=uv(a,1-s),d=(c[1]+c[0])/2,h=[d,d];return h[s]=u[s],{position:u,rotation:e.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}}}),gI={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:lv([t,n[0]],[t,n[1]],of(e))}},shadow:function(e,t,n){var i=e.getBandWidth();return{type:"Rect",shape:hS([t-i/2,n[0]],[i,n[1]-n[0]],of(e))}}};function of(e){return e.isHorizontal()?0:1}function uv(e,t){var n=e.getRect();return[n[mS[t]],n[mS[t]]+n[fI[t]]]}ha.registerAxisPointerClass("SingleAxisPointer",pI),Ao({type:"single"});var mI=co.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){mI.superApply(this,"init",arguments),this.legendVisualProvider=new yc(et(this.getData,this),et(this.getRawData,this))},fixData:function(e){var t=e.length,n={},i=Jf(e,function(d){return n.hasOwnProperty(d[0])||(n[d[0]]=-1),d[2]}),o=[];i.buckets.each(function(d,h){o.push({name:h,dataList:d})});for(var a=o.length,s=0;s<a;++s){for(var l=o[s].name,u=0;u<o[s].dataList.length;++u)n[c=o[s].dataList[u][0]]=s;for(var c in n)n.hasOwnProperty(c)&&n[c]!==s&&(n[c]=s,e[t]=[],e[t][0]=c,e[t][1]=0,e[t][2]=l,t++)}return e},getInitialData:function(e,t){for(var n=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),i=xe(e.data,function(h){return void 0!==h[2]}),o=this.fixData(i||[]),a=[],s=this.nameMap=bn(),l=0,u=0;u<o.length;++u)a.push(o[u][2]),s.get(o[u][2])||(s.set(o[u][2],l),l++);var c=Kl(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:dh(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),d=new Io(c,this);return d.initData(o),d},getLayerSeries:function(){for(var e=this.getData(),t=e.count(),n=[],i=0;i<t;++i)n[i]=i;var o=e.mapDimension("single"),a=Jf(n,function(l){return e.get("name",l)}),s=[];return a.buckets.each(function(l,u){l.sort(function(c,d){return e.get(o,c)-e.get(o,d)}),s.push({name:u,indices:l})}),s},getAxisTooltipData:function(e,t,n){ze(e)||(e=e?[e]:[]);for(var i,o=this.getData(),a=this.getLayerSeries(),s=[],l=a.length,u=0;u<l;++u){for(var c=Number.MAX_VALUE,d=-1,h=a[u].indices.length,f=0;f<h;++f){var p=o.get(e[0],a[u].indices[f]),v=Math.abs(p-t);v<=c&&(i=p,c=v,d=a[u].indices[f])}s.push(d)}return{dataIndices:s,nestestValue:i}},formatTooltip:function(e){var t=this.getData(),n=t.getName(e),i=t.get(t.mapDimension("value"),e);return!isNaN(i)&&null!=i||(i="-"),ro(n+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});function vS(e,t,n){if(e.count())for(var i,o=t.coordinateSystem,a=t.getLayerSeries(),s=e.mapDimension("single"),l=e.mapDimension("value"),u=Oe(a,function(P){return Oe(P.indices,function(ee){var le=o.dataToPoint(e.get(s,ee));return le[1]=e.get(l,ee),le})}),c=function(P){for(var ee=P.length,le=P[0].length,ae=[],we=[],_e=0,Ce={},Le=0;Le<le;++Le){for(var Fe=0,at=0;Fe<ee;++Fe)at+=P[Fe][Le][1];_e<at&&(_e=at),ae.push(at)}for(var pt=0;pt<le;++pt)we[pt]=(_e-ae[pt])/2;for(var wt=_e=0;wt<le;++wt){var Rt=ae[wt]+we[wt];_e<Rt&&(_e=Rt)}return Ce.y0=we,Ce.max=_e,Ce}(u),d=c.y0,h=n/c.max,f=a.length,p=a[0].indices.length,v=0;v<p;++v){e.setItemLayout(a[0].indices[v],{layerIndex:0,x:u[0][v][0],y0:i=d[v]*h,y:u[0][v][1]*h});for(var F=1;F<f;++F)e.setItemLayout(a[F].indices[v],{layerIndex:F,x:u[F][v][0],y0:i+=u[F-1][v][1]*h,y:u[F][v][1]*h})}}na({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,n){var i=e.getData(),o=this.group,a=e.getLayerSeries(),s=i.getLayout("layoutInfo");function c(p){return p.name}o.attr("position",[0,s.rect.y+s.boundaryGap[0]]);var d=new rs(this._layersSeries||[],a,c,c),h={};function f(p,v,F){var Un,Zn,li,P=this._layers;if("remove"!==p){for(var ee,le,ae,we=[],_e=[],Ce=a[v].indices,Le=0;Le<Ce.length;Le++){var Fe=i.getItemLayout(Ce[Le]),at=Fe.x,pt=Fe.y0,wt=Fe.y;we.push([at,pt]),_e.push([at,pt+wt]),ee=i.getItemVisual(Ce[Le],"color")}var Rt=i.getItemLayout(Ce[0]),Ot=i.getItemModel(Ce[Le-1]),Wt=Ot.getModel("label"),Qt=Wt.get("margin");if("add"===p){var rn=h[v]=new E;le=new Hx({shape:{points:we,stackedOnPoints:_e,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),ae=new Cr({style:{x:Rt.x-Qt,y:Rt.y0+Rt.y/2}}),rn.add(le),rn.add(ae),o.add(rn),le.setClipPath((Un=le.getBoundingRect(),Zn=e,Fo(li=new Rr({shape:{x:Un.x-10,y:Un.y-10,width:0,height:Un.height+20}}),{shape:{width:Un.width+20,height:Un.height+20}},Zn,function(){le.removeClipPath()}),li))}else le=(rn=P[F]).childAt(0),ae=rn.childAt(1),o.add(rn),h[v]=rn,xr(le,{shape:{points:we,stackedOnPoints:_e}},e),xr(ae,{style:{x:Rt.x-Qt,y:Rt.y0+Rt.y/2}},e);var $t=Ot.getModel("emphasis.itemStyle"),Sn=Ot.getModel("itemStyle");uo(ae.style,Wt,{text:Wt.get("show")?e.getFormattedLabel(Ce[Le-1],"normal")||i.getName(Ce[Le-1]):null,textVerticalAlign:"middle"}),le.setStyle(ue({fill:ee},Sn.getItemStyle(["color"]))),no(le,$t.getItemStyle())}else o.remove(P[v])}d.add(et(f,this,"add")).update(et(f,this,"update")).remove(et(f,this,"remove")).execute(),this._layersSeries=a,this._layers=h},dispose:function(){}}),ho(function(e,t){e.eachSeriesByType("themeRiver",function(n){var i=n.getData(),o=n.coordinateSystem,a={},s=o.getRect();a.rect=s;var l=n.get("boundaryGap"),u=o.getAxis();a.boundaryGap=l,"horizontal"===u.orient?(l[0]=Mi(l[0],s.height),l[1]=Mi(l[1],s.height),vS(i,n,s.height-l[0]-l[1])):(l[0]=Mi(l[0],s.width),l[1]=Mi(l[1],s.width),vS(i,n,s.width-l[0]-l[1])),i.setLayout("layoutInfo",a)})}),eo(function(e){e.eachSeriesByType("themeRiver",function(t){var n=t.getData(),i=t.getRawData(),o=t.get("color"),a=bn();n.each(function(s){a.set(n.getRawIndex(s),s)}),i.each(function(s){var l=i.getName(s),u=o[(t.nameMap.get(l)-1)%o.length];i.setItemVisual(s,"color",u);var c=a.get(s);null!=c&&n.setItemVisual(c,"color",u)})})}),ua(xc("themeRiver")),co.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,t){var n={name:e.name,children:e.data};!function a(s){var l=0;ce(s.children,function(c){a(c);var d=c.value;ze(d)&&(d=d[0]),l+=d});var u=s.value;ze(u)&&(u=u[0]),null!=u&&!isNaN(u)||(u=l),u<0&&(u=0),ze(s.value)?s.value[0]=u:s.value=u}(n);var i=Oe(e.levels||[],function(a){return new Nr(a,this,t)},this),o=gl.createTree(n,this,function(a){a.wrapMethod("getItemModel",function(s,l){var u=o.getNodeByDataIndex(l),c=i[u.depth];return c&&(s.parentModel=c),s})});return o.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=co.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=am(n,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var xI=2,bI=4;function af(e,t,n){E.call(this);var i=new Aa({z2:xI});i.seriesIndex=t.seriesIndex;var o=new Cr({z2:bI,silent:e.getModel("label").get("silent")});function a(){o.ignore=o.hoverIgnore}function s(){o.ignore=o.normalIgnore}this.add(i),this.add(o),this.updateData(!0,e,"normal",t,n),this.on("emphasis",a).on("normal",s).on("mouseover",a).on("mouseout",s)}var kl=af.prototype;kl.updateData=function(e,t,n,i,o){(this.node=t).piece=this,i=i||this._seriesModel,o=o||this._ecModel;var a=this.childAt(0);a.dataIndex=t.dataIndex;var s=t.getModel(),l=t.getLayout(),u=ue({},l);u.label=null;var v,P,c=function(v,F,P){var ee=v.getVisual("color"),le=v.getVisual("visualMeta");le&&0!==le.length||(ee=null);var ae=v.getModel("itemStyle").get("color");if(ae)return ae;if(ee)return ee;if(0===v.depth)return P.option.color[0];var we=P.option.color.length;return P.option.color[function(_e){for(var Ce=_e;1<Ce.depth;)Ce=Ce.parentNode;return Ge(_e.getAncestors()[0].children,Ce)}(v)%we]}(t,0,o);v=t,P=c,i.getData().setItemVisual(v.dataIndex,"color",P);var d,h=s.getModel("itemStyle").getItemStyle();d=be({lineJoin:"bevel",fill:(d="normal"===n?h:oe(s.getModel(n+".itemStyle").getItemStyle(),h)).fill||c},d),e?(a.setShape(u),a.shape.r=l.r0,xr(a,{shape:{r:l.r}},i,t.dataIndex),a.useStyle(d)):"object"==typeof d.fill&&d.fill.type||"object"==typeof a.style.fill&&a.style.fill.type?(xr(a,{shape:u},i),a.useStyle(d)):xr(a,{shape:u,style:d},i),this._updateLabel(i,c,n);var f=s.getShallow("cursor");if(f&&a.attr("cursor",f),e){var p=i.getShallow("highlightPolicy");this._initEvents(a,t,i,p)}this._seriesModel=i||this._seriesModel,this._ecModel=o||this._ecModel,no(this)},kl.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(t.node===n?n.piece.updateData(!1,n,"emphasis"):function(i,o,a){return"none"!==a&&("self"===a?i===o:"ancestor"===a?i===o||i.isAncestorOf(o):i===o||i.isDescendantOf(o))}(n,t.node,e)?n.piece.childAt(0).trigger("highlight"):"none"!==e&&n.piece.childAt(0).trigger("downplay"))})},kl.onNormal=function(){this.node.hostTree.root.eachNode(function(e){e.piece&&e.piece.updateData(!1,e,"normal")})},kl.onHighlight=function(){this.updateData(!1,this.node,"highlight")},kl.onDownplay=function(){this.updateData(!1,this.node,"downplay")},kl._updateLabel=function(e,t,n){var i=this.node.getModel(),o=i.getModel("label"),a="normal"===n||"emphasis"===n?o:i.getModel(n+".label"),s=i.getModel("emphasis.label"),l=a.get("formatter")?n:"normal",u=en(e.getFormattedLabel(this.node.dataIndex,l,null,null,"label"),this.node.name);!1===Fe("show")&&(u="");var c=this.node.getLayout(),d=a.get("minAngle");null==d&&(d=o.get("minAngle")),null!=(d=d/180*Math.PI)&&Math.abs(c.endAngle-c.startAngle)<d&&(u="");var f=this.childAt(1);sa(f.style,f.hoverStyle||{},o,s,{defaultText:a.getShallow("show")?u:null,autoColor:t,useInsideStyle:!0});var p,v=(c.startAngle+c.endAngle)/2,F=Math.cos(v),P=Math.sin(v),ee=Fe("position"),le=Fe("distance")||0,ae=Fe("align");"outside"===ee?(p=c.r+le,ae=v>Math.PI/2?"right":"left"):ae&&"center"!==ae?"left"===ae?(p=c.r0+le,v>Math.PI/2&&(ae="right")):"right"===ae&&(p=c.r-le,v>Math.PI/2&&(ae="left")):(p=(c.r+c.r0)/2,ae="center"),f.attr("style",{text:u,textAlign:ae,textVerticalAlign:Fe("verticalAlign")||"middle",opacity:Fe("opacity")}),f.attr("position",[p*F+c.cx,p*P+c.cy]);var Ce=Fe("rotate"),Le=0;function Fe(at){return a.get(at)??o.get(at)}"radial"===Ce?(Le=-v)<-Math.PI/2&&(Le+=Math.PI):"tangential"===Ce?(Le=Math.PI/2-v)>Math.PI/2?Le-=Math.PI:Le<-Math.PI/2&&(Le+=Math.PI):"number"==typeof Ce&&(Le=Ce*Math.PI/180),f.attr("rotation",Le)},kl._initEvents=function(e,t,n,i){function o(){s.onEmphasis(i)}function a(){s.onNormal()}e.off("mouseover").off("mouseout").off("emphasis").off("normal");var s=this;n.isAnimationEnabled()&&e.on("mouseover",o).on("mouseout",a).on("emphasis",o).on("normal",a).on("downplay",function(){s.onDownplay()}).on("highlight",function(){s.onHighlight()})},ye(af,E),No.extend({type:"sunburst",init:function(){},render:function(e,t,n,i){var o=this;this.seriesModel=e,this.api=n,this.ecModel=t;var a=e.getData(),s=a.tree.root,l=e.getViewRoot(),u=this.group,c=e.get("renderLabelForZeroData"),d=[];if(l.eachNode(function(v){d.push(v)}),function(v,F){function P(le){return le.getId()}function ee(le,ae){!function(we,_e){if(c||!we||we.getValue()||(we=null),we!==s&&_e!==s)if(_e&&_e.piece)we?(_e.piece.updateData(!1,we,"normal",e,t),a.setItemGraphicEl(we.dataIndex,_e.piece)):(Le=_e)&&Le.piece&&(u.remove(Le.piece),Le.piece=null);else if(we){var Ce=new af(we,e,t);u.add(Ce),a.setItemGraphicEl(we.dataIndex,Ce)}var Le}(null==le?null:v[le],null==ae?null:F[ae])}0===v.length&&0===F.length||new rs(F,v,P,P).add(ee).update(ee).remove(xt(ee,null)).execute()}(d,this._oldChildren||[]),function(v,F){if(0<F.depth){o.virtualPiece?o.virtualPiece.updateData(!1,v,"normal",e,t):(o.virtualPiece=new af(v,e,t),u.add(o.virtualPiece)),F.piece._onclickEvent&&F.piece.off("click",F.piece._onclickEvent);var P=function(ee){o._rootToNode(F.parentNode)};F.piece._onclickEvent=P,o.virtualPiece.on("click",P)}else o.virtualPiece&&(u.remove(o.virtualPiece),o.virtualPiece=null)}(s,l),i&&i.highlight&&i.highlight.piece){var f=e.getShallow("highlightPolicy");i.highlight.piece.onEmphasis(f)}else if(i&&i.unhighlight){var p=this.virtualPiece;!p&&s.children.length&&(p=s.children[0].piece),p&&p.onNormal()}this._initEvents(),this._oldChildren=d},dispose:function(){},_initEvents:function(){function e(n){var i=!1;t.seriesModel.getViewRoot().eachNode(function(o){if(!i&&o.piece&&o.piece.childAt(0)===n.target){var a=o.getModel().get("nodeClick");if("rootToNode"===a)t._rootToNode(o);else if("link"===a){var s=o.getModel(),l=s.get("link");l&&Uu(l,s.get("target",!0)||"_blank")}i=!0}})}var t=this;this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",e),this.group._onclickEvent=e},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,o=e[1]-n.cy,a=Math.sqrt(i*i+o*o);return a<=n.r&&a>=n.r0}}});var xS="sunburstRootToNode";Lr({type:xS,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){var o=kc(e,[xS],n);if(o){var a=n.getViewRoot();a&&(e.direction=om(a,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}})});var bS="sunburstHighlight";Lr({type:bS,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){var o=kc(e,[bS],n);o&&(e.highlight=o.node)})}),Lr({type:"sunburstUnhighlight",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){e.unhighlight=!0})});var _S=Math.PI/180;function wI(e,t){return t=t||[0,0],Oe(["x","y"],function(n,i){var o=this.getAxis(n),a=t[i],s=e[i]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-s)-o.dataToCoord(a+s))},this)}function SI(e,t){return t=t||[0,0],Oe([0,1],function(n){var i=t[n],o=e[n]/2,a=[],s=[];return a[n]=i-o,s[n]=i+o,a[1-n]=s[1-n]=t[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(s)[n])},this)}function CI(e,t){var n=this.getAxis(),i=t instanceof Array?t[0]:t,o=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-o)-n.dataToCoord(i+o))}function MI(e,t){return Oe(["Radius","Angle"],function(n,i){var o=this["get"+n+"Axis"](),a=t[i],s=e[i]/2,l="dataTo"+n,u="category"===o.type?o.getBandWidth():Math.abs(o[l](a-s)-o[l](a+s));return"Angle"===n&&(u=u*Math.PI/180),u},this)}eo(xt(Th,"sunburst")),ho(xt(function(e,t,n,i){t.eachSeriesByType(e,function(o){var a=o.get("center"),s=o.get("radius");ze(s)||(s=[0,s]),ze(a)||(a=[a,a]);var l=n.getWidth(),u=n.getHeight(),c=Math.min(l,u),d=Mi(a[0],l),h=Mi(a[1],u),f=Mi(s[0],c/2),p=Mi(s[1],c/2),v=-o.get("startAngle")*_S,F=o.get("minAngle")*_S,P=o.getData().tree.root,ee=o.getViewRoot(),le=ee.depth,ae=o.get("sort");null!=ae&&function $t(Sn,Un){var Zn=Sn.children||[];Sn.children=function _I(e,t){if("function"==typeof t)return e.sort(t);var n="asc"===t;return e.sort(function(i,o){var a=(i.getValue()-o.getValue())*(n?1:-1);return 0==a?(i.dataIndex-o.dataIndex)*(n?-1:1):a})}(Zn,Un),Zn.length&&ce(Sn.children,function(Hn){$t(Hn,Un)})}(ee,ae);var we=0;ce(ee.children,function($t){isNaN($t.getValue())||we++});var _e=ee.getValue(),Ce=Math.PI/(_e||we)*2,Le=0<ee.depth,at=(p-f)/(ee.height-(Le?-1:1)||1),pt=o.get("clockwise"),wt=o.get("stillShowZeroSum"),Rt=pt?1:-1,Ot=function($t,Sn){if($t){var Un=Sn;if($t!==P){var Zn=$t.getValue(),Hn=0===_e&&wt?Ce:Zn*Ce;Hn<F&&(Hn=F),Un=Sn+Rt*Hn;var li=$t.depth-le-(Le?-1:1),Si=f+at*li,Xi=f+at*(1+li),ri=$t.getModel();null!=ri.get("r0")&&(Si=Mi(ri.get("r0"),c/2)),null!=ri.get("r")&&(Xi=Mi(ri.get("r"),c/2)),$t.setLayout({angle:Hn,startAngle:Sn,endAngle:Un,clockwise:pt,cx:d,cy:h,r0:Si,r:Xi})}if($t.children&&$t.children.length){var Gi=0;ce($t.children,function(Zi){Gi+=Ot(Zi,Sn+Gi)})}return Un-Sn}};if(Le){var rn=2*Math.PI;P.setLayout({angle:rn,startAngle:v,endAngle:v+rn,clockwise:pt,cx:d,cy:h,r0:f,r:f+at})}Ot(ee,v)})},"sunburst")),ua(xt(xc,"sunburst"));var wS=cy,kI=["itemStyle"],TI=["emphasis","itemStyle"],AI=["label"],II=["emphasis","label"],DI="e\0\0",EI={cartesian2d:function(e){var t=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:et(wI,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(n){return e.dataToPoint(n)},size:et(SI,e)}}},singleAxis:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:et(CI,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:et(function(o){var a=t.dataToRadius(o[0]),s=n.dataToAngle(o[1]),l=e.coordToPoint([a,s]);return l.push(a,s*Math.PI/180),l}),size:et(MI,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(i,o){return e.dataToPoint(i,o)}}}}};function SS(e,t,n,i,o){null==n[e]||o||(t[e]=n[e],n[e]=i[e])}function CS(e,t,n,i){var o=e.get("renderItem"),a=e.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms():EI[a.type](a));var l,u,c,d,h,P,ee,f=be({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(P,ee){return null==ee&&(ee=l),t.get(t.getDimension(P||0),ee)},style:function(P,ee){null==ee&&(ee=l),F(ee);var le=u.getModel(kI).getItemStyle();null!=h&&(le.fill=h);var ae=t.getItemVisual(ee,"opacity");null!=ae&&(le.opacity=ae);var we=P?TS(P,c):c;return uo(le,we,null,{autoColor:h,isRectText:!0}),le.text=we.getShallow("show")?Ht(e.getFormattedLabel(ee,"normal"),xh(t,ee)):null,P&&AS(le,P),le},styleEmphasis:function(P,ee){null==ee&&(ee=l),F(ee);var le=u.getModel(TI).getItemStyle(),ae=P?TS(P,d):d;return uo(le,ae,null,{isRectText:!0},!0),le.text=ae.getShallow("show")?Mn(e.getFormattedLabel(ee,"emphasis"),e.getFormattedLabel(ee,"normal"),xh(t,ee)):null,P&&AS(le,P),le},visual:function(P,ee){return null==ee&&(ee=l),t.getItemVisual(ee,P)},barLayout:function(P){if(a.getBaseAxis)return function(ee){var le=[],ae=ee.axis;if("category"===ae.type){for(var we=ae.getBandWidth(),_e=0;_e<ee.count;_e++)le.push(be({bandWidth:we,axisKey:"axis0",stackId:gg+_e},ee));var Ce=hx(le),Le=[];for(_e=0;_e<ee.count;_e++){var Fe=Ce.axis0[gg+_e];Fe.offsetCenter=Fe.offset+Fe.width/2,Le.push(Fe)}return Le}}(be({axis:a.getBaseAxis()},P))},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(P){return pp(P,n)}},s.api||{}),p={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:(P=e.getData(),ee={},ce(P.dimensions,function(le,ae){var we=P.getDimensionInfo(le);if(!we.isExtraCoord){var _e=we.coordDim;(ee[_e]=ee[_e]||[])[we.coordDimIndex]=ae}}),ee)},v=!0;return function(P,ee){return l=P,v=!0,o&&o(be({dataIndexInside:P,dataIndex:t.getRawIndex(P),actionType:ee?ee.type:null},p),f)};function F(P){null==P&&(P=l),v&&(u=t.getItemModel(P),c=u.getModel(AI),d=u.getModel(II),h=t.getItemVisual(P,"color"),v=!1)}}function cv(e,t,n,i,o,a){return(e=dv(e,t,n,i,o,a,!0))&&a.setItemGraphicEl(t,e),e}function dv(e,t,n,i,o,a,s){var f,l=!n,u=(n=n||{}).type,c=n.shape,d=n.style;if(e&&(l||null!=u&&u!==e.__customGraphicType||"path"===u&&(f=c)&&(f.hasOwnProperty("pathData")||f.hasOwnProperty("d"))&&IS(c)!==e.__customPathData||"image"===u&&DS(d,"image")&&d.image!==e.__customImagePath||"text"===u&&DS(c,"text")&&d.text!==e.__customText)&&(o.remove(e),e=null),!l){var h=!e;return function(f,p,v,F,P,ee,le){var ae={},we=v.style||{};if(v.shape&&(ae.shape=U(v.shape)),v.position&&(ae.position=v.position.slice()),v.scale&&(ae.scale=v.scale.slice()),v.origin&&(ae.origin=v.origin.slice()),v.rotation&&(ae.rotation=v.rotation),"image"===f.type&&v.style){var _e=ae.style={};ce(["x","y","width","height"],function(Fe){SS(Fe,_e,we,f.style,ee)})}if("text"===f.type&&v.style&&(_e=ae.style={},ce(["x","y"],function(Fe){SS(Fe,_e,we,f.style,ee)}),!we.hasOwnProperty("textFill")&&we.fill&&(we.textFill=we.fill),!we.hasOwnProperty("textStroke")&&we.stroke&&(we.textStroke=we.stroke)),"group"!==f.type&&(f.useStyle(we),ee)){f.style.opacity=0;var Ce=we.opacity;null==Ce&&(Ce=1),Fo(f,{style:{opacity:Ce}},F,p)}ee?f.attr(ae):xr(f,ae,F,p),v.hasOwnProperty("z2")&&f.attr("z2",v.z2||0),v.hasOwnProperty("silent")&&f.attr("silent",v.silent),v.hasOwnProperty("invisible")&&f.attr("invisible",v.invisible),v.hasOwnProperty("ignore")&&f.attr("ignore",v.ignore),v.hasOwnProperty("info")&&f.attr("info",v.info);var Le=v.styleEmphasis;Fu(f,Le),le&&el(f,!1!==Le)}(e=e||function(f){var p,v=f.type;if("path"===v){var F=f.shape,P=null!=F.width&&null!=F.height?{x:F.x||0,y:F.y||0,width:F.width,height:F.height}:null,ee=IS(F);(p=Ed(ee,null,P,F.layout||"center")).__customPathData=ee}else if("image"===v)(p=new Tr({})).__customImagePath=f.style.image;else if("text"===v)(p=new Cr({})).__customText=f.style.text;else if("group"===v)p=new E;else{if("compoundPath"===v)throw new Error('"compoundPath" is not supported yet.');p=new(cp(v))}return p.__customGraphicType=v,p.name=f.name,p}(n),t,n,i,0,h,s),"group"===u&&function(f,p,v,F,P){var Le,ee=v.children,le=ee?ee.length:0,ae=v.$mergeChildren,we="byName"===ae||v.diffChildrenByName,_e=!1===ae;if(le||we||_e){if(we)return void new rs((Le={oldChildren:f.children()||[],newChildren:ee||[],dataIndex:p,animatableModel:F,group:f,data:P}).oldChildren,Le.newChildren,MS,MS,Le).add(kS).update(kS).remove(NI).execute();_e&&f.removeAll();for(var Ce=0;Ce<le;Ce++)ee[Ce]&&dv(f.childAt(Ce),p,ee[Ce],F,f,P)}}(e,t,n,i,a),o.add(e),e}}function MS(e,t){return(e&&e.name)??DI+t}function kS(e,t){var n=this.context;dv(null!=t?n.oldChildren[t]:null,n.dataIndex,null!=e?n.newChildren[e]:null,n.animatableModel,n.group,n.data)}function TS(e,t){var n=new Nr({},t);return ce(wS,function(i,o){e.hasOwnProperty(i)&&(n.option[o]=e[i])}),n}function AS(e,t){for(var n in t)!t.hasOwnProperty(n)&&wS.hasOwnProperty(n)||(e[n]=t[n])}function NI(e){var t=this.context,n=t.oldChildren[e];n&&t.group.remove(n)}function IS(e){return e&&(e.pathData||e.d)}function DS(e,t){return e&&e.hasOwnProperty(t)}function ES(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function NS(e,t){return t.dim+e.model.componentIndex}function sf(e,t){wo.call(this,"radius",e,t),this.type="category"}co.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(e,t){return as(this.getSource(),this)},getDataParams:function(e,t,n){var i=co.prototype.getDataParams.apply(this,arguments);return n&&(i.info=n.info),i}}),No.extend({type:"custom",_data:null,render:function(e,t,n,i){var o=this._data,a=e.getData(),s=this.group,l=CS(e,a,t,n);a.diff(o).add(function(c){cv(null,c,l(c,i),e,s,a)}).update(function(c,d){cv(o.getItemGraphicEl(d),c,l(c,i),e,s,a)}).remove(function(c){var d=o.getItemGraphicEl(c);d&&s.remove(d)}).execute();var u=e.get("clip",!0)?_h(e.coordinateSystem,!1,e):null;u?s.setClipPath(u):s.removeClipPath(),this._data=a},incrementalPrepareRender:function(e,t,n){this.group.removeAll(),this._data=null},incrementalRender:function(e,t,n,i,o){var a=t.getData(),s=CS(t,a,n,i);function l(c){c.isGroup||(c.incremental=!0,c.useHoverLayer=!0)}for(var u=e.start;u<e.end;u++)cv(null,u,s(u,o),t,this.group,a).traverse(l)},dispose:fn,filterForExposedEvent:function(e,t,n,i){var o=t.element;if(null==o||n.name===o)return!0;for(;(n=n.parent)&&n!==this.group;)if(n.name===o)return!0;return!1}}),sf.prototype={constructor:sf,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToRadius:wo.prototype.dataToCoord,radiusToData:wo.prototype.coordToData},ye(sf,wo);var LI=$o();function lf(e,t){wo.call(this,"angle",e,t=t||[0,360]),this.type="category"}function uf(e){this.name=e||"",this.cx=0,this.cy=0,this._radiusAxis=new sf,this._angleAxis=new lf,this._radiusAxis.polar=this._angleAxis.polar=this}lf.prototype={constructor:lf,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToAngle:wo.prototype.dataToCoord,angleToData:wo.prototype.coordToData,calculateCategoryInterval:function(){var e=this.getLabelModel(),t=this.scale,n=t.getExtent(),i=t.count();if(n[1]-n[0]<1)return 0;var o=n[0],a=this.dataToCoord(o+1)-this.dataToCoord(o),s=Math.abs(a),l=yi(o,e.getFont(),"center","top"),u=Math.max(l.height,7)/s;isNaN(u)&&(u=1/0);var c=Math.max(0,Math.floor(u)),d=LI(this.model),h=d.lastAutoInterval,f=d.lastTickCount;return null!=h&&null!=f&&Math.abs(h-c)<=1&&Math.abs(f-i)<=1&&c<h?c=h:(d.lastTickCount=i,d.lastAutoInterval=c),c}},ye(lf,wo),uf.prototype={type:"polar",axisPointerEnabled:!0,constructor:uf,dimensions:["radius","angle"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),o=i.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);i.inverse?a=s-360:s=a+360;var l=Math.sqrt(t*t+n*n);t/=l,n/=l;for(var u=Math.atan2(-n,t)/Math.PI*180,c=u<a?1:-1;u<a||s<u;)u+=360*c;return[l,u]},coordToPoint:function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]},getArea:function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var n=e.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:e.inverse,contain:function(o,a){var s=o-this.cx,l=a-this.cy,u=s*s+l*l,c=this.r,d=this.r0;return u<=c*c&&d*d<=u}}}};var hv=Or.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});function LS(e,t){return t.type||(t.data?"category":"value")}function RI(e,t){var n=this,i=n.getAngleAxis(),o=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),e.eachSeries(function(l){if(l.coordinateSystem===n){var u=l.getData();ce(u.mapDimension("radius",!0),function(c){o.scale.unionExtentFromData(u,uc(u,c))}),ce(u.mapDimension("angle",!0),function(c){i.scale.unionExtentFromData(u,uc(u,c))})}}),Ds(i.scale,i.model),Ds(o.scale,o.model),"category"===i.type&&!i.onBand){var a=i.getExtent(),s=360/i.scale.count();i.inverse?a[1]+=s:a[1]-=s,i.setExtent(a[0],a[1])}}function PS(e,t){if(e.type=t.get("type"),e.scale=eu(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse^=t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}(t.axis=e).model=t}oe(hv.prototype,cl),iu("angle",hv,LS,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),iu("radius",hv,LS,{splitNumber:5}),ca({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t;return this.ecModel.eachComponent(e,function(n){n.getCoordSysModel()===this&&(t=n)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}}),Ho.register("polar",{dimensions:uf.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("polar",function(i,o){var a=new uf(o);a.update=RI;var s=a.getRadiusAxis(),l=a.getAngleAxis(),u=i.findAxisModel("radiusAxis"),c=i.findAxisModel("angleAxis");PS(s,u),PS(l,c),function(d,h,f){var p=h.get("center"),v=f.getWidth(),F=f.getHeight();d.cx=Mi(p[0],v),d.cy=Mi(p[1],F);var P=d.getRadiusAxis(),ee=Math.min(v,F)/2,le=h.get("radius");null==le?le=[0,"100%"]:ze(le)||(le=[0,le]),le=[Mi(le[0],ee),Mi(le[1],ee)],P.inverse?P.setExtent(le[1],le[0]):P.setExtent(le[0],le[1])}(a,i,t),n.push(a),(i.coordinateSystem=a).model=i}),e.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var o=e.queryComponents({mainType:"polar",index:i.get("polarIndex"),id:i.get("polarId")})[0];i.coordinateSystem=o.coordinateSystem}}),n}});var OI=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function cf(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]),o=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:o[0],y2:o[1]}}function df(e){return e.getRadiusAxis().inverse?0:1}function RS(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}ha.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,o=i.getRadiusAxis().getExtent(),a=n.getTicksCoords(),s=n.getMinorTicksCoords(),l=Oe(n.getViewLabels(),function(u){return(u=U(u)).coord=n.dataToCoord(u.tickValue),u});RS(l),RS(a),ce(OI,function(u){!e.get(u+".show")||n.scale.isBlank()&&"axisLine"!==u||this["_"+u](e,i,a,s,o,l)},this)}},_axisLine:function(e,t,n,i,o){var a,s=e.getModel("axisLine.lineStyle"),l=df(t),u=l?0:1;(a=0===o[u]?new Fa({shape:{cx:t.cx,cy:t.cy,r:o[l]},style:s.getLineStyle(),z2:1,silent:!0}):new Md({shape:{cx:t.cx,cy:t.cy,r:o[l],r0:o[u]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,this.group.add(a)},_axisTick:function(e,t,n,i,o){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[df(t)],u=Oe(n,function(c){return new Ro({shape:cf(t,[l,l+s],c.coord)})});this.group.add(ba(u,{style:be(a.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_minorTick:function(e,t,n,i,o){if(i.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[df(t)],c=[],d=0;d<i.length;d++)for(var h=0;h<i[d].length;h++)c.push(new Ro({shape:cf(t,[u,u+l],i[d][h].coord)}));this.group.add(ba(c,{style:be(s.getModel("lineStyle").getLineStyle(),be(a.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(e,t,n,i,o,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");ce(a,function(d,h){var f=l,p=d.tickValue,v=o[df(t)],F=t.coordToPoint([v+u,d.coord]),P=t.cx,ee=t.cy,le=Math.abs(F[0]-P)/v<.3?"center":F[0]>P?"left":"right",ae=Math.abs(F[1]-ee)/v<.3?"middle":F[1]>ee?"top":"bottom";s&&s[p]&&s[p].textStyle&&(f=new Nr(s[p].textStyle,l,l.ecModel));var we=new Cr({silent:ia.isLabelSilent(e)});this.group.add(we),uo(we.style,f,{x:F[0],y:F[1],textFill:f.getTextColor()||e.get("axisLine.lineStyle.color"),text:d.formattedLabel,textAlign:le,textVerticalAlign:ae}),c&&(we.eventData=ia.makeAxisEventDataBase(e),we.eventData.targetType="axisLabel",we.eventData.value=d.rawLabel)},this)},_splitLine:function(e,t,n,i,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<n.length;c++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new Ro({shape:cf(t,o,n[c].coord)}))}for(c=0;c<u.length;c++)this.group.add(ba(u[c],{style:be({stroke:s[c%s.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},_minorSplitLine:function(e,t,n,i,o){if(i.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<i.length;l++)for(var u=0;u<i[l].length;u++)s.push(new Ro({shape:cf(t,o,i[l][u].coord)}));this.group.add(ba(s,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},_splitArea:function(e,t,n,i,o){if(n.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=Math.PI/180,d=-n[0].coord*c,h=Math.min(o[0],o[1]),f=Math.max(o[0],o[1]),p=e.get("clockwise"),v=1;v<n.length;v++){var F=l++%s.length;u[F]=u[F]||[],u[F].push(new Aa({shape:{cx:t.cx,cy:t.cy,r0:h,r:f,startAngle:d,endAngle:-n[v].coord*c,clockwise:p},silent:!0})),d=-n[v].coord*c}for(v=0;v<u.length;v++)this.group.add(ba(u[v],{style:be({fill:s[v%s.length]},a.getAreaStyle()),silent:!0}))}}});var BI=["axisLine","axisTickLabel","axisName"],zI=["splitLine","splitArea","minorSplitLine"];ha.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,o=i.getAngleAxis(),a=n.getTicksCoords(),s=n.getMinorTicksCoords(),l=o.getExtent()[0],u=n.getExtent(),c={position:[(h=i).cx,h.cy],rotation:l/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},d=new ia(e,c);ce(BI,d.add,d),this.group.add(d.getGroup()),ce(zI,function(h){e.get(h+".show")&&!n.scale.isBlank()&&this["_"+h](e,i,l,u,a,s)},this)}var h},_splitLine:function(e,t,n,i,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<o.length;c++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new Fa({shape:{cx:t.cx,cy:t.cy,r:o[c].coord}}))}for(c=0;c<u.length;c++)this.group.add(ba(u[c],{style:be({stroke:s[c%s.length],fill:null},a.getLineStyle()),silent:!0}))},_minorSplitLine:function(e,t,n,i,o,a){if(a.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var c=0;c<a[u].length;c++)l.push(new Fa({shape:{cx:t.cx,cy:t.cy,r:a[u][c].coord}}));this.group.add(ba(l,{style:be({fill:null},s.getLineStyle()),silent:!0}))}},_splitArea:function(e,t,n,i,o){if(o.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=o[0].coord,d=1;d<o.length;d++){var h=l++%s.length;u[h]=u[h]||[],u[h].push(new Aa({shape:{cx:t.cx,cy:t.cy,r0:c,r:o[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=o[d].coord}for(d=0;d<u.length;d++)this.group.add(ba(u[d],{style:be({fill:s[d%s.length]},a.getAreaStyle()),silent:!0}))}}});var FI=Hc.extend({makeElOption:function(e,t,n,i,o){var a=n.axis;"angle"===a.dim&&(this.animationThreshold=Math.PI/18);var s,l=a.polar,u=l.getOtherAxis(a).getExtent();s=a["dataTo"+Vd(a.dim)](t);var c=i.get("type");if(c&&"none"!==c){var d=av(i),h=VI[c](a,l,s,u,d);h.style=d,e.graphicKey=h.type,e.pointer=h}var f=i.get("label.margin");uS(e,n,i,o,function(p,v,F,P,ee){var le=v.axis,ae=le.dataToCoord(p),we=P.getAngleAxis().getExtent()[0];we=we/180*Math.PI;var _e,Ce,Le,Fe=P.getRadiusAxis().getExtent();if("radius"===le.dim){var at=Yi();Ee(at,at,we),De(at,at,[P.cx,P.cy]),_e=Wa([ae,-ee],at);var pt=v.getModel("axisLabel").get("rotate")||0,wt=ia.innerTextLayout(we,pt*Math.PI/180,-1);Ce=wt.textAlign,Le=wt.textVerticalAlign}else{var Rt=Fe[1];_e=P.coordToPoint([Rt+ee,ae]);var Ot=P.cx,Wt=P.cy;Ce=Math.abs(_e[0]-Ot)/Rt<.3?"center":_e[0]>Ot?"left":"right",Le=Math.abs(_e[1]-Wt)/Rt<.3?"middle":_e[1]>Wt?"top":"bottom"}return{position:_e,align:Ce,verticalAlign:Le}}(t,n,0,l,f))}}),VI={line:function(e,t,n,i,o){return"angle"===e.dim?{type:"Line",shape:lv(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i,o){var a=Math.max(1,e.getBandWidth()),s=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:fS(t.cx,t.cy,i[0],i[1],(-n-a/2)*s,(a/2-n)*s)}:{type:"Sector",shape:fS(t.cx,t.cy,n-a/2,n+a/2,0,2*Math.PI)}}};function fv(e,t){t.update="updateView",Lr(t,function(n,i){var o={};return i.eachComponent({mainType:"geo",query:n},function(a){a[e](n.name),ce(a.coordinateSystem.regions,function(s){o[s.name]=a.isSelected(s.name)||!1})}),{selected:o,name:n.name}})}function cs(e,t,n){this._model=e}function OS(e,t,n,i){var o=n.calendarModel,a=n.seriesModel,s=o?o.coordinateSystem:a?a.coordinateSystem:null;return s===this?s[e](i):null}ha.registerAxisPointerClass("PolarAxisPointer",FI),ho(xt(function(e,t,n){var i={},o=function(a){var s={};ce(a,function(u,c){var d=u.getData(),h=u.coordinateSystem,f=h.getBaseAxis(),p=NS(h,f),v=f.getExtent(),F="category"===f.type?f.getBandWidth():Math.abs(v[1]-v[0])/d.count(),P=s[p]||{bandWidth:F,remainedWidth:F,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},ee=P.stacks;s[p]=P;var le=ES(u);ee[le]||P.autoWidthCount++,ee[le]=ee[le]||{width:0,maxWidth:0};var ae=Mi(u.get("barWidth"),F),we=Mi(u.get("barMaxWidth"),F),_e=u.get("barGap"),Ce=u.get("barCategoryGap");ae&&!ee[le].width&&(ae=Math.min(P.remainedWidth,ae),ee[le].width=ae,P.remainedWidth-=ae),we&&(ee[le].maxWidth=we),null!=_e&&(P.gap=_e),null!=Ce&&(P.categoryGap=Ce)});var l={};return ce(s,function(u,c){l[c]={};var d=u.stacks,f=Mi(u.categoryGap,u.bandWidth),p=Mi(u.gap,1),v=u.remainedWidth,F=u.autoWidthCount,P=(v-f)/(F+(F-1)*p);P=Math.max(P,0),ce(d,function(we,_e){var Ce=we.maxWidth;Ce&&Ce<P&&(Ce=Math.min(Ce,v),we.width&&(Ce=Math.min(Ce,we.width)),v-=Ce,we.width=Ce,F--)}),P=(v-f)/(F+(F-1)*p),P=Math.max(P,0);var ee,le=0;ce(d,function(we,_e){we.width||(we.width=P),le+=(ee=we).width*(1+p)}),ee&&(le-=ee.width*p);var ae=-le/2;ce(d,function(we,_e){l[c][_e]=l[c][_e]||{offset:ae,width:we.width},ae+=we.width*(1+p)})}),l}(xe(t.getSeriesByType(e),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));t.eachSeriesByType(e,function(a){if("polar"===a.coordinateSystem.type){var s=a.getData(),l=a.coordinateSystem,u=l.getBaseAxis(),c=NS(l,u),d=ES(a),h=o[c][d],f=h.offset,p=h.width,v=l.getOtherAxis(u),F=a.coordinateSystem.cx,P=a.coordinateSystem.cy,ee=a.get("barMinHeight")||0,le=a.get("barMinAngle")||0;i[d]=i[d]||[];for(var ae=s.mapDimension(v.dim),we=s.mapDimension(u.dim),_e=os(s,ae),Ce="radius"!==u.dim||!a.get("roundCap",!0),Le="radius"===v.dim?v.dataToRadius(0):v.dataToAngle(0),Fe=0,at=s.count();Fe<at;Fe++){var pt,wt,Rt,Ot,Wt=s.get(ae,Fe),Qt=s.get(we,Fe),rn=0<=Wt?"p":"n",$t=Le;if(_e&&(i[d][Qt]||(i[d][Qt]={p:Le,n:Le}),$t=i[d][Qt][rn]),"radius"===v.dim){var Sn=v.dataToRadius(Wt)-Le,Un=u.dataToAngle(Qt);Math.abs(Sn)<ee&&(Sn=(Sn<0?-1:1)*ee),wt=(pt=$t)+Sn,Ot=(Rt=Un-f)-p,_e&&(i[d][Qt][rn]=wt)}else{var Zn=v.dataToAngle(Wt,Ce)-Le,Hn=u.dataToRadius(Qt);Math.abs(Zn)<le&&(Zn=(Zn<0?-1:1)*le),wt=(pt=Hn+f)+p,Ot=(Rt=$t)+Zn,_e&&(i[d][Qt][rn]=Ot)}s.setItemLayout(Fe,{cx:F,cy:P,r0:pt,r:wt,startAngle:-Rt*Math.PI/180,endAngle:-Ot*Math.PI/180})}}},this)},"bar")),Ao({type:"polar"}),Te(Or.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){Or.prototype.init.apply(this,arguments),Xs(e,"label",["show"])},optionUpdated:function(){var e=this.option,t=this;e.regions=Qb.getFilledRegions(e.regions,e.map,e.nameMap),this._optionModelMap=qe(e.regions||[],function(n,i){return i.name&&n.set(i.name,new Nr(i,t)),n},bn()),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new Nr(null,this,this.ecModel)},getFormattedLabel:function(e,t){t=t||"normal";var n=this.getRegionModel(e).get(("normal"===t?"":t+".")+"label.formatter"),i={name:e};return"function"==typeof n?(i.status=t,n(i)):"string"==typeof n?n.replace("{a}",e??""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}}),Gg),Ao({type:"geo",init:function(e,t){var n=new Nh(t,!0);this._mapDraw=n,this.group.add(n.group)},render:function(e,t,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var o=this._mapDraw;e.get("show")?o.draw(e,t,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),fv("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),fv("select",{type:"geoSelect",event:"geoselected"}),fv("unSelect",{type:"geoUnSelect",event:"geounselected"}),cs.prototype={constructor:cs,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(e){var t=(e=ju(e)).getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var i=e.getDate();i=i<10?"0"+i:i;var o=e.getDay();return{y:t,m:n,d:i,day:o=Math.abs((o+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+n+"-"+i,date:e}},getNextNDay:function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},update:function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],o=this._model.get("cellSize").slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[n,7]:[7,n];ce([0,1],function(d){c(o,d)&&(a[i[d]]=o[d]*s[d])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=xo(a,l);function c(d,h){return null!=d[h]&&"auto"!==d[h]}ce([0,1],function(d){c(o,d)||(o[d]=u[i[d]]/s[d])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(e,t){ze(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo;if(t&&!(n.time>=i.start.time&&n.time<i.end.time+864e5))return[NaN,NaN];var a=n.day,s=this._getRangeInfo([i.start.time,n.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},pointToData:function(e){var t=this.pointToDate(e);return t&&t.time},dataToRect:function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},convertToPixel:xt(OS,"dataToPoint"),convertFromPixel:xt(OS,"pointToData"),_initRangeOption:function(){var e=this._model.get("range"),t=e;if(ze(t)&&1===t.length&&(t=t[0]),/^\d{4}$/.test(t)&&(e=[t+"-01-01",t+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(t)){var n=this.getDateInfo(t),i=n.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);e=[n.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(t)&&(e=[t,t]);var a=this._getRangeInfo(e);return a.start.time>a.end.time&&e.reverse(),e},_getRangeInfo:function(e){var t;(e=[this.getDateInfo(e[0]),this.getDateInfo(e[1])])[0].time>e[1].time&&(t=!0,e.reverse());var n=Math.floor(e[1].time/864e5)-Math.floor(e[0].time/864e5)+1,i=new Date(e[0].time),o=i.getDate(),a=e[1].date.getDate();i.setDate(o+n-1);var s=i.getDate();if(s!==a)for(var l=0<i.getTime()-e[1].time?1:-1;(s=i.getDate())!==a&&0<(i.getTime()-e[1].time)*l;)n-=l,i.setDate(s-l);var u=Math.floor((n+e[0].day+6)/7),c=t?1-u:u-1;return t&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:n,weeks:u,nthWeek:c,fweek:e[0].day,lweek:e[1].day}},_getDateByWeeksAndDay:function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||0===e&&t<i.fweek||e===i.weeks&&t>i.lweek)return!1;var o=7*(e-1)-i.fweek+t,a=new Date(i.start.time);return a.setDate(i.start.d+o),this.getDateInfo(a)}},cs.dimensions=cs.prototype.dimensions,cs.getDimensionsInfo=cs.prototype.getDimensionsInfo,cs.create=function(e,t){var n=[];return e.eachComponent("calendar",function(i){var o=new cs(i,e,t);n.push(o),i.coordinateSystem=o}),e.eachSeries(function(i){"calendar"===i.get("coordinateSystem")&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},Ho.register("calendar",cs);var BS=Or.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(e,t,n,i){var o=ql(e);BS.superApply(this,"init",arguments),zS(e,o)},mergeOption:function(e,t){BS.superApply(this,"mergeOption",arguments),zS(this.option,e)}});function zS(e,t){var n=e.cellSize;ze(n)?1===n.length&&(n[1]=n[0]):n=e.cellSize=[n,n];var i=Oe([0,1],function(o){return function(a,s){return null!=a[rl[s][0]]||null!=a[rl[s][1]]&&null!=a[rl[s][2]]}(t,o)&&(n[o]="auto"),null!=n[o]&&"auto"!==n[o]});Cs(e,t,{type:"box",ignoreSize:i})}var HI={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},WI={EN:["S","M","T","W","T","F","S"],CN:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]};Ao({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(e,t,n){var i=this.group;i.removeAll();var o=e.coordinateSystem,a=o.getRangeInfo(),s=o.getOrient();this._renderDayRect(e,a,i),this._renderLines(e,a,s,i),this._renderYearText(e,a,s,i),this._renderMonthText(e,s,i),this._renderWeekText(e,a,s,i)},_renderDayRect:function(e,t,n){for(var i=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),a=i.getCellWidth(),s=i.getCellHeight(),l=t.start.time;l<=t.end.time;l=i.getNextNDay(l,1).time){var u=i.dataToRect([l],!1).tl,c=new Rr({shape:{x:u[0],y:u[1],width:a,height:s},cursor:"default",style:o});n.add(c)}},_renderLines:function(e,t,n,i){var o=this,a=e.coordinateSystem,s=e.getModel("splitLine.lineStyle").getLineStyle(),l=e.get("splitLine.show"),u=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=t.start,d=0;c.time<=t.end.time;d++){f(c.formatedDate),0===d&&(c=a.getDateInfo(t.start.y+"-"+t.start.m));var h=c.date;h.setMonth(h.getMonth()+1),c=a.getDateInfo(h)}function f(p){o._firstDayOfMonth.push(a.getDateInfo(p)),o._firstDayPoints.push(a.dataToRect([p],!1).tl);var v=o._getLinePointsOfOneWeek(e,p,n);o._tlpoints.push(v[0]),o._blpoints.push(v[v.length-1]),l&&o._drawSplitline(v,s,i)}f(a.getNextNDay(t.end.time,1).formatedDate),l&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,u,n),s,i),l&&this._drawSplitline(o._getEdgesPoints(o._blpoints,u,n),s,i)},_getEdgesPoints:function(e,t,n){var i=[e[0].slice(),e[e.length-1].slice()],o="horizontal"===n?0:1;return i[0][o]=i[0][o]-t/2,i[1][o]=i[1][o]+t/2,i},_drawSplitline:function(e,t,n){var i=new ya({z2:20,shape:{points:e},style:t});n.add(i)},_getLinePointsOfOneWeek:function(e,t,n){var i=e.coordinateSystem;t=i.getDateInfo(t);for(var o=[],a=0;a<7;a++){var s=i.getNextNDay(t.time,a),l=i.dataToRect([s.time],!1);o[2*s.day]=l.tl,o[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return o},_formatterLabel:function(e,t){return"string"==typeof e&&e?zy(e,t):"function"==typeof e?e(t):t.nameMap},_yearTextPositionControl:function(e,t,n,i,o){t=t.slice();var a=["center","bottom"];"bottom"===i?(t[1]+=o,a=["center","top"]):"left"===i?t[0]-=o:"right"===i?(t[0]+=o,a=["center","top"]):t[1]-=o;var s=0;return"left"!==i&&"right"!==i||(s=Math.PI/2),{rotation:s,position:t,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(e,t,n,i){var o=e.getModel("yearLabel");if(o.get("show")){var a=o.get("margin"),s=o.get("position");s=s||("horizontal"!==n?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(l[0][0]+l[1][0])/2,c=(l[0][1]+l[1][1])/2,d="horizontal"===n?0:1,h={top:[u,l[d][1]],bottom:[u,l[1-d][1]],left:[l[1-d][0],c],right:[l[d][0],c]},f=t.start.y;+t.end.y>+t.start.y&&(f=f+"-"+t.end.y);var p=o.get("formatter"),F=this._formatterLabel(p,{start:t.start.y,end:t.end.y,nameMap:f}),P=new Cr({z2:30});uo(P.style,o,{text:F}),P.attr(this._yearTextPositionControl(P,h[s],n,s,a)),i.add(P)}},_monthTextPositionControl:function(e,t,n,i,o){var a="left",s="top",l=e[0],u=e[1];return"horizontal"===n?(u+=o,t&&(a="center"),"start"===i&&(s="bottom")):(l+=o,t&&(s="middle"),"start"===i&&(a="right")),{x:l,y:u,textAlign:a,textVerticalAlign:s}},_renderMonthText:function(e,t,n){var i=e.getModel("monthLabel");if(i.get("show")){var o=i.get("nameMap"),a=i.get("margin"),s=i.get("position"),l=i.get("align"),u=[this._tlpoints,this._blpoints];Je(o)&&(o=HI[o.toUpperCase()]||[]);var c="start"===s?0:1,d="horizontal"===t?0:1;a="start"===s?-a:a;for(var h="center"===l,f=0;f<u[c].length-1;f++){var p=u[c][f].slice(),v=this._firstDayOfMonth[f];h&&(p[d]=(this._firstDayPoints[f][d]+u[0][f+1][d])/2);var P=i.get("formatter"),ee=o[+v.m-1],le={yyyy:v.y,yy:(v.y+"").slice(2),MM:v.m,M:+v.m,nameMap:ee},ae=this._formatterLabel(P,le),we=new Cr({z2:30});ue(uo(we.style,i,{text:ae}),this._monthTextPositionControl(p,h,t,s,a)),n.add(we)}}},_weekTextPositionControl:function(e,t,n,i,o){var a="center",s="middle",l=e[0],u=e[1],c="start"===n;return"horizontal"===t?(l=l+i+(c?1:-1)*o[0]/2,a=c?"right":"left"):(u=u+i+(c?1:-1)*o[1]/2,s=c?"bottom":"top"),{x:l,y:u,textAlign:a,textVerticalAlign:s}},_renderWeekText:function(e,t,n,i){var o=e.getModel("dayLabel");if(o.get("show")){var a=e.coordinateSystem,s=o.get("position"),l=o.get("nameMap"),u=o.get("margin"),c=a.getFirstDayOfWeek();Je(l)&&(l=WI[l.toUpperCase()]||[]);var d=a.getNextNDay(t.end.time,7-t.lweek).time,h=[a.getCellWidth(),a.getCellHeight()];u=Mi(u,h["horizontal"===n?0:1]),"start"===s&&(d=a.getNextNDay(t.start.time,-(7+t.fweek)).time,u=-u);for(var f=0;f<7;f++){var p,v=a.getNextNDay(d,f),F=a.dataToRect([v.time],!1).center;p=Math.abs((f+c)%7);var P=new Cr({z2:30});ue(uo(P.style,o,{text:l[p]}),this._weekTextPositionControl(F,n,s,u,h)),i.add(P)}}}});var FS={path:null,compoundPath:null,group:E,image:Tr,text:Cr};Bo(function(e){var t=e.graphic;ze(t)?e.graphic=t[0]&&t[0].elements?[e.graphic[0]]:[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])});var GI=ca({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,GI.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(e,t){var n=this.option,i=(t?n:e).elements,o=n.elements=t?[]:n.elements,a=[];this._flatten(i,a);var s=Zf(o,a);L0(s);var l=this._elOptionsToUpdate=[];ce(s,function(c,d){var f,p,v,F,P,ee,h=c.option;h&&(l.push(h),function(f,p){var v=f.exist;if(p.id=f.keyInfo.id,!p.type&&v&&(p.type=v.type),null==p.parentId){var F=p.parentOption;F?p.parentId=F.id:v&&(p.parentId=v.parentId)}p.parentOption=null}(c,h),f=o,p=d,F=ue({},v=h),P=f[p],"merge"===(ee=v.$action||"merge")?P?(oe(P,F,!0),Cs(P,F,{ignoreSize:!0}),Hy(v,P)):f[p]=F:"replace"===ee?f[p]=F:"remove"===ee&&P&&(f[p]=null),function(f,p){f&&(f.hv=p.hv=[HS(p,["left","right"]),HS(p,["top","bottom"])],"group"===f.type&&(null==f.width&&(f.width=p.width=0),null==f.height&&(f.height=p.height=0)))}(o[d],h))},this);for(var u=o.length-1;0<=u;u--)null==o[u]?o.splice(u,1):delete o[u].$action},_flatten:function(e,t,n){ce(e,function(i){if(i){n&&(i.parentOption=n),t.push(i);var o=i.children;"group"===i.type&&o&&this._flatten(o,t,i),delete i.children}},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});function VS(e,t,n,i){var o=n.type,a=new(FS.hasOwnProperty(o)?FS[o]:cp(o))(n);t.add(a),i.set(e,a),a.__ecGraphicId=e}function hf(e,t){var n=e&&e.parent;n&&("group"===e.type&&e.traverse(function(i){hf(i,t)}),t.removeKey(e.__ecGraphicId),n.remove(e))}function HS(e,t){var n;return ce(t,function(i){null!=e[i]&&"auto"!==e[i]&&(n=!0)}),n}Ao({type:"graphic",init:function(e,t){this._elMap=bn()},render:function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},_updateElements:function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,i=this.group;ce(t,function(o){var a=o.$action,s=o.id,l=n.get(s),u=o.parentId,c=null!=u?n.get(u):i,d=o.style;"text"===o.type&&d&&(o.hv&&o.hv[1]&&(d.textVerticalAlign=d.textBaseline=null),!d.hasOwnProperty("textFill")&&d.fill&&(d.textFill=d.fill),!d.hasOwnProperty("textStroke")&&d.stroke&&(d.textStroke=d.stroke));var p,h=(p=ue({},p=o),ce(["id","parentId","$action","hv","bounding"].concat(Vy),function(v){delete p[v]}),p);a&&"merge"!==a?"replace"===a?(hf(l,n),VS(s,c,h,n)):"remove"===a&&hf(l,n):l?l.attr(h):VS(s,c,h,n);var f=n.get(s);f&&(f.__ecGraphicWidthOption=o.width,f.__ecGraphicHeightOption=o.height,function(p,v){var F=p.eventData;p.silent||p.ignore||F||(F=p.eventData={componentType:"graphic",componentIndex:v.componentIndex,name:p.name}),F&&(F.info=p.info)}(f,e))})}},_relocate:function(e,t){for(var n=e.option.elements,i=this.group,o=this._elMap,a=t.getWidth(),s=t.getHeight(),l=0;l<n.length;l++){var u=n[l];if((d=o.get(u.id))&&d.isGroup){var c=(h=d.parent)===i;d.__ecGraphicWidth=Mi(d.__ecGraphicWidthOption,c?a:h.__ecGraphicWidth)||0,d.__ecGraphicHeight=Mi(d.__ecGraphicHeightOption,c?s:h.__ecGraphicHeight)||0}}for(l=n.length-1;0<=l;l--){var d,h;(d=o.get((u=n[l]).id))&&Wd(d,u,(h=d.parent)===i?{width:a,height:s}:{width:h.__ecGraphicWidth,height:h.__ecGraphicHeight},null,{hv:u.hv,boundingMode:u.bounding})}},_clear:function(){var e=this._elMap;e.each(function(t){hf(t,e)}),this._elMap=bn()},dispose:function(){this._clear()}});var WS={};function _u(e,t){WS[e]=t}function GS(e){return WS[e]}var jI=ca({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){jI.superApply(this,"optionUpdated",arguments),ce(this.option.feature,function(e,t){var n=GS(t);n&&oe(e,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}});function jS(e,t){var n=il(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),new Rr({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}Ao({type:"toolbox",render:function(e,t,n,i){var d,h,f,p,v,F,P,o=this.group;if(o.removeAll(),e.get("show")){var a=+e.get("itemSize"),s=e.get("feature")||{},l=this._features||(this._features={}),u=[];ce(s,function(d,h){u.push(h)}),new rs(this._featureNames||[],u).add(c).update(c).remove(xt(c,null)).execute(),this._featureNames=u,d=o,f=n,p=(h=e).getBoxLayoutParams(),v=h.get("padding"),P=xo(p,F={width:f.getWidth(),height:f.getHeight()},v),ol(h.get("orient"),d,h.get("itemGap"),P.width,P.height),Wd(d,p,F,v),o.add(jS(o.getBoundingRect(),e)),o.eachChild(function(d){var h=d.__title,f=d.hoverStyle;if(f&&h){var p=yi(h,Ft(f)),v=d.position[0]+o.position[0],F=!1;d.position[1]+o.position[1]+a+p.height>n.getHeight()&&(f.textPosition="top",F=!0);var P=F?-5-p.height:a+8;v+p.width/2>n.getWidth()?(f.textPosition=["100%",P],f.textAlign="right"):v-p.width/2<0&&(f.textPosition=[0,P],f.textAlign="left")}})}function c(d,h){var f,p=u[d],v=u[h],F=s[p],P=new Nr(F,e,e.ecModel);if(i&&null!=i.newTitle&&i.featureName===p&&(F.title=i.newTitle),p&&!v){if(0===p.indexOf("my"))f={model:P,onclick:P.option.onclick,featureName:p};else{var ee=GS(p);if(!ee)return;f=new ee(P,t,n)}l[p]=f}else{if(!(f=l[v]))return;f.model=P,f.ecModel=t,f.api=n}p||!v?P.get("show")&&!f.unusable?(function(le,ae,we){var _e=le.getModel("iconStyle"),Ce=le.getModel("emphasis.iconStyle"),Le=ae.getIcons?ae.getIcons():le.get("icon"),Fe=le.get("title")||{};if("string"==typeof Le){var at=Le,pt=Fe;Fe={},(Le={})[we]=at,Fe[we]=pt}var wt=le.iconPaths={};ce(Le,function(Rt,Ot){var Wt=jl(Rt,{},{x:-a/2,y:-a/2,width:a,height:a});Wt.setStyle(_e.getItemStyle()),Wt.hoverStyle=Ce.getItemStyle(),Wt.setStyle({text:Fe[Ot],textAlign:Ce.get("textAlign"),textBorderRadius:Ce.get("textBorderRadius"),textPadding:Ce.get("textPadding"),textFill:null});var Qt=e.getModel("tooltip");Qt&&Qt.get("show")&&Wt.attr("tooltip",ue({content:Fe[Ot],formatter:Qt.get("formatter",!0)||function(){return Fe[Ot]},formatterParams:{componentType:"toolbox",name:Ot,title:Fe[Ot],$vars:["name","title"]},position:Qt.get("position",!0)||"bottom"},Qt.option)),no(Wt),e.get("showTitle")&&(Wt.__title=Fe[Ot],Wt.on("mouseover",function(){var rn=Ce.getItemStyle(),$t="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";Wt.setStyle({textFill:Ce.get("textFill")||rn.fill||rn.stroke||"#000",textBackgroundColor:Ce.get("textBackgroundColor"),textPosition:Ce.get("textPosition")||$t})}).on("mouseout",function(){Wt.setStyle({textFill:null,textBackgroundColor:null})})),Wt.trigger(le.get("iconStatus."+Ot)||"normal"),o.add(Wt),Wt.on("click",et(ae.onclick,ae,t,n,Ot)),wt[Ot]=Wt})}(P,f,p),P.setIconStatus=function(le,ae){var we=this.option,_e=this.iconPaths;we.iconStatus=we.iconStatus||{},we.iconStatus[le]=ae,_e[le]&&_e[le].trigger(ae)},f.render&&f.render(P,t,n,i)):f.remove&&f.remove(t,n):f.dispose&&f.dispose(t,n)}},updateView:function(e,t,n,i){ce(this._features,function(o){o.updateView&&o.updateView(o.model,t,n,i)})},remove:function(e,t){ce(this._features,function(n){n.remove&&n.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){ce(this._features,function(n){n.dispose&&n.dispose(e,t)})}});var US=is.toolbox.saveAsImage;function ff(e){this.model=e}ff.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:US.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:US.lang.slice()},ff.prototype.unusable=!Ne.canvasSupported,ff.prototype.onclick=function(e,t){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",o="svg"===t.getZr().painter.getType()?"svg":n.get("type",!0)||"png",a=t.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!=typeof MouseEvent||Ne.browser.ie||Ne.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(a.split(",")[1]),l=s.length,u=new Uint8Array(l);l--;)u[l]=s.charCodeAt(l);var c=new Blob([u]);window.navigator.msSaveOrOpenBlob(c,i+"."+o)}else{var d=n.get("lang"),h='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(d&&d[0]||"")+'" /></body>';window.open().document.write(h)}else{var f=document.createElement("a");f.download=i+"."+o,f.target="_blank",f.href=a;var p=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});f.dispatchEvent(p)}},_u("saveAsImage",ff);var pf=is.toolbox.magicType,pv="__ec_magicType_stack__";function gv(e){this.model=e}gv.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:U(pf.title),option:{},seriesIndex:{}};var qS=gv.prototype;qS.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return ce(e.get("type"),function(i){t[i]&&(n[i]=t[i])}),n};var YS={line:function(e,t,n,i){if("bar"===e)return oe({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0)},bar:function(e,t,n,i){if("line"===e)return oe({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0)},stack:function(e,t,n,i){var o=n.get("stack")===pv;if("line"===e||"bar"===e)return i.setIconStatus("stack",o?"normal":"emphasis"),oe({id:t,stack:o?"":pv},i.get("option.stack")||{},!0)}},UI=[["line","bar"],["stack"]];qS.onclick=function(e,t,n){var i=this.model,o=i.get("seriesIndex."+n);if(YS[n]){var a,s={series:[]};ce(UI,function(l){0<=Ge(l,n)&&ce(l,function(u){i.setIconStatus(u,"normal")})}),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},function(l){var d=YS[n](l.subType,l.id,l,i);d&&(be(d,l.option),s.series.push(d));var h=l.coordinateSystem;if(h&&"cartesian2d"===h.type&&("line"===n||"bar"===n)){var f=h.getAxesByScale("ordinal")[0];if(f){var p=f.dim+"Axis",v=e.queryComponents({mainType:p,index:l.get(name+"Index"),id:l.get(name+"Id")})[0].componentIndex;s[p]=s[p]||[];for(var F=0;F<=v;F++)s[p][v]=s[p][v]||{};s[p][v].boundaryGap="bar"===n}}}),"stack"===n&&(a=s.series&&s.series[0]&&s.series[0].stack===pv?oe({stack:pf.title.tiled},pf.title):U(pf.title)),t.dispatchAction({type:"changeMagicType",currentType:n,newOption:s,newTitle:a,featureName:"magicType"})}},Lr({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)}),_u("magicType",gv);var XS=is.toolbox.dataView,gf=new Array(60).join("-"),wu="\t";function mf(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var mv=new RegExp("["+wu+"]+","g");function Wc(e){this._dom=null,this.model=e}Wc.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:U(XS.title),lang:U(XS.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},Wc.prototype.onclick=function(e,t){var n=t.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var a=document.createElement("h4"),s=i.get("lang")||[];a.innerHTML=s[0]||i.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=i.get("textColor");var l=document.createElement("div"),u=document.createElement("textarea");l.style.cssText="display:block;width:100%;overflow:auto;";var c=i.get("optionToContent"),d=i.get("contentToOption"),h=function qI(e){var t=function(n){var i={},o=[],a=[];return n.eachRawSeries(function(s){var l=s.coordinateSystem;if(!l||"cartesian2d"!==l.type&&"polar"!==l.type)o.push(s);else{var u=l.getBaseAxis();if("category"===u.type){var c=u.dim+"_"+u.index;i[c]||(i[c]={categoryAxis:u,valueAxis:l.getOtherAxis(u),series:[]},a.push({axisDim:u.dim,axisIndex:u.index})),i[c].series.push(s)}else o.push(s)}}),{seriesGroupByCategoryAxis:i,other:o,meta:a}}(e);return{value:xe([function(n){var i=[];return ce(n,function(o,a){var s=o.categoryAxis,l=o.valueAxis.dim,u=[" "].concat(Oe(o.series,function(v){return v.name})),c=[s.model.getCategories()];ce(o.series,function(v){var F=v.getRawData();c.push(v.getRawData().mapArray(F.mapDimension(l),function(P){return P}))});for(var d=[u.join(wu)],h=0;h<c[0].length;h++){for(var f=[],p=0;p<c.length;p++)f.push(c[p][h]);d.push(f.join(wu))}i.push(d.join("\n"))}),i.join("\n\n"+gf+"\n\n")}(t.seriesGroupByCategoryAxis),function(n){return Oe(n,function(i){var o=i.getRawData(),a=[i.name],s=[];return o.each(o.dimensions,function(){for(var l=arguments.length,c=o.getName(arguments[l-1]),d=0;d<l-1;d++)s[d]=arguments[d];a.push((c?c+wu:"")+s.join(wu))}),a.join("\n")}).join("\n\n"+gf+"\n\n")}(t.other)],function(n){return n.replace(/[\n\t\s]/g,"")}).join("\n\n"+gf+"\n\n"),meta:t.meta}}(e);if("function"==typeof c){var f=c(t.getOption());"string"==typeof f?l.innerHTML=f:Tt(f)&&l.appendChild(f)}else l.appendChild(u),u.readOnly=i.get("readOnly"),u.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",u.style.color=i.get("textColor"),u.style.borderColor=i.get("textareaBorderColor"),u.style.backgroundColor=i.get("textareaColor"),u.value=h.value;var p=h.meta,v=document.createElement("div");v.style.cssText="position:absolute;bottom:0;left:0;right:0;";var F="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",P=document.createElement("div"),ee=document.createElement("div");F+=";background-color:"+i.get("buttonColor"),F+=";color:"+i.get("buttonTextColor");var le=this;function ae(){n.removeChild(o),le._dom=null}Ur(P,"click",ae),Ur(ee,"click",function(){var we;try{we="function"==typeof d?d(l,t.getOption()):function YI(e,t){var n=e.split(new RegExp("\n*"+gf+"\n*","g")),i={series:[]};return ce(n,function(o,a){if(function(c){if(0<=c.slice(0,c.indexOf("\n")).indexOf(wu))return!0}(o)){var s=function(c){for(var d=c.split(/\n+/g),h=[],f=Oe(mf(d.shift()).split(mv),function(P){return{name:P,data:[]}}),p=0;p<d.length;p++){var v=mf(d[p]).split(mv);h.push(v.shift());for(var F=0;F<v.length;F++)f[F]&&(f[F].data[p]=v[F])}return{series:f,categories:h}}(o),l=t[a],u=l.axisDim+"Axis";l&&(i[u]=i[u]||[],i[u][l.axisIndex]={data:s.categories},i.series=i.series.concat(s.series))}else s=function(c){for(var d=c.split(/\n+/g),h=mf(d.shift()),f=[],p=0;p<d.length;p++){var v=mf(d[p]);if(v){var F,P=v.split(mv),ee="",le=!1;F=isNaN(P[0])?(le=!0,ee=P[0],P=P.slice(1),f[p]={name:ee,value:[]},f[p].value):f[p]=[];for(var ae=0;ae<P.length;ae++)F.push(+P[ae]);1===F.length&&(le?f[p].value=F[0]:f[p]=F[0])}}return{name:h,data:f}}(o),i.series.push(s)}),i}(u.value,p)}catch(_e){throw ae(),new Error("Data view format error "+_e)}we&&t.dispatchAction({type:"changeDataView",newOption:we}),ae()}),P.innerHTML=s[1],ee.innerHTML=s[2],ee.style.cssText=F,P.style.cssText=F,i.get("readOnly")||v.appendChild(ee),v.appendChild(P),o.appendChild(a),o.appendChild(l),o.appendChild(v),l.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},Wc.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},Wc.prototype.dispose=function(e,t){this.remove(e,t)},_u("dataView",Wc),Lr({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];ce(e.newOption.series,function(i){var s,l,o=t.getSeriesByName(i.name)[0];if(o){var a=o.get("data");n.push({name:i.name,data:(s=i.data,l=a,Oe(s,function(u,c){var d=l&&l[c];if(!st(d)||ze(d))return u;st(u)&&!ze(u)||(u={value:u});var h=null!=d.name&&null==u.name;return u=be(u,d),h&&delete u.name,u}))})}else n.push(ue({type:"scatter"},i))}),t.mergeOption(be({series:n},e.newOption))});var Ws=ce,vf=Ge,yf=xt,vv=["dataToPoint","pointToData"],XI=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function xf(e,t,n){var i=this._targetInfoList=[],o={},a=ZS(t,e);Ws(ZI,function(s,l){n&&n.include&&!(0<=vf(n.include,l))||s(a,i,o)})}var Su=xf.prototype;function yv(e){return e[0]>e[1]&&e.reverse(),e}function ZS(e,t){return hd(e,t,{includeMainTypes:XI})}Su.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(n,i,o){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var a=xv[n.brushType](0,o,i);n.__rangeOffset={offset:QS[n.brushType](a.values,n.range,[1,1]),xyMinMax:a.xyMinMax}}})},Su.matchOutputRanges=function(e,t,n){Ws(e,function(i){var o=this.findTargetInfo(i,t);o&&!0!==o&&ce(o.coordSyses,function(a){var s=xv[i.brushType](1,a,i.range);n(i,s.values,a,t)})},this)},Su.setInputRanges=function(e,t){Ws(e,function(n){var l,u,c,d,i=this.findTargetInfo(n,t);if(n.range=n.range||[],i&&!0!==i){n.panelId=i.panelId;var o=xv[n.brushType](0,i.coordSys,n.coordRange),a=n.__rangeOffset;n.range=a?QS[n.brushType](o.values,a.offset,(l=a.xyMinMax,u=tC(o.xyMinMax),c=tC(l),d=[u[0]/c[0],u[1]/c[1]],isNaN(d[0])&&(d[0]=1),isNaN(d[1])&&(d[1]=1),d)):o.values}},this)},Su.makePanelOpts=function(e,t){return Oe(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t&&t(n),clipPath:sw(i),isTargetByCursor:uw(i,e,n.coordSysModel),getLinearBrushOtherExtent:lw(i)}})},Su.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return!0===i||i&&0<=vf(i.coordSyses,t.coordinateSystem)},Su.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=ZS(t,e),o=0;o<n.length;o++){var a=n[o],s=e.panelId;if(s){if(a.panelId===s)return a}else for(o=0;o<$S.length;o++)if($S[o](i,a))return a}return!0};var ZI={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,o=e.gridModels,a=bn(),s={},l={};(n||i||o)&&(Ws(n,function(u){var c=u.axis.grid.model;a.set(c.id,c),s[c.id]=!0}),Ws(i,function(u){var c=u.axis.grid.model;a.set(c.id,c),l[c.id]=!0}),Ws(o,function(u){a.set(u.id,u),s[u.id]=!0,l[u.id]=!0}),a.each(function(u){var d=[];Ws(u.coordinateSystem.getCartesians(),function(h,f){(0<=vf(n,h.getAxis("x").model)||0<=vf(i,h.getAxis("y").model))&&d.push(h)}),t.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:d[0],coordSyses:d,getPanelRect:KS.grid,xAxisDeclared:s[u.id],yAxisDeclared:l[u.id]})}))},geo:function(e,t){Ws(e.geoModels,function(n){var i=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:i,coordSyses:[i],getPanelRect:KS.geo})})}},$S=[function(e,t){var n=e.xAxisModel,i=e.yAxisModel,o=e.gridModel;return!o&&n&&(o=n.axis.grid.model),!o&&i&&(o=i.axis.grid.model),o&&o===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],KS={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(tl(e)),t}},xv={lineX:yf(JS,0),lineY:yf(JS,1),rect:function(e,t,n){var i=t[vv[e]]([n[0][0],n[1][0]]),o=t[vv[e]]([n[0][1],n[1][1]]),a=[yv([i[0],o[0]]),yv([i[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(e,t,n){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:Oe(n,function(o){var a=t[vv[e]](o);return i[0][0]=Math.min(i[0][0],a[0]),i[1][0]=Math.min(i[1][0],a[1]),i[0][1]=Math.max(i[0][1],a[0]),i[1][1]=Math.max(i[1][1],a[1]),a}),xyMinMax:i}}};function JS(e,t,n,i){var o=n.getAxis(["x","y"][e]),a=yv(Oe([0,1],function(l){return t?o.coordToData(o.toLocalCoord(i[l])):o.toGlobalCoord(o.dataToCoord(i[l]))})),s=[];return s[e]=a,s[1-e]=[NaN,NaN],{values:a,xyMinMax:s}}var QS={lineX:yf(eC,0),lineY:yf(eC,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return Oe(e,function(i,o){return[i[0]-n[0]*t[o][0],i[1]-n[1]*t[o][1]]})}};function eC(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}function tC(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var nC=ce,bv="\0_ec_hist_store";function _v(e){return e[bv]||(e[bv]=[{}])}Or.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var wv,Gc,iC,rC,$I=["cartesian2d","polar","singleAxis"],oC=(Gc=["axisIndex","axis","index","id"],iC=Oe(wv=(wv=["x","y","z","radius","angle","single"]).slice(),Vd),rC=Oe(Gc=(Gc||[]).slice(),Vd),function(e,t){ce(wv,function(n,i){for(var o={name:n,capital:iC[i]},a=0;a<Gc.length;a++)o[Gc[a]]=n+rC[a];e.call(t,o)})});function Sv(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n}var Tl=ce,aC=nl;function sC(e,t){var n=e.getAxisModel(),i=e._percentWindow,o=e._valueWindow;if(i){var a=yp(o,[0,500]);a=Math.min(a,20);var s=t||0===i[0]&&100===i[1];n.setRange(s?null:+o[0].toFixed(a),s?null:+o[1].toFixed(a))}}Sv.prototype={constructor:Sv,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(n){if(function(a){return 0<=Ge($I,a)}(n.get("coordinateSystem"))){var i=this._dimName,o=t.queryComponents({mainType:i+"Axis",index:n.get(i+"AxisIndex"),id:n.get(i+"AxisId")})[0];this._axisIndex===(o&&o.componentIndex)&&e.push(n)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,n,i=this._dimName,o=this.ecModel,a=this.getAxisModel();return e="x"===i||"y"===i?(t="gridIndex","x"===i?"y":"x"):(t="polarIndex","angle"===i?"radius":"angle"),o.eachComponent(e+"Axis",function(s){(s.get(t)||0)===(a.get(t)||0)&&(n=s)}),n},getMinMaxSpan:function(){return U(this._minMaxSpan)},calculateDataWindow:function(e){var t,n=this._dataExtent,i=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[];Tl(["start","end"],function(d,h){var f=e[d],p=e[d+"Value"];"percent"===o[h]?(null==f&&(f=a[h]),p=i.parse(io(f,a,n))):(t=!0,f=io(p=null==p?n[h]:i.parse(p),n,a)),l[h]=p,s[h]=f}),aC(l),aC(s);var u=this._minMaxSpan;function c(d,h,f,p,v){var F=v?"Span":"ValueSpan";bl(0,d,f,"all",u["min"+F],u["max"+F]);for(var P=0;P<2;P++)h[P]=io(d[P],f,p,!0),v&&(h[P]=i.parse(h[P]))}return t?c(l,s,n,a,!1):c(s,l,a,n,!0),{valueWindow:l,percentWindow:s}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(i,o,a){var s=[1/0,-1/0];return Tl(a,function(l){var u=l.getData();u&&Tl(u.mapDimension(o,!0),function(c){var d=u.getApproximateExtent(c);d[0]<s[0]&&(s[0]=d[0]),d[1]>s[1]&&(s[1]=d[1])})}),s[1]<s[0]&&(s=[NaN,NaN]),function(l,u){var c=l.getAxisModel(),d=c.getMin(!0),h="category"===c.get("type"),f=h&&c.getCategories().length;null!=d&&"dataMin"!==d&&"function"!=typeof d?u[0]=d:h&&(u[0]=0<f?0:NaN);var p=c.getMax(!0);null!=p&&"dataMax"!==p&&"function"!=typeof p?u[1]=p:h&&(u[1]=0<f?f-1:NaN),c.get("scale",!0)||(0<u[0]&&(u[0]=0),u[1]<0&&(u[1]=0))}(i,s),s}(this,this._dimName,t),function(i){var o=i._minMaxSpan={},a=i._dataZoomModel,s=i._dataExtent;Tl(["min","max"],function(l){var u=a.get(l+"Span"),c=a.get(l+"ValueSpan");null!=c&&(c=i.getAxisModel().axis.scale.parse(c)),null!=c?u=io(s[0]+c,s,[0,100],!0):null!=u&&(c=io(u,[0,100],s,!0)-s[0]),o[l+"Span"]=u,o[l+"ValueSpan"]=c})}(this);var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,sC(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,sC(this,!0))},filterData:function(e,t){if(e===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),o=e.get("filterMode"),a=this._valueWindow;"none"!==o&&Tl(i,function(s){var l=s.getData(),u=l.mapDimension(n,!0);u.length&&("weakFilter"===o?l.filterSelf(function(c){for(var d,h,f,p=0;p<u.length;p++){var v=l.get(u[p],c),F=!isNaN(v),P=v<a[0],ee=v>a[1];if(F&&!P&&!ee)return!0;F&&(f=!0),P&&(d=!0),ee&&(h=!0)}return f&&d&&h}):Tl(u,function(c){if("empty"===o)s.setData(l=l.map(c,function(h){return(f=h)>=a[0]&&f<=a[1]?h:NaN;var f}));else{var d={};d[c]=a,l.selectRange(d)}}),Tl(u,function(c){l.setApproximateExtent(a,c)}))})}}};var Al=ce,Il=oC,Cv=ca({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,t,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=lC(e);this.settledOption=i,this.mergeDefaultAndTheme(e,n),this.doInit(i)},mergeOption:function(e){var t=lC(e);oe(this.option,e,!0),oe(this.settledOption,t,!0),this.doInit(t)},doInit:function(e){var t=this.option;Ne.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),uC(this,e);var n=this.settledOption;Al([["start","startValue"],["end","endValue"]],function(i,o){"value"===this._rangePropMode[o]&&(t[i[0]]=n[i[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,n,i,o){var a=this.dependentModels[t.axis][n],s=a.__dzAxisProxy||(a.__dzAxisProxy=new Sv(t.name,n,this,o));e[t.name+"_"+n]=s},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();Il(function(n){var i=n.axisIndex;e[i]=Po(e[i])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;Il(function(i){null!=e[i.axisIndex]&&(t=!0)},this);var n=e.orient;return null==n&&t?"orient":t?void 0:(null==n&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),n=this.option,i=this.dependentModels;if(e){var o="vertical"===t?"y":"x";i[o+"Axis"].length?(n[o+"AxisIndex"]=[0],e=!1):Al(i.singleAxis,function(a){e&&a.get("orient",!0)===t&&(n.singleAxisIndex=[a.componentIndex],e=!1)})}e&&Il(function(a){if(e){var s=[],l=this.dependentModels[a.axis];if(l.length&&!s.length)for(var u=0,c=l.length;u<c;u++)"category"===l[u].get("type")&&s.push(u);(n[a.axisIndex]=s).length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&Il(function(s){var l=n[s.axisIndex],u=a.get(s.axisIndex),c=a.get(s.axisId);Ge(l,u=a.ecModel.queryComponents({mainType:s.axis,index:u,id:c})[0].componentIndex)<0&&l.push(u)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){e=e||t.name},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var n=!0;return Il(function(i){var o=e.get(i.axisIndex),a=this.dependentModels[i.axis][o];a&&a.get("type")===t||(n=!1)},this),n},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&0<t.animationDurationUpdate?100:20}},getFirstTargetAxisModel:function(){var e;return Il(function(t){if(null==e){var n=this.get(t.axisIndex);n.length&&(e=this.dependentModels[t.axis][n[0]])}},this),e},eachTargetAxis:function(e,t){var n=this.ecModel;Il(function(i){Al(this.get(i.axisIndex),function(o){e.call(t,i,o,this,n)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var n=this.getAxisProxy(e,t);return n&&n.getAxisModel()},setRawRange:function(e){var t=this.option,n=this.settledOption;Al([["start","startValue"],["end","endValue"]],function(i){null==e[i[0]]&&null==e[i[1]]||(t[i[0]]=n[i[0]]=e[i[0]],t[i[1]]=n[i[1]]=e[i[1]])},this),uC(this,e)},setCalculatedRange:function(e){var t=this.option;Al(["start","startValue","end","endValue"],function(n){t[n]=e[n]})},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var n in t)if(t.hasOwnProperty(n)&&t[n].hostedBy(this))return t[n];for(var n in t)if(t.hasOwnProperty(n)&&!t[n].hostedBy(this))return t[n]},getRangePropMode:function(){return this._rangePropMode.slice()}});function lC(e){var t={};return Al(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function uC(e,t){var n=e._rangePropMode,i=e.get("rangeMode");Al([["start","startValue"],["end","endValue"]],function(o,a){var s=null!=t[o[0]],l=null!=t[o[1]];s&&!l?n[a]="percent":!s&&l?n[a]="value":i?n[a]=i[a]:s&&(n[a]="percent")})}var Mv=Ga.extend({type:"dataZoom",render:function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},getTargetCoordInfo:function(){var t=this.ecModel,n={};return this.dataZoomModel.eachTargetAxis(function(i,o){var a=t.getComponent(i.axis,o);if(a){var s=a.getCoordSysModel();s&&function(l,u,c,d){for(var h,f=0;f<c.length;f++)if(c[f].model===l){h=c[f];break}h||c.push(h={model:l,axisModels:[],coordIndex:d}),h.axisModels.push(u)}(s,a,n[s.mainType]||(n[s.mainType]=[]),s.componentIndex)}},this),n}});Cv.extend({type:"dataZoom.select"}),Mv.extend({type:"dataZoom.select"}),ua({getTargetSeries:function(e){var t=bn();return e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,o,a){ce(a.getAxisProxy(i.name,o).getTargetSeriesModels(),function(s){t.set(s.uid,s)})})}),t},modifyOutputEnd:!0,overallReset:function(e,t){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,o,a){a.getAxisProxy(i.name,o).reset(a,t)}),n.eachTargetAxis(function(i,o,a){a.getAxisProxy(i.name,o).filterData(a,t)})}),e.eachComponent("dataZoom",function(n){var i=n.findRepresentativeAxisProxy(),o=i.getDataPercentWindow(),a=i.getDataValueWindow();n.setCalculatedRange({start:o[0],end:o[1],startValue:a[0],endValue:a[1]})})}}),Lr("dataZoom",function(e,t){var n=function KI(e,t,n){return function(o){var a,s={nodes:[],records:{}};if(t(function(u){s.records[u.name]={}}),!o)return s;for(i(o,s);a=!1,e(l),a;);function l(u){var c,d,h;!(0<=Ge(s.nodes,u))&&(c=u,d=s,h=!1,t(function(f){ce(n(c,f)||[],function(p){d.records[f.name][p]&&(h=!0)})}),h)&&(i(u,s),a=!0)}return s};function i(o,a){a.nodes.push(o),t(function(s){ce(n(o,s)||[],function(l){a.records[s.name][l]=!0})})}}(et(t.eachComponent,t,"dataZoom"),oC,function(o,a){return o.get(a.axisIndex)}),i=[];t.eachComponent({mainType:"dataZoom",query:e},function(o,a){i.push.apply(i,n(o).nodes)}),ce(i,function(o,a){o.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})});var cC=ce;function kv(e,t,n){(this._brushController=new xu(n.getZr())).on("brush",et(this._onBrush,this)).mount()}kv.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:U(is.toolbox.dataZoom.title),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};var Cu=kv.prototype;Cu.render=function(e,t,n,i){this.model=e,this.ecModel=t,this.api=n,function(o,a,s,l,u){var c=s._isZoomActive;l&&"takeGlobalCursor"===l.type&&(c="dataZoomSelect"===l.key&&l.dataZoomSelectActive),s._isZoomActive=c,o.setIconStatus("zoom",c?"emphasis":"normal");var d=new xf(dC(o.option),a,{include:["grid"]});s._brushController.setPanels(d.makePanelOpts(u,function(h){return h.xAxisDeclared&&!h.yAxisDeclared?"lineX":!h.xAxisDeclared&&h.yAxisDeclared?"lineY":"rect"})).enableBrush(!!c&&{brushType:"auto",brushStyle:o.getModel("brushStyle").getItemStyle()})}(e,t,this,i,n),function(o,a){o.setIconStatus("back",1<_v(a).length?"emphasis":"normal")}(e,t)},Cu.onclick=function(e,t,n){QI[n].call(this)},Cu.remove=function(e,t){this._brushController.unmount()},Cu.dispose=function(e,t){this._brushController.dispose()};var QI={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(e){var t=_v(e),n=t[t.length-1];1<t.length&&t.pop();var i={};return nC(n,function(o,a){for(var s=t.length-1;0<=s;s--)if(o=t[s][a]){i[a]=o;break}}),i}(this.ecModel))}};function dC(e){var t={};return ce(["xAxisIndex","yAxisIndex"],function(n){t[n]=e[n],null==t[n]&&(t[n]="all"),!1!==t[n]&&"none"!==t[n]||(t[n]=[])}),t}function Tv(e){this.model=e}Cu._onBrush=function(e,t){if(t.isEnd&&e.length){var n={},i=this.ecModel;this._brushController.updateCovers([]),new xf(dC(this.model.option),i,{include:["grid"]}).matchOutputRanges(e,i,function(a,s,l){if("cartesian2d"===l.type){var u=a.brushType;"rect"===u?(o("x",l,s[0]),o("y",l,s[1])):o({lineX:"x",lineY:"y"}[u],l,s)}}),function(a,s){var l=_v(a);nC(s,function(u,c){for(var d=l.length-1;0<=d&&!l[d][c];d--);if(d<0){var h=a.queryComponents({mainType:"dataZoom",subType:"select",id:c})[0];if(h){var f=h.getPercentRange();l[0][c]={dataZoomId:c,start:f[0],end:f[1]}}}}),l.push(s)}(i,n),this._dispatchZoomAction(n)}function o(a,s,l){var f,p,F,u=s.getAxis(a),c=u.model,d=(f=a,p=c,i.eachComponent({mainType:"dataZoom",subType:"select"},function(P){P.getAxisModel(f,p.componentIndex)&&(F=P)}),F),h=d.findRepresentativeAxisProxy(c).getMinMaxSpan();null==h.minValueSpan&&null==h.maxValueSpan||(l=bl(0,l.slice(),u.scale.getExtent(),0,h.minValueSpan,h.maxValueSpan)),d&&(n[d.id]={dataZoomId:d.id,startValue:l[0],endValue:l[1]})}},Cu._dispatchZoomAction=function(e){var t=[];cC(e,function(n,i){t.push(U(n))}),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},_u("dataZoom",kv),Bo(function(e){if(e){var t=e.dataZoom||(e.dataZoom=[]);ze(t)||(e.dataZoom=t=[t]);var n=e.toolbox;if(n&&(ze(n)&&(n=n[0]),n&&n.feature)){var i=n.feature.dataZoom;o("xAxis",i),o("yAxis",i)}}function o(a,s){if(s){var l=a+"Index",u=s[l];null==u||"all"===u||ze(u)||(u=!1===u||"none"===u?[]:[u]),ze(h=e[a])||(h=h?[h]:[]),cC(h,function(c,d){if(null==u||"all"===u||-1!==Ge(u,d)){var h={type:"select",$fromToolbox:!0,filterMode:s.filterMode||"filter",id:"\0_ec_\0toolbox-dataZoom_"+a+d};h[l]=d,t.push(h)}})}var h}}),Tv.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:is.toolbox.restore.title},Tv.prototype.onclick=function(e,t,n){(function(i){i[bv]=null})(e),t.dispatchAction({type:"restore",from:this.uid})},_u("restore",Tv),Lr({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")}),ca({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var hC=ce,tD=Oy,nD=["","-webkit-","-moz-","-o-"];function fC(e,t,n,i,o){var u,d,a=t&&t.painter;if(n){var s=a&&a.getViewportRoot();s&&(u=e,d=document.body,Ei(ai,s,i,o,!0)&&Ei(u,d,ai[0],ai[1]))}else{e[0]=i,e[1]=o;var l=a&&a.getViewportRootOffset();l&&(e[0]+=l.offsetLeft,e[1]+=l.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function Av(e,t,n){if(Ne.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var o=this._zr=t.getZr(),a=this._appendToBody=n&&n.appendToBody;this._styleCoord=[0,0,0,0],fC(this._styleCoord,o,a,t.getWidth()/2,t.getHeight()/2),a?document.body.appendChild(i):e.appendChild(i),this._container=e,this._show=!1;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=o.handler;_r(o.painter.getViewportRoot(),l,!0),u.dispatch("mousemove",l)}},i.onmouseleave=function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}}function pC(e,t,n,i){e[0]=n,e[1]=i,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function Iv(e){var t=this._zr=e.getZr();this._styleCoord=[0,0,0,0],pC(this._styleCoord,t,e.getWidth()/2,e.getHeight()/2),this._show=!1}Av.prototype={constructor:Av,_enterable:!0,update:function(e){var t=this._container,n=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==n.position&&(i.position="relative"),e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[3],n=this._styleCoord[2]*this._zr.getWidth(),i=t*this._zr.getHeight();this.moveTo(n,i)},show:function(e){clearTimeout(this._hideTimeout);var t=this.el,n=this._styleCoord;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+function iD(e){var s,u,t=[],n=e.get("transitionDuration"),i=e.get("backgroundColor"),o=e.getModel("textStyle"),a=e.get("padding");return n&&t.push((u="left "+(s=n)+"s "+"cubic-bezier(0.23, 1, 0.32, 1)"+",top "+s+"s cubic-bezier(0.23, 1, 0.32, 1)",Oe(nD,function(c){return c+"transition:"+u}).join(";"))),i&&(Ne.canvasSupported?t.push("background-Color:"+i):(t.push("background-Color:#"+Ti(i)),t.push("filter:alpha(opacity=70)"))),hC(["width","color","radius"],function(s){var l="border-"+s,u=tD(l),c=e.get(u);null!=c&&t.push(l+":"+c+("color"===s?"":"px"))}),t.push(function(s){var l=[],u=s.get("fontSize"),c=s.getTextColor();c&&l.push("color:"+c),l.push("font:"+s.getFont());var d=s.get("lineHeight");null==d&&(d=Math.round(3*u/2)),u&&l.push("line-height:"+d+"px");var h=s.get("textShadowColor"),f=s.get("textShadowBlur")||0,p=s.get("textShadowOffsetX")||0,v=s.get("textShadowOffsetY")||0;return f&&l.push("text-shadow:"+p+"px "+v+"px "+f+"px "+h),hC(["decoration","align"],function(F){var P=s.get(F);P&&l.push("text-"+F+":"+P)}),l.join(";")}(o)),null!=a&&t.push("padding:"+il(a).join("px ")+"px"),t.join(";")+";"}(e)+";left:"+n[0]+"px;top:"+n[1]+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(e){this.el.innerHTML=e??""},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n=this._styleCoord;fC(n,this._zr,this._appendToBody,e,t);var i=this.el.style;i.left=n[0]+"px",i.top=n[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(et(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(e+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),t+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:t}}},Iv.prototype={constructor:Iv,_enterable:!0,update:function(e){e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[3],n=this._styleCoord[2]*this._zr.getWidth(),i=t*this._zr.getHeight();this.moveTo(n,i)},show:function(e){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(e,t,n){this.el&&this._zr.remove(this.el);for(var i={},o=e,a="{marker",s=o.indexOf(a);0<=s;){var l=o.indexOf("|}"),u=o.substr(s+a.length,l-s-a.length);i["marker"+u]=-1<u.indexOf("sub")?{textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:t[u],textOffset:[3,0]}:{textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:t[u]},s=(o=o.substr(l+1)).indexOf("{marker")}var c=n.getModel("textStyle"),d=c.get("fontSize"),h=n.get("textLineHeight");null==h&&(h=Math.round(3*d/2)),this.el=new Cr({style:uo({},c,{rich:i,text:e,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding"),textLineHeight:h}),z:n.get("z")}),this._zr.add(this.el);var f=this;this.el.on("mouseover",function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0}),this.el.on("mouseout",function(){f._enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1})},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,t){if(this.el){var n=this._styleCoord;pC(n,this._zr,e,t),this.el.attr("position",[n[0],n[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(et(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var e=this.getSize();return{width:e[0],height:e[1]}}};var gC=et,jc=ce,mC=Mi,rD=new Rr({shape:{x:-1,y:-1,width:2,height:2}});function Dv(e){for(var t=e.pop();e.length;){var n=e.pop();n&&(Nr.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),t=new Nr(n,t,t.ecModel))}return t}function vC(e,t){return e.dispatchAction||et(t.dispatchAction,t)}function yC(e){return"center"===e||"middle"===e}Ao({type:"tooltip",init:function(e,t){if(!Ne.node){var n,i=e.getComponent("tooltip"),o=i.get("renderMode");this._renderMode=R0(o),"html"===this._renderMode?(n=new Av(t.getDom(),t,{appendToBody:i.get("appendToBody",!0)}),this._newLine="<br/>"):(n=new Iv(t),this._newLine="\n"),this._tooltipContent=n}},render:function(e,t,n){if(!Ne.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var i=this._tooltipContent;i.update(e),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");nS("itemTooltip",this._api,gC(function(t,n,i){"none"!==e&&(0<=e.indexOf(t)?this._tryShow(n,i):"leave"===t&&this._hide(i))},this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.isDisposed()||i.manuallyShowTip(e,t,n,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(e,t,n,i){if(i.from!==this.uid&&!Ne.node){var o=vC(i,n);this._ticket="";var a=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var s=rD;s.position=[i.x,i.y],s.update(),s.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:s},o)}else if(a)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},o);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,i))return;var l=Kw(i,t),u=l.point[0],c=l.point[1];null!=u&&null!=c&&this._tryShow({offsetX:u,offsetY:c,position:i.position,target:l.el},o)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},o))}},manuallyHideTip:function(e,t,n,i){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(vC(i,n))},_manuallyAxisShowTip:function(e,t,n,i){var o=i.seriesIndex,a=i.dataIndex,s=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=s){var l=t.getSeriesByIndex(o);if(l&&"axis"===(e=Dv([l.getData().getItemModel(a),l,(l.coordinateSystem||{}).model,e])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:i.position}),!0}},_tryShow:function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get("showDelay");t=et(t,this),clearTimeout(this._showTimout),0<n?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,o=[t.offsetX,t.offsetY],a=[],s=[],l=Dv([t.tooltipOption,this._tooltipModel]),u=this._renderMode,c=this._newLine,d={};jc(e,function(f){jc(f.dataByAxis,function(p){var v=n.getComponent(p.axisDim+"Axis",p.axisIndex),F=p.value,P=[];if(v&&null!=F){var ee=cS(F,v.axis,n,p.seriesDataIndices,p.valueLabelOpt);ce(p.seriesDataIndices,function(ae){var we=n.getSeriesByIndex(ae.seriesIndex),_e=ae.dataIndexInside,Ce=we&&we.getDataParams(_e);if(Ce.axisDim=p.axisDim,Ce.axisIndex=p.axisIndex,Ce.axisType=p.axisType,Ce.axisId=p.axisId,Ce.axisValue=wg(v.axis,F),Ce.axisValueLabel=ee,Ce){s.push(Ce);var Le,Fe=we.formatTooltip(_e,!0,null,u);st(Fe)?(Le=Fe.html,oe(d,Fe.markers)):Le=Fe,P.push(Le)}});var le=ee;a.push("html"!==u?P.join(c):(le?ro(le)+c:"")+P.join(c))}})},this),a.reverse(),a=a.join(this._newLine+this._newLine);var h=t.position;this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(l,h,o[0],o[1],this._tooltipContent,s):this._showTooltipContent(l,a,s,Math.random(),o[0],o[1],h,void 0,d)})},_showSeriesItemTooltip:function(e,t,n){var o=t.seriesIndex,a=this._ecModel.getSeriesByIndex(o),s=t.dataModel||a,l=t.dataIndex,u=t.dataType,c=s.getData(u),d=Dv([c.getItemModel(l),s,a&&(a.coordinateSystem||{}).model,this._tooltipModel]),h=d.get("trigger");if(null==h||"item"===h){var f,p,v=s.getDataParams(l,u),F=s.formatTooltip(l,!1,u,this._renderMode);p=st(F)?(f=F.html,F.markers):(f=F,null);var P="item_"+s.name+"_"+l;this._showOrMove(d,function(){this._showTooltipContent(d,f,v,P,e.offsetX,e.offsetY,e.position,e.target,p)}),n({type:"showTip",dataIndexInside:l,dataIndex:c.getRawIndex(l),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var i=t.tooltip;"string"==typeof i&&(i={content:i,formatter:i});var o=new Nr(i,this._tooltipModel,this._ecModel),a=o.get("content"),s=Math.random();this._showOrMove(o,function(){this._showTooltipContent(o,a,o.get("formatterParams")||{},s,e.offsetX,e.offsetY,e.position,t)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,n,i,o,a,s,l,u){if(this._ticket="",e.get("showContent")&&e.get("show")){var c=this._tooltipContent,d=e.get("formatter");s=s||e.get("position");var h=t;if(d&&"string"==typeof d)h=Mp(d,n,!0);else if("function"==typeof d){var f=gC(function(p,v){p===this._ticket&&(c.setContent(v,u,e),this._updatePosition(e,s,o,a,c,n,l))},this);this._ticket=i,h=d(n,i,f)}c.setContent(h,u,e),c.show(e),this._updatePosition(e,s,o,a,c,n,l)}},_updatePosition:function(e,t,n,i,o,a,s){var l=this._api.getWidth(),u=this._api.getHeight();t=t||e.get("position");var F,P,ee,le,ae,we,_e,Ce,Le,Fe,c=o.getSize(),d=e.get("align"),h=e.get("verticalAlign"),f=s&&s.getBoundingRect().clone();if(s&&f.applyTransform(s.transform),"function"==typeof t&&(t=t([n,i],a,o.el,f,{viewSize:[l,u],contentSize:c.slice()})),ze(t))n=mC(t[0],l),i=mC(t[1],u);else if(st(t)){t.width=c[0],t.height=c[1];var p=xo(t,{width:l,height:u});n=p.x,i=p.y,h=d=null}else if("string"==typeof t&&s)n=(v=function(F,P,ee){var le=ee[0],ae=ee[1],we=0,_e=0,Ce=P.width,Le=P.height;switch(F){case"inside":we=P.x+Ce/2-le/2,_e=P.y+Le/2-ae/2;break;case"top":we=P.x+Ce/2-le/2,_e=P.y-ae-5;break;case"bottom":we=P.x+Ce/2-le/2,_e=P.y+Le+5;break;case"left":we=P.x-le-5,_e=P.y+Le/2-ae/2;break;case"right":we=P.x+Ce+5,_e=P.y+Le/2-ae/2}return[we,_e]}(t,f,c))[0],i=v[1];else{var v;n=(F=n,P=i,ee=o,le=l,ae=u,we=d?null:20,_e=h?null:20,Ce=ee.getOuterSize(),Le=Ce.width,Fe=Ce.height,null!=we&&(le<F+Le+we?F-=Le+we:F+=we),null!=_e&&(ae<P+Fe+_e?P-=Fe+_e:P+=_e),v=[F,P])[0],i=v[1]}d&&(n-=yC(d)?c[0]/2:"right"===d?c[0]:0),h&&(i-=yC(h)?c[1]/2:"bottom"===h?c[1]:0),e.get("confine")&&(n=(v=function(F,P,ee,le,ae){var we=ee.getOuterSize(),_e=we.width,Ce=we.height;return F=Math.min(F+_e,le)-_e,P=Math.min(P+Ce,ae)-Ce,[F=Math.max(F,0),P=Math.max(P,0)]}(n,i,o,l,u))[0],i=v[1]),o.moveTo(n,i)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&jc(t,function(i,o){var a=i.dataByAxis||{},s=(e[o]||{}).dataByAxis||[];(n&=a.length===s.length)&&jc(a,function(l,u){var c=s[u]||{},d=l.seriesDataIndices||[],h=c.seriesDataIndices||[];(n&=l.value===c.value&&l.axisType===c.axisType&&l.axisId===c.axisId&&d.length===h.length)&&jc(d,function(f,p){var v=h[p];n&=f.seriesIndex===v.seriesIndex&&f.dataIndex===v.dataIndex})})}),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){Ne.node||(this._tooltipContent.dispose(),iv("itemTooltip",t))}}),Lr({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),Lr({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var oD=["rect","polygon","keep","clear"],xC=ce;function bC(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function Ev(e,t,n){var i={};return xC(t,function(o){var a=i[o]=function(){function s(){}return s.prototype.__hidden=s.prototype,new s}();xC(e[o],function(s,l){if(qr.isValidType(l)){var u={type:l,visual:s};n&&n(u,o),a[l]=new qr(u),"opacity"===l&&((u=U(u)).type="colorAlpha",a.__hidden.__alphaForOpacity=new qr(u))}})}),i}function _C(e,t,n){var i;ce(n,function(o){t.hasOwnProperty(o)&&bC(t[o])&&(i=!0)}),i&&ce(n,function(o){t.hasOwnProperty(o)&&bC(t[o])?e[o]=U(t[o]):delete e[o]})}var Nv={lineX:wC(0),lineY:wC(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&dl(n.range,e[0],e[1])},rect:function(e,t,n){var i=n.range;if(!e||i.length<=1)return!1;var o=e.x,a=e.y,s=e.width,l=e.height,u=i[0];return!!(dl(i,o,a)||dl(i,o+s,a)||dl(i,o,a+l)||dl(i,o+s,a+l)||C.create(e).contain(u[0],u[1])||Hu(o,a,o+s,a,i)||Hu(o,a,o,a+l,i)||Hu(o+s,a,o+s,a+l,i)||Hu(o,a+l,o+s,a+l,i))||void 0}}};function wC(e){var t=["x","y"],n=["width","height"];return{point:function(i,o,a){if(i)return Uc(i[e],a.range)},rect:function(i,o,a){if(i){var s=a.range,l=[i[t[e]],i[t[e]]+i[n[e]]];return l[1]<l[0]&&l.reverse(),Uc(l[0],s)||Uc(l[1],s)||Uc(s[0],l)||Uc(s[1],l)}}}}function Uc(e,t){return t[0]<=e&&e<=t[1]}var SC=["inBrush","outOfBrush"],Lv="__ecBrushSelect",Pv="__ecInBrushSelectEvent",CC=ja.VISUAL.BRUSH;function MC(e){e.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new xf(t.option,e)).setInputRanges(t.areas,e)})}function aD(e,t){if(!e.isDisposed()){var n=e.getZr();n[Pv]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[Pv]=!1}}function kC(e,t,n,i){for(var o=0,a=t.length;o<a;o++){var s=t[o];if(e[s.brushType](i,n,s.selectors,s))return!0}}function TC(e){var t=e.brushSelector;if(Je(t)){var n=[];return ce(Nv,function(o,a){n[a]=function(s,l,u,c){var d=l.getItemLayout(s);return o[t](d,u,c)}}),n}if(Xe(t)){var i={};return ce(Nv,function(o,a){i[a]=t}),i}return t}ho(CC,function(e,t,n){e.eachComponent({mainType:"brush"},function(i){n&&"takeGlobalCursor"===n.type&&i.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})}),MC(e)}),eo(CC,function(e,t,n){var i,o,a=[];e.eachComponent({mainType:"brush"},function(s,l){var u={brushId:s.id,brushIndex:l,brushName:s.name,areas:U(s.areas),selected:[]};a.push(u);var c=s.option,d=c.brushLink,h=[],f=[],p=[],v=0;l||(i=c.throttleType,o=c.throttleDelay);var F=Oe(s.areas,function(ae){return we=be({boundingRect:sD[ae.brushType](ae)},ae),_e=we.selectors={},ce(Nv[we.brushType],function(Ce,Le){_e[Le]=function(Fe){return Ce(Fe,_e,we)}}),we;var we,_e}),P=Ev(s.option,SC,function(ae){ae.mappingMethod="fixed"});function ee(ae){return"all"===d||h[ae]}function le(ae){return!!ae.length}ze(d)&&ce(d,function(ae){h[ae]=1}),e.eachSeries(function(ae,we){var Ce,Le,Fe,_e=p[we]=[];"parallel"===ae.subType?(Le=we,v|=(Fe=(Ce=ae).coordinateSystem).hasAxisBrushed(),ee(Le)&&Fe.eachActiveState(Ce.getData(),function(at,pt){"active"===at&&(f[pt]=1)})):function(Ce,Le,Fe){var Rt,Ot,at=TC(Ce);if(at&&(Rt=Le,null==(Ot=s.option.seriesIndex)||"all"===Ot||!(ze(Ot)?Ge(Ot,Rt)<0:Rt!==Ot))&&(ce(F,function(wt){at[wt.brushType]&&s.brushTargetManager.controlSeries(wt,Ce,e)&&Fe.push(wt),v|=le(Fe)}),ee(Le)&&le(Fe))){var pt=Ce.getData();pt.each(function(wt){kC(at,Fe,pt,wt)&&(f[wt]=1)})}}(ae,we,_e)}),e.eachSeries(function(ae,we){var _e={seriesId:ae.id,seriesIndex:we,seriesName:ae.name,dataIndex:[]};u.selected.push(_e);var Ce=TC(ae),Le=p[we],Fe=ae.getData(),at=ee(we)?function(pt){return f[pt]?(_e.dataIndex.push(Fe.getRawIndex(pt)),"inBrush"):"outOfBrush"}:function(pt){return kC(Ce,Le,Fe,pt)?(_e.dataIndex.push(Fe.getRawIndex(pt)),"inBrush"):"outOfBrush"};(ee(we)?v:le(Le))&&function(pt,wt,Rt,Ot,Wt,Qt){var rn,$t={};function Sn(Hn){return Rt.getItemVisual(rn,Hn)}function Un(Hn,li){Rt.setItemVisual(rn,Hn,li)}function Zn(Hn,li){var Si=Rt.getRawDataItem(rn=null==Qt?Hn:li);if(!Si||!1!==Si.visualMap)for(var Xi=Ot.call(Wt,Hn),ri=wt[Xi],Gi=$t[Xi],Zi=0,ar=Gi.length;Zi<ar;Zi++){var Fr=Gi[Zi];ri[Fr]&&ri[Fr].applyVisual(Hn,Sn,Un)}}ce(pt,function(Hn){var li=qr.prepareVisualTypes(wt[Hn]);$t[Hn]=li}),null==Qt?Rt.each(Zn):Rt.each([Qt],Zn)}(SC,P,Fe,at)})}),function(s,l,u,c,d){if(d){var h=s.getZr();h[Pv]||(h[Lv]||(h[Lv]=aD),Qu(h,Lv,u,l)(s,c))}}(t,i,o,a,n)});var sD={lineX:fn,lineY:fn,rect:function(e){return AC(e.range)},polygon:function(e){for(var t,n=e.range,i=0,o=n.length;i<o;i++){var a=n[i];a[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&AC(t)}};function AC(e){return new C(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var lD=["#ddd"];function IC(e,t){return oe({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new Nr(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}function Rv(e,t,n,i){i&&i.$from===e.id||this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())}function Ov(e,t,n){this.model=e,this.ecModel=t,this.api=n}ca({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,t){var n=this.option;t||_C(n,e,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:lD},i.hasOwnProperty("liftZ")||(i.liftZ=5)},setAreas:function(e){e&&(this.areas=Oe(e,function(t){return IC(this.option,t)},this))},setBrushOption:function(e){this.brushOption=IC(this.option,e),this.brushType=this.brushOption.brushType}}),Ao({type:"brush",init:function(e,t){this.ecModel=e,this.api=t,(this._brushController=new xu(t.getZr())).on("brush",et(this._onBrush,this)).mount()},render:function(e){return this.model=e,Rv.apply(this,arguments)},updateTransform:function(e,t){return MC(t),Rv.apply(this,arguments)},updateView:Rv,dispose:function(){this._brushController.dispose()},_onBrush:function(e,t){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel),t.isEnd&&!t.removeOnClick||this.api.dispatchAction({type:"brush",brushId:n,areas:U(e),$from:n}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:U(e),$from:n})}}),Lr({type:"brush",event:"brush"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),Lr({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),Lr({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),Ov.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:U(is.toolbox.brush.title)};var bf=Ov.prototype;function DC(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),i=e.label||e.label||{},o=i.normal||(i.normal={}),a={normal:1,emphasis:1};ce(i,function(s,l){a[l]||Dl(o,l)||(o[l]=s)}),n.label&&!Dl(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function Dl(e,t){return e.hasOwnProperty(t)}bf.render=bf.updateView=function(e,t,n){var i,o,a;t.eachComponent({mainType:"brush"},function(s){i=s.brushType,o=s.brushOption.brushMode||"single",a|=s.areas.length}),this._brushType=i,this._brushMode=o,ce(e.get("type",!0),function(s){e.setIconStatus(s,("keep"===s?"multiple"===o:"clear"===s?a:s===i)?"emphasis":"normal")})},bf.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return ce(e.get("type",!0),function(i){t[i]&&(n[i]=t[i])}),n},bf.onclick=function(e,t,n){var i=this._brushType,o=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===o?"single":"multiple":o}})},_u("brush",Ov),Bo(function(e,t){var u,c,n=e&&e.brush;if(ze(n)||(n=n?[n]:[]),n.length){var i=[];ce(n,function(u){var c=u.hasOwnProperty("toolbox")?u.toolbox:[];c instanceof Array&&(i=i.concat(c))});var o=e&&e.toolbox;ze(o)&&(o=o[0]),o||(e.toolbox=[o={feature:{}}]);var a=o.feature||(o.feature={}),s=a.brush||(a.brush={}),l=s.type||(s.type=[]);l.push.apply(l,i),c={},ce(u=l,function(d){c[d]=1}),u.length=0,ce(c,function(d,h){u.push(h)}),t&&!l.length&&l.push.apply(l,oD)}}),ca({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),Ao({type:"title",render:function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this.group,o=e.getModel("textStyle"),a=e.getModel("subtextStyle"),s=e.get("textAlign"),l=Ht(e.get("textBaseline"),e.get("textVerticalAlign")),u=new Cr({style:uo({},o,{text:e.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),c=u.getBoundingRect(),d=e.get("subtext"),h=new Cr({style:uo({},a,{text:d,textFill:a.getTextColor(),y:c.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),f=e.get("link"),p=e.get("sublink"),v=e.get("triggerEvent",!0);u.silent=!f&&!v,h.silent=!p&&!v,f&&u.on("click",function(){Uu(f,"_"+e.get("target"))}),p&&h.on("click",function(){Uu(p,"_"+e.get("subtarget"))}),u.eventData=h.eventData=v?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(u),d&&i.add(h);var F=i.getBoundingRect(),P=e.getBoxLayoutParams();P.width=F.width,P.height=F.height;var ee=xo(P,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));s||("middle"===(s=e.get("left")||e.get("right"))&&(s="center"),"right"===s?ee.x+=ee.width:"center"===s&&(ee.x+=ee.width/2)),l||("center"===(l=e.get("top")||e.get("bottom"))&&(l="middle"),"bottom"===l?ee.y+=ee.height:"middle"===l&&(ee.y+=ee.height/2),l=l||"top"),i.attr("position",[ee.x,ee.y]);var le={textAlign:s,textVerticalAlign:l};u.setStyle(le),h.setStyle(le),F=i.getBoundingRect();var ae=ee.margin,we=e.getItemStyle(["color","opacity"]);we.fill=e.get("backgroundColor");var _e=new Rr({shape:{x:F.x-ae[3],y:F.y-ae[0],width:F.width+ae[1]+ae[3],height:F.height+ae[0]+ae[2],r:e.get("borderRadius")},style:we,subPixelOptimize:!0,silent:!0});i.add(_e)}}}),Or.registerSubTypeDefaulter("timeline",function(){return"slider"}),Lr({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t){var n=t.getComponent("timeline");return n&&null!=e.currentIndex&&(n.setCurrentIndex(e.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),t.resetOption("timeline"),be({currentIndex:n.option.currentIndex},e)}),Lr({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)});var EC=Or.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},mergeOption:function(e){EC.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(t<=e&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option,t=e.data||[],n=e.axisType,i=this._names=[];if("category"===n){var o=[];ce(t,function(s,l){var u,c=Du(s);st(s)?(u=U(s)).value=l:u=l,o.push(u),Je(c)||null!=c&&!isNaN(c)||(c=""),i.push(c+"")}),t=o}(this._data=new Io([{name:"value",type:{category:"ordinal",time:"time"}[n]||"number"}],this)).initData(t,i)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});function _f(e,t,n,i){wo.call(this,e,t,n),this.type=i||"value",this.model=null}Te(EC.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),jp);var cD=Ga.extend({type:"timeline"});_f.prototype={constructor:_f,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},ye(_f,wo);var Gs=et,Bv=ce,zv=Math.PI;function NC(e,t,n,i,o,a){var s=t.get("color");o?(o.setColor(s),n.add(o),a&&a.onUpdate(o)):((o=da(e.get("symbol"),-1,-1,2,2,s)).setStyle("strokeNoScale",!0),n.add(o),a&&a.onCreate(o));var l=t.getItemStyle(["color","symbol","symbolSize"]);o.setStyle(l),i=oe({rectHover:!0,z2:100},i,!0);var u=e.get("symbolSize");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,i.scale=u;var c=e.get("symbolOffset");if(c){var d=i.position=i.position||[0,0];d[0]+=Mi(c[0],u[0]),d[1]+=Mi(c[1],u[1])}var h=e.get("symbolRotate");return i.rotation=(h||0)*Math.PI/180||0,o.attr(i),o.updateTransform(),o}function LC(e,t,n,i,o){if(!e.dragging){var a=i.getModel("checkpointStyle"),s=n.dataToCoord(i.getData().get(["value"],t));o||!a.get("animation",!0)?e.attr({position:[s,0]}):(e.stopAnimation(!0),e.animateTo({position:[s,0]},a.get("animationDuration",!0),a.get("animationEasing",!0)))}}cD.extend({type:"timeline.slider",init:function(e,t){this.api=t},render:function(e,t,n,i){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,n),a=this._createGroup("mainGroup"),s=this._createGroup("labelGroup"),l=this._axis=this._createAxis(o,e);e.formatTooltip=function(u){return ro(l.scale.getLabel(u))},Bv(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,a,l,e)},this),this._renderAxisLabel(o,s,l,e),this._position(o,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var at,pt,n=e.get("label.position"),i=e.get("orient"),o=(pt=t,xo((at=e).getBoxLayoutParams(),{width:pt.getWidth(),height:pt.getHeight()},at.get("padding")));null==n||"auto"===n?n="horizontal"===i?o.y+o.height/2<t.getHeight()/2?"-":"+":o.x+o.width/2<t.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][n]);var a,s,l,u,c={horizontal:"center",vertical:0<=n||"+"===n?"left":"right"},d={horizontal:0<=n||"+"===n?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:zv/2},f="vertical"===i?o.height:o.width,p=e.getModel("controlStyle"),v=p.get("show",!0),F=v?p.get("itemSize"):0,P=v?p.get("itemGap"):0,ee=F+P,le=e.get("label.rotate")||0;le=le*zv/180;var ae=p.get("position",!0),we=v&&p.get("showPlayBtn",!0),_e=v&&p.get("showPrevBtn",!0),Le=0,Fe=f;return"left"===ae||"bottom"===ae?(we&&(a=[0,0],Le+=ee),_e&&(s=[Le,0],Le+=ee)):(we&&(a=[Fe-F,0],Fe-=ee),_e&&(s=[0,0],Le+=ee)),v&&p.get("showNextBtn",!0)&&(l=[Fe-F,0],Fe-=ee),u=[Le,Fe],e.get("inverse")&&u.reverse(),{viewRect:o,mainLength:f,orient:i,rotation:h[i],labelRotation:le,labelPosOpt:n,labelAlign:e.get("label.align")||c[i],labelBaseline:e.get("label.verticalAlign")||e.get("label.baseline")||d[i],playPosition:a,prevBtnPosition:s,nextBtnPosition:l,axisExtent:u,controlSize:F,controlGap:P}},_position:function(e,t){var n=this._mainGroup,i=this._labelGroup,o=e.viewRect;if("vertical"===e.orient){var a=Yi(),s=o.x,l=o.y+o.height;De(a,a,[-s,-l]),Ee(a,a,-zv/2),De(a,a,[s,l]),(o=o.clone()).applyTransform(a)}var u=P(o),c=P(n.getBoundingRect()),d=P(i.getBoundingRect()),h=n.position,f=i.position;f[0]=h[0]=u[0][0];var p,v=e.labelPosOpt;function F(le){var ae=le.position;le.origin=[u[0][0]-ae[0],u[1][0]-ae[1]]}function P(le){return[[le.x,le.x+le.width],[le.y,le.y+le.height]]}function ee(le,ae,we,_e,Ce){le[_e]+=we[_e][Ce]-ae[_e][Ce]}isNaN(v)?(ee(h,c,u,1,p="+"===v?0:1),ee(f,d,u,1,1-p)):(ee(h,c,u,1,p=0<=v?0:1),f[1]=h[1]+v),n.attr("position",h),i.attr("position",f),n.rotation=i.rotation=e.rotation,F(n),F(i)},_createAxis:function(e,t){var n=t.getData(),i=t.get("axisType"),o=eu(t,i);o.getTicks=function(){return n.mapArray(["value"],function(l){return l})};var a=n.getDataExtent("value");o.setExtent(a[0],a[1]),o.niceTicks();var s=new _f("value",o,e.axisExtent,i);return s.model=t,s},_createGroup:function(e){var t=this["_"+e]=new E;return this.group.add(t),t},_renderAxisLine:function(e,t,n,i){var o=n.getExtent();i.get("lineStyle.show")&&t.add(new Ro({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:ue({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,n,i){var o=i.getData(),a=n.scale.getTicks();Bv(a,function(s){var l=n.dataToCoord(s),u=o.getItemModel(s),c=u.getModel("itemStyle"),d=u.getModel("emphasis.itemStyle"),h={position:[l,0],onclick:Gs(this._changeTimeline,this,s)},f=NC(u,c,t,h);no(f,d.getItemStyle()),u.get("tooltip")?(f.dataIndex=s,f.dataModel=i):f.dataIndex=f.dataModel=null},this)},_renderAxisLabel:function(e,t,n,i){if(n.getLabelModel().get("show")){var o=i.getData(),a=n.getViewLabels();Bv(a,function(s){var l=s.tickValue,u=o.getItemModel(l),c=u.getModel("label"),d=u.getModel("emphasis.label"),h=n.dataToCoord(s.tickValue),f=new Cr({position:[h,0],rotation:e.labelRotation-e.rotation,onclick:Gs(this._changeTimeline,this,l),silent:!1});uo(f.style,c,{text:s.formattedLabel,textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline}),t.add(f),no(f,uo({},d))},this)}},_renderControl:function(e,t,n,i){var o=e.controlSize,a=e.rotation,s=i.getModel("controlStyle").getItemStyle(),l=i.getModel("emphasis.controlStyle").getItemStyle(),u=[0,-o/2,o,o],c=i.getPlayState(),d=i.get("inverse",!0);function h(f,p,v,F){if(f){var P=(ae=u,_e=(we={position:f,origin:[o/2,0],rotation:F?-a:0,rectHover:!0,style:s,onclick:v}).style,Ce=jl(i.get(p),we||{},new C(ae[0],ae[1],ae[2],ae[3])),_e&&Ce.setStyle(_e),Ce);t.add(P),no(P,l)}var ae,we,_e,Ce}h(e.nextBtnPosition,"controlStyle.nextIcon",Gs(this._changeTimeline,this,d?"-":"+")),h(e.prevBtnPosition,"controlStyle.prevIcon",Gs(this._changeTimeline,this,d?"+":"-")),h(e.playPosition,"controlStyle."+(c?"stopIcon":"playIcon"),Gs(this._handlePlayClick,this,!c),!0)},_renderCurrentPointer:function(e,t,n,i){var o=i.getData(),a=i.getCurrentIndex(),s=o.getItemModel(a).getModel("checkpointStyle"),l=this;this._currentPointer=NC(s,s,this._mainGroup,{},this._currentPointer,{onCreate:function(c){c.draggable=!0,c.drift=Gs(l._handlePointerDrag,l),c.ondragend=Gs(l._handlePointerDragend,l),LC(c,a,n,i,!0)},onUpdate:function(c){LC(c,a,n,i)}})},_handlePlayClick:function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var n=this._toAxisCoord(e)[0],i=nl(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var o=this._findNearestTick(n),a=this.model;(t||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(Gs(function(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(e){return Wa(e,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(e){var t,n=this.model.getData(),i=1/0,o=this._axis;return n.each(["value"],function(a,s){var l=o.dataToCoord(a),u=Math.abs(l-e);u<i&&(i=u,t=s)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}}),Bo(function(e){var t=e&&e.timeline;ze(t)||(t=t?[t]:[]),ce(t,function(n){n&&function(i){var o=i.type,a={number:"value",time:"time"};if(a[o]&&(i.axisType=a[o],delete i.type),DC(i),Dl(i,"controlPosition")){var s=i.controlStyle||(i.controlStyle={});Dl(s,"position")||(s.position=i.controlPosition),"none"!==s.position||Dl(s,"show")||(s.show=!1,delete s.position),delete i.controlPosition}ce(i.data||[],function(l){st(l)&&!ze(l)&&(!Dl(l,"value")&&Dl(l,"name")&&(l.value=l.name),DC(l))})}(n)})});var PC=Ss,Fv=ro;function wf(e){Xs(e,"label",["show"])}var Sf=ca({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},isAnimationEnabled:function(){if(Ne.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(e,t){this._mergeOption(e,t,!1,!1)},_mergeOption:function(e,t,n,i){var o=this.constructor,a=this.mainType+"Model";n||t.eachSeries(function(s){var l=s.get(this.mainType,!0),u=s[a];l&&l.data?(u?u._mergeOption(l,t,!0):(i&&wf(l),ce(l.data,function(c){c instanceof Array?(wf(c[0]),wf(c[1])):wf(c)}),ue(u=new o(l,this,t),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),s[a]=u):s[a]=null},this)},formatTooltip:function(e,t,n,i){var o=this.getData(),a=this.getRawValue(e),s=ze(a)?Oe(a,PC).join(", "):PC(a),l=o.getName(e),u=Fv(this.name);return null==a&&!l||(u+="html"===i?"<br/>":"\n"),l&&(u+=Fv(l),null!=a&&(u+=" : ")),null!=a&&(u+=Fv(s)),u},getData:function(){return this._data},setData:function(e){this._data=e}});Te(Sf,jp),Sf.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var RC=Ge;function Vv(e,t,n,i,o,a){var s=[],l=os(t,i)?t.getCalculationInfo("stackResultDimension"):i,u=Gv(t,l,e),c=t.indicesOfNearest(l,u)[0];s[o]=t.get(n,c),s[a]=t.get(l,c);var d=t.get(i,c),h=Ny(t.get(i,c));return 0<=(h=Math.min(h,20))&&(s[a]=+s[a].toFixed(h)),[s,d]}var Hv=xt,Wv={min:Hv(Vv,"min"),max:Hv(Vv,"max"),average:Hv(Vv,"average")};function qc(e,t){var h,n=e.getData(),i=e.coordinateSystem;if(t&&(h=t,isNaN(parseFloat(h.x))||isNaN(parseFloat(h.y)))&&!ze(t.coord)&&i){var o=i.dimensions,a=OC(t,n,i,e);if((t=U(t)).type&&Wv[t.type]&&a.baseAxis&&a.valueAxis){var s=RC(o,a.baseAxis.dim),l=RC(o,a.valueAxis.dim),u=Wv[t.type](n,a.baseDataDim,a.valueDataDim,s,l);t.coord=u[0],t.value=u[1]}else{for(var c=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],d=0;d<2;d++)Wv[c[d]]&&(c[d]=Gv(n,n.mapDimension(o[d]),c[d]));t.coord=c}}return t}function OC(e,t,n,i){var o={};return null!=e.valueIndex||null!=e.valueDim?(o.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,o.valueAxis=n.getAxis(function(a,s){var l=a.getData(),u=l.dimensions;s=l.getDimension(s);for(var c=0;c<u.length;c++){var d=l.getDimensionInfo(u[c]);if(d.name===s)return d.coordDim}}(i,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim)):(o.baseAxis=i.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim),o.valueDataDim=t.mapDimension(o.valueAxis.dim)),o}function Yc(e,t){return!(e&&e.containData&&t.coord&&!function(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}(t))||e.containData(t.coord)}function BC(e,t,n,i){return i<2?e.coord&&e.coord[i]:e.value}function Gv(e,t,n){if("average"!==n)return"median"===n?e.getMedian(t):e.getDataExtent(t,!0)["max"===n?1:0];var i=0,o=0;return e.each(t,function(a,s){isNaN(a)||(i+=a,o++)}),i/o}var jv=Ao({type:"marker",init:function(){this.markerGroupMap=bn()},render:function(e,t,n){var i=this.markerGroupMap;i.each(function(a){a.__keep=!1});var o=this.type+"Model";t.eachSeries(function(a){var s=a[o];s&&this.renderSeries(a,s,t,n)},this),i.each(function(a){a.__keep||this.group.remove(a.group)},this)},renderSeries:function(){}});function zC(e,t,n){var i=t.coordinateSystem;e.each(function(o){var a,s=e.getItemModel(o),l=Mi(s.get("x"),n.getWidth()),u=Mi(s.get("y"),n.getHeight());if(isNaN(l)||isNaN(u)){if(t.getMarkerPosition)a=t.getMarkerPosition(e.getValues(e.dimensions,o));else if(i){var c=e.get(i.dimensions[0],o),d=e.get(i.dimensions[1],o);a=i.dataToPoint([c,d])}}else a=[l,u];isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u),e.setItemLayout(o,a)})}function dD(e,t,n,i){var o=e.getData(),a=i.type;if(!ze(i)&&("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis)){var s,l;if(null!=i.yAxis||null!=i.xAxis)s=t.getAxis(null!=i.yAxis?"y":"x"),l=en(i.yAxis,i.xAxis);else{var u=OC(i,o,t,e);s=u.valueAxis,l=Gv(o,uc(o,u.valueDataDim),a)}var c="x"===s.dim?0:1,d=1-c,h=U(i),f={};h.type=null,h.coord=[],f.coord=[],h.coord[d]=-1/0,f.coord[d]=1/0;var p=n.get("precision");0<=p&&"number"==typeof l&&(l=+l.toFixed(Math.min(p,20))),h.coord[c]=f.coord[c]=l,i=[h,f,{type:a,valueIndex:i.valueIndex,value:l}]}return(i=[qc(e,i[0]),qc(e,i[1]),ue({},i[2])])[2].type=i[2].type||"",oe(i[2],i[0]),oe(i[2],i[1]),i}function Cf(e){return!isNaN(e)&&!isFinite(e)}function FC(e,t,n,i){var o=1-e,a=i.dimensions[e];return Cf(t[o])&&Cf(n[o])&&t[e]===n[e]&&i.getAxis(a).containData(t[e])}function hD(e,t){if("cartesian2d"===e.type){var n=t[0].coord,i=t[1].coord;if(n&&i&&(FC(1,n,i,e)||FC(0,n,i,e)))return!0}return Yc(e,t[0])&&Yc(e,t[1])}function Uv(e,t,n,i,o){var a,s=i.coordinateSystem,l=e.getItemModel(t),u=Mi(l.get("x"),o.getWidth()),c=Mi(l.get("y"),o.getHeight());if(isNaN(u)||isNaN(c)){if(i.getMarkerPosition)a=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var d=s.dimensions,h=e.get(d[0],t),f=e.get(d[1],t);a=s.dataToPoint([h,f])}if("cartesian2d"===s.type){var p=s.getAxis("x"),v=s.getAxis("y");Cf(e.get((d=s.dimensions)[0],t))?a[0]=p.toGlobalCoord(p.getExtent()[n?0:1]):Cf(e.get(d[1],t))&&(a[1]=v.toGlobalCoord(v.getExtent()[n?0:1]))}isNaN(u)||(a[0]=u),isNaN(c)||(a[1]=c)}else a=[u,c];e.setItemLayout(t,a)}function fD(e,t,n,i){var o=qc(e,i[0]),a=qc(e,i[1]),s=en,l=o.coord,u=a.coord;l[0]=s(l[0],-1/0),l[1]=s(l[1],-1/0),u[0]=s(u[0],1/0),u[1]=s(u[1],1/0);var c=fe([{},o,a]);return c.coord=[o.coord,a.coord],c.x0=o.x,c.y0=o.y,c.x1=a.x,c.y1=a.y,c}function Mu(e){return!isNaN(e)&&!isFinite(e)}function VC(e,t,n){var i=1-e;return Mu(t[i])&&Mu(n[i])}function pD(e,t){var n=t.coord[0],i=t.coord[1];return!("cartesian2d"!==e.type||!n||!i||!VC(1,n,i)&&!VC(0,n,i))||Yc(e,{coord:n,x:t.x0,y:t.y0})||Yc(e,{coord:i,x:t.x1,y:t.y1})}function HC(e,t,n,i,o){var a,s=i.coordinateSystem,l=e.getItemModel(t),u=Mi(l.get(n[0]),o.getWidth()),c=Mi(l.get(n[1]),o.getHeight());if(isNaN(u)||isNaN(c)){if(i.getMarkerPosition)a=i.getMarkerPosition(e.getValues(n,t));else{var d=[p=e.get(n[0],t),v=e.get(n[1],t)];s.clampData&&s.clampData(d,d),a=s.dataToPoint(d,!0)}if("cartesian2d"===s.type){var h=s.getAxis("x"),f=s.getAxis("y"),p=e.get(n[0],t),v=e.get(n[1],t);Mu(p)?a[0]=h.toGlobalCoord(h.getExtent()["x0"===n[0]?0:1]):Mu(v)&&(a[1]=f.toGlobalCoord(f.getExtent()["y0"===n[1]?0:1]))}isNaN(u)||(a[0]=u),isNaN(c)||(a[1]=c)}else a=[u,c];return a}jv.extend({type:"markPoint",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markPointModel;o&&(zC(o.getData(),i,n),this.markerGroupMap.get(i.id).updateLayout(o))},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.id,s=e.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,new tu),c=function(d,h,f){var p;p=d?Oe(d&&d.dimensions,function(P){return be({name:P},h.getData().getDimensionInfo(h.getData().mapDimension(P))||{})}):[{name:"value",type:"float"}];var v=new Io(p,f),F=Oe(f.get("data"),xt(qc,h));return d&&(F=xe(F,xt(Yc,d))),v.initData(F,null,d?BC:function(P){return P.value}),v}(o,e,t);t.setData(c),zC(t.getData(),e,i),c.each(function(d){var h=c.getItemModel(d),f=h.getShallow("symbol"),p=h.getShallow("symbolSize"),v=h.getShallow("symbolRotate"),F=Xe(f),P=Xe(p),ee=Xe(v);if(F||P||ee){var le=t.getRawValue(d),ae=t.getDataParams(d);F&&(f=f(le,ae)),P&&(p=p(le,ae)),ee&&(v=v(le,ae))}c.setItemVisual(d,{symbol:f,symbolSize:p,symbolRotate:v,color:h.get("itemStyle.color")||s.getVisual("color")})}),u.updateData(c),this.group.add(u.group),c.eachItemGraphicEl(function(d){d.traverse(function(h){h.dataModel=t})}),u.__keep=!0,u.group.silent=t.get("silent")||e.get("silent")}}),Bo(function(e){e.markPoint=e.markPoint||{}}),Sf.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}}),jv.extend({type:"markLine",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markLineModel;if(o){var a=o.getData(),s=o.__from,l=o.__to;s.each(function(u){Uv(s,u,!0,i,n),Uv(l,u,!1,i,n)}),a.each(function(u){a.setItemLayout(u,[s.getItemLayout(u),l.getItemLayout(u)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.id,s=e.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,new Wh);this.group.add(u.group);var c=function(P,ee,le){var ae;ae=P?Oe(P&&P.dimensions,function(at){return be({name:at},ee.getData().getDimensionInfo(ee.getData().mapDimension(at))||{})}):[{name:"value",type:"float"}];var we=new Io(ae,le),_e=new Io(ae,le),Ce=new Io([],le),Le=Oe(le.get("data"),xt(dD,ee,P,le));P&&(Le=xe(Le,xt(hD,P)));var Fe=P?BC:function(at){return at.value};return we.initData(Oe(Le,function(at){return at[0]}),null,Fe),_e.initData(Oe(Le,function(at){return at[1]}),null,Fe),Ce.initData(Oe(Le,function(at){return at[2]})),Ce.hasItemOption=!0,{from:we,to:_e,line:Ce}}(o,e,t),d=c.from,h=c.to,f=c.line;t.__from=d,t.__to=h,t.setData(f);var p=t.get("symbol"),v=t.get("symbolSize");function F(P,ee,le){var ae=P.getItemModel(ee);Uv(P,ee,le,e,i),P.setItemVisual(ee,{symbolRotate:ae.get("symbolRotate"),symbolSize:ae.get("symbolSize")||v[le?0:1],symbol:ae.get("symbol",!0)||p[le?0:1],color:ae.get("itemStyle.color")||s.getVisual("color")})}ze(p)||(p=[p,p]),"number"==typeof v&&(v=[v,v]),c.from.each(function(P){F(d,P,!0),F(h,P,!1)}),f.each(function(P){var ee=f.getItemModel(P).get("lineStyle.color");f.setItemVisual(P,{color:ee||d.getItemVisual(P,"color")}),f.setItemLayout(P,[d.getItemLayout(P),h.getItemLayout(P)]),f.setItemVisual(P,{fromSymbolRotate:d.getItemVisual(P,"symbolRotate"),fromSymbolSize:d.getItemVisual(P,"symbolSize"),fromSymbol:d.getItemVisual(P,"symbol"),toSymbolRotate:h.getItemVisual(P,"symbolRotate"),toSymbolSize:h.getItemVisual(P,"symbolSize"),toSymbol:h.getItemVisual(P,"symbol")})}),u.updateData(f),c.line.eachItemGraphicEl(function(P,ee){P.traverse(function(le){le.dataModel=t})}),u.__keep=!0,u.group.silent=t.get("silent")||e.get("silent")}}),Bo(function(e){e.markLine=e.markLine||{}}),Sf.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var qv=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];jv.extend({type:"markArea",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markAreaModel;if(o){var a=o.getData();a.each(function(s){var l=Oe(qv,function(u){return HC(a,s,u,i,n)});a.setItemLayout(s,l),a.getItemGraphicEl(s).setShape("points",l)})}},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.id,s=e.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,{group:new E});this.group.add(u.group),u.__keep=!0;var c=function(d,h,f){var p,v;v=d?(p=Oe(d&&d.dimensions,function(ee){var le=h.getData();return be({name:ee},le.getDimensionInfo(le.mapDimension(ee))||{})}),new Io(Oe(["x0","y0","x1","y1"],function(ee,le){return{name:ee,type:p[le%2].type}}),f)):new Io(p=[{name:"value",type:"float"}],f);var F=Oe(f.get("data"),xt(fD,h,d,f));return d&&(F=xe(F,xt(pD,d))),v.initData(F,null,d?function(ee,le,ae,we){return ee.coord[Math.floor(we/2)][we%2]}:function(ee){return ee.value}),v.hasItemOption=!0,v}(o,e,t);t.setData(c),c.each(function(d){var h=Oe(qv,function(p){return HC(c,d,p,e,i)}),f=!0;ce(qv,function(p){if(f){var v=c.get(p[0],d),F=c.get(p[1],d);(Mu(v)||o.getAxis("x").containData(v))&&(Mu(F)||o.getAxis("y").containData(F))&&(f=!1)}}),c.setItemLayout(d,{points:h,allClipped:f}),c.setItemVisual(d,{color:s.getVisual("color")})}),c.diff(u.__data).add(function(d){var h=c.getItemLayout(d);if(!h.allClipped){var f=new ea({shape:{points:h.points}});c.setItemGraphicEl(d,f),u.group.add(f)}}).update(function(d,h){var f=u.__data.getItemGraphicEl(h),p=c.getItemLayout(d);p.allClipped?f&&u.group.remove(f):(f?xr(f,{shape:{points:p.points}},t,d):f=new ea({shape:{points:p.points}}),c.setItemGraphicEl(d,f),u.group.add(f))}).remove(function(d){var h=u.__data.getItemGraphicEl(d);u.group.remove(h)}).execute(),c.eachItemGraphicEl(function(d,h){var f=c.getItemModel(h),p=f.getModel("label"),v=f.getModel("emphasis.label"),F=c.getItemVisual(h,"color");d.useStyle(be(f.getModel("itemStyle").getItemStyle(),{fill:Sr(F,.4),stroke:F})),d.hoverStyle=f.getModel("emphasis.itemStyle").getItemStyle(),sa(d.style,d.hoverStyle,p,v,{labelFetcher:t,labelDataIndex:h,defaultText:c.getName(h)||"",isRectText:!0,autoColor:F}),no(d,{}),d.dataModel=t}),u.__data=c,u.group.silent=t.get("silent")||e.get("silent")}}),Bo(function(e){e.markArea=e.markArea||{}});var WC=is.legend.selector,gD={all:{type:"all",title:U(WC.all)},inverse:{type:"inverse",title:U(WC.inverse)}},GC=ca({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},mergeOption:function(e){GC.superCall(this,"mergeOption",e),this._updateSelector(e)},_updateSelector:function(e){var t=e.selector;!0===t&&(t=e.selector=["all","inverse"]),ze(t)&&ce(t,function(n,i){Je(n)&&(n={type:n}),t[i]=oe(n,gD[n.type])})},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}t||this.select(e[0].get("name"))}},_updateData:function(e){var t=[],n=[];e.eachRawSeries(function(o){var a;if(n.push(o.name),o.legendVisualProvider){var l=o.legendVisualProvider.getAllNames();e.isSeriesFiltered(o)||(n=n.concat(l)),l.length?t=t.concat(l):a=!0}else a=!0;a&&$f(o)&&t.push(o.name)}),this._availableNames=n;var i=Oe(this.get("data")||t,function(o){return"string"!=typeof o&&"number"!=typeof o||(o={name:o}),new Nr(o,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&ce(this._data,function(n){t[n.get("name")]=!1}),t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},allSelect:function(){var t=this.option.selected;ce(this._data,function(n){t[n.get("name",!0)]=!0})},inverseSelect:function(){var t=this.option.selected;ce(this._data,function(n){var i=n.get("name",!0);t.hasOwnProperty(i)||(t[i]=!0),t[i]=!t[i]})},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&0<=Ge(this._availableNames,e)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});function Xc(e,t,n){var i,o={},a="toggleSelected"===e;return n.eachComponent("legend",function(s){a&&null!=i?s[i?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?s[e]():(s[e](t.name),i=s.isSelected(t.name)),ce(s.getData(),function(l){var u=l.get("name");if("\n"!==u&&""!==u){var c=s.isSelected(u);o[u]=o.hasOwnProperty(u)?o[u]&&c:c}})}),"allSelect"===e||"inverseSelect"===e?{selected:o}:{name:t.name,selected:o}}Lr("legendToggleSelect","legendselectchanged",xt(Xc,"toggleSelected")),Lr("legendAllSelect","legendselectall",xt(Xc,"allSelect")),Lr("legendInverseSelect","legendinverseselect",xt(Xc,"inverseSelect")),Lr("legendSelect","legendselected",xt(Xc,"select")),Lr("legendUnSelect","legendunselected",xt(Xc,"unSelect"));var ku=xt,jC=ce,Mf=E,mD=Ao({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new Mf),this.group.add(this._selectorGroup=new Mf),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(e,t,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var o=e.get("align"),a=e.get("orient");o&&"auto"!==o||(o="right"===e.get("left")&&"vertical"===a?"right":"left");var s=e.get("selector",!0),l=e.get("selectorPosition",!0);!s||l&&"auto"!==l||(l="horizontal"===a?"end":"start"),this.renderInner(o,e,t,n,s,a,l);var u=e.getBoxLayoutParams(),c={width:n.getWidth(),height:n.getHeight()},d=e.get("padding"),h=xo(u,c,d),f=this.layoutInner(e,o,h,i,s,l),p=xo(be({width:f.width,height:f.height},u),c,d);this.group.attr("position",[p.x-f.x,p.y-f.y]),this.group.add(this._backgroundEl=jS(f,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(e,t,n,i,o,a,s){var l=this.getContentGroup(),u=bn(),c=t.get("selectedMode"),d=[];n.eachRawSeries(function(h){h.get("legendHoverLink")||d.push(h.id)}),jC(t.getData(),function(h,f){var p=h.get("name");if(this.newlineDisabled||""!==p&&"\n"!==p){var v=n.getSeriesByName(p)[0];if(!u.get(p))if(v){var F=v.getData(),P=F.getVisual("color"),ee=F.getVisual("borderColor");"function"==typeof P&&(P=P(v.getDataParams(0))),"function"==typeof ee&&(ee=ee(v.getDataParams(0)));var le=F.getVisual("legendSymbol")||"roundRect",ae=F.getVisual("symbol");this._createItem(p,f,h,t,le,ae,e,P,ee,c).on("click",ku(qC,p,null,i,d)).on("mouseover",ku(Yv,v.name,null,i,d)).on("mouseout",ku(Xv,v.name,null,i,d)),u.set(p,!0)}else n.eachRawSeries(function(we){if(!u.get(p)&&we.legendVisualProvider){var _e=we.legendVisualProvider;if(!_e.containName(p))return;var Ce=_e.indexOfName(p),Le=_e.getItemVisual(Ce,"color"),Fe=_e.getItemVisual(Ce,"borderColor");this._createItem(p,f,h,t,"roundRect",null,e,Le,Fe,c).on("click",ku(qC,null,p,i,d)).on("mouseover",ku(Yv,null,p,i,d)).on("mouseout",ku(Xv,null,p,i,d)),u.set(p,!0)}},this)}else l.add(new Mf({newline:!0}))},this),o&&this._createSelector(o,t,i,a,s)},_createSelector:function(e,t,n,i,o){var a=this.getSelectorGroup();jC(e,function(s){!function(l){var u=l.type,c=new Cr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===u?"legendAllSelect":"legendInverseSelect"})}});a.add(c);var d=t.getModel("selectorLabel"),h=t.getModel("emphasis.selectorLabel");sa(c.style,c.hoverStyle={},d,h,{defaultText:l.title,isRectText:!1}),no(c)}(s)})},_createItem:function(e,t,n,i,o,a,s,l,u,c){var d=i.get("itemWidth"),h=i.get("itemHeight"),f=i.get("inactiveColor"),p=i.get("inactiveBorderColor"),v=i.get("symbolKeepAspect"),F=i.getModel("itemStyle"),P=i.isSelected(e),ee=new Mf,le=n.getModel("textStyle"),ae=n.get("icon"),we=n.getModel("tooltip"),_e=we.parentModel,Ce=da(o=ae||o,0,0,d,h,P?l:f,null==v||v);if(ee.add(UC(Ce,o,F,u,p,P)),!ae&&a&&(a!==o||"none"===a)){var Le=.8*h;"none"===a&&(a="circle");var Fe=da(a,(d-Le)/2,(h-Le)/2,Le,Le,P?l:f,null==v||v);ee.add(UC(Fe,a,F,u,p,P))}var at="left"===s?d+5:-5,pt=s,wt=i.get("formatter"),Rt=e;"string"==typeof wt&&wt?Rt=wt.replace("{name}",e??""):"function"==typeof wt&&(Rt=wt(e)),ee.add(new Cr({style:uo({},le,{text:Rt,x:at,y:h/2,textFill:P?le.getTextColor():f,textAlign:pt,textVerticalAlign:"middle"})}));var Ot=new Rr({shape:ee.getBoundingRect(),invisible:!0,tooltip:we.get("show")?ue({content:e,formatter:_e.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:e,$vars:["name"]}},we.option):null});return ee.add(Ot),ee.eachChild(function(Wt){Wt.silent=!0}),Ot.silent=!c,this.getContentGroup().add(ee),no(ee),ee.__legendDataIndex=t,ee},layoutInner:function(e,t,n,i,o,a){var s=this.getContentGroup(),l=this.getSelectorGroup();ol(e.get("orient"),s,e.get("itemGap"),n.width,n.height);var u=s.getBoundingRect(),c=[-u.x,-u.y];if(o){ol("horizontal",l,e.get("selectorItemGap",!0));var d=l.getBoundingRect(),h=[-d.x,-d.y],f=e.get("selectorButtonGap",!0),p=e.getOrient().index,v=0===p?"width":"height",F=0===p?"height":"width",P=0===p?"y":"x";"end"===a?h[p]+=u[v]+f:c[p]+=d[v]+f,h[1-p]+=u[F]/2-d[F]/2,l.attr("position",h),s.attr("position",c);var ee={x:0,y:0};return ee[v]=u[v]+f+d[v],ee[F]=Math.max(u[F],d[F]),ee[P]=Math.min(0,d[P]+h[1-p]),ee}return s.attr("position",c),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function UC(e,t,n,i,o,a){var s;return"line"!==t&&t.indexOf("empty")<0?(s=n.getItemStyle(),e.style.stroke=i,a||(s.stroke=o)):s=n.getItemStyle(["borderWidth","borderColor"]),e.setStyle(s)}function qC(e,t,n,i){Xv(e,t,n,i),n.dispatchAction({type:"legendToggleSelect",name:e??t}),Yv(e,t,n,i)}function Yv(e,t,n,i){var o=n.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:i})}function Xv(e,t,n,i){var o=n.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:i})}ua(ja.PROCESSOR.SERIES_FILTER,function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})}),Or.registerSubTypeDefaulter("legend",function(){return"plain"});var YC=GC.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,n,i){var o=ql(e);YC.superCall(this,"init",e,t,n,i),XC(this,e,o)},mergeOption:function(e,t){YC.superCall(this,"mergeOption",e,t),XC(this,this.option,e)}});function XC(e,t,n){var i=[1,1];i[e.getOrient().index]=0,Cs(t,n,{type:"box",ignoreSize:i})}var ZC=E,Zv=["width","height"],$v=["x","y"],Kv=mD.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){Kv.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new ZC),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ZC)},resetInner:function(){Kv.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,n,i,o,a,s){var l=this;Kv.superCall(this,"renderInner",e,t,n,i,o,a,s);var u=this._controllerGroup,c=t.get("pageIconSize",!0);ze(c)||(c=[c,c]),h("pagePrev",0);var d=t.getModel("pageTextStyle");function h(f,p){var v=f+"DataIndex",F=jl(t.get("pageIcons",!0)[t.getOrient().name][p],{onclick:et(l._pageGo,l,v,t,i)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});F.name=f,u.add(F)}u.add(new Cr({name:"pageText",style:{textFill:d.getTextColor(),font:d.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),h("pageNext",1)},layoutInner:function(e,t,n,i,o,a){var s=this.getSelectorGroup(),l=e.getOrient().index,u=Zv[l],c=$v[l],d=Zv[1-l],h=$v[1-l];o&&ol("horizontal",s,e.get("selectorItemGap",!0));var f=e.get("selectorButtonGap",!0),p=s.getBoundingRect(),v=[-p.x,-p.y],F=U(n);o&&(F[u]=n[u]-p[u]-f);var P=this._layoutContentAndController(e,i,F,l,u,d,h);if(o){if("end"===a)v[l]+=P[u]+f;else{var ee=p[u]+f;v[l]-=ee,P[c]-=ee}P[u]+=p[u]+f,v[1-l]+=P[h]+P[d]/2-p[d]/2,P[d]=Math.max(P[d],p[d]),P[h]=Math.min(P[h],p[h]+v[1-l]),s.attr("position",v)}return P},_layoutContentAndController:function(e,t,n,i,o,a,s){var l=this.getContentGroup(),u=this._containerGroup,c=this._controllerGroup;ol(e.get("orient"),l,e.get("itemGap"),i?n.width:null,i?null:n.height),ol("horizontal",c,e.get("pageButtonItemGap",!0));var d=l.getBoundingRect(),h=c.getBoundingRect(),f=this._showController=d[o]>n[o],p=[-d.x,-d.y];t||(p[i]=l.position[i]);var v=[0,0],F=[-h.x,-h.y],P=Ht(e.get("pageButtonGap",!0),e.get("itemGap",!0));f&&("end"===e.get("pageButtonPosition",!0)?F[i]+=n[o]-h[o]:v[i]+=h[o]+P),F[1-i]+=d[a]/2-h[a]/2,l.attr("position",p),u.attr("position",v),c.attr("position",F);var ee={x:0,y:0};if(ee[o]=f?n[o]:d[o],ee[a]=Math.max(d[a],h[a]),ee[s]=Math.min(0,h[s]+F[1-i]),u.__rectSize=n[o],f){var le={x:0,y:0};le[o]=Math.max(n[o]-h[o]-P,0),le[a]=ee[a],u.setClipPath(new Rr({shape:le})),u.__rectSize=le[o]}else c.eachChild(function(we){we.attr({invisible:!0,silent:!0})});var ae=this._getPageInfo(e);return null!=ae.pageIndex&&xr(l,{position:ae.contentPosition},f&&e),this._updatePageInfoView(e,ae),ee},_pageGo:function(e,t,n){var i=this._getPageInfo(t)[e];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:t.id})},_updatePageInfoView:function(e,t){var n=this._controllerGroup;ce(["pagePrev","pageNext"],function(u){var c=null!=t[u+"DataIndex"],d=n.childOfName(u);d&&(d.setStyle("fill",e.get(c?"pageIconColor":"pageIconInactiveColor",!0)),d.cursor=c?"pointer":"default")});var i=n.childOfName("pageText"),o=e.get("pageFormatter"),a=t.pageIndex,s=null!=a?a+1:0,l=t.pageCount;i&&o&&i.setStyle("text",Je(o)?o.replace("{current}",s).replace("{total}",l):o({current:s,total:l}))},_getPageInfo:function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,o=e.getOrient().index,a=Zv[o],s=$v[o],l=this._findTargetItemIndex(t),u=n.children(),c=u[l],d=u.length,h=d?1:0,f={contentPosition:n.position.slice(),pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return f;var p=le(c);f.contentPosition[o]=-p.s;for(var v=l+1,F=p,P=p,ee=null;v<=d;++v)(!(ee=le(u[v]))&&P.e>F.s+i||ee&&!ae(ee,F.s))&&(F=P.i>F.i?P:ee)&&(null==f.pageNextDataIndex&&(f.pageNextDataIndex=F.i),++f.pageCount),P=ee;for(v=l-1,F=p,P=p,ee=null;-1<=v;--v)(ee=le(u[v]))&&ae(P,ee.s)||!(F.i<P.i)||(P=F,null==f.pagePrevDataIndex&&(f.pagePrevDataIndex=F.i),++f.pageCount,++f.pageIndex),F=ee;return f;function le(we){if(we){var _e=we.getBoundingRect(),Ce=_e[s]+we.position[o];return{s:Ce,e:Ce+_e[a],i:we.__legendDataIndex}}}function ae(we,_e){return we.e>=_e&&we.s<=_e+i}},_findTargetItemIndex:function(e){return this._showController?(this.getContentGroup().eachChild(function(i,o){var a=i.__legendDataIndex;null==n&&null!=a&&(n=o),a===e&&(t=o)}),t??n):0;var t,n}});Lr("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})}),Cv.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});var kf=Rr,El=io,Jv=nl,ds=et,Qv=ce,Zc="horizontal",$C="vertical",vD=["line","bar","candlestick","scatter"],e0=Mv.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={},this.api=t},render:function(e,t,n,i){e0.superApply(this,"render",arguments),Qu(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=e.get("orient"),!1!==this.dataZoomModel.get("show")?(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){e0.superApply(this,"remove",arguments),_1(this,"_dispatchZoomAction")},dispose:function(){e0.superApply(this,"dispose",arguments),_1(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new E;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,n=this._findCoordRect(),i={width:t.getWidth(),height:t.getHeight()},o=this._orient===Zc?{right:i.width-n.x-n.width,top:i.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},a=ql(e.option);ce(["right","top","width","height"],function(l){"ph"===a[l]&&(a[l]=o[l])});var s=xo(a,i,e.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===$C&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),a=this._displayables.barGroup,s=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==Zc||o?n===Zc&&o?{scale:s?[-1,1]:[-1,-1]}:n!==$C||o?{scale:s?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:s?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:s?[1,1]:[1,-1]});var l=e.getBoundingRect([a]);e.attr("position",[t.x-l.x,t.y-l.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this._size,n=this._displayables.barGroup;n.add(new kf({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40})),n.add(new kf({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:et(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,n=e.series,i=n.getRawData(),o=n.getShadowDim?n.getShadowDim():e.otherDim;if(null!=o){var a=i.getDataExtent(o),s=.3*(a[1]-a[0]);a=[a[0]-s,a[1]+s];var l,u=[0,t[1]],d=[[t[0],0],[0,0]],h=[],f=t[0]/(i.count()-1),p=0,v=Math.round(i.count()/t[0]);i.each([o],function(P,ee){if(0<v&&ee%v)p+=f;else{var le=null==P||isNaN(P)||""===P,ae=le?0:El(P,a,u,!0);le&&!l&&ee?(d.push([d[d.length-1][0],0]),h.push([h[h.length-1][0],0])):!le&&l&&(d.push([p,0]),h.push([p,0])),d.push([p,ae]),h.push([p,ae]),p+=f,l=le}});var F=this.dataZoomModel;this._displayables.barGroup.add(new ea({shape:{points:d},style:be({fill:F.get("dataBackgroundColor")},F.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new ya({shape:{points:h},style:F.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,i=this.ecModel;return e.eachTargetAxis(function(o,a){ce(e.getAxisProxy(o.name,a).getTargetSeriesModels(),function(s){if(!(n||!0!==t&&Ge(vD,s.get("type"))<0)){var l,u=i.getComponent(o.axis,a).axis,c={x:"y",y:"x",radius:"angle",angle:"radius"}[o.name],d=s.coordinateSystem;null!=c&&d.getOtherAxis&&(l=d.getOtherAxis(u).inverse),c=s.getData().mapDimension(c),n={thisAxis:u,series:s,thisDim:o.name,otherDim:c,otherAxisInverse:l}}},this)},this),n}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],n=e.handleLabels=[],i=this._displayables.barGroup,o=this._size,a=this.dataZoomModel;i.add(e.filler=new kf({draggable:!0,cursor:KC(this._orient),drift:ds(this._onDragMove,this,"all"),ondragstart:ds(this._showDataInfo,this,!0),ondragend:ds(this._onDragEnd,this),onmouseover:ds(this._showDataInfo,this,!0),onmouseout:ds(this._showDataInfo,this,!1),style:{fill:a.get("fillerColor"),textPosition:"inside"}})),i.add(new kf({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Qv([0,1],function(s){var l=jl(a.get("handleIcon"),{cursor:KC(this._orient),draggable:!0,drift:ds(this._onDragMove,this,s),ondragend:ds(this._onDragEnd,this),onmouseover:ds(this._showDataInfo,this,!0),onmouseout:ds(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),u=l.getBoundingRect();this._handleHeight=Mi(a.get("handleSize"),this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,l.setStyle(a.getModel("handleStyle").getItemStyle());var c=a.get("handleColor");null!=c&&(l.style.fill=c),i.add(t[s]=l);var d=a.textStyleModel;this.group.add(n[s]=new Cr({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:d.getTextColor(),textFont:d.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[El(e[0],[0,100],t,!0),El(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),s=[0,100];bl(t,i,o,n.get("zoomLock")?"all":e,null!=a.minSpan?El(a.minSpan,s,o,!0):null,null!=a.maxSpan?El(a.maxSpan,s,o,!0):null);var l=this._range,u=this._range=Jv([El(i[0],o,s,!0),El(i[1],o,s,!0)]);return!l||l[0]!==u[0]||l[1]!==u[1]},_updateView:function(e){var t=this._displayables,n=this._handleEnds,i=Jv(n.slice()),o=this._size;Qv([0,1],function(a){var l=this._handleHeight;t.handles[a].attr({scale:[l/2,l/2],position:[n[a],o[1]/2-l/2]})},this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){var t=this.dataZoomModel,n=this._displayables,i=n.handleLabels,o=this._orient,a=["",""];if(t.get("showDetail")){var s=t.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,u=this._range,c=e?s.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:s.getDataValueWindow();a=[this._formatLabel(c[0],l),this._formatLabel(c[1],l)]}}var d=Jv(this._handleEnds.slice());function h(f){var p=tl(n.handles[f].parent,this.group),v=gp(0===f?"right":"left",p),F=this._handleWidth/2+5,P=Wa([d[f]+(0===f?-F:F),this._size[1]/2],p);i[f].setStyle({x:P[0],y:P[1],textVerticalAlign:o===Zc?"middle":v,textAlign:o===Zc?v:"center",text:a[f]})}h.call(this,0),h.call(this,1)},_formatLabel:function(e,t){var n=this.dataZoomModel,i=n.get("labelFormatter"),o=n.get("labelPrecision");null!=o&&"auto"!==o||(o=t.getPixelPrecision());var a=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(o,20));return Xe(i)?i(e,a):Je(i)?i.replace("{value}",a):a},_showDataInfo:function(e){var t=this._displayables.handleLabels;t[0].attr("invisible",!(e=this._dragging||e)),t[1].attr("invisible",!e)},_onDragMove:function(e,t,n,i){this._dragging=!0,Ir(i.event);var o=Wa([t,n],this._displayables.barGroup.getLocalTransform(),!0),a=this._updateInterval(e,o[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),a&&s&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction()},_onClickPanelClick:function(e){var t=this._size,n=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var i=this._handleEnds,a=this._updateInterval("all",n[0]-(i[0]+i[1])/2);this._updateView(),a&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var e;if(Qv(this.getTargetCoordInfo(),function(i){if(!e&&i.length){var o=i[0].model.coordinateSystem;e=o.getRect&&o.getRect()}}),!e){var t=this.api.getWidth(),n=this.api.getHeight();e={x:.2*t,y:.2*n,width:.6*t,height:.6*n}}return e}});function KC(e){return"vertical"===e?"ns-resize":"ew-resize"}Cv.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var JC="\0_ec_dataZoom_roams";function QC(e){return e.type+"\0_"+e.id}function e2(e){var t=e.getZr();return t[JC]||(t[JC]={})}function t2(e){ce(e,function(t,n){t.count||(t.controller.dispose(),delete e[n])})}function xD(e,t){e.dispatchAction({type:"dataZoom",batch:t})}var bD=et,n2=Mv.extend({type:"dataZoom.inside",init:function(e,t){},render:function(e,t,n,i){n2.superApply(this,"render",arguments),this._range=e.getPercentRange(),ce(this.getTargetCoordInfo(),function(o,a){var s=Oe(o,function(l){return QC(l.model)});ce(o,function(l){var u=l.model,c={};ce(["pan","zoom","scrollMove"],function(d){c[d]=bD(_D[d],this,l,a)},this),function yD(e,t){var n=e2(e),i=t.dataZoomId,o=t.coordId;ce(n,function(l,u){var c=l.dataZoomInfos;c[i]&&Ge(t.allCoordIds,o)<0&&(delete c[i],l.count--)}),t2(n);var u,c,a=n[o];a||((a=n[o]={coordId:o,dataZoomInfos:{},count:0}).controller=(u=a,c=new cu(e.getZr()),ce(["pan","zoom","scrollMove"],function(d){c.on(d,function(h){var f=[];ce(u.dataZoomInfos,function(p){if(h.isAvailableBehavior(p.dataZoomModel.option)){var v=(p.getRange||{})[d],F=v&&v(u.controller,h);!p.dataZoomModel.get("disabled",!0)&&F&&f.push({dataZoomId:p.dataZoomId,start:F[0],end:F[1]})}}),f.length&&u.dispatchAction(f)})}),c),a.dispatchAction=xt(xD,e)),a.dataZoomInfos[i]||a.count++,a.dataZoomInfos[i]=t;var s=function(l){var u,c={type_true:2,type_move:1,type_false:0,type_undefined:-1},d=!0;return ce(l,function(h){var f=h.dataZoomModel,p=!f.get("disabled",!0)&&(!f.get("zoomLock",!0)||"move");c["type_"+u]<c["type_"+p]&&(u=p),d&=f.get("preventDefaultMouseMove",!0)}),{controlType:u,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!d}}}(a.dataZoomInfos);a.controller.enable(s.controlType,s.opt),a.controller.setPointerChecker(t.containsPoint),Qu(a,"dispatchAction",t.dataZoomModel.get("throttle",!0),"fixRate")}(n,{coordId:QC(u),allCoordIds:s,containsPoint:function(d,h,f){return u.coordinateSystem.containPoint([h,f])},dataZoomId:e.id,dataZoomModel:e,getRange:c})},this)},this)},dispose:function(){(function(e,t){var n=e2(e);ce(n,function(i){i.controller.dispose();var o=i.dataZoomInfos;o[t]&&(delete o[t],i.count--)}),t2(n)})(this.api,this.dataZoomModel.id),n2.superApply(this,"dispose",arguments),this._range=null}}),_D={zoom:function(e,t,n,i){var o=this._range,a=o.slice(),s=e.axisModels[0];if(s){var l=t0[t](null,[i.originX,i.originY],s,n,e),u=(0<l.signal?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(a[1]-a[0])+a[0],c=Math.max(1/i.scale,0);a[0]=(a[0]-u)*c+u,a[1]=(a[1]-u)*c+u;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return bl(0,a,[0,100],0,d.minSpan,d.maxSpan),this._range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}},pan:i2(function(e,t,n,i,o,a){var s=t0[i]([a.oldX,a.oldY],[a.newX,a.newY],t,o,n);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength}),scrollMove:i2(function(e,t,n,i,o,a){return t0[i]([0,0],[a.scrollDelta,a.scrollDelta],t,o,n).signal*(e[1]-e[0])*a.scrollDelta})};function i2(e){return function(t,n,i,o){var a=this._range,s=a.slice(),l=t.axisModels[0];if(l)return bl(e(s,l,t,n,i,o),s,[0,100],"all"),this._range=s,a[0]!==s[0]||a[1]!==s[1]?s:void 0}}function r2(e){var t=e&&e.visualMap;ze(t)||(t=t?[t]:[]),o2(t,function(n){if(n){Tu(n,"splitList")&&!Tu(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var i=n.pieces;i&&ze(i)&&o2(i,function(o){st(o)&&(Tu(o,"start")&&!Tu(o,"min")&&(o.min=o.start),Tu(o,"end")&&!Tu(o,"max")&&(o.max=o.end))})}})}var t0={grid:function(e,t,n,i,o){var a=n.axis,s={},l=o.model.coordinateSystem.getRect();return e=e||[0,0],"x"===a.dim?(s.pixel=t[0]-e[0],s.pixelLength=l.width,s.pixelStart=l.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=l.height,s.pixelStart=l.y,s.signal=a.inverse?-1:1),s},polar:function(e,t,n,i,o){var a=n.axis,s={},l=o.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),c=l.getAngleAxis().getExtent();return e=e?l.pointToCoord(e):[0,0],t=l.pointToCoord(t),"radiusAxis"===n.mainType?(s.pixel=t[0]-e[0],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=a.inverse?-1:1),s},singleAxis:function(e,t,n,i,o){var a=n.axis,s=o.model.coordinateSystem.getRect(),l={};return e=e||[0,0],"horizontal"===a.orient?(l.pixel=t[0]-e[0],l.pixelLength=s.width,l.pixelStart=s.x,l.signal=a.inverse?1:-1):(l.pixel=t[1]-e[1],l.pixelLength=s.height,l.pixelStart=s.y,l.signal=a.inverse?-1:1),l}},o2=ce;function Tu(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}Or.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?0<e.pieces.length:0<e.splitNumber)&&!e.calculable?"piecewise":"continuous"});var a2=ja.VISUAL.COMPONENT;function wD(e,t,n,i){for(var o=t.targetVisuals[i],a=qr.prepareVisualTypes(o),s={color:e.getData().getVisual("color")},l=0,u=a.length;l<u;l++){var c=a[l],d=o["opacity"===c?"__alphaForOpacity":c];d&&d.applyVisual(n,h,f)}return s.color;function h(p){return s[p]}function f(p,v){s[p]=v}}eo(a2,{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",function(i){var o=e.pipelineContext;!i.isTargetSeries(e)||o&&o.large||n.push(function(a,s,l,u){var c={};return ce(a,function(d){var h=qr.prepareVisualTypes(s[d]);c[d]=h}),{progress:function(d,h){function f(Le){return h.getItemVisual(v,Le)}function p(Le,Fe){h.setItemVisual(v,Le,Fe)}var v;for(null!=u&&(u=h.getDimension(u));null!=(v=d.next());){var F=h.getRawDataItem(v);if(!F||!1!==F.visualMap)for(var P=null!=u?h.get(u,v,!0):v,ee=l(P),le=s[ee],ae=c[ee],we=0,_e=ae.length;we<_e;we++){var Ce=ae[we];le[Ce]&&le[Ce].applyVisual(P,f,p)}}}}}(i.stateList,i.targetVisuals,et(i.getValueState,i),i.getDataDimension(e.getData())))}),n}}),eo(a2,{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",function(o){if(o.isTargetSeries(e)){var a=o.getVisualMeta(et(wD,null,e,o))||{stops:[],outerColors:[]},s=o.getDataDimension(n),l=n.getDimensionInfo(s);null!=l&&(a.dimension=l.index,i.push(a))}}),e.getData().setVisual("visualMeta",i)}});var n0=function(e,t,n){var i=U((SD[e]||{})[t]);return n&&ze(i)?i[i.length-1]:i},SD={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},s2=qr.mapVisual,CD=qr.eachVisual,MD=ze,i0=ce,kD=nl,TD=io,Tf=ca({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,n){this.targetVisuals={},this.controllerVisuals={},this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;Ne.canvasSupported||(n.realtime=!1),t||_C(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=et(e,this),this.controllerVisuals=Ev(this.option.controller,t,e),this.targetVisuals=Ev(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(n,i){t.push(i)}):t=Po(e),t},eachTargetSeries:function(e,t){ce(this.getTargetSeriesIndices(),function(n){e.call(t,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},formatValueText:function(e,t,n){var i,o,a=this.option,s=a.precision,l=this.dataBound,u=a.formatter;return n=n||["<",">"],ze(e)&&(e=e.slice(),i=!0),o=t?e:i?[c(e[0]),c(e[1])]:c(e),Je(u)?u.replace("{value}",i?o[0]:o).replace("{value2}",i?o[1]:o):Xe(u)?i?u(e[0],e[1]):u(e):i?e[0]===l[0]?n[0]+" "+o[1]:e[1]===l[1]?n[1]+" "+o[0]:o[0]+" - "+o[1]:o;function c(d){return d===l[0]?"min":d===l[1]?"max":(+d).toFixed(Math.min(s,20))}},resetExtent:function(){var e=this.option,t=kD([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension;if(null!=t||e.dimensions.length){if(null!=t)return e.getDimension(t);for(var i=e.dimensions,o=i.length-1;0<=o;o--){var a=i[o];if(!e.getDimensionInfo(a).isCalculationCoord)return a}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},i=t.target||(t.target={}),o=t.controller||(t.controller={});oe(i,n),oe(o,n);var a=this.isCategory();function s(l){MD(t.color)&&!l.inRange&&(l.inRange={color:t.color.slice().reverse()}),l.inRange=l.inRange||{color:e.get("gradientColor")},i0(this.stateList,function(u){var c=l[u];if(Je(c)){var d=n0(c,"active",a);d?(l[u]={},l[u][c]=d):delete l[u]}},this)}s.call(this,i),s.call(this,o),function(l,u,c){var d=l[u],h=l[c];d&&!h&&(h=l[c]={},i0(d,function(f,p){if(qr.isValidType(p)){var v=n0(p,"inactive",a);null!=v&&(h[p]=v,"color"!==p||h.hasOwnProperty("opacity")||h.hasOwnProperty("colorAlpha")||(h.opacity=[0,0]))}}))}.call(this,i,"inRange","outOfRange"),function(l){var u=(l.inRange||{}).symbol||(l.outOfRange||{}).symbol,c=(l.inRange||{}).symbolSize||(l.outOfRange||{}).symbolSize,d=this.get("inactiveColor");i0(this.stateList,function(h){var f=this.itemSize,p=l[h];null==(p=p||(l[h]={color:a?d:[d]})).symbol&&(p.symbol=u&&U(u)||(a?"roundRect":["roundRect"])),null==p.symbolSize&&(p.symbolSize=c&&U(c)||(a?f[0]:[f[0],f[0]])),p.symbol=s2(p.symbol,function(P){return"none"===P||"square"===P?"roundRect":P});var v=p.symbolSize;if(null!=v){var F=-1/0;CD(v,function(P){F<P&&(F=P)}),p.symbolSize=s2(v,function(P){return TD(P,[0,F],[0,f[0]],!0)})}},this)}.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:fn,getValueState:fn,getVisualMeta:fn}),l2=[20,140],u2=Tf.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){u2.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(n){n.mappingMethod="linear",n.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){u2.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),null!=e[0]&&!isNaN(e[0])||(e[0]=l2[0]),null!=e[1]&&!isNaN(e[1])||(e[1]=l2[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):ze(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){Tf.prototype.completeVisualOption.apply(this,arguments),ce(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=nl((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],o=n.getData();o.each(this.getDataDimension(o),function(a,s){e[0]<=a&&a<=e[1]&&i.push(s)},this),t.push({seriesId:n.id,dataIndex:i})},this),t},getVisualMeta:function(e){var t=c2(0,0,this.getExtent()),n=c2(0,0,this.option.range.slice()),i=[];function o(h,f){i.push({value:h,color:e(h,f)})}for(var a=0,s=0,l=n.length,u=t.length;s<u&&(!n.length||t[s]<=n[0]);s++)t[s]<n[a]&&o(t[s],"outOfRange");for(var c=1;a<l;a++,c=0)c&&i.length&&o(n[a],"outOfRange"),o(n[a],"inRange");for(c=1;s<u;s++)(!n.length||n[n.length-1]<t[s])&&(c&&(i.length&&o(i[i.length-1].value,"outOfRange"),c=0),o(t[s],"outOfRange"));var d=i.length;return{stops:i,outerColors:[d?i[0].color:"transparent",d?i[d-1].color:"transparent"]}}});function c2(e,t,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,o=n[0],a=[],s=0;s<=200&&o<n[1];s++)a.push(o),o+=i;return a.push(n[1]),a}var d2=Ao({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t},render:function(e,t,n,i){!1!==(this.visualMapModel=e).get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,n=il(t.get("padding")||0),i=e.getBoundingRect();e.add(new Rr({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){var i=(n=n||{}).forceState,o=this.visualMapModel,a={};if("symbol"===t&&(a.symbol=o.get("itemSymbol")),"color"===t){var s=o.get("contentColor");a.color=s}function l(d){return a[d]}function u(d,h){a[d]=h}var c=o.controllerVisuals[i||o.getValueState(e)];return ce(qr.prepareVisualTypes(c),function(d){var h=c[d];n.convertOpacityToAlpha&&"opacity"===d&&(d="colorAlpha",h=c.__alphaForOpacity),qr.dependsOn(d,t)&&h&&h.applyVisual(e,l,u)}),a[t]},positionGroup:function(e){var n=this.api;Wd(e,this.visualMapModel.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:fn});function h2(e,t,n){var i=e.option,o=i.align;if(null!=o&&"auto"!==o)return o;for(var a={width:t.getWidth(),height:t.getHeight()},s="horizontal"===i.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],u=l[s],c=[0,null,10],d={},h=0;h<3;h++)d[l[1-s][h]]=c[h],d[u[h]]=2===h?n[0]:i[u[h]];var f=[["x","width",3],["y","height",0]][s],p=xo(d,a,i.padding);return u[(p.margin[f[2]]||0)+p[f[0]]+.5*p[f[1]]<.5*a[f[1]]?0:1]}function Af(e,t){return ce(e||[],function(n){null!=n.dataIndex&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null),n.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var hs=io,AD=ce,If=Math.min,$c=Math.max,ID=d2.extend({type:"visualMap.continuous",init:function(){ID.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._hoverLinkDataIndices=[]},doRender:function(e,t,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+"":"";var o=this.visualMapModel,a=o.get("textGap"),s=o.itemSize,l=this._shapes.barGroup,u=this._applyTransform([s[0]/2,0===n?-a:s[1]+a],l),c=this._applyTransform(0===n?"bottom":"top",l),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new Cr({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===d?"middle":c,textAlign:"horizontal"===d?c:"center",text:i,textFont:h.getFont(),textFill:h.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,o=this._orient,a=this._useHandle,s=h2(t,this.api,i),l=n.barGroup=this._createBarGroup(s);l.add(n.outOfRange=Df()),l.add(n.inRange=Df(null,a?p2(this._orient):null,et(this._dragHandle,this,"all",!1),et(this._dragHandle,this,"all",!0)));var u=t.textStyleModel.getTextRect("\u56fd"),c=$c(u.width,u.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(l,0,i,c,o,s),this._createHandle(l,1,i,c,o,s)),this._createIndicator(l,i,c,o),e.add(l)},_createHandle:function(e,t,n,i,o){var p,a=et(this._dragHandle,this,t,!1),s=et(this._dragHandle,this,t,!0),l=Df((p=i,0===t?[[0,0],[p,0],[p,-p]]:[[0,0],[p,0],[p,p]]),p2(this._orient),a,s);l.position[0]=n[0],e.add(l);var u=this.visualMapModel.textStyleModel,c=new Cr({draggable:!0,drift:a,onmousemove:function(f){Ir(f.event)},ondragend:s,style:{x:0,y:0,text:"",textFont:u.getFont(),textFill:u.getTextColor()}});this.group.add(c);var d=["horizontal"===o?i/2:1.5*i,"horizontal"===o?0===t?-1.5*i:1.5*i:0===t?-i/2:i/2],h=this._shapes;h.handleThumbs[t]=l,h.handleLabelPoints[t]=d,h.handleLabels[t]=c},_createIndicator:function(e,t,n,i){var o=Df([[0,0]],"move");o.position[0]=t[0],o.attr({invisible:!0,silent:!0}),e.add(o);var a=this.visualMapModel.textStyleModel,s=new Cr({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(s);var l=["horizontal"===i?n/2:9,0],u=this._shapes;u.indicator=o,u.indicatorLabel=s,u.indicatorLabelPoint=l},_dragHandle:function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var o=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(e,o[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?this._hovering||this._clearHoverLinkToSeries():f2(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[hs(t[0],n,i,!0),hs(t[1],n,i,!0)]},_updateInterval:function(e,t){var n=this.visualMapModel,i=this._handleEnds,o=[0,n.itemSize[1]];bl(t=t||0,i,o,e,0);var a=n.getExtent();this._dataInterval=[hs(i[0],o,a,!0),hs(i[1],o,a,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,o=[0,t.itemSize[1]],a=e?o:this._handleEnds,s=this._createBarVisual(this._dataInterval,n,a,"inRange"),l=this._createBarVisual(n,n,o,"outOfRange");i.inRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),i.outOfRange.setStyle({fill:l.barColor,opacity:l.opacity}).setShape("points",l.barPoints),this._updateHandle(a,s)},_createBarVisual:function(e,t,n,i){var o={forceState:i,convertOpacityToAlpha:!0},a=this._makeColorGradient(e,o),s=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],l=this._createBarPoints(n,s);return{barColor:new Qs(0,0,0,1,a),barPoints:l,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(e,t){var n=[],i=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var o=1;o<100;o++){var a=e[0]+i*o;if(a>e[1])break;n.push({color:this.getControllerVisual(a,"color",t),offset:o/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new E("horizontal"!==t||n?"horizontal"===t&&n?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||n?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,o=n.handleThumbs,a=n.handleLabels;AD([0,1],function(s){var l=o[s];l.setStyle("fill",t.handlesColor[s]),l.position[1]=e[s];var u=Wa(n.handleLabelPoints[s],tl(l,this.group));a[s].setStyle({x:u[0],y:u[1],text:i.formatValueText(this._dataInterval[s]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===s?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(e,t,n,i){var ee,le,ae,o=this.visualMapModel,a=o.getExtent(),s=o.itemSize,u=hs(e,a,[0,s[1]],!0),c=this._shapes,d=c.indicator;if(d){d.position[1]=u,d.attr("invisible",!1),d.setShape("points",(ee=i,le=u,ae=s[1],n?[[0,-If(ee,$c(le,0))],[6,0],[0,If(ee,$c(ae-le,0))]]:[[0,0],[5,-5],[5,5]]));var h=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0});d.setStyle("fill",h);var f=Wa(c.indicatorLabelPoint,tl(d,this.group)),p=c.indicatorLabel;p.attr("invisible",!1);var v=this._applyTransform("left",c.barGroup),F=this._orient;p.setStyle({text:(n||"")+o.formatValueText(t),textVerticalAlign:"horizontal"===F?v:"middle",textAlign:"horizontal"===F?"center":v,x:f[0],y:f[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);i[1]=If($c(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){e._hovering=!1,e._dragging||e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var v,F,P,ee,n=this.visualMapModel;if(n.option.hoverLink){var o=[0,n.itemSize[1]],a=n.getExtent();e=If($c(o[0],e),o[1]);var s=(v=a,F=o,P=6,(ee=n.get("hoverLinkDataSize"))&&(P=hs(ee,v,F,!0)/2),P),l=[e-s,e+s],u=hs(e,o,a,!0),c=[hs(l[0],o,a,!0),hs(l[1],o,a,!0)];l[0]<o[0]&&(c[0]=-1/0),o[1]<l[1]&&(c[1]=1/0),t&&(c[0]===-1/0?this._showIndicator(u,c[1],"< ",s):c[1]===1/0?this._showIndicator(u,c[0],"> ",s):this._showIndicator(u,u,"\u2248 ",s));var d=this._hoverLinkDataIndices,h=[];(t||f2(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var f=function(p,v){var F={},P={};return ee(p||[],F),ee(v||[],P,F),[le(F),le(P)];function ee(ae,we,_e){for(var Ce=0,Le=ae.length;Ce<Le;Ce++)for(var Fe=ae[Ce].seriesId,at=Po(ae[Ce].dataIndex),pt=_e&&_e[Fe],wt=0,Rt=at.length;wt<Rt;wt++){var Ot=at[wt];pt&&pt[Ot]?pt[Ot]=null:(we[Fe]||(we[Fe]={}))[Ot]=1}}function le(ae,we){var _e=[];for(var Ce in ae)if(ae.hasOwnProperty(Ce)&&null!=ae[Ce])if(we)_e.push(+Ce);else{var Le=le(ae[Ce],!0);Le.length&&_e.push({seriesId:Ce,dataIndex:Le})}return _e}}(d,h);this._dispatchHighDown("downplay",Af(f[0],n)),this._dispatchHighDown("highlight",Af(f[1],n))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=t.dataIndex){var i=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(i)){var o=i.getData(t.dataType),a=o.get(n.getDataDimension(o),t.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Af(e,this.visualMapModel)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,n,i){var o=tl(t,i?null:this.group);return ts[ze(e)?"applyTransform":"transformDirection"](e,o,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function Df(e,t,n,i){return new ea({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(o){Ir(o.event)},ondragend:i})}function f2(e){return!!(e.get("hoverLinkOnHandle")??e.get("realtime"))}function p2(e){return"vertical"===e?"ns-resize":"ew-resize"}Lr({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(n){n.setSelected(e.selected)})}),Bo(r2);var DD=Tf.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){DD.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();ED[this._mode].call(this),this._resetSelected(e,t);var i=this.option.categories;this.resetVisual(function(o,a){"categories"===n?(o.mappingMethod="category",o.categories=U(i)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=Oe(this._pieceList,function(s){return s=U(s),"inRange"!==a&&(s.visual=null),s}))})},completeVisualOption:function(){var e=this.option,t={},n=qr.listVisualTypes(),i=this.isCategory();function o(a,s,l){return a&&a[s]&&(st(a[s])?a[s].hasOwnProperty(l):a[s]===l)}ce(e.pieces,function(a){ce(n,function(s){a.hasOwnProperty(s)&&(t[s]=1)})}),ce(t,function(a,s){var l=0;ce(this.stateList,function(u){l|=o(e,u,s)||o(e.target,u,s)},this),l||ce(this.stateList,function(u){(e[u]||(e[u]={}))[s]=n0(s,"inRange"===u?"active":"inactive",i)})},this),Tf.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var n=this.option,i=this._pieceList,o=(t?n:e).selected||{};if(n.selected=o,ce(i,function(s,l){var u=this.getSelectedMapKey(s);o.hasOwnProperty(u)||(o[u]=!0)},this),"single"===n.selectedMode){var a=!1;ce(i,function(s,l){var u=this.getSelectedMapKey(s);o[u]&&(a?o[u]=!1:a=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&0<e.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=U(e)},getValueState:function(e){var t=qr.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],o=n.getData();o.each(this.getDataDimension(o),function(a,s){qr.findPieceIndex(a,this._pieceList)===e&&i.push(s)},this),t.push({seriesId:n.id,dataIndex:i})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},getVisualMeta:function(e){if(!this.isCategory()){var t=[],n=[],i=this,o=this._pieceList.slice();if(o.length){var a=o[0].interval[0];a!==-1/0&&o.unshift({interval:[-1/0,a]}),(a=o[o.length-1].interval[1])!==1/0&&o.push({interval:[a,1/0]})}else o.push({interval:[-1/0,1/0]});var s=-1/0;return ce(o,function(u){var c=u.interval;c&&(c[0]>s&&l([s,c[0]],"outOfRange"),l(c.slice()),s=c[1])},this),{stops:t,outerColors:n}}function l(u,c){var d=i.getRepresentValue({interval:u});c=c||i.getValueState(d);var h=e(d,c);u[0]===-1/0?n[0]=h:u[1]===1/0?n[1]=h:t.push({value:u[0],color:h},{value:u[1],color:h})}}}),ED={splitNumber:function(){var e=this.option,t=this._pieceList,n=Math.min(e.precision,20),i=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;for(var a=(i[1]-i[0])/o;+a.toFixed(n)!==a&&n<5;)n++;e.precision=n,a=+a.toFixed(n),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var s=0,l=i[0];s<o;l+=a,s++)t.push({interval:[l,s===o-1?i[1]:l+a],close:[1,1]});e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),Sp(t),ce(t,function(c,d){c.index=d,c.text=this.formatValueText(c.interval)},this)},categories:function(){var e=this.option;ce(e.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),g2(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;ce(e.pieces,function(n,i){st(n)||(n={value:n});var o={text:"",index:i};if(null!=n.label&&(o.text=n.label),n.hasOwnProperty("value")){var a=o.value=n.value;o.interval=[a,a],o.close=[1,1]}else{for(var s=o.interval=[],l=o.close=[0,0],u=[1,0,1],c=[-1/0,1/0],d=[],h=0;h<2;h++){for(var f=[["gte","gt","min"],["lte","lt","max"]][h],p=0;p<3&&null==s[h];p++)s[h]=n[f[p]],l[h]=u[p],d[h]=2===p;null==s[h]&&(s[h]=c[h])}d[0]&&s[1]===1/0&&(l[0]=0),d[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(o.value=s[0])}o.visual=qr.retrieveVisuals(n),t.push(o)},this),g2(e,t),Sp(t),ce(t,function(n){var i=n.close;n.text=n.text||this.formatValueText(null!=n.value?n.value:n.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function g2(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}d2.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),i=t.textStyleModel,o=i.getFont(),a=i.getTextColor(),s=this._getItemAlign(),l=t.itemSize,u=this._getViewData(),c=u.endsText,d=en(t.get("showLabel",!0),!c);c&&this._renderEndsText(e,c[0],l,d,s),ce(u.viewPieceList,function(h){var f=h.piece,p=new E;p.onclick=et(this._onItemClick,this,f),this._enableHoverLink(p,h.indexInModelPieceList);var v=t.getRepresentValue(f);if(this._createItemSymbol(p,v,[0,0,l[0],l[1]]),d){var F=this.visualMapModel.getValueState(v);p.add(new Cr({style:{x:"right"===s?-n:l[0]+n,y:l[1]/2,text:f.text,textVerticalAlign:"middle",textAlign:s,textFont:o,textFill:a,opacity:"outOfRange"===F?.5:1}}))}e.add(p)},this),c&&this._renderEndsText(e,c[1],l,d,s),ol(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function n(i){var o=this.visualMapModel;o.option.hoverLink&&this.api.dispatchAction({type:i,batch:Af(o.findTargetDataIndices(t),o)})}e.on("mouseover",et(n,this,"highlight")).on("mouseout",et(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return h2(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(e,t,n,i,o){if(t){var a=new E,s=this.visualMapModel.textStyleModel;a.add(new Cr({style:{x:i?"right"===o?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:i?o:"center",text:t,textFont:s.getFont(),textFill:s.getTextColor()}})),e.add(a)}},_getViewData:function(){var e=this.visualMapModel,t=Oe(e.getPieceList(),function(a,s){return{piece:a,indexInModelPieceList:s}}),n=e.get("text"),i=e.get("orient"),o=e.get("inverse");return("horizontal"===i?o:!o)?t.reverse():n=n&&n.slice().reverse(),{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(da(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,n=t.option,i=U(n.selected),o=t.getSelectedMapKey(e);"single"===n.selectedMode?(i[o]=!0,ce(i,function(a,s){i[s]=s===o})):i[o]=!i[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}}),Bo(r2);var r0,m2="urn:schemas-microsoft-com:vml",v2=typeof window>"u"?null:window,y2=!1,pa=v2&&v2.document;function o0(e){return r0(e)}if(pa&&!Ne.canvasSupported)try{pa.namespaces.zrvml||pa.namespaces.add("zrvml",m2),r0=function(e){return pa.createElement("<zrvml:"+e+' class="zrvml">')}}catch{r0=function(t){return pa.createElement("<"+t+' xmlns="'+m2+'" class="zrvml">')}}var x2,Nl=Qo.CMD,Wr=Math.round,Kc=Math.sqrt,ND=Math.abs,b2=Math.cos,_2=Math.sin,a0=Math.max;if(!Ne.canvasSupported){var So=",",s0="progid:DXImageTransform.Microsoft",Do=21600,ra=Do/2,l0=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",e.coordsize=Do+","+Do,e.coordorigin="0,0"},w2=function(e,t,n){return"rgb("+[e,t,n].join(",")+")"},Ja=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},Jc=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},u0=function(e,t,n){return 1e5*(parseFloat(e)||0)+1e3*(parseFloat(t)||0)+n},S2=Di,C2=function(e,t,n){var i=ji(t);n=+n,isNaN(n)&&(n=1),i&&(e.color=w2(i[0],i[1],i[2]),e.opacity=n*i[3])},Ef=function(e,t,n,i){var s,l,o="fill"===t,a=e.getElementsByTagName(t)[0];null!=n[t]&&"none"!==n[t]&&(o||!o&&n.lineWidth)?(e[o?"filled":"stroked"]="true",n[t]instanceof Va&&Jc(e,a),a=a||o0(t),o?function(s,l,u){var d,h=l.fill;if(null!=h)if(h instanceof Va){var f,p=0,v=[0,0],F=0,P=1,ee=u.getBoundingRect(),le=ee.width,ae=ee.height;if("linear"===h.type){f="gradient";var we=u.transform,_e=[h.x*le,h.y*ae],Ce=[h.x2*le,h.y2*ae];we&&(cr(_e,_e,we),cr(Ce,Ce,we)),(p=180*Math.atan2(Ce[0]-_e[0],Ce[1]-_e[1])/Math.PI)<0&&(p+=360),p<1e-6&&(p=0)}else{f="gradientradial";var at=u.scale,pt=le,wt=ae;v=[((_e=[h.x*le,h.y*ae])[0]-ee.x)/pt,(_e[1]-ee.y)/wt],(we=u.transform)&&cr(_e,_e,we);var Rt=a0(pt/=at[0]*Do,wt/=at[1]*Do);P=2*h.r/Rt-(F=0/Rt)}var Ot=h.colorStops.slice();Ot.sort(function(Xi,ri){return Xi.offset-ri.offset});for(var Wt=Ot.length,Qt=[],rn=[],$t=0;$t<Wt;$t++){var Sn=Ot[$t],Un=(d=ji(Sn.color),[w2(d[0],d[1],d[2]),d[3]]);rn.push(Sn.offset*P+F+" "+Un[0]),0!==$t&&$t!==Wt-1||Qt.push(Un)}if(2<=Wt){var Zn=Qt[0][0],Hn=Qt[1][0],li=Qt[0][1]*l.opacity,Si=Qt[1][1]*l.opacity;s.type=f,s.method="none",s.focus="100%",s.angle=p,s.color=Zn,s.color2=Hn,s.colors=rn.join(","),s.opacity=Si,s.opacity2=li}"radial"===f&&(s.focusposition=v.join(","))}else C2(s,h,l.opacity)}(a,n,i):(s=a,(l=n).lineDash&&(s.dashstyle=l.lineDash.join(" ")),null==l.stroke||l.stroke instanceof Va||C2(s,l.stroke,l.opacity)),Ja(e,a)):(e[o?"filled":"stroked"]="false",Jc(e,a))},ga=[[],[],[]];Er.prototype.brushVML=function(e){var t=this.style,n=this._vmlEl;n||(n=o0("shape"),l0(n),this._vmlEl=n),Ef(n,"fill",t,this),Ef(n,"stroke",t,this);var i=this.transform,o=null!=i,a=n.getElementsByTagName("stroke")[0];if(a){var s=t.lineWidth;o&&!t.strokeNoScale&&(s*=Kc(ND(i[0]*i[3]-i[1]*i[2]))),a.weight=s+"px"}var u=this.path||(this.path=new Qo);this.__dirtyPath&&(u.beginPath(),u.subPixelOptimize=!1,this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1),n.path=function(c,d){var h,f,p,v,F,P,ee=Nl.M,le=Nl.C,ae=Nl.L,we=Nl.A,_e=Nl.Q,Ce=[],Le=c.data,Fe=c.len();for(v=0;v<Fe;){switch(f="",h=0,p=Le[v++]){case ee:f=" m ",h=1,F=Le[v++],P=Le[v++],ga[0][0]=F,ga[0][1]=P;break;case ae:f=" l ",h=1,F=Le[v++],P=Le[v++],ga[0][0]=F,ga[0][1]=P;break;case _e:case le:f=" c ",h=3;var at,pt,wt=Le[v++],Rt=Le[v++],Ot=Le[v++],Wt=Le[v++];p===_e?(Ot=((at=Ot)+2*wt)/3,Wt=((pt=Wt)+2*Rt)/3,wt=(F+2*wt)/3,Rt=(P+2*Rt)/3):(at=Le[v++],pt=Le[v++]),ga[0][0]=wt,ga[0][1]=Rt,ga[1][0]=Ot,ga[1][1]=Wt,F=ga[2][0]=at,P=ga[2][1]=pt;break;case we:var Qt=0,rn=0,$t=1,Sn=1,Un=0;d&&(Qt=d[4],rn=d[5],$t=Kc(d[0]*d[0]+d[1]*d[1]),Sn=Kc(d[2]*d[2]+d[3]*d[3]),Un=Math.atan2(-d[1]/Sn,d[0]/$t));var Zn=Le[v++],Hn=Le[v++],li=Le[v++],Si=Le[v++],Xi=Le[v++]+Un,ri=Le[v++]+Xi+Un;v++;var Gi=Le[v++],Zi=Zn+b2(Xi)*li,ar=Hn+_2(Xi)*Si,Fr=(wt=Zn+b2(ri)*li,Rt=Hn+_2(ri)*Si,Gi?" wa ":" at ");Math.abs(Zi-wt)<1e-4&&(.01<Math.abs(ri-Xi)?Gi&&(Zi+=.0125):Math.abs(ar-Hn)<1e-4?Gi&&Zi<Zn||!Gi&&Zn<Zi?Rt-=.0125:Rt+=.0125:Gi&&ar<Hn||!Gi&&Hn<ar?wt+=.0125:wt-=.0125),Ce.push(Fr,Wr(((Zn-li)*$t+Qt)*Do-ra),So,Wr(((Hn-Si)*Sn+rn)*Do-ra),So,Wr(((Zn+li)*$t+Qt)*Do-ra),So,Wr(((Hn+Si)*Sn+rn)*Do-ra),So,Wr((Zi*$t+Qt)*Do-ra),So,Wr((ar*Sn+rn)*Do-ra),So,Wr((wt*$t+Qt)*Do-ra),So,Wr((Rt*Sn+rn)*Do-ra)),F=wt,P=Rt;break;case Nl.R:var Pr=ga[0],Gr=ga[1];Pr[0]=Le[v++],Pr[1]=Le[v++],Gr[0]=Pr[0]+Le[v++],Gr[1]=Pr[1]+Le[v++],d&&(cr(Pr,Pr,d),cr(Gr,Gr,d)),Pr[0]=Wr(Pr[0]*Do-ra),Gr[0]=Wr(Gr[0]*Do-ra),Pr[1]=Wr(Pr[1]*Do-ra),Gr[1]=Wr(Gr[1]*Do-ra),Ce.push(" m ",Pr[0],So,Pr[1]," l ",Gr[0],So,Pr[1]," l ",Gr[0],So,Gr[1]," l ",Pr[0],So,Gr[1]);break;case Nl.Z:Ce.push(" x ")}if(0<h){Ce.push(f);for(var Yo=0;Yo<h;Yo++){var jo=ga[Yo];d&&cr(jo,jo,d),Ce.push(Wr(jo[0]*Do-ra),So,Wr(jo[1]*Do-ra),Yo<h-1?So:"")}}}return Ce.join("")}(u,this.transform),n.style.zIndex=u0(this.zlevel,this.z,this.z2),Ja(e,n),null!=t.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},Er.prototype.onRemove=function(e){Jc(e,this._vmlEl),this.removeRectText(e)},Er.prototype.onAdd=function(e){Ja(e,this._vmlEl),this.appendRectText(e)},Tr.prototype.brushVML=function(e){var t,n,Si,i=this.style,o=i.image;if("object"==typeof(Si=o)&&Si.tagName&&"IMG"===Si.tagName.toUpperCase()){var a=o.src;if(a===this._imageSrc)t=this._imageWidth,n=this._imageHeight;else{var s=o.runtimeStyle,l=s.width,u=s.height;s.width="auto",s.height="auto",t=o.width,n=o.height,s.width=l,s.height=u,this._imageSrc=a,this._imageWidth=t,this._imageHeight=n}o=a}else o===this._imageSrc&&(t=this._imageWidth,n=this._imageHeight);if(o){var c=i.x||0,d=i.y||0,h=i.width,f=i.height,p=i.sWidth,v=i.sHeight,F=i.sx||0,P=i.sy||0,ee=p&&v,le=this._vmlEl;le||(le=pa.createElement("div"),l0(le),this._vmlEl=le);var ae,we=le.style,_e=!1,Ce=1,Le=1;if(this.transform&&(Ce=Kc((ae=this.transform)[0]*ae[0]+ae[1]*ae[1]),Le=Kc(ae[2]*ae[2]+ae[3]*ae[3]),_e=ae[1]||ae[2]),_e){var Fe=[c,d],at=[c+h,d],pt=[c,d+f],wt=[c+h,d+f];cr(Fe,Fe,ae),cr(at,at,ae),cr(pt,pt,ae),cr(wt,wt,ae);var Rt=a0(Fe[0],at[0],pt[0],wt[0]),Ot=a0(Fe[1],at[1],pt[1],wt[1]),Wt=[];Wt.push("M11=",ae[0]/Ce,So,"M12=",ae[2]/Le,So,"M21=",ae[1]/Ce,So,"M22=",ae[3]/Le,So,"Dx=",Wr(c*Ce+ae[4]),So,"Dy=",Wr(d*Le+ae[5])),we.padding="0 "+Wr(Rt)+"px "+Wr(Ot)+"px 0",we.filter=s0+".Matrix("+Wt.join("")+", SizingMethod=clip)"}else ae&&(c=c*Ce+ae[4],d=d*Le+ae[5]),we.filter="",we.left=Wr(c)+"px",we.top=Wr(d)+"px";var Qt=this._imageEl,rn=this._cropEl;Qt||(Qt=pa.createElement("div"),this._imageEl=Qt);var $t=Qt.style;if(ee){if(t&&n)$t.width=Wr(Ce*t*h/p)+"px",$t.height=Wr(Le*n*f/v)+"px";else{var Sn=new Image,Un=this;Sn.onload=function(){Sn.onload=null,n=Sn.height,$t.width=Wr(Ce*(t=Sn.width)*h/p)+"px",$t.height=Wr(Le*n*f/v)+"px",Un._imageWidth=t,Un._imageHeight=n,Un._imageSrc=o},Sn.src=o}rn||((rn=pa.createElement("div")).style.overflow="hidden",this._cropEl=rn);var Zn=rn.style;Zn.width=Wr((h+F*h/p)*Ce),Zn.height=Wr((f+P*f/v)*Le),Zn.filter=s0+".Matrix(Dx="+-F*h/p*Ce+",Dy="+-P*f/v*Le+")",rn.parentNode||le.appendChild(rn),Qt.parentNode!==rn&&rn.appendChild(Qt)}else $t.width=Wr(Ce*h)+"px",$t.height=Wr(Le*f)+"px",le.appendChild(Qt),rn&&rn.parentNode&&(le.removeChild(rn),this._cropEl=null);var Hn="",li=i.opacity;li<1&&(Hn+=".Alpha(opacity="+Wr(100*li)+") "),$t.filter=Hn+=s0+".AlphaImageLoader(src="+o+", SizingMethod=scale)",le.style.zIndex=u0(this.zlevel,this.z,this.z2),Ja(e,le),null!=i.text&&this.drawRectText(e,this.getBoundingRect())}},Tr.prototype.onRemove=function(e){Jc(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},Tr.prototype.onAdd=function(e){Ja(e,this._vmlEl),this.appendRectText(e)};var Ll,c0="normal",d0={},h0=0,LD=document.createElement("div");x2=function(e,t){var n=pa;Ll||((Ll=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",pa.body.appendChild(Ll));try{Ll.style.font=t}catch{}return Ll.innerHTML="",Ll.appendChild(n.createTextNode(e)),{width:Ll.offsetWidth}},di.measureText=x2;for(var f0=new C,PD=function(e,t,n,i){var o=this.style;this.__dirty&&Pt(o);var a=o.text;if(null!=a&&(a+=""),a){if(o.rich){var s=ui(a,o);a=[];for(var l=0;l<s.lines.length;l++){for(var u=s.lines[l].tokens,c=[],d=0;d<u.length;d++)c.push(u[d].text);a.push(c.join(""))}a=a.join("\n")}var h,f,p=o.textAlign,v=o.textVerticalAlign,F=function(wt){var Rt=d0[wt];if(!Rt){100<h0&&(h0=0,d0={});var Ot,Wt=LD.style;try{Wt.font=wt,Ot=Wt.fontFamily.split(",")[0]}catch{}Rt={style:Wt.fontStyle||c0,variant:Wt.fontVariant||c0,weight:Wt.fontWeight||c0,size:0|parseFloat(Wt.fontSize||12),family:Ot||"Microsoft YaHei"},d0[wt]=Rt,h0++}return Rt}(o.font),P=F.style+" "+F.variant+" "+F.weight+" "+F.size+'px "'+F.family+'"';n=n||yi(a,P,p,v,o.textPadding,o.textLineHeight);var ee=this.transform;if(ee&&!i&&(f0.copy(t),f0.applyTransform(ee),t=f0),i)h=t.x,f=t.y;else{var le=o.textPosition;if(le instanceof Array)h=t.x+S2(le[0],t.width),f=t.y+S2(le[1],t.height),p=p||"left";else{var ae=this.calculateTextPosition?this.calculateTextPosition({},o,t):Ri({},o,t);h=ae.x,f=ae.y,p=p||ae.textAlign,v=v||ae.textVerticalAlign}}h=hi(h,n.width,p),f=nr(f,n.height,v),f+=n.height/2;var we,_e,Ce,Le=o0,Fe=this._textVmlEl;Fe?_e=(we=(Ce=Fe.firstChild).nextSibling).nextSibling:(Fe=Le("line"),we=Le("path"),_e=Le("textpath"),Ce=Le("skew"),_e.style["v-text-align"]="left",l0(Fe),we.textpathok=!0,_e.on=!0,Fe.from="0 0",Fe.to="1000 0.05",Ja(Fe,Ce),Ja(Fe,we),Ja(Fe,_e),this._textVmlEl=Fe);var at=[h,f],pt=Fe.style;ee&&i?(cr(at,at,ee),Ce.on=!0,Ce.matrix=ee[0].toFixed(3)+So+ee[2].toFixed(3)+So+ee[1].toFixed(3)+So+ee[3].toFixed(3)+",0,0",Ce.offset=(Wr(at[0])||0)+","+(Wr(at[1])||0),Ce.origin="0 0",pt.left="0px",pt.top="0px"):(Ce.on=!1,pt.left=Wr(h)+"px",pt.top=Wr(f)+"px"),_e.string=String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{_e.style.font=P}catch{}Ef(Fe,"fill",{fill:o.textFill,opacity:o.opacity},this),Ef(Fe,"stroke",{stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash||null},this),Fe.style.zIndex=u0(this.zlevel,this.z,this.z2),Ja(e,Fe)}},RD=function(e){Jc(e,this._textVmlEl),this._textVmlEl=null},OD=function(e){Ja(e,this._textVmlEl)},M2=[br,mr,Tr,Er,Cr],p0=0;p0<M2.length;p0++){var g0=M2[p0].prototype;g0.drawRectText=PD,g0.removeRectText=RD,g0.appendRectText=OD}Cr.prototype.brushVML=function(e){var t=this.style;null!=t.text?this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(e)},Cr.prototype.onRemove=function(e){this.removeRectText(e)},Cr.prototype.onAdd=function(e){this.appendRectText(e)}}function Au(e){return parseInt(e,10)}function Nf(e,t){(function(){if(!y2&&pa){y2=!0;var s=pa.styleSheets;s.length<31?pa.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):s[0].addRule(".zrvml","behavior:url(#default#VML)")}})(),this.root=e,this.storage=t;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",e.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var o=t.delFromStorage,a=t.addToStorage;t.delFromStorage=function(s){o.call(t,s),s&&s.onRemove&&s.onRemove(i)},t.addToStorage=function(s){s.onAdd&&s.onAdd(i),a.call(t,s)},this._firstPaint=!0}function Qa(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}Nf.prototype={constructor:Nf,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,n=0;n<e.length;n++){var i=e[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(t),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(t),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,t),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(e,t){if(e=e??this._getWidth(),t=t??this._getHeight(),this._width!==e||this._height!==t){this._width=e,this._height=t;var n=this._vmlViewport.style;n.width=e+"px",n.height=t+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var e=this.root,t=e.currentStyle;return(e.clientWidth||Au(t.width))-Au(t.paddingLeft)-Au(t.paddingRight)|0},_getHeight:function(){var e=this.root,t=e.currentStyle;return(e.clientHeight||Au(t.height))-Au(t.paddingTop)-Au(t.paddingBottom)|0}},ce(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){Nf.prototype[e]=function(){}}),Yf("vml",Nf);var Pl=Qo.CMD,BD=Array.prototype.join,Iu="none",m0=Math.round,k2=Math.sin,T2=Math.cos,A2=Math.PI,js=2*Math.PI,zD=180/A2,I2=1e-4;function Pa(e){return m0(1e4*e)/1e4}function D2(e){return e<I2&&-I2<e}function v0(e,t){t&&fo(e,"transform","matrix("+BD.call(t,",")+")")}function fo(e,t,n){n&&("linear"===n.type||"radial"===n.type)||e.setAttribute(t,n)}function E2(e,t,n,i){if(s=t,null!=(u=n?s.textFill:s.fill)&&u!==Iu){var o=n?t.textFill:t.fill;fo(e,"fill",o="transparent"===o?Iu:o),fo(e,"fill-opacity",null!=t.fillOpacity?t.fillOpacity*t.opacity:t.opacity)}else fo(e,"fill",Iu);var s,u;if(function(s,l){var u=l?s.textStroke:s.stroke;return null!=u&&u!==Iu}(t,n)){var a=n?t.textStroke:t.stroke;fo(e,"stroke",a="transparent"===a?Iu:a),fo(e,"stroke-width",(n?t.textStrokeWidth:t.lineWidth)/(!n&&t.strokeNoScale?i.getLineScale():1)),fo(e,"paint-order",n?"stroke":"fill"),fo(e,"stroke-opacity",null!=t.strokeOpacity?t.strokeOpacity:t.opacity),t.lineDash?(fo(e,"stroke-dasharray",t.lineDash.join(",")),fo(e,"stroke-dashoffset",m0(t.lineDashOffset||0))):fo(e,"stroke-dasharray",""),t.lineCap&&fo(e,"stroke-linecap",t.lineCap),t.lineJoin&&fo(e,"stroke-linejoin",t.lineJoin),t.miterLimit&&fo(e,"stroke-miterlimit",t.miterLimit)}else fo(e,"stroke",Iu)}var Qc={brush:function(e){var t=e.style,n=e.__svgEl;n||(n=Qa("path"),e.__svgEl=n),e.path||e.createPathProxy();var i=e.path;if(e.__dirtyPath){i.beginPath(),i.subPixelOptimize=!1,e.buildPath(i,e.shape),e.__dirtyPath=!1;var o=function(a){for(var s=[],l=a.data,u=a.len(),c=0;c<u;){var d="",h=0;switch(l[c++]){case Pl.M:d="M",h=2;break;case Pl.L:d="L",h=2;break;case Pl.Q:d="Q",h=4;break;case Pl.C:d="C",h=6;break;case Pl.A:var f=l[c++],p=l[c++],v=l[c++],F=l[c++],P=l[c++],ee=l[c++],le=l[c++],ae=l[c++],we=Math.abs(ee),_e=D2(we-js)||(ae?js<=ee:js<=-ee),Ce=0<ee?ee%js:ee%js+js,Le=!1;Le=!!_e||!D2(we)&&A2<=Ce==!!ae;var Fe=Pa(f+v*T2(P)),at=Pa(p+F*k2(P));_e&&(ee=ae?js-1e-4:1e-4-js,Le=!0,9===c&&s.push("M",Fe,at));var pt=Pa(f+v*T2(P+ee)),wt=Pa(p+F*k2(P+ee));s.push("A",Pa(v),Pa(F),m0(le*zD),+Le,+ae,pt,wt);break;case Pl.Z:d="Z";break;case Pl.R:pt=Pa(l[c++]),wt=Pa(l[c++]);var Rt=Pa(l[c++]),Ot=Pa(l[c++]);s.push("M",pt,wt,"L",pt+Rt,wt,"L",pt+Rt,wt+Ot,"L",pt,wt+Ot,"L",pt,wt)}d&&s.push(d);for(var Wt=0;Wt<h;Wt++)s.push(Pa(l[c++]))}return s.join(" ")}(i);o.indexOf("NaN")<0&&fo(n,"d",o)}E2(n,t,!1,e),v0(n,e.transform),null!=t.text?Pf(e,e.getBoundingRect()):x0(e)}},N2={brush:function(e){var t=e.style,n=t.image;if(n instanceof HTMLImageElement&&(n=n.src),n){var i=t.x||0,o=t.y||0,a=t.width,s=t.height,l=e.__svgEl;l||(l=Qa("image"),e.__svgEl=l),n!==e.__imageSrc&&(l.setAttributeNS("http://www.w3.org/1999/xlink","href",n),e.__imageSrc=n),fo(l,"width",a),fo(l,"height",s),fo(l,"x",i),fo(l,"y",o),v0(l,e.transform),null!=t.text?Pf(e,e.getBoundingRect()):x0(e)}}},Lf={},y0=new C,ed={},fs=[],FD={left:"start",right:"end",center:"middle",middle:"middle"},Pf=function(e,t){var n=e.style,i=e.transform,o=e instanceof Cr||n.transformText;e.__dirty&&Pt(n);var Ot,Wt,Qt,a=n.text;if(null!=a&&(a+=""),zi(a,n)){null==a&&(a=""),!o&&i&&(y0.copy(t),y0.applyTransform(i),t=y0);var s=e.__textSvgEl;s||(s=Qa("text"),e.__textSvgEl=s);var l=s.style,u=n.font||En,c=s.__computedFont;u!==s.__styleFont&&(l.font=s.__styleFont=u,c=s.__computedFont=l.font);var d=n.textPadding,f=e.__textCotentBlock;f&&!e.__dirtyText||(f=e.__textCotentBlock=wi(a,c,d,n.textLineHeight,n.truncate));var p=f.outerHeight,v=f.lineHeight;$n(ed,e,n,t);var F=ed.baseX,P=ed.baseY,ee=ed.textAlign||"left",le=ed.textVerticalAlign;!function(Ot,Wt,Qt,rn,$t,Sn,Un){Zr(fs),Wt&&Qt&&go(fs,Qt);var Zn=rn.textRotation;if($t&&Zn){var Hn=rn.textOrigin;"center"===Hn?(Sn=$t.width/2+$t.x,Un=$t.height/2+$t.y):Hn&&(Sn=Hn[0]+$t.x,Un=Hn[1]+$t.y),fs[4]-=Sn,fs[5]-=Un,Ee(fs,fs,Zn),fs[4]+=Sn,fs[5]+=Un}v0(Ot,fs)}(s,o,i,n,t,F,P);var ae=F,we=nr(P,p,le);d&&(Ot=F,Qt=d,ae="right"===(Wt=ee)?Ot-Qt[1]:"center"===Wt?Ot+Qt[3]/2-Qt[1]/2:Ot+Qt[3],we+=d[0]),we+=v/2,E2(s,n,!0,e);var _e=f.canCacheByTextString,Ce=e.__tspanList||(e.__tspanList=[]),Le=Ce.length;if(_e&&e.__canCacheByTextString&&e.__text===a){if(e.__dirtyText&&Le)for(var Fe=0;Fe<Le;++Fe)L2(Ce[Fe],ee,ae,we+Fe*v)}else{e.__text=a,e.__canCacheByTextString=_e;var at=f.lines,pt=at.length;for(Fe=0;Fe<pt;Fe++){var wt=Ce[Fe],Rt=at[Fe];wt?wt.__zrText!==Rt&&(wt.innerHTML="",wt.appendChild(document.createTextNode(Rt))):(wt=Ce[Fe]=Qa("tspan"),s.appendChild(wt),wt.appendChild(document.createTextNode(Rt))),L2(wt,ee,ae,we+Fe*v)}if(pt<Le){for(;Fe<Le;Fe++)s.removeChild(Ce[Fe]);Ce.length=pt}}}};function L2(e,t,n,i){fo(e,"dominant-baseline","middle"),fo(e,"text-anchor",FD[t]),fo(e,"x",n),fo(e,"y",i)}function x0(e){e&&e.__textSvgEl&&(e.__textSvgEl.parentNode&&e.__textSvgEl.parentNode.removeChild(e.__textSvgEl),e.__textSvgEl=null,e.__tspanList=[],e.__text=null)}function P2(){}function VD(e,t){for(var n=0,i=t.length,o=0,a=0;n<i;n++){var s=t[n];if(s.removed){for(l=[],u=a;u<a+s.count;u++)l.push(u);s.indices=l,a+=s.count}else{for(var l=[],u=o;u<o+s.count;u++)l.push(u);s.indices=l,o+=s.count,s.added||(a+=s.count)}}return t}Lf.drawRectText=Pf,Lf.brush=function(e){null!=e.style.text?Pf(e,!1):x0(e)},P2.prototype={diff:function(e,t,n){this.equals=n=n||function(v,F){return v===F};var i=this;e=e.slice();var o=(t=t.slice()).length,a=e.length,s=1,l=o+a,u=[{newPos:-1,components:[]}],c=this.extractCommon(u[0],t,e,0);if(u[0].newPos+1>=o&&a<=c+1){for(var d=[],h=0;h<t.length;h++)d.push(h);return[{indices:d,count:t.length}]}function f(){for(var v=-1*s;v<=s;v+=2){var F,P=u[v-1],ee=u[v+1],le=(ee?ee.newPos:0)-v;P&&(u[v-1]=void 0);var ae=P&&P.newPos+1<o,we=ee&&0<=le&&le<a;if(ae||we){if(!ae||we&&P.newPos<ee.newPos?(F={newPos:(_e=ee).newPos,components:_e.components.slice(0)},i.pushComponent(F.components,void 0,!0)):((F=P).newPos++,i.pushComponent(F.components,!0,void 0)),le=i.extractCommon(F,t,e,v),F.newPos+1>=o&&a<=le+1)return VD(0,F.components);u[v]=F}else u[v]=void 0}var _e;s++}for(;s<=l;){var p=f();if(p)return p}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var o=t.length,a=n.length,s=e.newPos,l=s-i,u=0;s+1<o&&l+1<a&&this.equals(t[s+1],n[l+1]);)s++,l++,u++;return u&&e.components.push({count:u}),e.newPos=s,l},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};var HD=new P2;function oo(e,t,n,i,o){this._zrId=e,this._svgRoot=t,this._tagNames="string"==typeof n?[n]:n,this._markLabel=i,this._domName=o||"_dom",this.nextId=0}function Rl(e,t){oo.call(this,e,t,["linearGradient","radialGradient"],"__gradient_in_use__")}function td(e,t){oo.call(this,e,t,"clipPath","__clippath_in_use__")}function Us(e,t){oo.call(this,e,t,["filter"],"__filter_in_use__","_shadowDom")}function R2(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}function Rf(e){return parseInt(e,10)}function O2(e,t){return t&&e&&t.parentNode!==e}function nd(e,t,n){if(O2(e,t)&&n){var i=n.nextSibling;i?e.insertBefore(t,i):e.appendChild(t)}}function B2(e,t){if(O2(e,t)){var n=e.firstChild;n?e.insertBefore(t,n):e.appendChild(t)}}function z2(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function id(e){return e.__textSvgEl}function rd(e){return e.__svgEl}function Of(e,t,n,i){this.root=e,this.storage=t,this._opts=n=ue({},n||{});var o=Qa("svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;";var a=Qa("g");o.appendChild(a);var s=Qa("g");o.appendChild(s),this.gradientManager=new Rl(i,s),this.clipPathManager=new td(i,s),this.shadowManager=new Us(i,s);var l=document.createElement("div");l.style.cssText="overflow:hidden;position:relative",this._svgDom=o,this._svgRoot=s,this._backgroundRoot=a,this._viewport=l,e.appendChild(l),l.appendChild(o),this.resize(n.width,n.height),this._visibleList=[]}oo.prototype.createElement=Qa,oo.prototype.getDefs=function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?e?((n=t.insertBefore(this.createElement("defs"),t.firstChild)).contains||(n.contains=function(i){var o=n.children;if(!o)return!1;for(var a=o.length-1;0<=a;--a)if(o[a]===i)return!0;return!1}),n):null:n[0]},oo.prototype.update=function(e,t){if(e){var n=this.getDefs(!1);if(e[this._domName]&&n.contains(e[this._domName]))"function"==typeof t&&t(e);else{var i=this.add(e);i&&(e[this._domName]=i)}}},oo.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},oo.prototype.removeDom=function(e){var t=this.getDefs(!1);t&&e[this._domName]&&(t.removeChild(e[this._domName]),e[this._domName]=null)},oo.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return ce(this._tagNames,function(n){var i=e.getElementsByTagName(n);t=t.concat([].slice.call(i))}),t},oo.prototype.markAllUnused=function(){var e=this.getDoms(),t=this;ce(e,function(n){n[t._markLabel]="0"})},oo.prototype.markUsed=function(e){e&&(e[this._markLabel]="1")},oo.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this.getDoms(),n=this;ce(t,function(i){"1"!==i[n._markLabel]&&e.removeChild(i)})}},oo.prototype.getSvgProxy=function(e){return e instanceof Er?Qc:e instanceof Tr?N2:e instanceof Cr?Lf:Qc},oo.prototype.getTextSvgElement=function(e){return e.__textSvgEl},oo.prototype.getSvgElement=function(e){return e.__svgEl},ye(Rl,oo),Rl.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var n=this;ce(["fill","stroke"],function(i){if(t.style[i]&&("linear"===t.style[i].type||"radial"===t.style[i].type)){var o,a=t.style[i],s=n.getDefs(!0);a._dom?(o=a._dom,s.contains(a._dom)||n.addDom(o)):o=n.add(a),n.markUsed(t);var l=o.getAttribute("id");e.setAttribute(i,"url(#"+l+")")}})}},Rl.prototype.add=function(e){var t;if("linear"===e.type)t=this.createElement("linearGradient");else{if("radial"!==e.type)return null;t=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,t),this.addDom(t),t},Rl.prototype.update=function(e){var t=this;oo.prototype.update.call(this,e,function(){var n=e.type,i=e._dom.tagName;"linear"===n&&"linearGradient"===i||"radial"===n&&"radialGradient"===i?t.updateDom(e,e._dom):(t.removeDom(e),t.add(e))})},Rl.prototype.updateDom=function(e,t){if("linear"===e.type)t.setAttribute("x1",e.x),t.setAttribute("y1",e.y),t.setAttribute("x2",e.x2),t.setAttribute("y2",e.y2);else{if("radial"!==e.type)return;t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("r",e.r)}t.setAttribute("gradientUnits",e.global?"userSpaceOnUse":"objectBoundingBox"),t.innerHTML="";for(var n=e.colorStops,i=0,o=n.length;i<o;++i){var a=this.createElement("stop");a.setAttribute("offset",100*n[i].offset+"%");var s=n[i].color;if(-1<s.indexOf("rgba")){var l=ji(s)[3],u=Ti(s);a.setAttribute("stop-color","#"+u),a.setAttribute("stop-opacity",l)}else a.setAttribute("stop-color",n[i].color);t.appendChild(a)}e._dom=t},Rl.prototype.markUsed=function(e){if(e.style){var t=e.style.fill;t&&t._dom&&oo.prototype.markUsed.call(this,t._dom),(t=e.style.stroke)&&t._dom&&oo.prototype.markUsed.call(this,t._dom)}},ye(td,oo),td.prototype.update=function(e){var t=this.getSvgElement(e);t&&this.updateDom(t,e.__clipPaths,!1);var n=this.getTextSvgElement(e);n&&this.updateDom(n,e.__clipPaths,!0),this.markUsed(e)},td.prototype.updateDom=function(e,t,n){if(t&&0<t.length){var i,o,a=this.getDefs(!0),s=t[0],l=n?"_textDom":"_dom";s[l]?(o=s[l].getAttribute("id"),a.contains(i=s[l])||a.appendChild(i)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(i=this.createElement("clipPath")).setAttribute("id",o),a.appendChild(i),s[l]=i);var u=this.getSvgProxy(s);if(s.transform&&s.parent.invTransform&&!n){var c=Array.prototype.slice.call(s.transform);X(s.transform,s.parent.invTransform,s.transform),u.brush(s),s.transform=c}else u.brush(s);var d=this.getSvgElement(s);i.innerHTML="",i.appendChild(d.cloneNode()),e.setAttribute("clip-path","url(#"+o+")"),1<t.length&&this.updateDom(i,t.slice(1),n)}else e&&e.setAttribute("clip-path","none")},td.prototype.markUsed=function(e){var t=this;e.__clipPaths&&ce(e.__clipPaths,function(n){n._dom&&oo.prototype.markUsed.call(t,n._dom),n._textDom&&oo.prototype.markUsed.call(t,n._textDom)})},ye(Us,oo),Us.prototype.addWithoutUpdate=function(e,t){if(t&&R2(t.style)){var n;t._shadowDom?(n=t._shadowDom,this.getDefs(!0).contains(t._shadowDom)||this.addDom(n)):n=this.add(t),this.markUsed(t);var i=n.getAttribute("id");e.style.filter="url(#"+i+")"}},Us.prototype.add=function(e){var t=this.createElement("filter");return e._shadowDomId=e._shadowDomId||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-shadow-"+e._shadowDomId),this.updateDom(e,t),this.addDom(t),t},Us.prototype.update=function(e,t){if(R2(t.style)){var n=this;oo.prototype.update.call(this,t,function(){n.updateDom(t,t._shadowDom)})}else this.remove(e,t)},Us.prototype.remove=function(e,t){null!=t._shadowDomId&&(this.removeDom(e),e.style.filter="")},Us.prototype.updateDom=function(e,t){var n=t.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var i,o,a,s,l=e.style,u=e.scale&&e.scale[0]||1,c=e.scale&&e.scale[1]||1;if(l.shadowBlur||l.shadowOffsetX||l.shadowOffsetY)i=l.shadowOffsetX||0,o=l.shadowOffsetY||0,a=l.shadowBlur,s=l.shadowColor;else{if(!l.textShadowBlur)return void this.removeDom(t,l);i=l.textShadowOffsetX||0,o=l.textShadowOffsetY||0,a=l.textShadowBlur,s=l.textShadowColor}n.setAttribute("dx",i/u),n.setAttribute("dy",o/c),n.setAttribute("flood-color",s),n.setAttribute("stdDeviation",a/2/u+" "+a/2/c),t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width",Math.ceil(a/2*200)+"%"),t.setAttribute("height",Math.ceil(a/2*200)+"%"),t.appendChild(n),e._shadowDom=t},Us.prototype.markUsed=function(e){e._shadowDom&&oo.prototype.markUsed.call(this,e._shadowDom)},Of.prototype={constructor:Of,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},setBackgroundColor:function(e){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var t=Qa("rect");t.setAttribute("width",this.getWidth()),t.setAttribute("height",this.getHeight()),t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("id",0),t.style.fill=e,this._backgroundRoot.appendChild(t),this._backgroundNode=t},_paintList:function(e){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var t,n,i=this._svgRoot,o=this._visibleList,a=e.length,s=[];for(t=0;t<a;t++){var l=e[t],u=(n=l)instanceof Er?Qc:n instanceof Tr?N2:n instanceof Cr?Lf:Qc,c=rd(l)||id(l);l.invisible||(l.__dirty&&(u&&u.brush(l),this.clipPathManager.update(l),l.style&&(this.gradientManager.update(l.style.fill),this.gradientManager.update(l.style.stroke),this.shadowManager.update(c,l)),l.__dirty=!1),s.push(l))}var d,h=HD.diff(o,s,void 0);for(t=0;t<h.length;t++)if((v=h[t]).removed)for(var f=0;f<v.count;f++){c=rd(l=o[v.indices[f]]);var p=id(l);z2(i,c),z2(i,p)}for(t=0;t<h.length;t++){var v;if((v=h[t]).added)for(f=0;f<v.count;f++)c=rd(l=s[v.indices[f]]),p=id(l),d?nd(i,c,d):B2(i,c),c?nd(i,p,c):d?nd(i,p,d):B2(i,p),nd(i,p,c),d=p||c||d,this.gradientManager.addWithoutUpdate(c||p,l),this.shadowManager.addWithoutUpdate(c||p,l),this.clipPathManager.markUsed(l);else if(!v.removed)for(f=0;f<v.count;f++)c=rd(l=s[v.indices[f]]),p=id(l),c=rd(l),p=id(l),this.gradientManager.markUsed(l),this.gradientManager.addWithoutUpdate(c||p,l),this.shadowManager.markUsed(l),this.shadowManager.addWithoutUpdate(c||p,l),this.clipPathManager.markUsed(l),p&&nd(i,p,c),d=c||p||d}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=s},_getDefs:function(e){var t,n=this._svgDom;return 0!==(t=n.getElementsByTagName("defs")).length?t[0]:e?((t=n.insertBefore(Qa("defs"),n.firstChild)).contains||(t.contains=function(i){var o=t.children;if(!o)return!1;for(var a=o.length-1;0<=a;--a)if(o[a]===i)return!0;return!1}),t):null},resize:function(e,t){var n=this._viewport;n.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var o=n.style;o.width=e+"px",o.height=t+"px";var a=this._svgDom;a.setAttribute("width",e),a.setAttribute("height",t)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",e),this._backgroundNode.setAttribute("height",t))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[i]||Rf(l[n])||Rf(s.style[n]))-(Rf(l[o])||0)-(Rf(l[a])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(this._svgDom.outerHTML.replace(/></g,">\n\r<"))}},ce(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(e){Of.prototype[e]=function(){}}),Yf("svg",Of),ke.version="4.9.0",ke.dependencies={zrender:"4.3.2"},ke.PRIORITY=ja,ke.init=function(e,t,n){var i=ag(e);if(i)return i;var o=new ic(e,t,n);return o.id="ec_"+vk++,ul[o.id]=o,P0(e,og,o.id),function(a){var s="__connectUpdateStatus";function l(u,c){for(var d=0;d<u.length;d++)u[d][s]=c}To(sh,function(u,c){a._messageCenter.on(c,function(d){if(uh[a.group]&&0!==a[s]){if(d&&d.escapeConnect)return;var h=a.makeActionFromEvent(d),f=[];To(ul,function(p){p!==a&&p.group===a.group&&f.push(p)}),l(f,0),To(f,function(p){1!==p[s]&&p.dispatchAction(h)}),l(f,2)}})})}(o),o},ke.connect=function(e){if(ze(e)){var t=e;e=null,To(t,function(n){null!=n.group&&(e=n.group)}),e=e||"g_"+yk++,To(t,function(n){n.group=e})}return uh[e]=!0,e},ke.disConnect=q1,ke.disconnect=xk,ke.dispose=function(e){"string"==typeof e?e=ul[e]:e instanceof ic||(e=ag(e)),e instanceof ic&&!e.isDisposed()&&e.dispose()},ke.getInstanceByDom=ag,ke.getInstanceById=function(e){return ul[e]},ke.registerTheme=sg,ke.registerPreprocessor=Bo,ke.registerProcessor=ua,ke.registerPostUpdate=function(e){j1.push(e)},ke.registerAction=Lr,ke.registerCoordinateSystem=lg,ke.getCoordinateSystemDimensions=function(e){var t=Ho.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},ke.registerLayout=ho,ke.registerVisual=eo,ke.registerLoading=Y1,ke.extendComponentModel=ca,ke.extendComponentView=Ao,ke.extendSeriesModel=ch,ke.extendChartView=na,ke.setCanvasCreator=function(e){O("createCanvas",e)},ke.registerMap=function(e,t,n){ih.registerMap(e,t,n)},ke.getMap=function(e){var t=ih.retrieveMap(e);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}},ke.dataTool={},ke.zrender=G2,ke.number=MM,ke.format=AM,ke.throttle=$d,ke.helper=Uk,ke.matrix=he,ke.vector=dr,ke.color=zr,ke.parseGeoJSON=Mg,ke.parseGeoJson=Zk,ke.util=Px,ke.graphic=Rx,ke.List=Io,ke.Model=Nr,ke.Axis=wo,ke.env=Ne}),function(ke,Ve){"object"==typeof exports&&typeof module<"u"?Ve(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],Ve):Ve(ke.bmap={},ke.echarts)}(this,function(ke,Ve){"use strict";function an(ve,J){this._bmap=ve,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=J,this._projection=new BMap.MercatorProjection}function Ne(ve,J){return J=J||[0,0],Ve.util.map([0,1],function(j){var m=J[j],y=ve[j]/2,D=[],B=[];return D[j]=m-y,B[j]=m+y,D[1-j]=B[1-j]=J[1-j],Math.abs(this.dataToPoint(D)[j]-this.dataToPoint(B)[j])},this)}var gt;function de(ve){for(var J in ve)if(ve.hasOwnProperty(J))return!1;return!0}an.prototype.dimensions=["lng","lat"],an.prototype.setZoom=function(ve){this._zoom=ve},an.prototype.setCenter=function(ve){this._center=this._projection.lngLatToPoint(new BMap.Point(ve[0],ve[1]))},an.prototype.setMapOffset=function(ve){this._mapOffset=ve},an.prototype.getBMap=function(){return this._bmap},an.prototype.dataToPoint=function(ve){var J=new BMap.Point(ve[0],ve[1]),j=this._bmap.pointToOverlayPixel(J),m=this._mapOffset;return[j.x-m[0],j.y-m[1]]},an.prototype.pointToData=function(ve){var J=this._mapOffset;return[(ve=this._bmap.overlayPixelToPoint({x:ve[0]+J[0],y:ve[1]+J[1]})).lng,ve.lat]},an.prototype.getViewRect=function(){var ve=this._api;return new Ve.graphic.BoundingRect(0,0,ve.getWidth(),ve.getHeight())},an.prototype.getRoamTransform=function(){return Ve.matrix.create()},an.prototype.prepareCustoms=function(ve){var J=this.getViewRect();return{coordSys:{type:"bmap",x:J.x,y:J.y,width:J.width,height:J.height},api:{coord:Ve.util.bind(this.dataToPoint,this),size:Ve.util.bind(Ne,this)}}},an.dimensions=an.prototype.dimensions,an.create=function(ve,J){var j,m=J.getDom();ve.eachComponent("bmap",function(y){var D=J.getZr().painter,B=D.getViewportRoot();if(typeof BMap>"u")throw new Error("BMap api is not loaded");if(gt=gt||function(){function L(Ge){this._root=Ge}return(L.prototype=new BMap.Overlay).initialize=function(Ge){return Ge.getPanes().labelPane.appendChild(this._root),this._root},L.prototype.draw=function(){},L}(),j)throw new Error("Only one bmap component can exist");if(!y.__bmap){var w=m.querySelector(".ec-extension-bmap");w&&(B.style.left="0px",B.style.top="0px",m.removeChild(w)),(w=document.createElement("div")).style.cssText="width:100%;height:100%",w.classList.add("ec-extension-bmap"),m.appendChild(w);var O=y.get("mapOptions")||{};delete O.mapType;var U=y.__bmap=new BMap.Map(w,O),oe=new gt(B);U.addOverlay(oe),D.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}U=y.__bmap;var fe=y.get("center"),ue=y.get("zoom");if(fe&&ue){var be=U.getCenter(),Ae=U.getZoom();if(y.centerOrZoomChanged([be.lng,be.lat],Ae)){var Ke=new BMap.Point(fe[0],fe[1]);U.centerAndZoom(Ke,ue)}}(j=new an(U,J)).setMapOffset(y.__mapOffset||[0,0]),j.setZoom(ue),j.setCenter(fe),y.coordinateSystem=j}),ve.eachSeries(function(y){"bmap"===y.get("coordinateSystem")&&(y.coordinateSystem=j)})},Ve.extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(ve,J){this.option.center=ve,this.option.zoom=J},centerOrZoomChanged:function(ve,J){var m,y,j=this.option;return y=j.center,!((m=ve)&&y&&m[0]===y[0]&&m[1]===y[1]&&J===j.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},mapOptions:{},roam:!1}}),Ve.extendComponentView({type:"bmap",render:function(ve,J,j){function m(L,Ge){if(!y){var ye=B.parentNode.parentNode.parentNode,Te=[-parseInt(ye.style.left,10)||0,-parseInt(ye.style.top,10)||0];B.style.left=Te[0]+"px",B.style.top=Te[1]+"px",w.setMapOffset(Te),ve.__mapOffset=Te,j.dispatchAction({type:"bmapRoam"})}}var y=!0,D=ve.getBMap(),B=j.getZr().painter.getViewportRoot(),w=ve.coordinateSystem;function O(){y||j.dispatchAction({type:"bmapRoam"})}D.removeEventListener("moving",this._oldMoveHandler),D.removeEventListener("moveend",this._oldMoveHandler),D.removeEventListener("zoomend",this._oldZoomEndHandler),D.addEventListener("moving",m),D.addEventListener("moveend",m),D.addEventListener("zoomend",O),this._oldMoveHandler=m,this._oldZoomEndHandler=O;var U=ve.get("roam");U&&"scale"!==U?D.enableDragging():D.disableDragging(),U&&"move"!==U?(D.enableScrollWheelZoom(),D.enableDoubleClickZoom(),D.enablePinchToZoom()):(D.disableScrollWheelZoom(),D.disableDoubleClickZoom(),D.disablePinchToZoom());var oe=ve.__mapStyle,fe=ve.get("mapStyle")||{},ue=JSON.stringify(fe);JSON.stringify(oe)!==ue&&(de(Ae)||D.setMapStyle(Ve.util.clone(fe)),ve.__mapStyle=JSON.parse(ue));var be=ve.__mapStyle2,Ae=ve.get("mapStyleV2")||{},Ke=JSON.stringify(Ae);JSON.stringify(be)!==Ke&&(de(Ae)||D.setMapStyleV2(Ve.util.clone(Ae)),ve.__mapStyle2=JSON.parse(Ke)),y=!1}}),Ve.registerCoordinateSystem("bmap",an),Ve.registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},function(ve,J){J.eachComponent("bmap",function(j){var m=j.getBMap(),y=m.getCenter();j.setCenterAndZoom([y.lng,y.lat],m.getZoom())})}),ke.version="1.0.0"}),function(ke){"object"==typeof exports&&typeof module<"u"?module.exports=ke():"function"==typeof define&&define.amd?define([],ke):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).Chart=ke()}(function(){return function ke(Ve,an,Ne){function gt(J,j){if(!an[J]){if(!Ve[J]){var m="function"==typeof require&&require;if(!j&&m)return m(J,!0);if(de)return de(J,!0);var y=new Error("Cannot find module '"+J+"'");throw y.code="MODULE_NOT_FOUND",y}var D=an[J]={exports:{}};Ve[J][0].call(D.exports,function(B){return gt(Ve[J][1][B]||B)},D,D.exports,ke,Ve,an,Ne)}return an[J].exports}for(var de="function"==typeof require&&require,ve=0;ve<Ne.length;ve++)gt(Ne[ve]);return gt}({1:[function(ke,Ve,an){},{}],2:[function(ke,Ve,an){function Ne(O){if(O){var U=[0,0,0],oe=1,fe=O.match(/^#([a-fA-F0-9]{3})$/i);if(fe)for(fe=fe[1],ue=0;ue<U.length;ue++)U[ue]=parseInt(fe[ue]+fe[ue],16);else if(fe=O.match(/^#([a-fA-F0-9]{6})$/i))for(fe=fe[1],ue=0;ue<U.length;ue++)U[ue]=parseInt(fe.slice(2*ue,2*ue+2),16);else if(fe=O.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(ue=0;ue<U.length;ue++)U[ue]=parseInt(fe[ue+1]);oe=parseFloat(fe[4])}else if(fe=O.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(ue=0;ue<U.length;ue++)U[ue]=Math.round(2.55*parseFloat(fe[ue+1]));oe=parseFloat(fe[4])}else if(fe=O.match(/(\w+)/)){if("transparent"==fe[1])return[0,0,0,0];if(!(U=D[fe[1]]))return}for(var ue=0;ue<U.length;ue++)U[ue]=m(U[ue],0,255);return oe=oe||0==oe?m(oe,0,1):1,U[3]=oe,U}}function gt(O){if(O){var U=O.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(U){var oe=parseFloat(U[4]);return[m(parseInt(U[1]),0,360),m(parseFloat(U[2]),0,100),m(parseFloat(U[3]),0,100),m(isNaN(oe)?1:oe,0,1)]}}}function de(O){if(O){var U=O.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(U){var oe=parseFloat(U[4]);return[m(parseInt(U[1]),0,360),m(parseFloat(U[2]),0,100),m(parseFloat(U[3]),0,100),m(isNaN(oe)?1:oe,0,1)]}}}function ve(O,U){return void 0===U&&(U=void 0!==O[3]?O[3]:1),"rgba("+O[0]+", "+O[1]+", "+O[2]+", "+U+")"}function J(O,U){return"rgba("+Math.round(O[0]/255*100)+"%, "+Math.round(O[1]/255*100)+"%, "+Math.round(O[2]/255*100)+"%, "+(U||O[3]||1)+")"}function j(O,U){return void 0===U&&(U=void 0!==O[3]?O[3]:1),"hsla("+O[0]+", "+O[1]+"%, "+O[2]+"%, "+U+")"}function m(O,U,oe){return Math.min(Math.max(U,O),oe)}function y(O){var U=O.toString(16).toUpperCase();return U.length<2?"0"+U:U}var D=ke(6);Ve.exports={getRgba:Ne,getHsla:gt,getRgb:function(O){var U=Ne(O);return U&&U.slice(0,3)},getHsl:function(O){var U=gt(O);return U&&U.slice(0,3)},getHwb:de,getAlpha:function(O){var U=Ne(O);return U||(U=gt(O))||(U=de(O))?U[3]:void 0},hexString:function(O){return"#"+y(O[0])+y(O[1])+y(O[2])},rgbString:function(O,U){return U<1||O[3]&&O[3]<1?ve(O,U):"rgb("+O[0]+", "+O[1]+", "+O[2]+")"},rgbaString:ve,percentString:function(O,U){return U<1||O[3]&&O[3]<1?J(O,U):"rgb("+Math.round(O[0]/255*100)+"%, "+Math.round(O[1]/255*100)+"%, "+Math.round(O[2]/255*100)+"%)"},percentaString:J,hslString:function(O,U){return U<1||O[3]&&O[3]<1?j(O,U):"hsl("+O[0]+", "+O[1]+"%, "+O[2]+"%)"},hslaString:j,hwbString:function(O,U){return void 0===U&&(U=void 0!==O[3]?O[3]:1),"hwb("+O[0]+", "+O[1]+"%, "+O[2]+"%"+(void 0!==U&&1!==U?", "+U:"")+")"},keyword:function(O){return B[O.slice(0,3)]}};var B={};for(var w in D)B[D[w]]=w},{6:6}],3:[function(ke,Ve,an){var Ne=ke(5),gt=ke(2),de=function(ve){return ve instanceof de?ve:this instanceof de?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof ve?(J=gt.getRgba(ve))?this.setValues("rgb",J):(J=gt.getHsla(ve))?this.setValues("hsl",J):(J=gt.getHwb(ve))&&this.setValues("hwb",J):"object"==typeof ve&&(void 0!==(J=ve).r||void 0!==J.red?this.setValues("rgb",J):void 0!==J.l||void 0!==J.lightness?this.setValues("hsl",J):void 0!==J.v||void 0!==J.value?this.setValues("hsv",J):void 0!==J.w||void 0!==J.whiteness?this.setValues("hwb",J):void 0===J.c&&void 0===J.cyan||this.setValues("cmyk",J)))):new de(ve);var J};de.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var ve=this.values;return 1!==ve.alpha?ve.hwb.concat([ve.alpha]):ve.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var ve=this.values;return ve.rgb.concat([ve.alpha])},hslaArray:function(){var ve=this.values;return ve.hsl.concat([ve.alpha])},alpha:function(ve){return void 0===ve?this.values.alpha:(this.setValues("alpha",ve),this)},red:function(ve){return this.setChannel("rgb",0,ve)},green:function(ve){return this.setChannel("rgb",1,ve)},blue:function(ve){return this.setChannel("rgb",2,ve)},hue:function(ve){return ve&&(ve=(ve%=360)<0?360+ve:ve),this.setChannel("hsl",0,ve)},saturation:function(ve){return this.setChannel("hsl",1,ve)},lightness:function(ve){return this.setChannel("hsl",2,ve)},saturationv:function(ve){return this.setChannel("hsv",1,ve)},whiteness:function(ve){return this.setChannel("hwb",1,ve)},blackness:function(ve){return this.setChannel("hwb",2,ve)},value:function(ve){return this.setChannel("hsv",2,ve)},cyan:function(ve){return this.setChannel("cmyk",0,ve)},magenta:function(ve){return this.setChannel("cmyk",1,ve)},yellow:function(ve){return this.setChannel("cmyk",2,ve)},black:function(ve){return this.setChannel("cmyk",3,ve)},hexString:function(){return gt.hexString(this.values.rgb)},rgbString:function(){return gt.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return gt.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return gt.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return gt.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return gt.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return gt.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return gt.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var ve=this.values.rgb;return ve[0]<<16|ve[1]<<8|ve[2]},luminosity:function(){for(var ve=this.values.rgb,J=[],j=0;j<ve.length;j++){var m=ve[j]/255;J[j]=m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4)}return.2126*J[0]+.7152*J[1]+.0722*J[2]},contrast:function(ve){var J=this.luminosity(),j=ve.luminosity();return J>j?(J+.05)/(j+.05):(j+.05)/(J+.05)},level:function(ve){var J=this.contrast(ve);return J>=7.1?"AAA":J>=4.5?"AA":""},dark:function(){var ve=this.values.rgb;return(299*ve[0]+587*ve[1]+114*ve[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var ve=[],J=0;J<3;J++)ve[J]=255-this.values.rgb[J];return this.setValues("rgb",ve),this},lighten:function(ve){var J=this.values.hsl;return J[2]+=J[2]*ve,this.setValues("hsl",J),this},darken:function(ve){var J=this.values.hsl;return J[2]-=J[2]*ve,this.setValues("hsl",J),this},saturate:function(ve){var J=this.values.hsl;return J[1]+=J[1]*ve,this.setValues("hsl",J),this},desaturate:function(ve){var J=this.values.hsl;return J[1]-=J[1]*ve,this.setValues("hsl",J),this},whiten:function(ve){var J=this.values.hwb;return J[1]+=J[1]*ve,this.setValues("hwb",J),this},blacken:function(ve){var J=this.values.hwb;return J[2]+=J[2]*ve,this.setValues("hwb",J),this},greyscale:function(){var ve=this.values.rgb,J=.3*ve[0]+.59*ve[1]+.11*ve[2];return this.setValues("rgb",[J,J,J]),this},clearer:function(ve){var J=this.values.alpha;return this.setValues("alpha",J-J*ve),this},opaquer:function(ve){var J=this.values.alpha;return this.setValues("alpha",J+J*ve),this},rotate:function(ve){var J=this.values.hsl,j=(J[0]+ve)%360;return J[0]=j<0?360+j:j,this.setValues("hsl",J),this},mix:function(ve,J){var j=this,m=ve,y=void 0===J?.5:J,D=2*y-1,B=j.alpha()-m.alpha(),w=((D*B==-1?D:(D+B)/(1+D*B))+1)/2,O=1-w;return this.rgb(w*j.red()+O*m.red(),w*j.green()+O*m.green(),w*j.blue()+O*m.blue()).alpha(j.alpha()*y+m.alpha()*(1-y))},toJSON:function(){return this.rgb()},clone:function(){var ve,J,j=new de,m=this.values,y=j.values;for(var D in m)m.hasOwnProperty(D)&&("[object Array]"===(J={}.toString.call(ve=m[D]))?y[D]=ve.slice(0):"[object Number]"===J?y[D]=ve:console.error("unexpected color value:",ve));return j}},de.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},de.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},de.prototype.getValues=function(ve){for(var J=this.values,j={},m=0;m<ve.length;m++)j[ve.charAt(m)]=J[ve][m];return 1!==J.alpha&&(j.a=J.alpha),j},de.prototype.setValues=function(ve,J){var j,O,m=this.values,y=this.spaces,D=this.maxes,B=1;if(this.valid=!0,"alpha"===ve)B=J;else if(J.length)m[ve]=J.slice(0,ve.length),B=J[ve.length];else if(void 0!==J[ve.charAt(0)]){for(j=0;j<ve.length;j++)m[ve][j]=J[ve.charAt(j)];B=J.a}else if(void 0!==J[y[ve][0]]){var w=y[ve];for(j=0;j<ve.length;j++)m[ve][j]=J[w[j]];B=J.alpha}if(m.alpha=Math.max(0,Math.min(1,void 0===B?m.alpha:B)),"alpha"===ve)return!1;for(j=0;j<ve.length;j++)O=Math.max(0,Math.min(D[ve][j],m[ve][j])),m[ve][j]=Math.round(O);for(var U in y)U!==ve&&(m[U]=Ne[ve][U](m[ve]));return!0},de.prototype.setSpace=function(ve,J){var j=J[0];return void 0===j?this.getValues(ve):("number"==typeof j&&(j=Array.prototype.slice.call(J)),this.setValues(ve,j),this)},de.prototype.setChannel=function(ve,J,j){var m=this.values[ve];return void 0===j?m[J]:(j===m[J]||(m[J]=j,this.setValues(ve,m)),this)},typeof window<"u"&&(window.Color=de),Ve.exports=de},{2:2,5:5}],4:[function(ke,Ve,an){function Ne(ye){var Te,ce,Oe=ye[0]/255,qe=ye[1]/255,xe=ye[2]/255,We=Math.min(Oe,qe,xe),et=Math.max(Oe,qe,xe),xt=et-We;return et==We?Te=0:Oe==et?Te=(qe-xe)/xt:qe==et?Te=2+(xe-Oe)/xt:xe==et&&(Te=4+(Oe-qe)/xt),(Te=Math.min(60*Te,360))<0&&(Te+=360),ce=(We+et)/2,[Te,100*(et==We?0:ce<=.5?xt/(et+We):xt/(2-et-We)),100*ce]}function gt(ye){var Te,Ue,Oe=ye[0],qe=ye[1],xe=ye[2],We=Math.min(Oe,qe,xe),et=Math.max(Oe,qe,xe),xt=et-We;return Ue=0==et?0:xt/et*1e3/10,et==We?Te=0:Oe==et?Te=(qe-xe)/xt:qe==et?Te=2+(xe-Oe)/xt:xe==et&&(Te=4+(Oe-qe)/xt),(Te=Math.min(60*Te,360))<0&&(Te+=360),[Te,Ue,et/255*1e3/10]}function de(ye){var Te=ye[0],Ue=ye[1],ce=ye[2];return[Ne(ye)[0],1/255*Math.min(Te,Math.min(Ue,ce))*100,100*(ce=1-1/255*Math.max(Te,Math.max(Ue,ce)))]}function ve(ye){var Oe,qe=ye[0]/255,xe=ye[1]/255,We=ye[2]/255;return[100*((1-qe-(Oe=Math.min(1-qe,1-xe,1-We)))/(1-Oe)||0),100*((1-xe-Oe)/(1-Oe)||0),100*((1-We-Oe)/(1-Oe)||0),100*Oe]}function J(ye){return L[JSON.stringify(ye)]}function j(ye){var Te=ye[0]/255,Ue=ye[1]/255,ce=ye[2]/255;return[100*(.4124*(Te=Te>.04045?Math.pow((Te+.055)/1.055,2.4):Te/12.92)+.3576*(Ue=Ue>.04045?Math.pow((Ue+.055)/1.055,2.4):Ue/12.92)+.1805*(ce=ce>.04045?Math.pow((ce+.055)/1.055,2.4):ce/12.92)),100*(.2126*Te+.7152*Ue+.0722*ce),100*(.0193*Te+.1192*Ue+.9505*ce)]}function m(ye){var Oe=j(ye),qe=Oe[0],xe=Oe[1],We=Oe[2];return xe/=100,We/=108.883,qe=(qe/=95.047)>.008856?Math.pow(qe,1/3):7.787*qe+16/116,[116*(xe=xe>.008856?Math.pow(xe,1/3):7.787*xe+16/116)-16,500*(qe-xe),200*(xe-(We=We>.008856?Math.pow(We,1/3):7.787*We+16/116))]}function y(ye){var Te,Ue,ce,Oe,qe,xe=ye[0]/360,We=ye[1]/100,et=ye[2]/100;if(0==We)return[qe=255*et,qe,qe];Te=2*et-(Ue=et<.5?et*(1+We):et+We-et*We),Oe=[0,0,0];for(var xt=0;xt<3;xt++)(ce=xe+1/3*-(xt-1))<0&&ce++,ce>1&&ce--,Oe[xt]=255*(qe=6*ce<1?Te+6*(Ue-Te)*ce:2*ce<1?Ue:3*ce<2?Te+(Ue-Te)*(2/3-ce)*6:Te);return Oe}function D(ye){var Te=ye[0]/60,Ue=ye[1]/100,et=ye[2]/100,ce=Math.floor(Te)%6,Oe=Te-Math.floor(Te),qe=255*et*(1-Ue),xe=255*et*(1-Ue*Oe),We=255*et*(1-Ue*(1-Oe));switch(et*=255,ce){case 0:return[et,We,qe];case 1:return[xe,et,qe];case 2:return[qe,et,We];case 3:return[qe,xe,et];case 4:return[We,qe,et];case 5:return[et,qe,xe]}}function B(ye){var Te,Ue,ce,Oe,qe=ye[0]/360,xe=ye[1]/100,We=ye[2]/100,et=xe+We;switch(et>1&&(xe/=et,We/=et),ce=6*qe-(Te=Math.floor(6*qe)),1&Te&&(ce=1-ce),Oe=xe+ce*((Ue=1-We)-xe),Te){default:case 6:case 0:r=Ue,g=Oe,b=xe;break;case 1:r=Oe,g=Ue,b=xe;break;case 2:r=xe,g=Ue,b=Oe;break;case 3:r=xe,g=Oe,b=Ue;break;case 4:r=Oe,g=xe,b=Ue;break;case 5:r=Ue,g=xe,b=Oe}return[255*r,255*g,255*b]}function w(ye){var qe=ye[1]/100,xe=ye[2]/100,We=ye[3]/100;return[255*(1-Math.min(1,ye[0]/100*(1-We)+We)),255*(1-Math.min(1,qe*(1-We)+We)),255*(1-Math.min(1,xe*(1-We)+We))]}function O(ye){var Te,Ue,ce,Oe=ye[0]/100,qe=ye[1]/100,xe=ye[2]/100;return Ue=-.9689*Oe+1.8758*qe+.0415*xe,ce=.0557*Oe+-.204*qe+1.057*xe,Te=(Te=3.2406*Oe+-1.5372*qe+-.4986*xe)>.0031308?1.055*Math.pow(Te,1/2.4)-.055:Te*=12.92,Ue=Ue>.0031308?1.055*Math.pow(Ue,1/2.4)-.055:Ue*=12.92,ce=ce>.0031308?1.055*Math.pow(ce,1/2.4)-.055:ce*=12.92,[255*(Te=Math.min(Math.max(0,Te),1)),255*(Ue=Math.min(Math.max(0,Ue),1)),255*(ce=Math.min(Math.max(0,ce),1))]}function U(ye){var Oe=ye[0],qe=ye[1],xe=ye[2];return qe/=100,xe/=108.883,Oe=(Oe/=95.047)>.008856?Math.pow(Oe,1/3):7.787*Oe+16/116,[116*(qe=qe>.008856?Math.pow(qe,1/3):7.787*qe+16/116)-16,500*(Oe-qe),200*(qe-(xe=xe>.008856?Math.pow(xe,1/3):7.787*xe+16/116))]}function oe(ye){var Te,Ue,ce,Oe,qe=ye[0],xe=ye[1],We=ye[2];return qe<=8?Oe=(Ue=100*qe/903.3)/100*7.787+16/116:(Ue=100*Math.pow((qe+16)/116,3),Oe=Math.pow(Ue/100,1/3)),[Te=Te/95.047<=.008856?Te=95.047*(xe/500+Oe-16/116)/7.787:95.047*Math.pow(xe/500+Oe,3),Ue,ce=ce/108.883<=.008859?ce=108.883*(Oe-We/200-16/116)/7.787:108.883*Math.pow(Oe-We/200,3)]}function fe(ye){var Ue,Oe=ye[0],qe=ye[1],xe=ye[2];return(Ue=360*Math.atan2(xe,qe)/2/Math.PI)<0&&(Ue+=360),[Oe,Math.sqrt(qe*qe+xe*xe),Ue]}function ue(ye){return O(oe(ye))}function be(ye){var ce,qe=ye[1];return ce=ye[2]/360*2*Math.PI,[ye[0],qe*Math.cos(ce),qe*Math.sin(ce)]}function Ae(ye){return Ke[ye]}Ve.exports={rgb2hsl:Ne,rgb2hsv:gt,rgb2hwb:de,rgb2cmyk:ve,rgb2keyword:J,rgb2xyz:j,rgb2lab:m,rgb2lch:function(ye){return fe(m(ye))},hsl2rgb:y,hsl2hsv:function(ye){var Oe=ye[1]/100,qe=ye[2]/100;return 0===qe?[0,0,0]:[ye[0],2*(Oe*=(qe*=2)<=1?qe:2-qe)/(qe+Oe)*100,(qe+Oe)/2*100]},hsl2hwb:function(ye){return de(y(ye))},hsl2cmyk:function(ye){return ve(y(ye))},hsl2keyword:function(ye){return J(y(ye))},hsv2rgb:D,hsv2hsl:function(ye){var Te,Ue,Oe=ye[1]/100,qe=ye[2]/100;return Te=Oe*qe,[ye[0],100*(Te=(Te/=(Ue=(2-Oe)*qe)<=1?Ue:2-Ue)||0),100*(Ue/=2)]},hsv2hwb:function(ye){return de(D(ye))},hsv2cmyk:function(ye){return ve(D(ye))},hsv2keyword:function(ye){return J(D(ye))},hwb2rgb:B,hwb2hsl:function(ye){return Ne(B(ye))},hwb2hsv:function(ye){return gt(B(ye))},hwb2cmyk:function(ye){return ve(B(ye))},hwb2keyword:function(ye){return J(B(ye))},cmyk2rgb:w,cmyk2hsl:function(ye){return Ne(w(ye))},cmyk2hsv:function(ye){return gt(w(ye))},cmyk2hwb:function(ye){return de(w(ye))},cmyk2keyword:function(ye){return J(w(ye))},keyword2rgb:Ae,keyword2hsl:function(ye){return Ne(Ae(ye))},keyword2hsv:function(ye){return gt(Ae(ye))},keyword2hwb:function(ye){return de(Ae(ye))},keyword2cmyk:function(ye){return ve(Ae(ye))},keyword2lab:function(ye){return m(Ae(ye))},keyword2xyz:function(ye){return j(Ae(ye))},xyz2rgb:O,xyz2lab:U,xyz2lch:function(ye){return fe(U(ye))},lab2xyz:oe,lab2rgb:ue,lab2lch:fe,lch2lab:be,lch2xyz:function(ye){return oe(be(ye))},lch2rgb:function(ye){return ue(be(ye))}};var Ke={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},L={};for(var Ge in Ke)L[JSON.stringify(Ke[Ge])]=Ge},{}],5:[function(ke,Ve,an){var Ne=ke(4),gt=function(){return new m};for(var de in Ne){gt[de+"Raw"]=function(y){return function(D){return"number"==typeof D&&(D=Array.prototype.slice.call(arguments)),Ne[y](D)}}(de);var ve=/(\w+)2(\w+)/.exec(de),J=ve[1],j=ve[2];(gt[J]=gt[J]||{})[j]=gt[de]=function(y){return function(D){"number"==typeof D&&(D=Array.prototype.slice.call(arguments));var B=Ne[y](D);if("string"==typeof B||void 0===B)return B;for(var w=0;w<B.length;w++)B[w]=Math.round(B[w]);return B}}(de)}var m=function(){this.convs={}};m.prototype.routeSpace=function(y,D){var B=D[0];return void 0===B?this.getValues(y):("number"==typeof B&&(B=Array.prototype.slice.call(D)),this.setValues(y,B))},m.prototype.setValues=function(y,D){return this.space=y,this.convs={},this.convs[y]=D,this},m.prototype.getValues=function(y){var D=this.convs[y];if(!D){var B=this.space;D=gt[B][y](this.convs[B]),this.convs[y]=D}return D},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(y){m.prototype[y]=function(D){return this.routeSpace(y,arguments)}}),Ve.exports=gt},{4:4}],6:[function(ke,Ve,an){"use strict";Ve.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(ke,Ve,an){var Ne=ke(29)();Ne.helpers=ke(45),ke(27)(Ne),Ne.defaults=ke(25),Ne.Element=ke(26),Ne.elements=ke(40),Ne.Interaction=ke(28),Ne.platform=ke(48),ke(31)(Ne),ke(22)(Ne),ke(23)(Ne),ke(24)(Ne),ke(30)(Ne),ke(33)(Ne),ke(32)(Ne),ke(35)(Ne),ke(54)(Ne),ke(52)(Ne),ke(53)(Ne),ke(55)(Ne),ke(56)(Ne),ke(57)(Ne),ke(15)(Ne),ke(16)(Ne),ke(17)(Ne),ke(18)(Ne),ke(19)(Ne),ke(20)(Ne),ke(21)(Ne),ke(8)(Ne),ke(9)(Ne),ke(10)(Ne),ke(11)(Ne),ke(12)(Ne),ke(13)(Ne),ke(14)(Ne);var gt=[];gt.push(ke(49)(Ne),ke(50)(Ne),ke(51)(Ne)),Ne.plugins.register(gt),Ne.platform.initialize(),Ve.exports=Ne,typeof window<"u"&&(window.Chart=Ne),Ne.canvasHelpers=Ne.helpers.canvas},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,35:35,40:40,45:45,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,8:8,9:9}],8:[function(ke,Ve,an){"use strict";Ve.exports=function(Ne){Ne.Bar=function(gt,de){return de.type="bar",new Ne(gt,de)}}},{}],9:[function(ke,Ve,an){"use strict";Ve.exports=function(Ne){Ne.Bubble=function(gt,de){return de.type="bubble",new Ne(gt,de)}}},{}],10:[function(ke,Ve,an){"use strict";Ve.exports=function(Ne){Ne.Doughnut=function(gt,de){return de.type="doughnut",new Ne(gt,de)}}},{}],11:[function(ke,Ve,an){"use strict";Ve.exports=function(Ne){Ne.Line=function(gt,de){return de.type="line",new Ne(gt,de)}}},{}],12:[function(ke,Ve,an){"use strict";Ve.exports=function(Ne){Ne.PolarArea=function(gt,de){return de.type="polarArea",new Ne(gt,de)}}},{}],13:[function(ke,Ve,an){"use strict";Ve.exports=function(Ne){Ne.Radar=function(gt,de){return de.type="radar",new Ne(gt,de)}}},{}],14:[function(ke,Ve,an){"use strict";Ve.exports=function(Ne){Ne.Scatter=function(gt,de){return de.type="scatter",new Ne(gt,de)}}},{}],15:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(40),de=ke(45);Ne._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),Ne._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(ve,J){var j="";return ve.length>0&&(ve[0].yLabel?j=ve[0].yLabel:J.labels.length>0&&ve[0].index<J.labels.length&&(j=J.labels[ve[0].index])),j},label:function(ve,J){return(J.datasets[ve.datasetIndex].label||"")+": "+ve.xLabel}},mode:"index",axis:"y"}}),Ve.exports=function(ve){ve.controllers.bar=ve.DatasetController.extend({dataElementType:gt.Rectangle,initialize:function(){var J,j=this;ve.DatasetController.prototype.initialize.apply(j,arguments),(J=j.getMeta()).stack=j.getDataset().stack,J.bar=!0},update:function(J){var j,m,y=this,D=y.getMeta().data;for(y._ruler=y.getRuler(),j=0,m=D.length;j<m;++j)y.updateElement(D[j],j,J)},updateElement:function(J,j,m){var y=this,D=y.chart,B=y.getMeta(),w=y.getDataset(),O=J.custom||{},U=D.options.elements.rectangle;J._xScale=y.getScaleForId(B.xAxisID),J._yScale=y.getScaleForId(B.yAxisID),J._datasetIndex=y.index,J._index=j,J._model={datasetLabel:w.label,label:D.data.labels[j],borderSkipped:O.borderSkipped?O.borderSkipped:U.borderSkipped,backgroundColor:O.backgroundColor?O.backgroundColor:de.valueAtIndexOrDefault(w.backgroundColor,j,U.backgroundColor),borderColor:O.borderColor?O.borderColor:de.valueAtIndexOrDefault(w.borderColor,j,U.borderColor),borderWidth:O.borderWidth?O.borderWidth:de.valueAtIndexOrDefault(w.borderWidth,j,U.borderWidth)},y.updateElementGeometry(J,j,m),J.pivot()},updateElementGeometry:function(J,j,m){var y=this,D=J._model,B=y.getValueScale(),w=B.getBasePixel(),O=B.isHorizontal(),U=y._ruler||y.getRuler(),oe=y.calculateBarValuePixels(y.index,j),fe=y.calculateBarIndexPixels(y.index,j,U);D.horizontal=O,D.base=m?w:oe.base,D.x=O?m?w:oe.head:fe.center,D.y=O?fe.center:m?w:oe.head,D.height=O?fe.size:void 0,D.width=O?void 0:fe.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(J){var j,m,D=this.chart,B=this.getIndexScale().options.stacked,w=void 0===J?D.data.datasets.length:J+1,O=[];for(j=0;j<w;++j)(m=D.getDatasetMeta(j)).bar&&D.isDatasetVisible(j)&&(!1===B||!0===B&&-1===O.indexOf(m.stack)||void 0===B&&(void 0===m.stack||-1===O.indexOf(m.stack)))&&O.push(m.stack);return O.length},getStackIndex:function(J){return this.getStackCount(J)-1},getRuler:function(){var J,j,m=this,y=m.getIndexScale(),D=m.getStackCount(),B=m.index,w=[],O=y.isHorizontal(),U=O?y.left:y.top,oe=U+(O?y.width:y.height);for(J=0,j=m.getMeta().data.length;J<j;++J)w.push(y.getPixelForValue(null,J,B));return{pixels:w,start:U,end:oe,stackCount:D,scale:y}},calculateBarValuePixels:function(J,j){var m,y,D,B,w,O,U=this,oe=U.chart,fe=U.getMeta(),ue=U.getValueScale(),be=oe.data.datasets,Ae=ue.getRightValue(be[J].data[j]),Ke=ue.options.stacked,L=fe.stack,Ge=0;if(Ke||void 0===Ke&&void 0!==L)for(m=0;m<J;++m)(y=oe.getDatasetMeta(m)).bar&&y.stack===L&&y.controller.getValueScaleId()===ue.id&&oe.isDatasetVisible(m)&&(D=ue.getRightValue(be[m].data[j]),(Ae<0&&D<0||Ae>=0&&D>0)&&(Ge+=D));return B=ue.getPixelForValue(Ge),{size:O=((w=ue.getPixelForValue(Ge+Ae))-B)/2,base:B,head:w,center:w+O/2}},calculateBarIndexPixels:function(J,j,m){var y,D,B,O,U,fe=m.scale.options,ue=this.getStackIndex(J),be=m.pixels,Ae=be[j],Ke=be.length,L=m.start,Ge=m.end;return 1===Ke?(y=Ae>L?Ae-L:Ge-Ae,D=Ae<Ge?Ge-Ae:Ae-L):(j>0&&(y=(Ae-be[j-1])/2,j===Ke-1&&(D=y)),j<Ke-1&&(D=(be[j+1]-Ae)/2,0===j&&(y=D))),U=(O=((B=y*fe.categoryPercentage)+D*fe.categoryPercentage)/m.stackCount)*fe.barPercentage,Ae-=B,Ae+=O*ue,{size:U=Math.min(de.valueOrDefault(fe.barThickness,U),de.valueOrDefault(fe.maxBarThickness,1/0)),base:Ae+=(O-U)/2,head:Ae+U,center:Ae+U/2}},draw:function(){var J=this,j=J.chart,m=J.getValueScale(),y=J.getMeta().data,D=J.getDataset(),B=y.length,w=0;for(de.canvas.clipArea(j.ctx,j.chartArea);w<B;++w)isNaN(m.getRightValue(D.data[w]))||y[w].draw();de.canvas.unclipArea(j.ctx)},setHoverStyle:function(J){var j=this.chart.data.datasets[J._datasetIndex],m=J._index,y=J.custom||{},D=J._model;D.backgroundColor=y.hoverBackgroundColor?y.hoverBackgroundColor:de.valueAtIndexOrDefault(j.hoverBackgroundColor,m,de.getHoverColor(D.backgroundColor)),D.borderColor=y.hoverBorderColor?y.hoverBorderColor:de.valueAtIndexOrDefault(j.hoverBorderColor,m,de.getHoverColor(D.borderColor)),D.borderWidth=y.hoverBorderWidth?y.hoverBorderWidth:de.valueAtIndexOrDefault(j.hoverBorderWidth,m,D.borderWidth)},removeHoverStyle:function(J){var j=this.chart.data.datasets[J._datasetIndex],m=J._index,y=J.custom||{},D=J._model,B=this.chart.options.elements.rectangle;D.backgroundColor=y.backgroundColor?y.backgroundColor:de.valueAtIndexOrDefault(j.backgroundColor,m,B.backgroundColor),D.borderColor=y.borderColor?y.borderColor:de.valueAtIndexOrDefault(j.borderColor,m,B.borderColor),D.borderWidth=y.borderWidth?y.borderWidth:de.valueAtIndexOrDefault(j.borderWidth,m,B.borderWidth)}}),ve.controllers.horizontalBar=ve.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(40),de=ke(45);Ne._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(ve,J){return(J.datasets[ve.datasetIndex].label||"")+": ("+ve.xLabel+", "+ve.yLabel+", "+J.datasets[ve.datasetIndex].data[ve.index].r+")"}}}}),Ve.exports=function(ve){ve.controllers.bubble=ve.DatasetController.extend({dataElementType:gt.Point,update:function(J){var j=this,m=j.getMeta().data;de.each(m,function(y,D){j.updateElement(y,D,J)})},updateElement:function(J,j,m){var y=this,D=y.getMeta(),B=J.custom||{},w=y.getScaleForId(D.xAxisID),O=y.getScaleForId(D.yAxisID),U=y._resolveElementOptions(J,j),oe=y.getDataset().data[j],fe=y.index,ue=m?w.getPixelForDecimal(.5):w.getPixelForValue("object"==typeof oe?oe:NaN,j,fe),be=m?O.getBasePixel():O.getPixelForValue(oe,j,fe);J._xScale=w,J._yScale=O,J._options=U,J._datasetIndex=fe,J._index=j,J._model={backgroundColor:U.backgroundColor,borderColor:U.borderColor,borderWidth:U.borderWidth,hitRadius:U.hitRadius,pointStyle:U.pointStyle,radius:m?0:U.radius,skip:B.skip||isNaN(ue)||isNaN(be),x:ue,y:be},J.pivot()},setHoverStyle:function(J){var j=J._model,m=J._options;j.backgroundColor=de.valueOrDefault(m.hoverBackgroundColor,de.getHoverColor(m.backgroundColor)),j.borderColor=de.valueOrDefault(m.hoverBorderColor,de.getHoverColor(m.borderColor)),j.borderWidth=de.valueOrDefault(m.hoverBorderWidth,m.borderWidth),j.radius=m.radius+m.hoverRadius},removeHoverStyle:function(J){var j=J._model,m=J._options;j.backgroundColor=m.backgroundColor,j.borderColor=m.borderColor,j.borderWidth=m.borderWidth,j.radius=m.radius},_resolveElementOptions:function(J,j){var m,y,D,B=this,w=B.chart,O=w.data.datasets[B.index],U=J.custom||{},oe=w.options.elements.point,fe=de.options.resolve,ue=O.data[j],be={},Ae={chart:w,dataIndex:j,dataset:O,datasetIndex:B.index},Ke=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(m=0,y=Ke.length;m<y;++m)be[D=Ke[m]]=fe([U[D],O[D],oe[D]],Ae,j);return be.radius=fe([U.radius,ue?ue.r:void 0,O.radius,oe.radius],Ae,j),be}})}},{25:25,40:40,45:45}],17:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(40),de=ke(45);Ne._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(ve){var J=[];J.push('<ul class="'+ve.id+'-legend">');var j=ve.data,m=j.datasets,y=j.labels;if(m.length)for(var D=0;D<m[0].data.length;++D)J.push('<li><span style="background-color:'+m[0].backgroundColor[D]+'"></span>'),y[D]&&J.push(y[D]),J.push("</li>");return J.push("</ul>"),J.join("")},legend:{labels:{generateLabels:function(ve){var J=ve.data;return J.labels.length&&J.datasets.length?J.labels.map(function(j,m){var y=ve.getDatasetMeta(0),D=J.datasets[0],B=y.data[m],w=B&&B.custom||{},O=de.valueAtIndexOrDefault,U=ve.options.elements.arc;return{text:j,fillStyle:w.backgroundColor?w.backgroundColor:O(D.backgroundColor,m,U.backgroundColor),strokeStyle:w.borderColor?w.borderColor:O(D.borderColor,m,U.borderColor),lineWidth:w.borderWidth?w.borderWidth:O(D.borderWidth,m,U.borderWidth),hidden:isNaN(D.data[m])||y.data[m].hidden,index:m}}):[]}},onClick:function(ve,J){var j,m,y,D=J.index,B=this.chart;for(j=0,m=(B.data.datasets||[]).length;j<m;++j)(y=B.getDatasetMeta(j)).data[D]&&(y.data[D].hidden=!y.data[D].hidden);B.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(ve,J){var j=J.labels[ve.index],m=": "+J.datasets[ve.datasetIndex].data[ve.index];return de.isArray(j)?(j=j.slice())[0]+=m:j+=m,j}}}}),Ne._set("pie",de.clone(Ne.doughnut)),Ne._set("pie",{cutoutPercentage:0}),Ve.exports=function(ve){ve.controllers.doughnut=ve.controllers.pie=ve.DatasetController.extend({dataElementType:gt.Arc,linkScales:de.noop,getRingIndex:function(J){for(var j=0,m=0;m<J;++m)this.chart.isDatasetVisible(m)&&++j;return j},update:function(J){var j=this,m=j.chart,y=m.chartArea,D=m.options,B=D.elements.arc,w=y.right-y.left-B.borderWidth,O=y.bottom-y.top-B.borderWidth,U=Math.min(w,O),oe={x:0,y:0},fe=j.getMeta(),ue=D.cutoutPercentage,be=D.circumference;if(be<2*Math.PI){var Ae=D.rotation%(2*Math.PI),Ke=(Ae+=2*Math.PI*(Ae>=Math.PI?-1:Ae<-Math.PI?1:0))+be,L={x:Math.cos(Ae),y:Math.sin(Ae)},Ge={x:Math.cos(Ke),y:Math.sin(Ke)},ye=Ae<=0&&Ke>=0||Ae<=2*Math.PI&&2*Math.PI<=Ke,Te=Ae<=.5*Math.PI&&.5*Math.PI<=Ke||Ae<=2.5*Math.PI&&2.5*Math.PI<=Ke,Ue=Ae<=-Math.PI&&-Math.PI<=Ke||Ae<=Math.PI&&Math.PI<=Ke,ce=Ae<=.5*-Math.PI&&.5*-Math.PI<=Ke||Ae<=1.5*Math.PI&&1.5*Math.PI<=Ke,Oe=ue/100,qe={x:Ue?-1:Math.min(L.x*(L.x<0?1:Oe),Ge.x*(Ge.x<0?1:Oe)),y:ce?-1:Math.min(L.y*(L.y<0?1:Oe),Ge.y*(Ge.y<0?1:Oe))},xe={x:ye?1:Math.max(L.x*(L.x>0?1:Oe),Ge.x*(Ge.x>0?1:Oe)),y:Te?1:Math.max(L.y*(L.y>0?1:Oe),Ge.y*(Ge.y>0?1:Oe))},We={width:.5*(xe.x-qe.x),height:.5*(xe.y-qe.y)};U=Math.min(w/We.width,O/We.height),oe={x:-.5*(xe.x+qe.x),y:-.5*(xe.y+qe.y)}}m.borderWidth=j.getMaxBorderWidth(fe.data),m.outerRadius=Math.max((U-m.borderWidth)/2,0),m.innerRadius=Math.max(ue?m.outerRadius/100*ue:0,0),m.radiusLength=(m.outerRadius-m.innerRadius)/m.getVisibleDatasetCount(),m.offsetX=oe.x*m.outerRadius,m.offsetY=oe.y*m.outerRadius,fe.total=j.calculateTotal(),j.outerRadius=m.outerRadius-m.radiusLength*j.getRingIndex(j.index),j.innerRadius=Math.max(j.outerRadius-m.radiusLength,0),de.each(fe.data,function(et,xt){j.updateElement(et,xt,J)})},updateElement:function(J,j,m){var y=this,D=y.chart,B=D.chartArea,w=D.options,O=w.animation,U=(B.left+B.right)/2,oe=(B.top+B.bottom)/2,fe=w.rotation,ue=w.rotation,be=y.getDataset(),Ae=m&&O.animateRotate||J.hidden?0:y.calculateCircumference(be.data[j])*(w.circumference/(2*Math.PI));de.extend(J,{_datasetIndex:y.index,_index:j,_model:{x:U+D.offsetX,y:oe+D.offsetY,startAngle:fe,endAngle:ue,circumference:Ae,outerRadius:m&&O.animateScale?0:y.outerRadius,innerRadius:m&&O.animateScale?0:y.innerRadius,label:(0,de.valueAtIndexOrDefault)(be.label,j,D.data.labels[j])}});var ye=J._model;this.removeHoverStyle(J),m&&O.animateRotate||(ye.startAngle=0===j?w.rotation:y.getMeta().data[j-1]._model.endAngle,ye.endAngle=ye.startAngle+ye.circumference),J.pivot()},removeHoverStyle:function(J){ve.DatasetController.prototype.removeHoverStyle.call(this,J,this.chart.options.elements.arc)},calculateTotal:function(){var J,j=this.getDataset(),m=this.getMeta(),y=0;return de.each(m.data,function(D,B){J=j.data[B],isNaN(J)||D.hidden||(y+=Math.abs(J))}),y},calculateCircumference:function(J){var j=this.getMeta().total;return j>0&&!isNaN(J)?2*Math.PI*(J/j):0},getMaxBorderWidth:function(J){for(var j,m,y=0,D=this.index,B=J.length,w=0;w<B;w++)y=(m=J[w]._chart?J[w]._chart.config.data.datasets[D].hoverBorderWidth:0)>(y=(j=J[w]._model?J[w]._model.borderWidth:0)>y?j:y)?m:y;return y}})}},{25:25,40:40,45:45}],18:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(40),de=ke(45);Ne._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),Ve.exports=function(ve){function J(j,m){return de.valueOrDefault(j.showLine,m.showLines)}ve.controllers.line=ve.DatasetController.extend({datasetElementType:gt.Line,dataElementType:gt.Point,update:function(j){var m,y,D,B=this,w=B.getMeta(),O=w.dataset,U=w.data||[],oe=B.chart.options,fe=oe.elements.line,ue=B.getScaleForId(w.yAxisID),be=B.getDataset(),Ae=J(be,oe);for(Ae&&(D=O.custom||{},void 0!==be.tension&&void 0===be.lineTension&&(be.lineTension=be.tension),O._scale=ue,O._datasetIndex=B.index,O._children=U,O._model={spanGaps:be.spanGaps?be.spanGaps:oe.spanGaps,tension:D.tension?D.tension:de.valueOrDefault(be.lineTension,fe.tension),backgroundColor:D.backgroundColor?D.backgroundColor:be.backgroundColor||fe.backgroundColor,borderWidth:D.borderWidth?D.borderWidth:be.borderWidth||fe.borderWidth,borderColor:D.borderColor?D.borderColor:be.borderColor||fe.borderColor,borderCapStyle:D.borderCapStyle?D.borderCapStyle:be.borderCapStyle||fe.borderCapStyle,borderDash:D.borderDash?D.borderDash:be.borderDash||fe.borderDash,borderDashOffset:D.borderDashOffset?D.borderDashOffset:be.borderDashOffset||fe.borderDashOffset,borderJoinStyle:D.borderJoinStyle?D.borderJoinStyle:be.borderJoinStyle||fe.borderJoinStyle,fill:D.fill?D.fill:void 0!==be.fill?be.fill:fe.fill,steppedLine:D.steppedLine?D.steppedLine:de.valueOrDefault(be.steppedLine,fe.stepped),cubicInterpolationMode:D.cubicInterpolationMode?D.cubicInterpolationMode:de.valueOrDefault(be.cubicInterpolationMode,fe.cubicInterpolationMode)},O.pivot()),m=0,y=U.length;m<y;++m)B.updateElement(U[m],m,j);for(Ae&&0!==O._model.tension&&B.updateBezierControlPoints(),m=0,y=U.length;m<y;++m)U[m].pivot()},getPointBackgroundColor:function(j,m){var y=this.chart.options.elements.point.backgroundColor,D=this.getDataset(),B=j.custom||{};return B.backgroundColor?y=B.backgroundColor:D.pointBackgroundColor?y=de.valueAtIndexOrDefault(D.pointBackgroundColor,m,y):D.backgroundColor&&(y=D.backgroundColor),y},getPointBorderColor:function(j,m){var y=this.chart.options.elements.point.borderColor,D=this.getDataset(),B=j.custom||{};return B.borderColor?y=B.borderColor:D.pointBorderColor?y=de.valueAtIndexOrDefault(D.pointBorderColor,m,y):D.borderColor&&(y=D.borderColor),y},getPointBorderWidth:function(j,m){var y=this.chart.options.elements.point.borderWidth,D=this.getDataset(),B=j.custom||{};return isNaN(B.borderWidth)?!isNaN(D.pointBorderWidth)||de.isArray(D.pointBorderWidth)?y=de.valueAtIndexOrDefault(D.pointBorderWidth,m,y):isNaN(D.borderWidth)||(y=D.borderWidth):y=B.borderWidth,y},updateElement:function(j,m,y){var D,B,w=this,O=w.getMeta(),U=j.custom||{},oe=w.getDataset(),fe=w.index,ue=oe.data[m],be=w.getScaleForId(O.yAxisID),Ae=w.getScaleForId(O.xAxisID),Ke=w.chart.options.elements.point;void 0!==oe.radius&&void 0===oe.pointRadius&&(oe.pointRadius=oe.radius),void 0!==oe.hitRadius&&void 0===oe.pointHitRadius&&(oe.pointHitRadius=oe.hitRadius),D=Ae.getPixelForValue("object"==typeof ue?ue:NaN,m,fe),B=y?be.getBasePixel():w.calculatePointY(ue,m,fe),j._xScale=Ae,j._yScale=be,j._datasetIndex=fe,j._index=m,j._model={x:D,y:B,skip:U.skip||isNaN(D)||isNaN(B),radius:U.radius||de.valueAtIndexOrDefault(oe.pointRadius,m,Ke.radius),pointStyle:U.pointStyle||de.valueAtIndexOrDefault(oe.pointStyle,m,Ke.pointStyle),backgroundColor:w.getPointBackgroundColor(j,m),borderColor:w.getPointBorderColor(j,m),borderWidth:w.getPointBorderWidth(j,m),tension:O.dataset._model?O.dataset._model.tension:0,steppedLine:!!O.dataset._model&&O.dataset._model.steppedLine,hitRadius:U.hitRadius||de.valueAtIndexOrDefault(oe.pointHitRadius,m,Ke.hitRadius)}},calculatePointY:function(j,m,y){var D,B,w,O=this,U=O.chart,oe=O.getMeta(),fe=O.getScaleForId(oe.yAxisID),ue=0,be=0;if(fe.options.stacked){for(D=0;D<y;D++)if(B=U.data.datasets[D],"line"===(w=U.getDatasetMeta(D)).type&&w.yAxisID===fe.id&&U.isDatasetVisible(D)){var Ae=Number(fe.getRightValue(B.data[m]));Ae<0?be+=Ae||0:ue+=Ae||0}var Ke=Number(fe.getRightValue(j));return fe.getPixelForValue(Ke<0?be+Ke:ue+Ke)}return fe.getPixelForValue(j)},updateBezierControlPoints:function(){function j(fe,ue,be){return Math.max(Math.min(fe,be),ue)}var m,y,D,B,w=this,O=w.getMeta(),U=w.chart.chartArea,oe=O.data||[];if(O.dataset._model.spanGaps&&(oe=oe.filter(function(fe){return!fe._model.skip})),"monotone"===O.dataset._model.cubicInterpolationMode)de.splineCurveMonotone(oe);else for(m=0,y=oe.length;m<y;++m)D=oe[m]._model,B=de.splineCurve(de.previousItem(oe,m)._model,D,de.nextItem(oe,m)._model,O.dataset._model.tension),D.controlPointPreviousX=B.previous.x,D.controlPointPreviousY=B.previous.y,D.controlPointNextX=B.next.x,D.controlPointNextY=B.next.y;if(w.chart.options.elements.line.capBezierPoints)for(m=0,y=oe.length;m<y;++m)(D=oe[m]._model).controlPointPreviousX=j(D.controlPointPreviousX,U.left,U.right),D.controlPointPreviousY=j(D.controlPointPreviousY,U.top,U.bottom),D.controlPointNextX=j(D.controlPointNextX,U.left,U.right),D.controlPointNextY=j(D.controlPointNextY,U.top,U.bottom)},draw:function(){var j=this,m=j.chart,y=j.getMeta(),D=y.data||[],B=m.chartArea,w=D.length,O=0;for(de.canvas.clipArea(m.ctx,B),J(j.getDataset(),m.options)&&y.dataset.draw(),de.canvas.unclipArea(m.ctx);O<w;++O)D[O].draw(B)},setHoverStyle:function(j){var m=this.chart.data.datasets[j._datasetIndex],y=j._index,D=j.custom||{},B=j._model;B.radius=D.hoverRadius||de.valueAtIndexOrDefault(m.pointHoverRadius,y,this.chart.options.elements.point.hoverRadius),B.backgroundColor=D.hoverBackgroundColor||de.valueAtIndexOrDefault(m.pointHoverBackgroundColor,y,de.getHoverColor(B.backgroundColor)),B.borderColor=D.hoverBorderColor||de.valueAtIndexOrDefault(m.pointHoverBorderColor,y,de.getHoverColor(B.borderColor)),B.borderWidth=D.hoverBorderWidth||de.valueAtIndexOrDefault(m.pointHoverBorderWidth,y,B.borderWidth)},removeHoverStyle:function(j){var m=this,y=m.chart.data.datasets[j._datasetIndex],D=j._index,B=j.custom||{},w=j._model;void 0!==y.radius&&void 0===y.pointRadius&&(y.pointRadius=y.radius),w.radius=B.radius||de.valueAtIndexOrDefault(y.pointRadius,D,m.chart.options.elements.point.radius),w.backgroundColor=m.getPointBackgroundColor(j,D),w.borderColor=m.getPointBorderColor(j,D),w.borderWidth=m.getPointBorderWidth(j,D)}})}},{25:25,40:40,45:45}],19:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(40),de=ke(45);Ne._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(ve){var J=[];J.push('<ul class="'+ve.id+'-legend">');var j=ve.data,m=j.datasets,y=j.labels;if(m.length)for(var D=0;D<m[0].data.length;++D)J.push('<li><span style="background-color:'+m[0].backgroundColor[D]+'"></span>'),y[D]&&J.push(y[D]),J.push("</li>");return J.push("</ul>"),J.join("")},legend:{labels:{generateLabels:function(ve){var J=ve.data;return J.labels.length&&J.datasets.length?J.labels.map(function(j,m){var y=ve.getDatasetMeta(0),D=J.datasets[0],B=y.data[m].custom||{},w=de.valueAtIndexOrDefault,O=ve.options.elements.arc;return{text:j,fillStyle:B.backgroundColor?B.backgroundColor:w(D.backgroundColor,m,O.backgroundColor),strokeStyle:B.borderColor?B.borderColor:w(D.borderColor,m,O.borderColor),lineWidth:B.borderWidth?B.borderWidth:w(D.borderWidth,m,O.borderWidth),hidden:isNaN(D.data[m])||y.data[m].hidden,index:m}}):[]}},onClick:function(ve,J){var j,m,y,D=J.index,B=this.chart;for(j=0,m=(B.data.datasets||[]).length;j<m;++j)(y=B.getDatasetMeta(j)).data[D].hidden=!y.data[D].hidden;B.update()}},tooltips:{callbacks:{title:function(){return""},label:function(ve,J){return J.labels[ve.index]+": "+ve.yLabel}}}}),Ve.exports=function(ve){ve.controllers.polarArea=ve.DatasetController.extend({dataElementType:gt.Arc,linkScales:de.noop,update:function(J){var j=this,m=j.chart,y=m.chartArea,D=j.getMeta(),B=m.options,w=B.elements.arc,O=Math.min(y.right-y.left,y.bottom-y.top);m.outerRadius=Math.max((O-w.borderWidth/2)/2,0),m.innerRadius=Math.max(B.cutoutPercentage?m.outerRadius/100*B.cutoutPercentage:1,0),m.radiusLength=(m.outerRadius-m.innerRadius)/m.getVisibleDatasetCount(),j.outerRadius=m.outerRadius-m.radiusLength*j.index,j.innerRadius=j.outerRadius-m.radiusLength,D.count=j.countVisibleElements(),de.each(D.data,function(U,oe){j.updateElement(U,oe,J)})},updateElement:function(J,j,m){for(var y=this,D=y.chart,B=y.getDataset(),w=D.options,O=w.animation,U=D.scale,oe=D.data.labels,fe=y.calculateCircumference(B.data[j]),ue=U.xCenter,be=U.yCenter,Ae=0,Ke=y.getMeta(),L=0;L<j;++L)isNaN(B.data[L])||Ke.data[L].hidden||++Ae;var Ge=w.startAngle,ye=J.hidden?0:U.getDistanceFromCenterForValue(B.data[j]),Te=Ge+fe*Ae,Ue=Te+(J.hidden?0:fe),ce=O.animateScale?0:U.getDistanceFromCenterForValue(B.data[j]);de.extend(J,{_datasetIndex:y.index,_index:j,_scale:U,_model:{x:ue,y:be,innerRadius:0,outerRadius:m?ce:ye,startAngle:m&&O.animateRotate?Ge:Te,endAngle:m&&O.animateRotate?Ge:Ue,label:de.valueAtIndexOrDefault(oe,j,oe[j])}}),y.removeHoverStyle(J),J.pivot()},removeHoverStyle:function(J){ve.DatasetController.prototype.removeHoverStyle.call(this,J,this.chart.options.elements.arc)},countVisibleElements:function(){var J=this.getDataset(),j=this.getMeta(),m=0;return de.each(j.data,function(y,D){isNaN(J.data[D])||y.hidden||m++}),m},calculateCircumference:function(J){var j=this.getMeta().count;return j>0&&!isNaN(J)?2*Math.PI/j:0}})}},{25:25,40:40,45:45}],20:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(40),de=ke(45);Ne._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),Ve.exports=function(ve){ve.controllers.radar=ve.DatasetController.extend({datasetElementType:gt.Line,dataElementType:gt.Point,linkScales:de.noop,update:function(J){var j=this,m=j.getMeta(),D=m.data,B=m.dataset.custom||{},w=j.getDataset(),O=j.chart.options.elements.line,U=j.chart.scale;void 0!==w.tension&&void 0===w.lineTension&&(w.lineTension=w.tension),de.extend(m.dataset,{_datasetIndex:j.index,_scale:U,_children:D,_loop:!0,_model:{tension:B.tension?B.tension:de.valueOrDefault(w.lineTension,O.tension),backgroundColor:B.backgroundColor?B.backgroundColor:w.backgroundColor||O.backgroundColor,borderWidth:B.borderWidth?B.borderWidth:w.borderWidth||O.borderWidth,borderColor:B.borderColor?B.borderColor:w.borderColor||O.borderColor,fill:B.fill?B.fill:void 0!==w.fill?w.fill:O.fill,borderCapStyle:B.borderCapStyle?B.borderCapStyle:w.borderCapStyle||O.borderCapStyle,borderDash:B.borderDash?B.borderDash:w.borderDash||O.borderDash,borderDashOffset:B.borderDashOffset?B.borderDashOffset:w.borderDashOffset||O.borderDashOffset,borderJoinStyle:B.borderJoinStyle?B.borderJoinStyle:w.borderJoinStyle||O.borderJoinStyle}}),m.dataset.pivot(),de.each(D,function(oe,fe){j.updateElement(oe,fe,J)},j),j.updateBezierControlPoints()},updateElement:function(J,j,m){var y=this,D=J.custom||{},B=y.getDataset(),w=y.chart.scale,O=y.chart.options.elements.point,U=w.getPointPositionForValue(j,B.data[j]);void 0!==B.radius&&void 0===B.pointRadius&&(B.pointRadius=B.radius),void 0!==B.hitRadius&&void 0===B.pointHitRadius&&(B.pointHitRadius=B.hitRadius),de.extend(J,{_datasetIndex:y.index,_index:j,_scale:w,_model:{x:m?w.xCenter:U.x,y:m?w.yCenter:U.y,tension:D.tension?D.tension:de.valueOrDefault(B.lineTension,y.chart.options.elements.line.tension),radius:D.radius?D.radius:de.valueAtIndexOrDefault(B.pointRadius,j,O.radius),backgroundColor:D.backgroundColor?D.backgroundColor:de.valueAtIndexOrDefault(B.pointBackgroundColor,j,O.backgroundColor),borderColor:D.borderColor?D.borderColor:de.valueAtIndexOrDefault(B.pointBorderColor,j,O.borderColor),borderWidth:D.borderWidth?D.borderWidth:de.valueAtIndexOrDefault(B.pointBorderWidth,j,O.borderWidth),pointStyle:D.pointStyle?D.pointStyle:de.valueAtIndexOrDefault(B.pointStyle,j,O.pointStyle),hitRadius:D.hitRadius?D.hitRadius:de.valueAtIndexOrDefault(B.pointHitRadius,j,O.hitRadius)}}),J._model.skip=D.skip?D.skip:isNaN(J._model.x)||isNaN(J._model.y)},updateBezierControlPoints:function(){var J=this.chart.chartArea,j=this.getMeta();de.each(j.data,function(m,y){var D=m._model,B=de.splineCurve(de.previousItem(j.data,y,!0)._model,D,de.nextItem(j.data,y,!0)._model,D.tension);D.controlPointPreviousX=Math.max(Math.min(B.previous.x,J.right),J.left),D.controlPointPreviousY=Math.max(Math.min(B.previous.y,J.bottom),J.top),D.controlPointNextX=Math.max(Math.min(B.next.x,J.right),J.left),D.controlPointNextY=Math.max(Math.min(B.next.y,J.bottom),J.top),m.pivot()})},setHoverStyle:function(J){var j=this.chart.data.datasets[J._datasetIndex],m=J.custom||{},y=J._index,D=J._model;D.radius=m.hoverRadius?m.hoverRadius:de.valueAtIndexOrDefault(j.pointHoverRadius,y,this.chart.options.elements.point.hoverRadius),D.backgroundColor=m.hoverBackgroundColor?m.hoverBackgroundColor:de.valueAtIndexOrDefault(j.pointHoverBackgroundColor,y,de.getHoverColor(D.backgroundColor)),D.borderColor=m.hoverBorderColor?m.hoverBorderColor:de.valueAtIndexOrDefault(j.pointHoverBorderColor,y,de.getHoverColor(D.borderColor)),D.borderWidth=m.hoverBorderWidth?m.hoverBorderWidth:de.valueAtIndexOrDefault(j.pointHoverBorderWidth,y,D.borderWidth)},removeHoverStyle:function(J){var j=this.chart.data.datasets[J._datasetIndex],m=J.custom||{},y=J._index,D=J._model,B=this.chart.options.elements.point;D.radius=m.radius?m.radius:de.valueAtIndexOrDefault(j.pointRadius,y,B.radius),D.backgroundColor=m.backgroundColor?m.backgroundColor:de.valueAtIndexOrDefault(j.pointBackgroundColor,y,B.backgroundColor),D.borderColor=m.borderColor?m.borderColor:de.valueAtIndexOrDefault(j.pointBorderColor,y,B.borderColor),D.borderWidth=m.borderWidth?m.borderWidth:de.valueAtIndexOrDefault(j.pointBorderWidth,y,B.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(ke,Ve,an){"use strict";ke(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(Ne){return"("+Ne.xLabel+", "+Ne.yLabel+")"}}}}),Ve.exports=function(Ne){Ne.controllers.scatter=Ne.controllers.line}},{25:25}],22:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(26),de=ke(45);Ne._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:de.noop,onComplete:de.noop}}),Ve.exports=function(ve){ve.Animation=gt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),ve.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(J,j,m,y){var D,B,w=this.animations;for(j.chart=J,y||(J.animating=!0),D=0,B=w.length;D<B;++D)if(w[D].chart===J)return void(w[D]=j);w.push(j),1===w.length&&this.requestAnimationFrame()},cancelAnimation:function(J){var j=de.findIndex(this.animations,function(m){return m.chart===J});-1!==j&&(this.animations.splice(j,1),J.animating=!1)},requestAnimationFrame:function(){var J=this;null===J.request&&(J.request=de.requestAnimFrame.call(window,function(){J.request=null,J.startDigest()}))},startDigest:function(){var J=this,j=Date.now(),m=0;J.dropFrames>1&&(m=Math.floor(J.dropFrames),J.dropFrames=J.dropFrames%1),J.advance(1+m);var y=Date.now();J.dropFrames+=(y-j)/J.frameDuration,J.animations.length>0&&J.requestAnimationFrame()},advance:function(J){for(var j,m,y=this.animations,D=0;D<y.length;)m=(j=y[D]).chart,j.currentStep=(j.currentStep||0)+J,j.currentStep=Math.min(j.currentStep,j.numSteps),de.callback(j.render,[m,j],m),de.callback(j.onAnimationProgress,[j],m),j.currentStep>=j.numSteps?(de.callback(j.onAnimationComplete,[j],m),m.animating=!1,y.splice(D,1)):++D}},Object.defineProperty(ve.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(ve.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(J){this.chart=J}})}},{25:25,26:26,45:45}],23:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(45),de=ke(28),ve=ke(48);Ve.exports=function(J){function y(B){return"top"===B||"bottom"===B}var D=J.plugins;J.types={},J.instances={},J.controllers={},gt.extend(J.prototype,{construct:function(B,w){var O=this;w=function j(B){var w=(B=B||{}).data=B.data||{};return w.datasets=w.datasets||[],w.labels=w.labels||[],B.options=gt.configMerge(Ne.global,Ne[B.type],B.options||{}),B}(w);var U=ve.acquireContext(B,w),oe=U&&U.canvas,fe=oe&&oe.height,ue=oe&&oe.width;O.id=gt.uid(),O.ctx=U,O.canvas=oe,O.config=w,O.width=ue,O.height=fe,O.aspectRatio=fe?ue/fe:null,O.options=w.options,O._bufferedRender=!1,O.chart=O,O.controller=O,J.instances[O.id]=O,Object.defineProperty(O,"data",{get:function(){return O.config.data},set:function(be){O.config.data=be}}),U&&oe?(O.initialize(),O.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var B=this;return D.notify(B,"beforeInit"),gt.retinaScale(B,B.options.devicePixelRatio),B.bindEvents(),B.options.responsive&&B.resize(!0),B.ensureScalesHaveIDs(),B.buildScales(),B.initToolTip(),D.notify(B,"afterInit"),B},clear:function(){return gt.canvas.clear(this),this},stop:function(){return J.animationService.cancelAnimation(this),this},resize:function(B){var w=this,O=w.options,U=w.canvas,oe=O.maintainAspectRatio&&w.aspectRatio||null,fe=Math.max(0,Math.floor(gt.getMaximumWidth(U))),ue=Math.max(0,Math.floor(oe?fe/oe:gt.getMaximumHeight(U)));if((w.width!==fe||w.height!==ue)&&(U.width=w.width=fe,U.height=w.height=ue,U.style.width=fe+"px",U.style.height=ue+"px",gt.retinaScale(w,O.devicePixelRatio),!B)){var be={width:fe,height:ue};D.notify(w,"resize",[be]),w.options.onResize&&w.options.onResize(w,be),w.stop(),w.update(w.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var B=this.options,w=B.scales||{},O=B.scale;gt.each(w.xAxes,function(U,oe){U.id=U.id||"x-axis-"+oe}),gt.each(w.yAxes,function(U,oe){U.id=U.id||"y-axis-"+oe}),O&&(O.id=O.id||"scale")},buildScales:function(){var B=this,w=B.options,O=B.scales={},U=[];w.scales&&(U=U.concat((w.scales.xAxes||[]).map(function(oe){return{options:oe,dtype:"category",dposition:"bottom"}}),(w.scales.yAxes||[]).map(function(oe){return{options:oe,dtype:"linear",dposition:"left"}}))),w.scale&&U.push({options:w.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),gt.each(U,function(oe){var fe=oe.options,ue=gt.valueOrDefault(fe.type,oe.dtype),be=J.scaleService.getScaleConstructor(ue);if(be){y(fe.position)!==y(oe.dposition)&&(fe.position=oe.dposition);var Ae=new be({id:fe.id,options:fe,ctx:B.ctx,chart:B});O[Ae.id]=Ae,Ae.mergeTicksOptions(),oe.isDefault&&(B.scale=Ae)}}),J.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var B=this,w=[],O=[];return gt.each(B.data.datasets,function(U,oe){var fe=B.getDatasetMeta(oe),ue=U.type||B.config.type;if(fe.type&&fe.type!==ue&&(B.destroyDatasetMeta(oe),fe=B.getDatasetMeta(oe)),fe.type=ue,w.push(fe.type),fe.controller)fe.controller.updateIndex(oe);else{var be=J.controllers[fe.type];if(void 0===be)throw new Error('"'+fe.type+'" is not a chart type.');fe.controller=new be(B,oe),O.push(fe.controller)}},B),O},resetElements:function(){var B=this;gt.each(B.data.datasets,function(w,O){B.getDatasetMeta(O).controller.reset()},B)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(B){var w=this;if(B&&"object"==typeof B||(B={duration:B,lazy:arguments[1]}),function m(B){var w=B.options;w.scale?B.scale.options=w.scale:w.scales&&w.scales.xAxes.concat(w.scales.yAxes).forEach(function(O){B.scales[O.id].options=O}),B.tooltip._options=w.tooltips}(w),!1!==D.notify(w,"beforeUpdate")){w.tooltip._data=w.data;var O=w.buildOrUpdateControllers();gt.each(w.data.datasets,function(U,oe){w.getDatasetMeta(oe).controller.buildOrUpdateElements()},w),w.updateLayout(),gt.each(O,function(U){U.reset()}),w.updateDatasets(),w.tooltip.initialize(),w.lastActive=[],D.notify(w,"afterUpdate"),w._bufferedRender?w._bufferedRequest={duration:B.duration,easing:B.easing,lazy:B.lazy}:w.render(B)}},updateLayout:function(){var B=this;!1!==D.notify(B,"beforeLayout")&&(J.layoutService.update(this,this.width,this.height),D.notify(B,"afterScaleUpdate"),D.notify(B,"afterLayout"))},updateDatasets:function(){var B=this;if(!1!==D.notify(B,"beforeDatasetsUpdate")){for(var w=0,O=B.data.datasets.length;w<O;++w)B.updateDataset(w);D.notify(B,"afterDatasetsUpdate")}},updateDataset:function(B){var w=this,O=w.getDatasetMeta(B),U={meta:O,index:B};!1!==D.notify(w,"beforeDatasetUpdate",[U])&&(O.controller.update(),D.notify(w,"afterDatasetUpdate",[U]))},render:function(B){var w=this;B&&"object"==typeof B||(B={duration:B,lazy:arguments[1]});var O=B.duration,U=B.lazy;if(!1!==D.notify(w,"beforeRender")){var oe=w.options.animation,fe=function(be){D.notify(w,"afterRender"),gt.callback(oe&&oe.onComplete,[be],w)};if(oe&&(void 0!==O&&0!==O||void 0===O&&0!==oe.duration)){var ue=new J.Animation({numSteps:(O||oe.duration)/16.66,easing:B.easing||oe.easing,render:function(be,Ae){var L=Ae.currentStep,Ge=L/Ae.numSteps;be.draw((0,gt.easing.effects[Ae.easing])(Ge),Ge,L)},onAnimationProgress:oe.onProgress,onAnimationComplete:fe});J.animationService.addAnimation(w,ue,O,U)}else w.draw(),fe(new J.Animation({numSteps:0,chart:w}));return w}},draw:function(B){var w=this;w.clear(),gt.isNullOrUndef(B)&&(B=1),w.transition(B),!1!==D.notify(w,"beforeDraw",[B])&&(gt.each(w.boxes,function(O){O.draw(w.chartArea)},w),w.scale&&w.scale.draw(),w.drawDatasets(B),w._drawTooltip(B),D.notify(w,"afterDraw",[B]))},transition:function(B){for(var w=this,O=0,U=(w.data.datasets||[]).length;O<U;++O)w.isDatasetVisible(O)&&w.getDatasetMeta(O).controller.transition(B);w.tooltip.transition(B)},drawDatasets:function(B){var w=this;if(!1!==D.notify(w,"beforeDatasetsDraw",[B])){for(var O=(w.data.datasets||[]).length-1;O>=0;--O)w.isDatasetVisible(O)&&w.drawDataset(O,B);D.notify(w,"afterDatasetsDraw",[B])}},drawDataset:function(B,w){var O=this,U=O.getDatasetMeta(B),oe={meta:U,index:B,easingValue:w};!1!==D.notify(O,"beforeDatasetDraw",[oe])&&(U.controller.draw(w),D.notify(O,"afterDatasetDraw",[oe]))},_drawTooltip:function(B){var w=this,O=w.tooltip,U={tooltip:O,easingValue:B};!1!==D.notify(w,"beforeTooltipDraw",[U])&&(O.draw(),D.notify(w,"afterTooltipDraw",[U]))},getElementAtEvent:function(B){return de.modes.single(this,B)},getElementsAtEvent:function(B){return de.modes.label(this,B,{intersect:!0})},getElementsAtXAxis:function(B){return de.modes["x-axis"](this,B,{intersect:!0})},getElementsAtEventForMode:function(B,w,O){var U=de.modes[w];return"function"==typeof U?U(this,B,O):[]},getDatasetAtEvent:function(B){return de.modes.dataset(this,B,{intersect:!0})},getDatasetMeta:function(B){var w=this,O=w.data.datasets[B];O._meta||(O._meta={});var U=O._meta[w.id];return U||(U=O._meta[w.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),U},getVisibleDatasetCount:function(){for(var B=0,w=0,O=this.data.datasets.length;w<O;++w)this.isDatasetVisible(w)&&B++;return B},isDatasetVisible:function(B){var w=this.getDatasetMeta(B);return"boolean"==typeof w.hidden?!w.hidden:!this.data.datasets[B].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(B){var w=this.id,O=this.data.datasets[B],U=O._meta&&O._meta[w];U&&(U.controller.destroy(),delete O._meta[w])},destroy:function(){var B,w,O=this,U=O.canvas;for(O.stop(),B=0,w=O.data.datasets.length;B<w;++B)O.destroyDatasetMeta(B);U&&(O.unbindEvents(),gt.canvas.clear(O),ve.releaseContext(O.ctx),O.canvas=null,O.ctx=null),D.notify(O,"destroy"),delete J.instances[O.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var B=this;B.tooltip=new J.Tooltip({_chart:B,_chartInstance:B,_data:B.data,_options:B.options.tooltips},B)},bindEvents:function(){var B=this,w=B._listeners={},O=function(){B.eventHandler.apply(B,arguments)};gt.each(B.options.events,function(U){ve.addEventListener(B,U,O),w[U]=O}),B.options.responsive&&(O=function(){B.resize()},ve.addEventListener(B,"resize",O),w.resize=O)},unbindEvents:function(){var B=this,w=B._listeners;w&&(delete B._listeners,gt.each(w,function(O,U){ve.removeEventListener(B,U,O)}))},updateHoverStyle:function(B,w,O){var U,oe,fe,ue=O?"setHoverStyle":"removeHoverStyle";for(oe=0,fe=B.length;oe<fe;++oe)(U=B[oe])&&this.getDatasetMeta(U._datasetIndex).controller[ue](U)},eventHandler:function(B){var w=this,O=w.tooltip;if(!1!==D.notify(w,"beforeEvent",[B])){w._bufferedRender=!0,w._bufferedRequest=null;var U=w.handleEvent(B);U|=O&&O.handleEvent(B),D.notify(w,"afterEvent",[B]);var oe=w._bufferedRequest;return oe?w.render(oe):U&&!w.animating&&(w.stop(),w.render(w.options.hover.animationDuration,!0)),w._bufferedRender=!1,w._bufferedRequest=null,w}},handleEvent:function(B){var oe,w=this,O=w.options||{},U=O.hover;return w.lastActive=w.lastActive||[],w.active="mouseout"===B.type?[]:w.getElementsAtEventForMode(B,U.mode,U),gt.callback(O.onHover||O.hover.onHover,[B.native,w.active],w),"mouseup"!==B.type&&"click"!==B.type||O.onClick&&O.onClick.call(w,B.native,w.active),w.lastActive.length&&w.updateHoverStyle(w.lastActive,U.mode,!1),w.active.length&&U.mode&&w.updateHoverStyle(w.active,U.mode,!0),oe=!gt.arrayEquals(w.active,w.lastActive),w.lastActive=w.active,oe}}),J.Controller=J}},{25:25,28:28,45:45,48:48}],24:[function(ke,Ve,an){"use strict";var Ne=ke(45);Ve.exports=function(gt){function ve(j,m){var y=j._chartjs;if(y){var D=y.listeners,B=D.indexOf(m);-1!==B&&D.splice(B,1),D.length>0||(J.forEach(function(w){delete j[w]}),delete j._chartjs)}}var J=["push","pop","shift","splice","unshift"];gt.DatasetController=function(j,m){this.initialize(j,m)},Ne.extend(gt.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(j,m){var y=this;y.chart=j,y.index=m,y.linkScales(),y.addElements()},updateIndex:function(j){this.index=j},linkScales:function(){var j=this,m=j.getMeta(),y=j.getDataset();null===m.xAxisID&&(m.xAxisID=y.xAxisID||j.chart.options.scales.xAxes[0].id),null===m.yAxisID&&(m.yAxisID=y.yAxisID||j.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(j){return this.chart.scales[j]},reset:function(){this.update(!0)},destroy:function(){this._data&&ve(this._data,this)},createMetaDataset:function(){var j=this,m=j.datasetElementType;return m&&new m({_chart:j.chart,_datasetIndex:j.index})},createMetaData:function(j){var m=this,y=m.dataElementType;return y&&new y({_chart:m.chart,_datasetIndex:m.index,_index:j})},addElements:function(){var j,m,y=this,D=y.getMeta(),B=y.getDataset().data||[],w=D.data;for(j=0,m=B.length;j<m;++j)w[j]=w[j]||y.createMetaData(j);D.dataset=D.dataset||y.createMetaDataset()},addElementAndReset:function(j){var m=this.createMetaData(j);this.getMeta().data.splice(j,0,m),this.updateElement(m,j,!0)},buildOrUpdateElements:function(){var j=this,m=j.getDataset(),y=m.data||(m.data=[]);j._data!==y&&(j._data&&ve(j._data,j),function de(j,m){j._chartjs?j._chartjs.listeners.push(m):(Object.defineProperty(j,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[m]}}),J.forEach(function(y){var D="onData"+y.charAt(0).toUpperCase()+y.slice(1),B=j[y];Object.defineProperty(j,y,{configurable:!0,enumerable:!1,value:function(){var w=Array.prototype.slice.call(arguments),O=B.apply(this,w);return Ne.each(j._chartjs.listeners,function(U){"function"==typeof U[D]&&U[D].apply(U,w)}),O}})}))}(y,j),j._data=y),j.resyncElements()},update:Ne.noop,transition:function(j){for(var m=this.getMeta(),y=m.data||[],D=y.length,B=0;B<D;++B)y[B].transition(j);m.dataset&&m.dataset.transition(j)},draw:function(){var j=this.getMeta(),m=j.data||[],y=m.length,D=0;for(j.dataset&&j.dataset.draw();D<y;++D)m[D].draw()},removeHoverStyle:function(j,m){var y=this.chart.data.datasets[j._datasetIndex],D=j._index,B=j.custom||{},w=Ne.valueAtIndexOrDefault,O=j._model;O.backgroundColor=B.backgroundColor?B.backgroundColor:w(y.backgroundColor,D,m.backgroundColor),O.borderColor=B.borderColor?B.borderColor:w(y.borderColor,D,m.borderColor),O.borderWidth=B.borderWidth?B.borderWidth:w(y.borderWidth,D,m.borderWidth)},setHoverStyle:function(j){var m=this.chart.data.datasets[j._datasetIndex],y=j._index,D=j.custom||{},B=Ne.valueAtIndexOrDefault,w=Ne.getHoverColor,O=j._model;O.backgroundColor=D.hoverBackgroundColor?D.hoverBackgroundColor:B(m.hoverBackgroundColor,y,w(O.backgroundColor)),O.borderColor=D.hoverBorderColor?D.hoverBorderColor:B(m.hoverBorderColor,y,w(O.borderColor)),O.borderWidth=D.hoverBorderWidth?D.hoverBorderWidth:B(m.hoverBorderWidth,y,O.borderWidth)},resyncElements:function(){var j=this,m=j.getMeta(),y=j.getDataset().data,D=m.data.length,B=y.length;B<D?m.data.splice(B,D-B):B>D&&j.insertElements(D,B-D)},insertElements:function(j,m){for(var y=0;y<m;++y)this.addElementAndReset(j+y)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(j,m){this.getMeta().data.splice(j,m),this.insertElements(j,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),gt.DatasetController.extend=Ne.inherits}},{45:45}],25:[function(ke,Ve,an){"use strict";var Ne=ke(45);Ve.exports={_set:function(gt,de){return Ne.merge(this[gt]||(this[gt]={}),de)}}},{45:45}],26:[function(ke,Ve,an){"use strict";var gt=ke(3),de=ke(45),ve=function(J){de.extend(this,J),this.initialize.apply(this,arguments)};de.extend(ve.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var J=this;return J._view||(J._view=de.clone(J._model)),J._start={},J},transition:function(J){var j=this,m=j._model,y=j._start,D=j._view;return m&&1!==J?(D||(D=j._view={}),y||(y=j._start={}),function Ne(J,j,m,y){var D,B,w,O,U,oe,fe,ue,be,Ae=Object.keys(m);for(D=0,B=Ae.length;D<B;++D)if(oe=m[w=Ae[D]],j.hasOwnProperty(w)||(j[w]=oe),(O=j[w])!==oe&&"_"!==w[0]){if(J.hasOwnProperty(w)||(J[w]=O),(fe=typeof oe)==typeof(U=J[w]))if("string"===fe){if((ue=gt(U)).valid&&(be=gt(oe)).valid){j[w]=be.mix(ue,y).rgbString();continue}}else if("number"===fe&&isFinite(U)&&isFinite(oe)){j[w]=U+(oe-U)*y;continue}j[w]=oe}}(y,D,m,J),j):(j._view=m,j._start=null,j)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return de.isNumber(this._model.x)&&de.isNumber(this._model.y)}}),ve.extend=de.inherits,Ve.exports=ve},{3:3,45:45}],27:[function(ke,Ve,an){"use strict";var Ne=ke(3),gt=ke(25),de=ke(45);Ve.exports=function(ve){function J(y,D,B){var w;return"string"==typeof y?(w=parseInt(y,10),-1!==y.indexOf("%")&&(w=w/100*D.parentNode[B])):w=y,w}function j(y){return null!=y&&"none"!==y}function m(y,D,B){var w=document.defaultView,O=y.parentNode,U=w.getComputedStyle(y)[D],oe=w.getComputedStyle(O)[D],fe=j(U),ue=j(oe),be=Number.POSITIVE_INFINITY;return fe||ue?Math.min(fe?J(U,y,B):be,ue?J(oe,O,B):be):"none"}de.configMerge=function(){return de.merge(de.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(y,D,B,w){var O=D[y]||{},U=B[y];"scales"===y?D[y]=de.scaleMerge(O,U):"scale"===y?D[y]=de.merge(O,[ve.scaleService.getScaleDefaults(U.type),U]):de._merger(y,D,B,w)}})},de.scaleMerge=function(){return de.merge(de.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(y,D,B,w){if("xAxes"===y||"yAxes"===y){var O,U,oe,fe=B[y].length;for(D[y]||(D[y]=[]),O=0;O<fe;++O)U=de.valueOrDefault((oe=B[y][O]).type,"xAxes"===y?"category":"linear"),O>=D[y].length&&D[y].push({}),de.merge(D[y][O],!D[y][O].type||oe.type&&oe.type!==D[y][O].type?[ve.scaleService.getScaleDefaults(U),oe]:oe)}else de._merger(y,D,B,w)}})},de.where=function(y,D){if(de.isArray(y)&&Array.prototype.filter)return y.filter(D);var B=[];return de.each(y,function(w){D(w)&&B.push(w)}),B},de.findIndex=Array.prototype.findIndex?function(y,D,B){return y.findIndex(D,B)}:function(y,D,B){B=void 0===B?y:B;for(var w=0,O=y.length;w<O;++w)if(D.call(B,y[w],w,y))return w;return-1},de.findNextWhere=function(y,D,B){de.isNullOrUndef(B)&&(B=-1);for(var w=B+1;w<y.length;w++){var O=y[w];if(D(O))return O}},de.findPreviousWhere=function(y,D,B){de.isNullOrUndef(B)&&(B=y.length);for(var w=B-1;w>=0;w--){var O=y[w];if(D(O))return O}},de.isNumber=function(y){return!isNaN(parseFloat(y))&&isFinite(y)},de.almostEquals=function(y,D,B){return Math.abs(y-D)<B},de.almostWhole=function(y,D){var B=Math.round(y);return B-D<y&&B+D>y},de.max=function(y){return y.reduce(function(D,B){return isNaN(B)?D:Math.max(D,B)},Number.NEGATIVE_INFINITY)},de.min=function(y){return y.reduce(function(D,B){return isNaN(B)?D:Math.min(D,B)},Number.POSITIVE_INFINITY)},de.sign=Math.sign?function(y){return Math.sign(y)}:function(y){return 0==(y=+y)||isNaN(y)?y:y>0?1:-1},de.log10=Math.log10?function(y){return Math.log10(y)}:function(y){return Math.log(y)/Math.LN10},de.toRadians=function(y){return y*(Math.PI/180)},de.toDegrees=function(y){return y*(180/Math.PI)},de.getAngleFromPoint=function(y,D){var B=D.x-y.x,w=D.y-y.y,O=Math.sqrt(B*B+w*w),U=Math.atan2(w,B);return U<-.5*Math.PI&&(U+=2*Math.PI),{angle:U,distance:O}},de.distanceBetweenPoints=function(y,D){return Math.sqrt(Math.pow(D.x-y.x,2)+Math.pow(D.y-y.y,2))},de.aliasPixel=function(y){return y%2==0?0:.5},de.splineCurve=function(y,D,B,w){var O=y.skip?D:y,U=D,oe=B.skip?D:B,fe=Math.sqrt(Math.pow(U.x-O.x,2)+Math.pow(U.y-O.y,2)),ue=Math.sqrt(Math.pow(oe.x-U.x,2)+Math.pow(oe.y-U.y,2)),be=fe/(fe+ue),Ae=ue/(fe+ue),Ke=w*(be=isNaN(be)?0:be),L=w*(Ae=isNaN(Ae)?0:Ae);return{previous:{x:U.x-Ke*(oe.x-O.x),y:U.y-Ke*(oe.y-O.y)},next:{x:U.x+L*(oe.x-O.x),y:U.y+L*(oe.y-O.y)}}},de.EPSILON=Number.EPSILON||1e-14,de.splineCurveMonotone=function(y){var D,B,w,O,ue,be,Ae,Ke,L,U=(y||[]).map(function(Ge){return{model:Ge._model,deltaK:0,mK:0}}),oe=U.length;for(D=0;D<oe;++D)if(!(w=U[D]).model.skip){if(B=D>0?U[D-1]:null,(O=D<oe-1?U[D+1]:null)&&!O.model.skip){var fe=O.model.x-w.model.x;w.deltaK=0!==fe?(O.model.y-w.model.y)/fe:0}w.mK=!B||B.model.skip?w.deltaK:!O||O.model.skip?B.deltaK:this.sign(B.deltaK)!==this.sign(w.deltaK)?0:(B.deltaK+w.deltaK)/2}for(D=0;D<oe-1;++D)O=U[D+1],(w=U[D]).model.skip||O.model.skip||(de.almostEquals(w.deltaK,0,this.EPSILON)?w.mK=O.mK=0:(ue=w.mK/w.deltaK,be=O.mK/w.deltaK,(Ke=Math.pow(ue,2)+Math.pow(be,2))<=9||(Ae=3/Math.sqrt(Ke),w.mK=ue*Ae*w.deltaK,O.mK=be*Ae*w.deltaK)));for(D=0;D<oe;++D)(w=U[D]).model.skip||(O=D<oe-1?U[D+1]:null,(B=D>0?U[D-1]:null)&&!B.model.skip&&(w.model.controlPointPreviousX=w.model.x-(L=(w.model.x-B.model.x)/3),w.model.controlPointPreviousY=w.model.y-L*w.mK),O&&!O.model.skip&&(w.model.controlPointNextX=w.model.x+(L=(O.model.x-w.model.x)/3),w.model.controlPointNextY=w.model.y+L*w.mK))},de.nextItem=function(y,D,B){return B?D>=y.length-1?y[0]:y[D+1]:D>=y.length-1?y[y.length-1]:y[D+1]},de.previousItem=function(y,D,B){return B?D<=0?y[y.length-1]:y[D-1]:D<=0?y[0]:y[D-1]},de.niceNum=function(y,D){var B=Math.floor(de.log10(y)),w=y/Math.pow(10,B);return(D?w<1.5?1:w<3?2:w<7?5:10:w<=1?1:w<=2?2:w<=5?5:10)*Math.pow(10,B)},de.requestAnimFrame=typeof window>"u"?function(y){y()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(y){return window.setTimeout(y,1e3/60)},de.getRelativePosition=function(y,D){var B,w,O=y.originalEvent||y,U=y.currentTarget||y.srcElement,oe=U.getBoundingClientRect(),fe=O.touches;fe&&fe.length>0?(B=fe[0].clientX,w=fe[0].clientY):(B=O.clientX,w=O.clientY);var ue=parseFloat(de.getStyle(U,"padding-left")),be=parseFloat(de.getStyle(U,"padding-top")),Ae=parseFloat(de.getStyle(U,"padding-right")),Ke=parseFloat(de.getStyle(U,"padding-bottom")),Ge=oe.bottom-oe.top-be-Ke;return{x:B=Math.round((B-oe.left-ue)/(oe.right-oe.left-ue-Ae)*U.width/D.currentDevicePixelRatio),y:w=Math.round((w-oe.top-be)/Ge*U.height/D.currentDevicePixelRatio)}},de.getConstraintWidth=function(y){return m(y,"max-width","clientWidth")},de.getConstraintHeight=function(y){return m(y,"max-height","clientHeight")},de.getMaximumWidth=function(y){var D=y.parentNode;if(!D)return y.clientWidth;var B=parseInt(de.getStyle(D,"padding-left"),10),w=parseInt(de.getStyle(D,"padding-right"),10),O=D.clientWidth-B-w,U=de.getConstraintWidth(y);return isNaN(U)?O:Math.min(O,U)},de.getMaximumHeight=function(y){var D=y.parentNode;if(!D)return y.clientHeight;var B=parseInt(de.getStyle(D,"padding-top"),10),w=parseInt(de.getStyle(D,"padding-bottom"),10),O=D.clientHeight-B-w,U=de.getConstraintHeight(y);return isNaN(U)?O:Math.min(O,U)},de.getStyle=function(y,D){return y.currentStyle?y.currentStyle[D]:document.defaultView.getComputedStyle(y,null).getPropertyValue(D)},de.retinaScale=function(y,D){var B=y.currentDevicePixelRatio=D||window.devicePixelRatio||1;if(1!==B){var w=y.canvas,O=y.height,U=y.width;w.height=O*B,w.width=U*B,y.ctx.scale(B,B),w.style.height=O+"px",w.style.width=U+"px"}},de.fontString=function(y,D,B){return D+" "+y+"px "+B},de.longestText=function(y,D,B,w){var O=(w=w||{}).data=w.data||{},U=w.garbageCollect=w.garbageCollect||[];w.font!==D&&(O=w.data={},U=w.garbageCollect=[],w.font=D),y.font=D;var oe=0;de.each(B,function(be){null!=be&&!0!==de.isArray(be)?oe=de.measureText(y,O,U,oe,be):de.isArray(be)&&de.each(be,function(Ae){null==Ae||de.isArray(Ae)||(oe=de.measureText(y,O,U,oe,Ae))})});var fe=U.length/2;if(fe>B.length){for(var ue=0;ue<fe;ue++)delete O[U[ue]];U.splice(0,fe)}return oe},de.measureText=function(y,D,B,w,O){var U=D[O];return U||(U=D[O]=y.measureText(O).width,B.push(O)),U>w&&(w=U),w},de.numberOfLabelLines=function(y){var D=1;return de.each(y,function(B){de.isArray(B)&&B.length>D&&(D=B.length)}),D},de.color=Ne?function(y){return y instanceof CanvasGradient&&(y=gt.global.defaultColor),Ne(y)}:function(y){return console.error("Color.js not found!"),y},de.getHoverColor=function(y){return y instanceof CanvasPattern?y:de.color(y).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(ke,Ve,an){"use strict";function Ne(y,D){return y.native?{x:y.x,y:y.y}:m.getRelativePosition(y,D)}function gt(y,D){var B,w,O,U,oe;for(w=0,U=y.data.datasets.length;w<U;++w)if(y.isDatasetVisible(w))for(O=0,oe=(B=y.getDatasetMeta(w)).data.length;O<oe;++O){var fe=B.data[O];fe._view.skip||D(fe)}}function de(y,D){var B=[];return gt(y,function(w){w.inRange(D.x,D.y)&&B.push(w)}),B}function ve(y,D,B,w){var O=Number.POSITIVE_INFINITY,U=[];return gt(y,function(oe){if(!B||oe.inRange(D.x,D.y)){var fe=oe.getCenterPoint(),ue=w(D,fe);ue<O?(U=[oe],O=ue):ue===O&&U.push(oe)}}),U}function J(y){var D=-1!==y.indexOf("x"),B=-1!==y.indexOf("y");return function(w,O){var U=D?Math.abs(w.x-O.x):0,oe=B?Math.abs(w.y-O.y):0;return Math.sqrt(Math.pow(U,2)+Math.pow(oe,2))}}function j(y,D,B){var w=Ne(D,y);B.axis=B.axis||"x";var O=J(B.axis),U=B.intersect?de(y,w):ve(y,w,!1,O),oe=[];return U.length?(y.data.datasets.forEach(function(fe,ue){if(y.isDatasetVisible(ue)){var be=y.getDatasetMeta(ue).data[U[0]._index];be&&!be._view.skip&&oe.push(be)}}),oe):[]}var m=ke(45);Ve.exports={modes:{single:function(y,D){var B=Ne(D,y),w=[];return gt(y,function(O){if(O.inRange(B.x,B.y))return w.push(O),w}),w.slice(0,1)},label:j,index:j,dataset:function(y,D,B){var w=Ne(D,y);B.axis=B.axis||"xy";var O=J(B.axis),U=B.intersect?de(y,w):ve(y,w,!1,O);return U.length>0&&(U=y.getDatasetMeta(U[0]._datasetIndex).data),U},"x-axis":function(y,D){return j(y,D,{intersect:!1})},point:function(y,D){return de(y,Ne(D,y))},nearest:function(y,D,B){var w=Ne(D,y);B.axis=B.axis||"xy";var O=J(B.axis),U=ve(y,w,B.intersect,O);return U.length>1&&U.sort(function(oe,fe){var ue=oe.getArea()-fe.getArea();return 0===ue&&(ue=oe._datasetIndex-fe._datasetIndex),ue}),U.slice(0,1)},x:function(y,D,B){var w=Ne(D,y),O=[],U=!1;return gt(y,function(oe){oe.inXRange(w.x)&&O.push(oe),oe.inRange(w.x,w.y)&&(U=!0)}),B.intersect&&!U&&(O=[]),O},y:function(y,D,B){var w=Ne(D,y),O=[],U=!1;return gt(y,function(oe){oe.inYRange(w.y)&&O.push(oe),oe.inRange(w.x,w.y)&&(U=!0)}),B.intersect&&!U&&(O=[]),O}}}},{45:45}],29:[function(ke,Ve,an){"use strict";ke(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),Ve.exports=function(){var Ne=function(gt,de){return this.construct(gt,de),this};return Ne.Chart=Ne,Ne}},{25:25}],30:[function(ke,Ve,an){"use strict";var Ne=ke(45);Ve.exports=function(gt){function de(J,j){return Ne.where(J,function(m){return m.position===j})}function ve(J,j){J.forEach(function(m,y){return m._tmpIndex_=y,m}),J.sort(function(m,y){var D=j?y:m,B=j?m:y;return D.weight===B.weight?D._tmpIndex_-B._tmpIndex_:D.weight-B.weight}),J.forEach(function(m){delete m._tmpIndex_})}gt.layoutService={defaults:{},addBox:function(J,j){J.boxes||(J.boxes=[]),j.fullWidth=j.fullWidth||!1,j.position=j.position||"top",j.weight=j.weight||0,J.boxes.push(j)},removeBox:function(J,j){var m=J.boxes?J.boxes.indexOf(j):-1;-1!==m&&J.boxes.splice(m,1)},configure:function(J,j,m){for(var y,D=["fullWidth","position","weight"],B=D.length,w=0;w<B;++w)m.hasOwnProperty(y=D[w])&&(j[y]=m[y])},update:function(J,j,m){function y(gn){var zn=Ne.findNextWhere(xe,function(_i){return _i.box===gn});if(zn)if(gn.isHorizontal()){var xi={left:Math.max(Xe,We),right:Math.max(Je,et),top:0,bottom:0};gn.update(gn.fullWidth?Ge:Oe,ye/2,xi)}else gn.update(zn.minSize.width,qe)}function D(gn){gn.isHorizontal()?(gn.left=gn.fullWidth?O:Xe,gn.right=gn.fullWidth?j-U:Xe+Oe,gn.top=Mn,gn.bottom=Mn+gn.height,Mn=gn.bottom):(gn.left=Ht,gn.right=Ht+gn.width,gn.top=st,gn.bottom=st+qe,Ht=gn.right)}if(J){var w=Ne.options.toPadding((J.options.layout||{}).padding),O=w.left,U=w.right,oe=w.top,fe=w.bottom,ue=de(J.boxes,"left"),be=de(J.boxes,"right"),Ae=de(J.boxes,"top"),Ke=de(J.boxes,"bottom"),L=de(J.boxes,"chartArea");ve(ue,!0),ve(be,!1),ve(Ae,!0),ve(Ke,!1);var Ge=j-O-U,ye=m-oe-fe,Te=ye/2,Ue=(j-Ge/2)/(ue.length+be.length),ce=(m-Te)/(Ae.length+Ke.length),Oe=Ge,qe=ye,xe=[];Ne.each(ue.concat(be,Ae,Ke),function(gn){var zn,xi=gn.isHorizontal();xi?(zn=gn.update(gn.fullWidth?Ge:Oe,ce),qe-=zn.height):(zn=gn.update(Ue,Te),Oe-=zn.width),xe.push({horizontal:xi,minSize:zn,box:gn})});var We=0,et=0,xt=0,ze=0;Ne.each(Ae.concat(Ke),function(gn){if(gn.getPadding){var zn=gn.getPadding();We=Math.max(We,zn.left),et=Math.max(et,zn.right)}}),Ne.each(ue.concat(be),function(gn){if(gn.getPadding){var zn=gn.getPadding();xt=Math.max(xt,zn.top),ze=Math.max(ze,zn.bottom)}});var Xe=O,Je=U,st=oe,Et=fe;Ne.each(ue.concat(be),y),Ne.each(ue,function(gn){Xe+=gn.width}),Ne.each(be,function(gn){Je+=gn.width}),Ne.each(Ae.concat(Ke),y),Ne.each(Ae,function(gn){st+=gn.height}),Ne.each(Ke,function(gn){Et+=gn.height}),Ne.each(ue.concat(be),function(gn){var zn=Ne.findNextWhere(xe,function(_i){return _i.box===gn});zn&&gn.update(zn.minSize.width,qe,{left:0,right:0,top:st,bottom:Et})}),Xe=O,Je=U,st=oe,Et=fe,Ne.each(ue,function(gn){Xe+=gn.width}),Ne.each(be,function(gn){Je+=gn.width}),Ne.each(Ae,function(gn){st+=gn.height}),Ne.each(Ke,function(gn){Et+=gn.height});var Gt=Math.max(We-Xe,0);Xe+=Gt,Je+=Math.max(et-Je,0);var Tt=Math.max(xt-st,0);st+=Tt,Et+=Math.max(ze-Et,0);var Nt=m-st-Et,en=j-Xe-Je;en===Oe&&Nt===qe||(Ne.each(ue,function(gn){gn.height=Nt}),Ne.each(be,function(gn){gn.height=Nt}),Ne.each(Ae,function(gn){gn.fullWidth||(gn.width=en)}),Ne.each(Ke,function(gn){gn.fullWidth||(gn.width=en)}),qe=Nt,Oe=en);var Ht=O+Gt,Mn=oe+Tt;Ne.each(ue.concat(Ae),D),Ht+=Oe,Mn+=qe,Ne.each(be,D),Ne.each(Ke,D),J.chartArea={left:Xe,top:st,right:Xe+Oe,bottom:st+qe},Ne.each(L,function(gn){gn.left=J.chartArea.left,gn.top=J.chartArea.top,gn.right=J.chartArea.right,gn.bottom=J.chartArea.bottom,gn.update(Oe,qe)})}}}}},{45:45}],31:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(26),de=ke(45);Ne._set("global",{plugins:{}}),Ve.exports=function(ve){ve.plugins={_plugins:[],_cacheId:0,register:function(J){var j=this._plugins;[].concat(J).forEach(function(m){-1===j.indexOf(m)&&j.push(m)}),this._cacheId++},unregister:function(J){var j=this._plugins;[].concat(J).forEach(function(m){var y=j.indexOf(m);-1!==y&&j.splice(y,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(J,j,m){var y,D,B,w,O,U=this.descriptors(J),oe=U.length;for(y=0;y<oe;++y)if("function"==typeof(O=(B=(D=U[y]).plugin)[j])&&((w=[J].concat(m||[])).push(D.options),!1===O.apply(B,w)))return!1;return!0},descriptors:function(J){var j=J._plugins||(J._plugins={});if(j.id===this._cacheId)return j.descriptors;var m=[],y=[],D=J&&J.config||{},B=D.options&&D.options.plugins||{};return this._plugins.concat(D.plugins||[]).forEach(function(w){if(-1===m.indexOf(w)){var O=w.id,U=B[O];!1!==U&&(!0===U&&(U=de.clone(Ne.global.plugins[O])),m.push(w),y.push({plugin:w,options:U||{}}))}}),j.descriptors=y,j.id=this._cacheId,y}},ve.pluginService=ve.plugins,ve.PluginBase=gt.extend({})}},{25:25,26:26,45:45}],32:[function(ke,Ve,an){"use strict";function Ne(m){var y,D,B=[];for(y=0,D=m.length;y<D;++y)B.push(m[y].label);return B}function gt(m,y,D){var B=m.getPixelForTick(y);return D&&(B-=0===y?(m.getPixelForTick(1)-B)/2:(B-m.getPixelForTick(y-1))/2),B}var de=ke(25),ve=ke(26),J=ke(45),j=ke(34);de._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:j.formatters.values,minor:{},major:{}}}),Ve.exports=function(m){function y(w,O,U){return J.isArray(O)?J.longestText(w,U,O):w.measureText(O).width}function D(w){var O=J.valueOrDefault,U=de.global,oe=O(w.fontSize,U.defaultFontSize),fe=O(w.fontStyle,U.defaultFontStyle),ue=O(w.fontFamily,U.defaultFontFamily);return{size:oe,style:fe,family:ue,font:J.fontString(oe,fe,ue)}}function B(w){return J.options.toLineHeight(J.valueOrDefault(w.lineHeight,1.2),J.valueOrDefault(w.fontSize,de.global.defaultFontSize))}m.Scale=ve.extend({getPadding:function(){var w=this;return{left:w.paddingLeft||0,top:w.paddingTop||0,right:w.paddingRight||0,bottom:w.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var w=this.options.ticks;for(var O in!1===w.minor&&(w.minor={display:!1}),!1===w.major&&(w.major={display:!1}),w)"major"!==O&&"minor"!==O&&(void 0===w.minor[O]&&(w.minor[O]=w[O]),void 0===w.major[O]&&(w.major[O]=w[O]))},beforeUpdate:function(){J.callback(this.options.beforeUpdate,[this])},update:function(w,O,U){var oe,fe,ue,be,Ae,Ke,L=this;for(L.beforeUpdate(),L.maxWidth=w,L.maxHeight=O,L.margins=J.extend({left:0,right:0,top:0,bottom:0},U),L.longestTextCache=L.longestTextCache||{},L.beforeSetDimensions(),L.setDimensions(),L.afterSetDimensions(),L.beforeDataLimits(),L.determineDataLimits(),L.afterDataLimits(),L.beforeBuildTicks(),Ae=L.buildTicks()||[],L.afterBuildTicks(),L.beforeTickToLabelConversion(),ue=L.convertTicksToLabels(Ae)||L.ticks,L.afterTickToLabelConversion(),L.ticks=ue,oe=0,fe=ue.length;oe<fe;++oe)be=ue[oe],(Ke=Ae[oe])?Ke.label=be:Ae.push(Ke={label:be,major:!1});return L._ticks=Ae,L.beforeCalculateTickRotation(),L.calculateTickRotation(),L.afterCalculateTickRotation(),L.beforeFit(),L.fit(),L.afterFit(),L.afterUpdate(),L.minSize},afterUpdate:function(){J.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){J.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var w=this;w.isHorizontal()?(w.width=w.maxWidth,w.left=0,w.right=w.width):(w.height=w.maxHeight,w.top=0,w.bottom=w.height),w.paddingLeft=0,w.paddingTop=0,w.paddingRight=0,w.paddingBottom=0},afterSetDimensions:function(){J.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){J.callback(this.options.beforeDataLimits,[this])},determineDataLimits:J.noop,afterDataLimits:function(){J.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){J.callback(this.options.beforeBuildTicks,[this])},buildTicks:J.noop,afterBuildTicks:function(){J.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){J.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var w=this,O=w.options.ticks;w.ticks=w.ticks.map(O.userCallback||O.callback,this)},afterTickToLabelConversion:function(){J.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){J.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var w=this,O=w.ctx,U=w.options.ticks,oe=Ne(w._ticks),fe=D(U);O.font=fe.font;var ue=U.minRotation||0;if(oe.length&&w.options.display&&w.isHorizontal())for(var be,Ae=J.longestText(O,fe.font,oe,w.longestTextCache),Ke=Ae,L=w.getPixelForTick(1)-w.getPixelForTick(0)-6;Ke>L&&ue<U.maxRotation;){var Ge=J.toRadians(ue);if(be=Math.cos(Ge),Math.sin(Ge)*Ae>w.maxHeight){ue--;break}ue++,Ke=be*Ae}w.labelRotation=ue},afterCalculateTickRotation:function(){J.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){J.callback(this.options.beforeFit,[this])},fit:function(){var w=this,O=w.minSize={width:0,height:0},U=Ne(w._ticks),oe=w.options,fe=oe.ticks,ue=oe.scaleLabel,be=oe.gridLines,Ae=oe.display,Ke=w.isHorizontal(),L=D(fe),Ge=oe.gridLines.tickMarkLength;if(O.width=Ke?w.isFullWidth()?w.maxWidth-w.margins.left-w.margins.right:w.maxWidth:Ae&&be.drawTicks?Ge:0,O.height=Ke?Ae&&be.drawTicks?Ge:0:w.maxHeight,ue.display&&Ae){var ye=B(ue)+J.options.toPadding(ue.padding).height;Ke?O.height+=ye:O.width+=ye}if(fe.display&&Ae){var Te=J.longestText(w.ctx,L.font,U,w.longestTextCache),Ue=J.numberOfLabelLines(U),ce=.5*L.size,Oe=w.options.ticks.padding;if(Ke){w.longestLabelWidth=Te;var qe=J.toRadians(w.labelRotation),xe=Math.cos(qe),We=Math.sin(qe)*Te+L.size*Ue+ce*(Ue-1)+ce;O.height=Math.min(w.maxHeight,O.height+We+Oe),w.ctx.font=L.font;var et=y(w.ctx,U[0],L.font),xt=y(w.ctx,U[U.length-1],L.font);0!==w.labelRotation?(w.paddingLeft="bottom"===oe.position?xe*et+3:xe*ce+3,w.paddingRight="bottom"===oe.position?xe*ce+3:xe*xt+3):(w.paddingLeft=et/2+3,w.paddingRight=xt/2+3)}else fe.mirror?Te=0:Te+=Oe+ce,O.width=Math.min(w.maxWidth,O.width+Te),w.paddingTop=L.size/2,w.paddingBottom=L.size/2}w.handleMargins(),w.width=O.width,w.height=O.height},handleMargins:function(){var w=this;w.margins&&(w.paddingLeft=Math.max(w.paddingLeft-w.margins.left,0),w.paddingTop=Math.max(w.paddingTop-w.margins.top,0),w.paddingRight=Math.max(w.paddingRight-w.margins.right,0),w.paddingBottom=Math.max(w.paddingBottom-w.margins.bottom,0))},afterFit:function(){J.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(w){if(J.isNullOrUndef(w))return NaN;if("number"==typeof w&&!isFinite(w))return NaN;if(w)if(this.isHorizontal()){if(void 0!==w.x)return this.getRightValue(w.x)}else if(void 0!==w.y)return this.getRightValue(w.y);return w},getLabelForIndex:J.noop,getPixelForValue:J.noop,getValueForPixel:J.noop,getPixelForTick:function(w){var O=this,U=O.options.offset;if(O.isHorizontal()){var oe=(O.width-(O.paddingLeft+O.paddingRight))/Math.max(O._ticks.length-(U?0:1),1),fe=oe*w+O.paddingLeft;return U&&(fe+=oe/2),O.left+Math.round(fe)+(O.isFullWidth()?O.margins.left:0)}return O.top+w*((O.height-(O.paddingTop+O.paddingBottom))/(O._ticks.length-1))},getPixelForDecimal:function(w){var O=this;return O.isHorizontal()?O.left+Math.round((O.width-(O.paddingLeft+O.paddingRight))*w+O.paddingLeft)+(O.isFullWidth()?O.margins.left:0):O.top+w*O.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var w=this,O=w.min,U=w.max;return w.beginAtZero?0:O<0&&U<0?U:O>0&&U>0?O:0},_autoSkip:function(w){var O,U,oe,fe,ue=this,be=ue.isHorizontal(),Ae=ue.options.ticks.minor,Ke=w.length,L=J.toRadians(ue.labelRotation),Ge=Math.cos(L),ye=ue.longestLabelWidth*Ge,Te=[];for(Ae.maxTicksLimit&&(fe=Ae.maxTicksLimit),be&&(O=!1,(ye+Ae.autoSkipPadding)*Ke>ue.width-(ue.paddingLeft+ue.paddingRight)&&(O=1+Math.floor((ye+Ae.autoSkipPadding)*Ke/(ue.width-(ue.paddingLeft+ue.paddingRight)))),fe&&Ke>fe&&(O=Math.max(O,Math.floor(Ke/fe)))),U=0;U<Ke;U++)oe=w[U],(O>1&&U%O>0||U%O==0&&U+O>=Ke)&&U!==Ke-1&&delete oe.label,Te.push(oe);return Te},draw:function(w){var O=this,U=O.options;if(U.display){var oe=O.ctx,fe=de.global,ue=U.ticks.minor,be=U.ticks.major||ue,Ae=U.gridLines,Ke=U.scaleLabel,L=0!==O.labelRotation,Ge=O.isHorizontal(),ye=ue.autoSkip?O._autoSkip(O.getTicks()):O.getTicks(),Te=J.valueOrDefault(ue.fontColor,fe.defaultFontColor),Ue=D(ue),ce=J.valueOrDefault(be.fontColor,fe.defaultFontColor),Oe=D(be),qe=Ae.drawTicks?Ae.tickMarkLength:0,xe=J.valueOrDefault(Ke.fontColor,fe.defaultFontColor),We=D(Ke),et=J.options.toPadding(Ke.padding),xt=J.toRadians(O.labelRotation),ze=[],Xe="right"===U.position?O.left:O.right-qe,Je="right"===U.position?O.left+qe:O.right,st="bottom"===U.position?O.top:O.bottom-qe,Et="bottom"===U.position?O.top+qe:O.bottom;if(J.each(ye,function(mi,Pi){if(!J.isNullOrUndef(mi.label)){var gi,Oi,bn,_n,fn=mi.label;Pi===O.zeroLineIndex&&U.offset===Ae.offsetGridLines?(gi=Ae.zeroLineWidth,Oi=Ae.zeroLineColor,bn=Ae.zeroLineBorderDash,_n=Ae.zeroLineBorderDashOffset):(gi=J.valueAtIndexOrDefault(Ae.lineWidth,Pi),Oi=J.valueAtIndexOrDefault(Ae.color,Pi),bn=J.valueOrDefault(Ae.borderDash,fe.borderDash),_n=J.valueOrDefault(Ae.borderDashOffset,fe.borderDashOffset));var Wn,Bn,Nn,ei,Vi,$i,Li,Cn,Rn,ti,fi="middle",si="middle",Jn=ue.padding;if(Ge){var bi=qe+Jn;"bottom"===U.position?(si=L?"middle":"top",fi=L?"right":"center",ti=O.top+bi):(si=L?"middle":"bottom",fi=L?"left":"center",ti=O.bottom-bi);var Ii=gt(O,Pi,Ae.offsetGridLines&&ye.length>1);Ii<O.left&&(Oi="rgba(0,0,0,0)"),Ii+=J.aliasPixel(gi),Rn=O.getPixelForTick(Pi)+ue.labelOffset,Wn=Nn=Vi=Li=Ii,Bn=st,ei=Et,$i=w.top,Cn=w.bottom}else{var Ai,Wi="left"===U.position;ue.mirror?(fi=Wi?"left":"right",Ai=Jn):(fi=Wi?"right":"left",Ai=qe+Jn),Rn=Wi?O.right-Ai:O.left+Ai;var qi=gt(O,Pi,Ae.offsetGridLines&&ye.length>1);qi<O.top&&(Oi="rgba(0,0,0,0)"),qi+=J.aliasPixel(gi),ti=O.getPixelForTick(Pi)+ue.labelOffset,Wn=Xe,Nn=Je,Vi=w.left,Li=w.right,Bn=ei=$i=Cn=qi}ze.push({tx1:Wn,ty1:Bn,tx2:Nn,ty2:ei,x1:Vi,y1:$i,x2:Li,y2:Cn,labelX:Rn,labelY:ti,glWidth:gi,glColor:Oi,glBorderDash:bn,glBorderDashOffset:_n,rotation:-1*xt,label:fn,major:mi.major,textBaseline:si,textAlign:fi})}}),J.each(ze,function(mi){if(Ae.display&&(oe.save(),oe.lineWidth=mi.glWidth,oe.strokeStyle=mi.glColor,oe.setLineDash&&(oe.setLineDash(mi.glBorderDash),oe.lineDashOffset=mi.glBorderDashOffset),oe.beginPath(),Ae.drawTicks&&(oe.moveTo(mi.tx1,mi.ty1),oe.lineTo(mi.tx2,mi.ty2)),Ae.drawOnChartArea&&(oe.moveTo(mi.x1,mi.y1),oe.lineTo(mi.x2,mi.y2)),oe.stroke(),oe.restore()),ue.display){oe.save(),oe.translate(mi.labelX,mi.labelY),oe.rotate(mi.rotation),oe.font=mi.major?Oe.font:Ue.font,oe.fillStyle=mi.major?ce:Te,oe.textBaseline=mi.textBaseline,oe.textAlign=mi.textAlign;var Pi=mi.label;if(J.isArray(Pi))for(var gi=0,Oi=0;gi<Pi.length;++gi)oe.fillText(""+Pi[gi],0,Oi),Oi+=1.5*Ue.size;else oe.fillText(Pi,0,0);oe.restore()}}),Ke.display){var Gt,Tt,Nt=0,en=B(Ke)/2;if(Ge)Gt=O.left+(O.right-O.left)/2,Tt="bottom"===U.position?O.bottom-en-et.bottom:O.top+en+et.top;else{var Ht="left"===U.position;Gt=Ht?O.left+en+et.top:O.right-en-et.top,Tt=O.top+(O.bottom-O.top)/2,Nt=Ht?-.5*Math.PI:.5*Math.PI}oe.save(),oe.translate(Gt,Tt),oe.rotate(Nt),oe.textAlign="center",oe.textBaseline="middle",oe.fillStyle=xe,oe.font=We.font,oe.fillText(Ke.labelString,0,0),oe.restore()}if(Ae.drawBorder){oe.lineWidth=J.valueAtIndexOrDefault(Ae.lineWidth,0),oe.strokeStyle=J.valueAtIndexOrDefault(Ae.color,0);var Mn=O.left,gn=O.right,zn=O.top,xi=O.bottom,_i=J.aliasPixel(oe.lineWidth);Ge?(zn=xi="top"===U.position?O.bottom:O.top,zn+=_i,xi+=_i):(Mn=gn="left"===U.position?O.right:O.left,Mn+=_i,gn+=_i),oe.beginPath(),oe.moveTo(Mn,zn),oe.lineTo(gn,xi),oe.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(45);Ve.exports=function(de){de.scaleService={constructors:{},defaults:{},registerScaleType:function(ve,J,j){this.constructors[ve]=J,this.defaults[ve]=gt.clone(j)},getScaleConstructor:function(ve){return this.constructors.hasOwnProperty(ve)?this.constructors[ve]:void 0},getScaleDefaults:function(ve){return this.defaults.hasOwnProperty(ve)?gt.merge({},[Ne.scale,this.defaults[ve]]):{}},updateScaleDefaults:function(ve,J){var j=this;j.defaults.hasOwnProperty(ve)&&(j.defaults[ve]=gt.extend(j.defaults[ve],J))},addScalesToLayout:function(ve){gt.each(ve.scales,function(J){J.fullWidth=J.options.fullWidth,J.position=J.options.position,J.weight=J.options.weight,de.layoutService.addBox(ve,J)})}}}},{25:25,45:45}],34:[function(ke,Ve,an){"use strict";var Ne=ke(45);Ve.exports={generators:{linear:function(gt,de){var ve,J=[];if(gt.stepSize&&gt.stepSize>0)ve=gt.stepSize;else{var j=Ne.niceNum(de.max-de.min,!1);ve=Ne.niceNum(j/(gt.maxTicks-1),!0)}var m=Math.floor(de.min/ve)*ve,y=Math.ceil(de.max/ve)*ve;gt.min&&gt.max&&gt.stepSize&&Ne.almostWhole((gt.max-gt.min)/gt.stepSize,ve/1e3)&&(m=gt.min,y=gt.max);var D=(y-m)/ve;D=Ne.almostEquals(D,Math.round(D),ve/1e3)?Math.round(D):Math.ceil(D),J.push(void 0!==gt.min?gt.min:m);for(var B=1;B<D;++B)J.push(m+B*ve);return J.push(void 0!==gt.max?gt.max:y),J},logarithmic:function(gt,de){var ve,J,j=[],m=Ne.valueOrDefault,y=m(gt.min,Math.pow(10,Math.floor(Ne.log10(de.min)))),D=Math.floor(Ne.log10(de.max)),B=Math.ceil(de.max/Math.pow(10,D));0===y?(ve=Math.floor(Ne.log10(de.minNotZero)),J=Math.floor(de.minNotZero/Math.pow(10,ve)),j.push(y),y=J*Math.pow(10,ve)):(ve=Math.floor(Ne.log10(y)),J=Math.floor(y/Math.pow(10,ve)));do{j.push(y),10==++J&&(J=1,++ve),y=J*Math.pow(10,ve)}while(ve<D||ve===D&&J<B);var w=m(gt.max,y);return j.push(w),j}},formatters:{values:function(gt){return Ne.isArray(gt)?gt:""+gt},linear:function(gt,de,ve){var J=ve.length>3?ve[2]-ve[1]:ve[1]-ve[0];Math.abs(J)>1&&gt!==Math.floor(gt)&&(J=gt-Math.floor(gt));var j=Ne.log10(Math.abs(J)),m="";if(0!==gt){var y=-1*Math.floor(j);y=Math.max(Math.min(y,20),0),m=gt.toFixed(y)}else m="0";return m},logarithmic:function(gt,de,ve){var J=gt/Math.pow(10,Math.floor(Ne.log10(gt)));return 0===gt?"0":1===J||2===J||5===J||0===de||de===ve.length-1?gt.toExponential():""}}}},{45:45}],35:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(26),de=ke(45);Ne._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:de.noop,title:function(ve,J){var j="",m=J.labels,y=m?m.length:0;if(ve.length>0){var D=ve[0];D.xLabel?j=D.xLabel:y>0&&D.index<y&&(j=m[D.index])}return j},afterTitle:de.noop,beforeBody:de.noop,beforeLabel:de.noop,label:function(ve,J){var j=J.datasets[ve.datasetIndex].label||"";return j&&(j+=": "),j+ve.yLabel},labelColor:function(ve,J){var j=J.getDatasetMeta(ve.datasetIndex).data[ve.index]._view;return{borderColor:j.borderColor,backgroundColor:j.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:de.noop,afterBody:de.noop,beforeFooter:de.noop,footer:de.noop,afterFooter:de.noop}}}),Ve.exports=function(ve){function J(O,U){var oe=de.color(O);return oe.alpha(U*oe.alpha()).rgbaString()}function j(O,U){return U&&(de.isArray(U)?Array.prototype.push.apply(O,U):O.push(U)),O}function m(O){var U=O._xScale,oe=O._yScale||O._scale,fe=O._index,ue=O._datasetIndex;return{xLabel:U?U.getLabelForIndex(fe,ue):"",yLabel:oe?oe.getLabelForIndex(fe,ue):"",index:fe,datasetIndex:ue,x:O._model.x,y:O._model.y}}function y(O){var U=Ne.global,oe=de.valueOrDefault;return{xPadding:O.xPadding,yPadding:O.yPadding,xAlign:O.xAlign,yAlign:O.yAlign,bodyFontColor:O.bodyFontColor,_bodyFontFamily:oe(O.bodyFontFamily,U.defaultFontFamily),_bodyFontStyle:oe(O.bodyFontStyle,U.defaultFontStyle),_bodyAlign:O.bodyAlign,bodyFontSize:oe(O.bodyFontSize,U.defaultFontSize),bodySpacing:O.bodySpacing,titleFontColor:O.titleFontColor,_titleFontFamily:oe(O.titleFontFamily,U.defaultFontFamily),_titleFontStyle:oe(O.titleFontStyle,U.defaultFontStyle),titleFontSize:oe(O.titleFontSize,U.defaultFontSize),_titleAlign:O.titleAlign,titleSpacing:O.titleSpacing,titleMarginBottom:O.titleMarginBottom,footerFontColor:O.footerFontColor,_footerFontFamily:oe(O.footerFontFamily,U.defaultFontFamily),_footerFontStyle:oe(O.footerFontStyle,U.defaultFontStyle),footerFontSize:oe(O.footerFontSize,U.defaultFontSize),_footerAlign:O.footerAlign,footerSpacing:O.footerSpacing,footerMarginTop:O.footerMarginTop,caretSize:O.caretSize,cornerRadius:O.cornerRadius,backgroundColor:O.backgroundColor,opacity:0,legendColorBackground:O.multiKeyBackground,displayColors:O.displayColors,borderColor:O.borderColor,borderWidth:O.borderWidth}}ve.Tooltip=gt.extend({initialize:function(){this._model=y(this._options),this._lastActive=[]},getTitle:function(){var O=this,U=O._options.callbacks,oe=U.beforeTitle.apply(O,arguments),fe=U.title.apply(O,arguments),ue=U.afterTitle.apply(O,arguments),be=[];return be=j(be,oe),be=j(be,fe),j(be,ue)},getBeforeBody:function(){var O=this._options.callbacks.beforeBody.apply(this,arguments);return de.isArray(O)?O:void 0!==O?[O]:[]},getBody:function(O,U){var oe=this,fe=oe._options.callbacks,ue=[];return de.each(O,function(be){var Ae={before:[],lines:[],after:[]};j(Ae.before,fe.beforeLabel.call(oe,be,U)),j(Ae.lines,fe.label.call(oe,be,U)),j(Ae.after,fe.afterLabel.call(oe,be,U)),ue.push(Ae)}),ue},getAfterBody:function(){var O=this._options.callbacks.afterBody.apply(this,arguments);return de.isArray(O)?O:void 0!==O?[O]:[]},getFooter:function(){var O=this,U=O._options.callbacks,oe=U.beforeFooter.apply(O,arguments),fe=U.footer.apply(O,arguments),ue=U.afterFooter.apply(O,arguments),be=[];return be=j(be,oe),be=j(be,fe),j(be,ue)},update:function(O){var U,oe,fe=this,ue=fe._options,be=fe._model,Ae=fe._model=y(ue),Ke=fe._active,L=fe._data,Ge={xAlign:be.xAlign,yAlign:be.yAlign},ye={x:be.x,y:be.y},Te={width:be.width,height:be.height},Ue={x:be.caretX,y:be.caretY};if(Ke.length){Ae.opacity=1;var ce=[],Oe=[];Ue=ve.Tooltip.positioners[ue.position].call(fe,Ke,fe._eventPosition);var qe=[];for(U=0,oe=Ke.length;U<oe;++U)qe.push(m(Ke[U]));ue.filter&&(qe=qe.filter(function(xe){return ue.filter(xe,L)})),ue.itemSort&&(qe=qe.sort(function(xe,We){return ue.itemSort(xe,We,L)})),de.each(qe,function(xe){ce.push(ue.callbacks.labelColor.call(fe,xe,fe._chart)),Oe.push(ue.callbacks.labelTextColor.call(fe,xe,fe._chart))}),Ae.title=fe.getTitle(qe,L),Ae.beforeBody=fe.getBeforeBody(qe,L),Ae.body=fe.getBody(qe,L),Ae.afterBody=fe.getAfterBody(qe,L),Ae.footer=fe.getFooter(qe,L),Ae.x=Math.round(Ue.x),Ae.y=Math.round(Ue.y),Ae.caretPadding=ue.caretPadding,Ae.labelColors=ce,Ae.labelTextColors=Oe,Ae.dataPoints=qe,ye=function w(O,U,oe){var fe=O.x,ue=O.y,Ae=O.caretPadding,L=oe.xAlign,Ge=oe.yAlign,ye=O.caretSize+Ae,Te=O.cornerRadius+Ae;return"right"===L?fe-=U.width:"center"===L&&(fe-=U.width/2),"top"===Ge?ue+=ye:ue-="bottom"===Ge?U.height+ye:U.height/2,"center"===Ge?"left"===L?fe+=ye:"right"===L&&(fe-=ye):"left"===L?fe-=Te:"right"===L&&(fe+=Te),{x:fe,y:ue}}(Ae,Te=function D(O,U){var oe=O._chart.ctx,fe=2*U.yPadding,ue=0,be=U.body,Ae=be.reduce(function(Oe,qe){return Oe+qe.before.length+qe.lines.length+qe.after.length},0),Ke=U.title.length,L=U.footer.length,Ge=U.titleFontSize,ye=U.bodyFontSize,Te=U.footerFontSize;fe+=Ke*Ge,fe+=Ke?(Ke-1)*U.titleSpacing:0,fe+=Ke?U.titleMarginBottom:0,fe+=(Ae+=U.beforeBody.length+U.afterBody.length)*ye,fe+=Ae?(Ae-1)*U.bodySpacing:0,fe+=L?U.footerMarginTop:0,fe+=L*Te,fe+=L?(L-1)*U.footerSpacing:0;var Ue=0,ce=function(Oe){ue=Math.max(ue,oe.measureText(Oe).width+Ue)};return oe.font=de.fontString(Ge,U._titleFontStyle,U._titleFontFamily),de.each(U.title,ce),oe.font=de.fontString(ye,U._bodyFontStyle,U._bodyFontFamily),de.each(U.beforeBody.concat(U.afterBody),ce),Ue=U.displayColors?ye+2:0,de.each(be,function(Oe){de.each(Oe.before,ce),de.each(Oe.lines,ce),de.each(Oe.after,ce)}),Ue=0,oe.font=de.fontString(Te,U._footerFontStyle,U._footerFontFamily),de.each(U.footer,ce),{width:ue+=2*U.xPadding,height:fe}}(this,Ae),Ge=function B(O,U){var oe=O._model,fe=O._chart,ue=O._chart.chartArea,be="center",Ae="center";oe.y<U.height?Ae="top":oe.y>fe.height-U.height&&(Ae="bottom");var Ke,L,Ge,ye,Te,Ue=(ue.left+ue.right)/2,ce=(ue.top+ue.bottom)/2;"center"===Ae?(Ke=function(qe){return qe<=Ue},L=function(qe){return qe>Ue}):(Ke=function(qe){return qe<=U.width/2},L=function(qe){return qe>=fe.width-U.width/2}),Ge=function(qe){return qe+U.width>fe.width},ye=function(qe){return qe-U.width<0},Te=function(qe){return qe<=ce?"top":"bottom"},Ke(oe.x)?(be="left",Ge(oe.x)&&(be="center",Ae=Te(oe.y))):L(oe.x)&&(be="right",ye(oe.x)&&(be="center",Ae=Te(oe.y)));var Oe=O._options;return{xAlign:Oe.xAlign?Oe.xAlign:be,yAlign:Oe.yAlign?Oe.yAlign:Ae}}(this,Te))}else Ae.opacity=0;return Ae.xAlign=Ge.xAlign,Ae.yAlign=Ge.yAlign,Ae.x=ye.x,Ae.y=ye.y,Ae.width=Te.width,Ae.height=Te.height,Ae.caretX=Ue.x,Ae.caretY=Ue.y,fe._model=Ae,O&&ue.custom&&ue.custom.call(fe,Ae),fe},drawCaret:function(O,U){var oe=this._chart.ctx,ue=this.getCaretPosition(O,U,this._view);oe.lineTo(ue.x1,ue.y1),oe.lineTo(ue.x2,ue.y2),oe.lineTo(ue.x3,ue.y3)},getCaretPosition:function(O,U,oe){var fe,ue,be,Ae,Ke,L,Ge=oe.caretSize,ye=oe.cornerRadius,Te=oe.xAlign,Ue=oe.yAlign,ce=O.x,Oe=O.y,qe=U.width,xe=U.height;if("center"===Ue)Ke=Oe+xe/2,"left"===Te?(ue=(fe=ce)-Ge,be=fe,Ae=Ke+Ge,L=Ke-Ge):(ue=(fe=ce+qe)+Ge,be=fe,Ae=Ke-Ge,L=Ke+Ge);else if("left"===Te?(fe=(ue=ce+ye+Ge)-Ge,be=ue+Ge):"right"===Te?(fe=(ue=ce+qe-ye-Ge)-Ge,be=ue+Ge):(fe=(ue=ce+qe/2)-Ge,be=ue+Ge),"top"===Ue)Ke=(Ae=Oe)-Ge,L=Ae;else{Ke=(Ae=Oe+xe)+Ge,L=Ae;var We=be;be=fe,fe=We}return{x1:fe,x2:ue,x3:be,y1:Ae,y2:Ke,y3:L}},drawTitle:function(O,U,oe,fe){var ue=U.title;if(ue.length){oe.textAlign=U._titleAlign,oe.textBaseline="top";var Ke,L,be=U.titleFontSize,Ae=U.titleSpacing;for(oe.fillStyle=J(U.titleFontColor,fe),oe.font=de.fontString(be,U._titleFontStyle,U._titleFontFamily),Ke=0,L=ue.length;Ke<L;++Ke)oe.fillText(ue[Ke],O.x,O.y),O.y+=be+Ae,Ke+1===ue.length&&(O.y+=U.titleMarginBottom-Ae)}},drawBody:function(O,U,oe,fe){var ue=U.bodyFontSize,be=U.bodySpacing,Ae=U.body;oe.textAlign=U._bodyAlign,oe.textBaseline="top",oe.font=de.fontString(ue,U._bodyFontStyle,U._bodyFontFamily);var Ke=0,L=function(ye){oe.fillText(ye,O.x+Ke,O.y),O.y+=ue+be};oe.fillStyle=J(U.bodyFontColor,fe),de.each(U.beforeBody,L);var Ge=U.displayColors;Ke=Ge?ue+2:0,de.each(Ae,function(ye,Te){var Ue=J(U.labelTextColors[Te],fe);oe.fillStyle=Ue,de.each(ye.before,L),de.each(ye.lines,function(ce){Ge&&(oe.fillStyle=J(U.legendColorBackground,fe),oe.fillRect(O.x,O.y,ue,ue),oe.lineWidth=1,oe.strokeStyle=J(U.labelColors[Te].borderColor,fe),oe.strokeRect(O.x,O.y,ue,ue),oe.fillStyle=J(U.labelColors[Te].backgroundColor,fe),oe.fillRect(O.x+1,O.y+1,ue-2,ue-2),oe.fillStyle=Ue),L(ce)}),de.each(ye.after,L)}),Ke=0,de.each(U.afterBody,L),O.y-=be},drawFooter:function(O,U,oe,fe){var ue=U.footer;ue.length&&(O.y+=U.footerMarginTop,oe.textAlign=U._footerAlign,oe.textBaseline="top",oe.fillStyle=J(U.footerFontColor,fe),oe.font=de.fontString(U.footerFontSize,U._footerFontStyle,U._footerFontFamily),de.each(ue,function(be){oe.fillText(be,O.x,O.y),O.y+=U.footerFontSize+U.footerSpacing}))},drawBackground:function(O,U,oe,fe,ue){oe.fillStyle=J(U.backgroundColor,ue),oe.strokeStyle=J(U.borderColor,ue),oe.lineWidth=U.borderWidth;var be=U.xAlign,Ae=U.yAlign,Ke=O.x,L=O.y,Ge=fe.width,ye=fe.height,Te=U.cornerRadius;oe.beginPath(),oe.moveTo(Ke+Te,L),"top"===Ae&&this.drawCaret(O,fe),oe.lineTo(Ke+Ge-Te,L),oe.quadraticCurveTo(Ke+Ge,L,Ke+Ge,L+Te),"center"===Ae&&"right"===be&&this.drawCaret(O,fe),oe.lineTo(Ke+Ge,L+ye-Te),oe.quadraticCurveTo(Ke+Ge,L+ye,Ke+Ge-Te,L+ye),"bottom"===Ae&&this.drawCaret(O,fe),oe.lineTo(Ke+Te,L+ye),oe.quadraticCurveTo(Ke,L+ye,Ke,L+ye-Te),"center"===Ae&&"left"===be&&this.drawCaret(O,fe),oe.lineTo(Ke,L+Te),oe.quadraticCurveTo(Ke,L,Ke+Te,L),oe.closePath(),oe.fill(),U.borderWidth>0&&oe.stroke()},draw:function(){var O=this._chart.ctx,U=this._view;if(0!==U.opacity){var oe={width:U.width,height:U.height},fe={x:U.x,y:U.y},ue=Math.abs(U.opacity<.001)?0:U.opacity;this._options.enabled&&(U.title.length||U.beforeBody.length||U.body.length||U.afterBody.length||U.footer.length)&&(this.drawBackground(fe,U,O,oe,ue),fe.x+=U.xPadding,fe.y+=U.yPadding,this.drawTitle(fe,U,O,ue),this.drawBody(fe,U,O,ue),this.drawFooter(fe,U,O,ue))}},handleEvent:function(O){var U=this,oe=U._options,fe=!1;if(U._lastActive=U._lastActive||[],U._active="mouseout"===O.type?[]:U._chart.getElementsAtEventForMode(O,oe.mode,oe),!(fe=!de.arrayEquals(U._active,U._lastActive)))return!1;if(U._lastActive=U._active,oe.enabled||oe.custom){U._eventPosition={x:O.x,y:O.y};var ue=U._model;U.update(!0),U.pivot(),fe|=ue.x!==U._model.x||ue.y!==U._model.y}return fe}}),ve.Tooltip.positioners={average:function(O){if(!O.length)return!1;var U,oe,fe=0,ue=0,be=0;for(U=0,oe=O.length;U<oe;++U){var Ae=O[U];if(Ae&&Ae.hasValue()){var Ke=Ae.tooltipPosition();fe+=Ke.x,ue+=Ke.y,++be}}return{x:Math.round(fe/be),y:Math.round(ue/be)}},nearest:function(O,U){var oe,fe,ue,be=U.x,Ae=U.y,Ke=Number.POSITIVE_INFINITY;for(oe=0,fe=O.length;oe<fe;++oe){var L=O[oe];if(L&&L.hasValue()){var Ge=L.getCenterPoint(),ye=de.distanceBetweenPoints(U,Ge);ye<Ke&&(Ke=ye,ue=L)}}if(ue){var Te=ue.tooltipPosition();be=Te.x,Ae=Te.y}return{x:be,y:Ae}}}}},{25:25,26:26,45:45}],36:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(26),de=ke(45);Ne._set("global",{elements:{arc:{backgroundColor:Ne.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),Ve.exports=gt.extend({inLabelRange:function(ve){var J=this._view;return!!J&&Math.pow(ve-J.x,2)<Math.pow(J.radius+J.hoverRadius,2)},inRange:function(ve,J){var j=this._view;if(j){for(var m=de.getAngleFromPoint(j,{x:ve,y:J}),y=m.angle,D=m.distance,B=j.startAngle,w=j.endAngle;w<B;)w+=2*Math.PI;for(;y>w;)y-=2*Math.PI;for(;y<B;)y+=2*Math.PI;return y>=B&&y<=w&&D>=j.innerRadius&&D<=j.outerRadius}return!1},getCenterPoint:function(){var ve=this._view,J=(ve.startAngle+ve.endAngle)/2,j=(ve.innerRadius+ve.outerRadius)/2;return{x:ve.x+Math.cos(J)*j,y:ve.y+Math.sin(J)*j}},getArea:function(){var ve=this._view;return Math.PI*((ve.endAngle-ve.startAngle)/(2*Math.PI))*(Math.pow(ve.outerRadius,2)-Math.pow(ve.innerRadius,2))},tooltipPosition:function(){var ve=this._view,J=ve.startAngle+(ve.endAngle-ve.startAngle)/2,j=(ve.outerRadius-ve.innerRadius)/2+ve.innerRadius;return{x:ve.x+Math.cos(J)*j,y:ve.y+Math.sin(J)*j}},draw:function(){var ve=this._chart.ctx,J=this._view,j=J.startAngle,m=J.endAngle;ve.beginPath(),ve.arc(J.x,J.y,J.outerRadius,j,m),ve.arc(J.x,J.y,J.innerRadius,m,j,!0),ve.closePath(),ve.strokeStyle=J.borderColor,ve.lineWidth=J.borderWidth,ve.fillStyle=J.backgroundColor,ve.fill(),ve.lineJoin="bevel",J.borderWidth&&ve.stroke()}})},{25:25,26:26,45:45}],37:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(26),de=ke(45),ve=Ne.global;Ne._set("global",{elements:{line:{tension:.4,backgroundColor:ve.defaultColor,borderWidth:3,borderColor:ve.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),Ve.exports=gt.extend({draw:function(){var J,j,m,y,D=this,B=D._view,w=D._chart.ctx,O=B.spanGaps,U=D._children.slice(),oe=ve.elements.line,fe=-1;for(D._loop&&U.length&&U.push(U[0]),w.save(),w.lineCap=B.borderCapStyle||oe.borderCapStyle,w.setLineDash&&w.setLineDash(B.borderDash||oe.borderDash),w.lineDashOffset=B.borderDashOffset||oe.borderDashOffset,w.lineJoin=B.borderJoinStyle||oe.borderJoinStyle,w.lineWidth=B.borderWidth||oe.borderWidth,w.strokeStyle=B.borderColor||ve.defaultColor,w.beginPath(),fe=-1,J=0;J<U.length;++J)j=U[J],m=de.previousItem(U,J),y=j._view,0===J?y.skip||(w.moveTo(y.x,y.y),fe=J):(m=-1===fe?m:U[fe],y.skip||(fe!==J-1&&!O||-1===fe?w.moveTo(y.x,y.y):de.canvas.lineTo(w,m._view,j._view),fe=J));w.stroke(),w.restore()}})},{25:25,26:26,45:45}],38:[function(ke,Ve,an){"use strict";function Ne(j){var m=this._view;return!!m&&Math.pow(j-m.x,2)<Math.pow(m.radius+m.hitRadius,2)}var gt=ke(25),de=ke(26),ve=ke(45),J=gt.global.defaultColor;gt._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:J,borderColor:J,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),Ve.exports=de.extend({inRange:function(j,m){var y=this._view;return!!y&&Math.pow(j-y.x,2)+Math.pow(m-y.y,2)<Math.pow(y.hitRadius+y.radius,2)},inLabelRange:Ne,inXRange:Ne,inYRange:function(j){var m=this._view;return!!m&&Math.pow(j-m.y,2)<Math.pow(m.radius+m.hitRadius,2)},getCenterPoint:function(){var j=this._view;return{x:j.x,y:j.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var j=this._view;return{x:j.x,y:j.y,padding:j.radius+j.borderWidth}},draw:function(j){var m=this._view,y=this._model,D=this._chart.ctx,B=m.pointStyle,w=m.radius,O=m.x,U=m.y,oe=ve.color,fe=0;m.skip||(D.strokeStyle=m.borderColor||J,D.lineWidth=ve.valueOrDefault(m.borderWidth,gt.global.elements.point.borderWidth),D.fillStyle=m.backgroundColor||J,void 0!==j&&(y.x<j.left||1.01*j.right<y.x||y.y<j.top||1.01*j.bottom<y.y)&&(y.x<j.left?fe=(O-y.x)/(j.left-y.x):1.01*j.right<y.x?fe=(y.x-O)/(y.x-j.right):y.y<j.top?fe=(U-y.y)/(j.top-y.y):1.01*j.bottom<y.y&&(fe=(y.y-U)/(y.y-j.bottom)),fe=Math.round(100*fe)/100,D.strokeStyle=oe(D.strokeStyle).alpha(fe).rgbString(),D.fillStyle=oe(D.fillStyle).alpha(fe).rgbString()),ve.canvas.drawPoint(D,B,w,O,U))}})},{25:25,26:26,45:45}],39:[function(ke,Ve,an){"use strict";function Ne(J){return void 0!==J._view.width}function gt(J){var j,m,y,D,B=J._view;if(Ne(J)){var w=B.width/2;j=B.x-w,m=B.x+w,y=Math.min(B.y,B.base),D=Math.max(B.y,B.base)}else{var O=B.height/2;j=Math.min(B.x,B.base),m=Math.max(B.x,B.base),y=B.y-O,D=B.y+O}return{left:j,top:y,right:m,bottom:D}}var de=ke(25),ve=ke(26);de._set("global",{elements:{rectangle:{backgroundColor:de.global.defaultColor,borderColor:de.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),Ve.exports=ve.extend({draw:function(){function J(Oe){return ye[(Te+Oe)%4]}var j,m,y,D,B,w,O,U=this._chart.ctx,oe=this._view,fe=oe.borderWidth;if(oe.horizontal?(y=oe.y-oe.height/2,D=oe.y+oe.height/2,B=(m=oe.x)>(j=oe.base)?1:-1,w=1,O=oe.borderSkipped||"left"):(j=oe.x-oe.width/2,m=oe.x+oe.width/2,B=1,w=(D=oe.base)>(y=oe.y)?1:-1,O=oe.borderSkipped||"bottom"),fe){var ue=Math.min(Math.abs(j-m),Math.abs(y-D)),be=(fe=fe>ue?ue:fe)/2,Ae=j+("left"!==O?be*B:0),Ke=m+("right"!==O?-be*B:0),L=y+("top"!==O?be*w:0),Ge=D+("bottom"!==O?-be*w:0);Ae!==Ke&&(y=L,D=Ge),L!==Ge&&(j=Ae,m=Ke)}U.beginPath(),U.fillStyle=oe.backgroundColor,U.strokeStyle=oe.borderColor,U.lineWidth=fe;var ye=[[j,D],[j,y],[m,y],[m,D]],Te=["bottom","left","top","right"].indexOf(O,0);-1===Te&&(Te=0);var Ue=J(0);U.moveTo(Ue[0],Ue[1]);for(var ce=1;ce<4;ce++)Ue=J(ce),U.lineTo(Ue[0],Ue[1]);U.fill(),fe&&U.stroke()},height:function(){var J=this._view;return J.base-J.y},inRange:function(J,j){var m=!1;if(this._view){var y=gt(this);m=J>=y.left&&J<=y.right&&j>=y.top&&j<=y.bottom}return m},inLabelRange:function(J,j){var m=this;if(!m._view)return!1;var y=gt(m);return Ne(m)?J>=y.left&&J<=y.right:j>=y.top&&j<=y.bottom},inXRange:function(J){var j=gt(this);return J>=j.left&&J<=j.right},inYRange:function(J){var j=gt(this);return J>=j.top&&J<=j.bottom},getCenterPoint:function(){var J,j,m=this._view;return Ne(this)?(J=m.x,j=(m.y+m.base)/2):(J=(m.x+m.base)/2,j=m.y),{x:J,y:j}},getArea:function(){var J=this._view;return J.width*Math.abs(J.y-J.base)},tooltipPosition:function(){var J=this._view;return{x:J.x,y:J.y}}})},{25:25,26:26}],40:[function(ke,Ve,an){"use strict";Ve.exports={},Ve.exports.Arc=ke(36),Ve.exports.Line=ke(37),Ve.exports.Point=ke(38),Ve.exports.Rectangle=ke(39)},{36:36,37:37,38:38,39:39}],41:[function(ke,Ve,gt){"use strict";var Ne=ke(42);gt=Ve.exports={clear:function(de){de.ctx.clearRect(0,0,de.width,de.height)},roundedRect:function(de,ve,J,j,m,y){if(y){var D=Math.min(y,j/2),B=Math.min(y,m/2);de.moveTo(ve+D,J),de.lineTo(ve+j-D,J),de.quadraticCurveTo(ve+j,J,ve+j,J+B),de.lineTo(ve+j,J+m-B),de.quadraticCurveTo(ve+j,J+m,ve+j-D,J+m),de.lineTo(ve+D,J+m),de.quadraticCurveTo(ve,J+m,ve,J+m-B),de.lineTo(ve,J+B),de.quadraticCurveTo(ve,J,ve+D,J)}else de.rect(ve,J,j,m)},drawPoint:function(de,ve,J,j,m){var y,D,B,w,O,U;if(!ve||"object"!=typeof ve||"[object HTMLImageElement]"!==(y=ve.toString())&&"[object HTMLCanvasElement]"!==y){if(!(isNaN(J)||J<=0)){switch(ve){default:de.beginPath(),de.arc(j,m,J,0,2*Math.PI),de.closePath(),de.fill();break;case"triangle":de.beginPath(),O=(D=3*J/Math.sqrt(3))*Math.sqrt(3)/2,de.moveTo(j-D/2,m+O/3),de.lineTo(j+D/2,m+O/3),de.lineTo(j,m-2*O/3),de.closePath(),de.fill();break;case"rect":U=1/Math.SQRT2*J,de.beginPath(),de.fillRect(j-U,m-U,2*U,2*U),de.strokeRect(j-U,m-U,2*U,2*U);break;case"rectRounded":var oe=J/Math.SQRT2,fe=j-oe,ue=m-oe,be=Math.SQRT2*J;de.beginPath(),this.roundedRect(de,fe,ue,be,be,J/2),de.closePath(),de.fill();break;case"rectRot":U=1/Math.SQRT2*J,de.beginPath(),de.moveTo(j-U,m),de.lineTo(j,m+U),de.lineTo(j+U,m),de.lineTo(j,m-U),de.closePath(),de.fill();break;case"cross":de.beginPath(),de.moveTo(j,m+J),de.lineTo(j,m-J),de.moveTo(j-J,m),de.lineTo(j+J,m),de.closePath();break;case"crossRot":de.beginPath(),B=Math.cos(Math.PI/4)*J,w=Math.sin(Math.PI/4)*J,de.moveTo(j-B,m-w),de.lineTo(j+B,m+w),de.moveTo(j-B,m+w),de.lineTo(j+B,m-w),de.closePath();break;case"star":de.beginPath(),de.moveTo(j,m+J),de.lineTo(j,m-J),de.moveTo(j-J,m),de.lineTo(j+J,m),B=Math.cos(Math.PI/4)*J,w=Math.sin(Math.PI/4)*J,de.moveTo(j-B,m-w),de.lineTo(j+B,m+w),de.moveTo(j-B,m+w),de.lineTo(j+B,m-w),de.closePath();break;case"line":de.beginPath(),de.moveTo(j-J,m),de.lineTo(j+J,m),de.closePath();break;case"dash":de.beginPath(),de.moveTo(j,m),de.lineTo(j+J,m),de.closePath()}de.stroke()}}else de.drawImage(ve,j-ve.width/2,m-ve.height/2,ve.width,ve.height)},clipArea:function(de,ve){de.save(),de.beginPath(),de.rect(ve.left,ve.top,ve.right-ve.left,ve.bottom-ve.top),de.clip()},unclipArea:function(de){de.restore()},lineTo:function(de,ve,J,j){if(J.steppedLine)return"after"===J.steppedLine&&!j||"after"!==J.steppedLine&&j?de.lineTo(ve.x,J.y):de.lineTo(J.x,ve.y),void de.lineTo(J.x,J.y);J.tension?de.bezierCurveTo(j?ve.controlPointPreviousX:ve.controlPointNextX,j?ve.controlPointPreviousY:ve.controlPointNextY,j?J.controlPointNextX:J.controlPointPreviousX,j?J.controlPointNextY:J.controlPointPreviousY,J.x,J.y):de.lineTo(J.x,J.y)}},Ne.clear=gt.clear,Ne.drawRoundedRectangle=function(de){de.beginPath(),gt.roundedRect.apply(gt,arguments),de.closePath()}},{42:42}],42:[function(ke,Ve,an){"use strict";var gt,Ne={noop:function(){},uid:(gt=0,function(){return gt++}),isNullOrUndef:function(gt){return null==gt},isArray:Array.isArray?Array.isArray:function(gt){return"[object Array]"===Object.prototype.toString.call(gt)},isObject:function(gt){return null!==gt&&"[object Object]"===Object.prototype.toString.call(gt)},valueOrDefault:function(gt,de){return void 0===gt?de:gt},valueAtIndexOrDefault:function(gt,de,ve){return Ne.valueOrDefault(Ne.isArray(gt)?gt[de]:gt,ve)},callback:function(gt,de,ve){if(gt&&"function"==typeof gt.call)return gt.apply(ve,de)},each:function(gt,de,ve,J){var j,m,y;if(Ne.isArray(gt))if(m=gt.length,J)for(j=m-1;j>=0;j--)de.call(ve,gt[j],j);else for(j=0;j<m;j++)de.call(ve,gt[j],j);else if(Ne.isObject(gt))for(m=(y=Object.keys(gt)).length,j=0;j<m;j++)de.call(ve,gt[y[j]],y[j])},arrayEquals:function(gt,de){var ve,J,j,m;if(!gt||!de||gt.length!==de.length)return!1;for(ve=0,J=gt.length;ve<J;++ve)if(m=de[ve],(j=gt[ve])instanceof Array&&m instanceof Array){if(!Ne.arrayEquals(j,m))return!1}else if(j!==m)return!1;return!0},clone:function(gt){if(Ne.isArray(gt))return gt.map(Ne.clone);if(Ne.isObject(gt)){for(var de={},ve=Object.keys(gt),J=ve.length,j=0;j<J;++j)de[ve[j]]=Ne.clone(gt[ve[j]]);return de}return gt},_merger:function(gt,de,ve,J){var j=de[gt],m=ve[gt];Ne.isObject(j)&&Ne.isObject(m)?Ne.merge(j,m,J):de[gt]=Ne.clone(m)},_mergerIf:function(gt,de,ve){var J=de[gt],j=ve[gt];Ne.isObject(J)&&Ne.isObject(j)?Ne.mergeIf(J,j):de.hasOwnProperty(gt)||(de[gt]=Ne.clone(j))},merge:function(gt,de,ve){var J,j,m,y,D,B=Ne.isArray(de)?de:[de],w=B.length;if(!Ne.isObject(gt))return gt;for(J=(ve=ve||{}).merger||Ne._merger,j=0;j<w;++j)if(Ne.isObject(de=B[j]))for(D=0,y=(m=Object.keys(de)).length;D<y;++D)J(m[D],gt,de,ve);return gt},mergeIf:function(gt,de){return Ne.merge(gt,de,{merger:Ne._mergerIf})},extend:function(gt){for(var de=1,ve=arguments.length;de<ve;++de)Ne.each(arguments[de],function(J,j){gt[j]=J});return gt},inherits:function(gt){var de=this,ve=gt&&gt.hasOwnProperty("constructor")?gt.constructor:function(){return de.apply(this,arguments)},J=function(){this.constructor=ve};return J.prototype=de.prototype,ve.prototype=new J,ve.extend=Ne.inherits,gt&&Ne.extend(ve.prototype,gt),ve.__super__=de.prototype,ve}};Ve.exports=Ne,Ne.callCallback=Ne.callback,Ne.indexOf=function(gt,de,ve){return Array.prototype.indexOf.call(gt,de,ve)},Ne.getValueOrDefault=Ne.valueOrDefault,Ne.getValueAtIndexOrDefault=Ne.valueAtIndexOrDefault},{}],43:[function(ke,Ve,an){"use strict";var Ne=ke(42),gt={linear:function(de){return de},easeInQuad:function(de){return de*de},easeOutQuad:function(de){return-de*(de-2)},easeInOutQuad:function(de){return(de/=.5)<1?.5*de*de:-.5*(--de*(de-2)-1)},easeInCubic:function(de){return de*de*de},easeOutCubic:function(de){return(de-=1)*de*de+1},easeInOutCubic:function(de){return(de/=.5)<1?.5*de*de*de:.5*((de-=2)*de*de+2)},easeInQuart:function(de){return de*de*de*de},easeOutQuart:function(de){return-((de-=1)*de*de*de-1)},easeInOutQuart:function(de){return(de/=.5)<1?.5*de*de*de*de:-.5*((de-=2)*de*de*de-2)},easeInQuint:function(de){return de*de*de*de*de},easeOutQuint:function(de){return(de-=1)*de*de*de*de+1},easeInOutQuint:function(de){return(de/=.5)<1?.5*de*de*de*de*de:.5*((de-=2)*de*de*de*de+2)},easeInSine:function(de){return 1-Math.cos(de*(Math.PI/2))},easeOutSine:function(de){return Math.sin(de*(Math.PI/2))},easeInOutSine:function(de){return-.5*(Math.cos(Math.PI*de)-1)},easeInExpo:function(de){return 0===de?0:Math.pow(2,10*(de-1))},easeOutExpo:function(de){return 1===de?1:1-Math.pow(2,-10*de)},easeInOutExpo:function(de){return 0===de?0:1===de?1:(de/=.5)<1?.5*Math.pow(2,10*(de-1)):.5*(2-Math.pow(2,-10*--de))},easeInCirc:function(de){return de>=1?de:-(Math.sqrt(1-de*de)-1)},easeOutCirc:function(de){return Math.sqrt(1-(de-=1)*de)},easeInOutCirc:function(de){return(de/=.5)<1?-.5*(Math.sqrt(1-de*de)-1):.5*(Math.sqrt(1-(de-=2)*de)+1)},easeInElastic:function(de){var ve=1.70158,J=0,j=1;return 0===de?0:1===de?1:(J||(J=.3),j<1?(j=1,ve=J/4):ve=J/(2*Math.PI)*Math.asin(1/j),-j*Math.pow(2,10*(de-=1))*Math.sin((de-ve)*(2*Math.PI)/J))},easeOutElastic:function(de){var ve=1.70158,J=0,j=1;return 0===de?0:1===de?1:(J||(J=.3),j<1?(j=1,ve=J/4):ve=J/(2*Math.PI)*Math.asin(1/j),j*Math.pow(2,-10*de)*Math.sin((de-ve)*(2*Math.PI)/J)+1)},easeInOutElastic:function(de){var ve=1.70158,J=0,j=1;return 0===de?0:2==(de/=.5)?1:(J||(J=.45),j<1?(j=1,ve=J/4):ve=J/(2*Math.PI)*Math.asin(1/j),de<1?j*Math.pow(2,10*(de-=1))*Math.sin((de-ve)*(2*Math.PI)/J)*-.5:j*Math.pow(2,-10*(de-=1))*Math.sin((de-ve)*(2*Math.PI)/J)*.5+1)},easeInBack:function(de){return de*de*(2.70158*de-1.70158)},easeOutBack:function(de){return(de-=1)*de*(2.70158*de+1.70158)+1},easeInOutBack:function(de){var ve=1.70158;return(de/=.5)<1?de*de*((1+(ve*=1.525))*de-ve)*.5:.5*((de-=2)*de*((1+(ve*=1.525))*de+ve)+2)},easeInBounce:function(de){return 1-gt.easeOutBounce(1-de)},easeOutBounce:function(de){return de<1/2.75?7.5625*de*de:de<2/2.75?7.5625*(de-=1.5/2.75)*de+.75:de<2.5/2.75?7.5625*(de-=2.25/2.75)*de+.9375:7.5625*(de-=2.625/2.75)*de+.984375},easeInOutBounce:function(de){return de<.5?.5*gt.easeInBounce(2*de):.5*gt.easeOutBounce(2*de-1)+.5}};Ve.exports={effects:gt},Ne.easingEffects=gt},{42:42}],44:[function(ke,Ve,an){"use strict";var Ne=ke(42);Ve.exports={toLineHeight:function(gt,de){var ve=(""+gt).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!ve||"normal"===ve[1])return 1.2*de;switch(gt=+ve[2],ve[3]){case"px":return gt;case"%":gt/=100}return de*gt},toPadding:function(gt){var de,ve,J,j;return Ne.isObject(gt)?(de=+gt.top||0,ve=+gt.right||0,J=+gt.bottom||0,j=+gt.left||0):de=ve=J=j=+gt||0,{top:de,right:ve,bottom:J,left:j,height:de+J,width:j+ve}},resolve:function(gt,de,ve){var J,j,m;for(J=0,j=gt.length;J<j;++J)if(void 0!==(m=gt[J])&&(void 0!==de&&"function"==typeof m&&(m=m(de)),void 0!==ve&&Ne.isArray(m)&&(m=m[ve]),void 0!==m))return m}}},{42:42}],45:[function(ke,Ve,an){"use strict";Ve.exports=ke(42),Ve.exports.easing=ke(43),Ve.exports.canvas=ke(41),Ve.exports.options=ke(44)},{41:41,42:42,43:43,44:44}],46:[function(ke,Ve,an){Ve.exports={acquireContext:function(Ne){return Ne&&Ne.canvas&&(Ne=Ne.canvas),Ne&&Ne.getContext("2d")||null}}},{}],47:[function(ke,Ve,an){"use strict";function Ne(ye,Te){var Ue=oe.getStyle(ye,Te),ce=Ue&&Ue.match(/^(\d+)(\.\d+)?px$/);return ce?Number(ce[1]):void 0}function de(ye,Te,Ue){ye.addEventListener(Te,Ue,Ge)}function ve(ye,Te,Ue){ye.removeEventListener(Te,Ue,Ge)}function J(ye,Te,Ue,ce,Oe){return{type:ye,chart:Te,native:Oe||null,x:void 0!==Ue?Ue:null,y:void 0!==ce?ce:null}}var oe=ke(45),fe="$chartjs",ue="chartjs-",be=ue+"render-monitor",Ae=ue+"render-animation",Ke=["animationstart","webkitAnimationStart"],L={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ge=!!function(){var ye=!1;try{var Te=Object.defineProperty({},"passive",{get:function(){ye=!0}});window.addEventListener("e",null,Te)}catch{}return ye}()&&{passive:!0};Ve.exports={_enabled:typeof window<"u"&&typeof document<"u",initialize:function(){var ye="from{opacity:0.99}to{opacity:1}";!function U(ye,Te){var Ue=ye._style||document.createElement("style");ye._style||(ye._style=Ue,Te="/* Chart.js */\n"+Te,Ue.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(Ue)),Ue.appendChild(document.createTextNode(Te))}(this,"@-webkit-keyframes "+Ae+"{"+ye+"}@keyframes "+Ae+"{"+ye+"}."+be+"{-webkit-animation:"+Ae+" 0.001s;animation:"+Ae+" 0.001s;}")},acquireContext:function(ye,Te){"string"==typeof ye?ye=document.getElementById(ye):ye.length&&(ye=ye[0]),ye&&ye.canvas&&(ye=ye.canvas);var Ue=ye&&ye.getContext&&ye.getContext("2d");return Ue&&Ue.canvas===ye?(function gt(ye,Te){var Ue=ye.style,ce=ye.getAttribute("height"),Oe=ye.getAttribute("width");if(ye[fe]={initial:{height:ce,width:Oe,style:{display:Ue.display,height:Ue.height,width:Ue.width}}},Ue.display=Ue.display||"block",null===Oe||""===Oe){var qe=Ne(ye,"width");void 0!==qe&&(ye.width=qe)}if(null===ce||""===ce)if(""===ye.style.height)ye.height=ye.width/(Te.options.aspectRatio||2);else{var xe=Ne(ye,"height");void 0!==qe&&(ye.height=xe)}}(ye,Te),Ue):null},releaseContext:function(ye){var Te=ye.canvas;if(Te[fe]){var Ue=Te[fe].initial;["height","width"].forEach(function(ce){var Oe=Ue[ce];oe.isNullOrUndef(Oe)?Te.removeAttribute(ce):Te.setAttribute(ce,Oe)}),oe.each(Ue.style||{},function(ce,Oe){Te.style[Oe]=ce}),Te.width=Te.width,delete Te[fe]}},addEventListener:function(ye,Te,Ue){var ce=ye.canvas;if("resize"!==Te){var Oe=Ue[fe]||(Ue[fe]={});de(ce,Te,(Oe.proxies||(Oe.proxies={}))[ye.id+"_"+Te]=function(qe){Ue(function j(ye,Te){var Ue=L[ye.type]||ye.type,ce=oe.getRelativePosition(ye,Te);return J(Ue,Te,ce.x,ce.y,ye)}(qe,ye))})}else!function w(ye,Te,Ue){var ce=ye[fe]||(ye[fe]={}),Oe=ce.resizer=function y(ye){var Te=document.createElement("div"),Ue=ue+"size-monitor",ce="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";Te.style.cssText=ce,Te.className=Ue,Te.innerHTML='<div class="'+Ue+'-expand" style="'+ce+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+Ue+'-shrink" style="'+ce+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var Oe=Te.childNodes[0],qe=Te.childNodes[1];Te._reset=function(){Oe.scrollLeft=1e6,Oe.scrollTop=1e6,qe.scrollLeft=1e6,qe.scrollTop=1e6};var xe=function(){Te._reset(),ye()};return de(Oe,"scroll",xe.bind(Oe,"expand")),de(qe,"scroll",xe.bind(qe,"shrink")),Te}(function m(ye,Te){var Ue=!1,ce=[];return function(){ce=Array.prototype.slice.call(arguments),Te=Te||this,Ue||(Ue=!0,oe.requestAnimFrame.call(window,function(){Ue=!1,ye.apply(Te,ce)}))}}(function(){if(ce.resizer)return Te(J("resize",Ue))}));!function D(ye,Te){var Ue=ye[fe]||(ye[fe]={}),ce=Ue.renderProxy=function(Oe){Oe.animationName===Ae&&Te()};oe.each(Ke,function(Oe){de(ye,Oe,ce)}),Ue.reflow=!!ye.offsetParent,ye.classList.add(be)}(ye,function(){if(ce.resizer){var qe=ye.parentNode;qe&&qe!==Oe.parentNode&&qe.insertBefore(Oe,qe.firstChild),Oe._reset()}})}(ce,Ue,ye)},removeEventListener:function(ye,Te,Ue){var ce=ye.canvas;if("resize"!==Te){var Oe=((Ue[fe]||{}).proxies||{})[ye.id+"_"+Te];Oe&&ve(ce,Te,Oe)}else!function O(ye){var Te=ye[fe]||{},Ue=Te.resizer;delete Te.resizer,function B(ye){var Te=ye[fe]||{},Ue=Te.renderProxy;Ue&&(oe.each(Ke,function(ce){ve(ye,ce,Ue)}),delete Te.renderProxy),ye.classList.remove(be)}(ye),Ue&&Ue.parentNode&&Ue.parentNode.removeChild(Ue)}(ce)}},oe.addEvent=de,oe.removeEvent=ve},{45:45}],48:[function(ke,Ve,an){"use strict";var Ne=ke(45),gt=ke(46),de=ke(47);Ve.exports=Ne.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},de._enabled?de:gt)},{45:45,46:46,47:47}],49:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(40),de=ke(45);Ne._set("global",{plugins:{filler:{propagate:!0}}}),Ve.exports=function(){function ve(O,U,oe){var fe,ue=O._model||{},be=ue.fill;if(void 0===be&&(be=!!ue.backgroundColor),!1===be||null===be)return!1;if(!0===be)return"origin";if(fe=parseFloat(be,10),isFinite(fe)&&Math.floor(fe)===fe)return"-"!==be[0]&&"+"!==be[0]||(fe=U+fe),!(fe===U||fe<0||fe>=oe)&&fe;switch(be){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return be;default:return!1}}function J(O){var U,oe=O.el._model||{},fe=O.el._scale||{},ue=O.fill,be=null;if(isFinite(ue))return null;if("start"===ue?be=void 0===oe.scaleBottom?fe.bottom:oe.scaleBottom:"end"===ue?be=void 0===oe.scaleTop?fe.top:oe.scaleTop:void 0!==oe.scaleZero?be=oe.scaleZero:fe.getBasePosition?be=fe.getBasePosition():fe.getBasePixel&&(be=fe.getBasePixel()),null!=be){if(void 0!==be.x&&void 0!==be.y)return be;if("number"==typeof be&&isFinite(be))return{x:(U=fe.isHorizontal())?be:null,y:U?null:be}}return null}function j(O,U,oe){var fe,ue=O[U].fill,be=[U];if(!oe)return ue;for(;!1!==ue&&-1===be.indexOf(ue);){if(!isFinite(ue))return ue;if(!(fe=O[ue]))return!1;if(fe.visible)return ue;be.push(ue),ue=fe.fill}return!1}function m(O){var U=O.fill,oe="dataset";return!1===U?null:(isFinite(U)||(oe="boundary"),w[oe](O))}function y(O){return O&&!O.skip}function D(O,U,oe,fe,ue){var be;if(fe&&ue){for(O.moveTo(U[0].x,U[0].y),be=1;be<fe;++be)de.canvas.lineTo(O,U[be-1],U[be]);for(O.lineTo(oe[ue-1].x,oe[ue-1].y),be=ue-1;be>0;--be)de.canvas.lineTo(O,oe[be],oe[be-1],!0)}}var w={dataset:function(O){var U=O.fill,oe=O.chart,fe=oe.getDatasetMeta(U),ue=fe&&oe.isDatasetVisible(U)&&fe.dataset._children||[],be=ue.length||0;return be?function(Ae,Ke){return Ke<be&&ue[Ke]._view||null}:null},boundary:function(O){var U=O.boundary,oe=U?U.x:null,fe=U?U.y:null;return function(ue){return{x:null===oe?ue.x:oe,y:null===fe?ue.y:fe}}}};return{id:"filler",afterDatasetsUpdate:function(O,U){var oe,fe,ue,be,Ae=(O.data.datasets||[]).length,Ke=U.propagate,L=[];for(fe=0;fe<Ae;++fe)be=null,(ue=(oe=O.getDatasetMeta(fe)).dataset)&&ue._model&&ue instanceof gt.Line&&(be={visible:O.isDatasetVisible(fe),fill:ve(ue,fe,Ae),chart:O,el:ue}),oe.$filler=be,L.push(be);for(fe=0;fe<Ae;++fe)(be=L[fe])&&(be.fill=j(L,fe,Ke),be.boundary=J(be),be.mapper=m(be))},beforeDatasetDraw:function(O,U){var oe=U.meta.$filler;if(oe){var fe=O.ctx,ue=oe.el,be=ue._view,Ae=ue._children||[],Ke=oe.mapper,L=be.backgroundColor||Ne.global.defaultColor;Ke&&L&&Ae.length&&(de.canvas.clipArea(fe,O.chartArea),function B(O,U,oe,fe,ue,be){var Ae,Ke,L,Ge,ye,Te,Ue,ce=U.length,Oe=fe.spanGaps,qe=[],xe=[],We=0,et=0;for(O.beginPath(),Ae=0,Ke=ce+!!be;Ae<Ke;++Ae)ye=oe(Ge=U[L=Ae%ce]._view,L,fe),Te=y(Ge),Ue=y(ye),Te&&Ue?(We=qe.push(Ge),et=xe.push(ye)):We&&et&&(Oe?(Te&&qe.push(Ge),Ue&&xe.push(ye)):(D(O,qe,xe,We,et),We=et=0,qe=[],xe=[]));D(O,qe,xe,We,et),O.closePath(),O.fillStyle=ue,O.fill()}(fe,Ae,Ke,be,L,ue._loop),de.canvas.unclipArea(fe))}}}}},{25:25,40:40,45:45}],50:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(26),de=ke(45);Ne._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(ve,J){var j=J.datasetIndex,m=this.chart,y=m.getDatasetMeta(j);y.hidden=null===y.hidden?!m.data.datasets[j].hidden:null,m.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(ve){var J=ve.data;return de.isArray(J.datasets)?J.datasets.map(function(j,m){return{text:j.label,fillStyle:de.isArray(j.backgroundColor)?j.backgroundColor[0]:j.backgroundColor,hidden:!ve.isDatasetVisible(m),lineCap:j.borderCapStyle,lineDash:j.borderDash,lineDashOffset:j.borderDashOffset,lineJoin:j.borderJoinStyle,lineWidth:j.borderWidth,strokeStyle:j.borderColor,pointStyle:j.pointStyle,datasetIndex:m}},this):[]}}},legendCallback:function(ve){var J=[];J.push('<ul class="'+ve.id+'-legend">');for(var j=0;j<ve.data.datasets.length;j++)J.push('<li><span style="background-color:'+ve.data.datasets[j].backgroundColor+'"></span>'),ve.data.datasets[j].label&&J.push(ve.data.datasets[j].label),J.push("</li>");return J.push("</ul>"),J.join("")}}),Ve.exports=function(ve){function J(D,B){return D.usePointStyle?B*Math.SQRT2:D.boxWidth}function j(D,B){var w=new ve.Legend({ctx:D.ctx,options:B,chart:D});m.configure(D,w,B),m.addBox(D,w),D.legend=w}var m=ve.layoutService,y=de.noop;return ve.Legend=gt.extend({initialize:function(D){de.extend(this,D),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:y,update:function(D,B,w){var O=this;return O.beforeUpdate(),O.maxWidth=D,O.maxHeight=B,O.margins=w,O.beforeSetDimensions(),O.setDimensions(),O.afterSetDimensions(),O.beforeBuildLabels(),O.buildLabels(),O.afterBuildLabels(),O.beforeFit(),O.fit(),O.afterFit(),O.afterUpdate(),O.minSize},afterUpdate:y,beforeSetDimensions:y,setDimensions:function(){var D=this;D.isHorizontal()?(D.width=D.maxWidth,D.left=0,D.right=D.width):(D.height=D.maxHeight,D.top=0,D.bottom=D.height),D.paddingLeft=0,D.paddingTop=0,D.paddingRight=0,D.paddingBottom=0,D.minSize={width:0,height:0}},afterSetDimensions:y,beforeBuildLabels:y,buildLabels:function(){var D=this,B=D.options.labels||{},w=de.callback(B.generateLabels,[D.chart],D)||[];B.filter&&(w=w.filter(function(O){return B.filter(O,D.chart.data)})),D.options.reverse&&w.reverse(),D.legendItems=w},afterBuildLabels:y,beforeFit:y,fit:function(){var D=this,B=D.options,w=B.labels,O=B.display,U=D.ctx,oe=Ne.global,fe=de.valueOrDefault,ue=fe(w.fontSize,oe.defaultFontSize),be=fe(w.fontStyle,oe.defaultFontStyle),Ae=fe(w.fontFamily,oe.defaultFontFamily),Ke=de.fontString(ue,be,Ae),L=D.legendHitBoxes=[],Ge=D.minSize,ye=D.isHorizontal();if(ye?(Ge.width=D.maxWidth,Ge.height=O?10:0):(Ge.width=O?10:0,Ge.height=D.maxHeight),O)if(U.font=Ke,ye){var Te=D.lineWidths=[0],Ue=D.legendItems.length?ue+w.padding:0;U.textAlign="left",U.textBaseline="top",de.each(D.legendItems,function(xt,ze){var Xe=J(w,ue)+ue/2+U.measureText(xt.text).width;Te[Te.length-1]+Xe+w.padding>=D.width&&(Ue+=ue+w.padding,Te[Te.length]=D.left),L[ze]={left:0,top:0,width:Xe,height:ue},Te[Te.length-1]+=Xe+w.padding}),Ge.height+=Ue}else{var ce=w.padding,Oe=D.columnWidths=[],qe=w.padding,xe=0,We=0,et=ue+ce;de.each(D.legendItems,function(xt,ze){var Xe=J(w,ue)+ue/2+U.measureText(xt.text).width;We+et>Ge.height&&(qe+=xe+w.padding,Oe.push(xe),xe=0,We=0),xe=Math.max(xe,Xe),We+=et,L[ze]={left:0,top:0,width:Xe,height:ue}}),qe+=xe,Oe.push(xe),Ge.width+=qe}D.width=Ge.width,D.height=Ge.height},afterFit:y,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var D=this,B=D.options,w=B.labels,O=Ne.global,U=O.elements.line,oe=D.width,fe=D.lineWidths;if(B.display){var ue,be=D.ctx,Ae=de.valueOrDefault,Ke=Ae(w.fontColor,O.defaultFontColor),L=Ae(w.fontSize,O.defaultFontSize),Ge=Ae(w.fontStyle,O.defaultFontStyle),ye=Ae(w.fontFamily,O.defaultFontFamily),Te=de.fontString(L,Ge,ye);be.textAlign="left",be.textBaseline="middle",be.lineWidth=.5,be.strokeStyle=Ke,be.fillStyle=Ke,be.font=Te;var Ue=J(w,L),ce=D.legendHitBoxes,xe=D.isHorizontal();ue=xe?{x:D.left+(oe-fe[0])/2,y:D.top+w.padding,line:0}:{x:D.left+w.padding,y:D.top+w.padding,line:0};var We=L+w.padding;de.each(D.legendItems,function(et,xt){var ze=be.measureText(et.text).width,Xe=Ue+L/2+ze,Je=ue.x,st=ue.y;xe?Je+Xe>=oe&&(st=ue.y+=We,ue.line++,Je=ue.x=D.left+(oe-fe[ue.line])/2):st+We>D.bottom&&(Je=ue.x=Je+D.columnWidths[ue.line]+w.padding,st=ue.y=D.top+w.padding,ue.line++),function(et,xt,ze){if(!(isNaN(Ue)||Ue<=0)){be.save(),be.fillStyle=Ae(ze.fillStyle,O.defaultColor),be.lineCap=Ae(ze.lineCap,U.borderCapStyle),be.lineDashOffset=Ae(ze.lineDashOffset,U.borderDashOffset),be.lineJoin=Ae(ze.lineJoin,U.borderJoinStyle),be.lineWidth=Ae(ze.lineWidth,U.borderWidth),be.strokeStyle=Ae(ze.strokeStyle,O.defaultColor);var Xe=0===Ae(ze.lineWidth,U.borderWidth);if(be.setLineDash&&be.setLineDash(Ae(ze.lineDash,U.borderDash)),B.labels&&B.labels.usePointStyle){var Je=L*Math.SQRT2/2,st=Je/Math.SQRT2;de.canvas.drawPoint(be,ze.pointStyle,Je,et+st,xt+st)}else Xe||be.strokeRect(et,xt,Ue,L),be.fillRect(et,xt,Ue,L);be.restore()}}(Je,st,et),ce[xt].left=Je,ce[xt].top=st,function(et,xt,ze,Xe){var Je=L/2,st=Ue+Je+et,Et=xt+Je;be.fillText(ze.text,st,Et),ze.hidden&&(be.beginPath(),be.lineWidth=2,be.moveTo(st,Et),be.lineTo(st+Xe,Et),be.stroke())}(Je,st,et,ze),xe?ue.x+=Xe+w.padding:ue.y+=We})}},handleEvent:function(D){var B=this,w=B.options,O="mouseup"===D.type?"click":D.type,U=!1;if("mousemove"===O){if(!w.onHover)return}else if("click"!==O||!w.onClick)return;var oe=D.x,fe=D.y;if(oe>=B.left&&oe<=B.right&&fe>=B.top&&fe<=B.bottom)for(var ue=B.legendHitBoxes,be=0;be<ue.length;++be){var Ae=ue[be];if(oe>=Ae.left&&oe<=Ae.left+Ae.width&&fe>=Ae.top&&fe<=Ae.top+Ae.height){if("click"===O){w.onClick.call(B,D.native,B.legendItems[be]),U=!0;break}if("mousemove"===O){w.onHover.call(B,D.native,B.legendItems[be]),U=!0;break}}}return U}}),{id:"legend",beforeInit:function(D){var B=D.options.legend;B&&j(D,B)},beforeUpdate:function(D){var B=D.options.legend,w=D.legend;B?(de.mergeIf(B,Ne.global.legend),w?(m.configure(D,w,B),w.options=B):j(D,B)):w&&(m.removeBox(D,w),delete D.legend)},afterEvent:function(D,B){var w=D.legend;w&&w.handleEvent(B)}}}},{25:25,26:26,45:45}],51:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(26),de=ke(45);Ne._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),Ve.exports=function(ve){function J(y,D){var B=new ve.Title({ctx:y.ctx,options:D,chart:y});j.configure(y,B,D),j.addBox(y,B),y.titleBlock=B}var j=ve.layoutService,m=de.noop;return ve.Title=gt.extend({initialize:function(y){de.extend(this,y),this.legendHitBoxes=[]},beforeUpdate:m,update:function(y,D,B){var w=this;return w.beforeUpdate(),w.maxWidth=y,w.maxHeight=D,w.margins=B,w.beforeSetDimensions(),w.setDimensions(),w.afterSetDimensions(),w.beforeBuildLabels(),w.buildLabels(),w.afterBuildLabels(),w.beforeFit(),w.fit(),w.afterFit(),w.afterUpdate(),w.minSize},afterUpdate:m,beforeSetDimensions:m,setDimensions:function(){var y=this;y.isHorizontal()?(y.width=y.maxWidth,y.left=0,y.right=y.width):(y.height=y.maxHeight,y.top=0,y.bottom=y.height),y.paddingLeft=0,y.paddingTop=0,y.paddingRight=0,y.paddingBottom=0,y.minSize={width:0,height:0}},afterSetDimensions:m,beforeBuildLabels:m,buildLabels:m,afterBuildLabels:m,beforeFit:m,fit:function(){var y=this,B=y.options,w=B.display,O=(0,de.valueOrDefault)(B.fontSize,Ne.global.defaultFontSize),U=y.minSize,oe=de.isArray(B.text)?B.text.length:1,fe=de.options.toLineHeight(B.lineHeight,O),ue=w?oe*fe+2*B.padding:0;y.isHorizontal()?(U.width=y.maxWidth,U.height=ue):(U.width=ue,U.height=y.maxHeight),y.width=U.width,y.height=U.height},afterFit:m,isHorizontal:function(){var y=this.options.position;return"top"===y||"bottom"===y},draw:function(){var y=this,D=y.ctx,B=de.valueOrDefault,w=y.options,O=Ne.global;if(w.display){var U,oe,fe,ue=B(w.fontSize,O.defaultFontSize),be=B(w.fontStyle,O.defaultFontStyle),Ae=B(w.fontFamily,O.defaultFontFamily),Ke=de.fontString(ue,be,Ae),L=de.options.toLineHeight(w.lineHeight,ue),Ge=L/2+w.padding,ye=0,Te=y.top,Ue=y.left,ce=y.bottom,Oe=y.right;D.fillStyle=B(w.fontColor,O.defaultFontColor),D.font=Ke,y.isHorizontal()?(oe=Ue+(Oe-Ue)/2,fe=Te+Ge,U=Oe-Ue):(oe="left"===w.position?Ue+Ge:Oe-Ge,fe=Te+(ce-Te)/2,U=ce-Te,ye=Math.PI*("left"===w.position?-.5:.5)),D.save(),D.translate(oe,fe),D.rotate(ye),D.textAlign="center",D.textBaseline="middle";var qe=w.text;if(de.isArray(qe))for(var xe=0,We=0;We<qe.length;++We)D.fillText(qe[We],0,xe,U),xe+=L;else D.fillText(qe,0,0,U);D.restore()}}}),{id:"title",beforeInit:function(y){var D=y.options.title;D&&J(y,D)},beforeUpdate:function(y){var D=y.options.title,B=y.titleBlock;D?(de.mergeIf(D,Ne.global.title),B?(j.configure(y,B,D),B.options=D):J(y,D)):B&&(ve.layoutService.removeBox(y,B),delete y.titleBlock)}}}},{25:25,26:26,45:45}],52:[function(ke,Ve,an){"use strict";Ve.exports=function(Ne){var gt=Ne.Scale.extend({getLabels:function(){var de=this.chart.data;return this.options.labels||(this.isHorizontal()?de.xLabels:de.yLabels)||de.labels},determineDataLimits:function(){var J,de=this,ve=de.getLabels();de.minIndex=0,de.maxIndex=ve.length-1,void 0!==de.options.ticks.min&&(J=ve.indexOf(de.options.ticks.min),de.minIndex=-1!==J?J:de.minIndex),void 0!==de.options.ticks.max&&(J=ve.indexOf(de.options.ticks.max),de.maxIndex=-1!==J?J:de.maxIndex),de.min=ve[de.minIndex],de.max=ve[de.maxIndex]},buildTicks:function(){var de=this,ve=de.getLabels();de.ticks=0===de.minIndex&&de.maxIndex===ve.length-1?ve:ve.slice(de.minIndex,de.maxIndex+1)},getLabelForIndex:function(de,ve){var J=this,j=J.chart.data,m=J.isHorizontal();return j.yLabels&&!m?J.getRightValue(j.datasets[ve].data[de]):J.ticks[de-J.minIndex]},getPixelForValue:function(de,ve){var J,j=this,m=j.options.offset,y=Math.max(j.maxIndex+1-j.minIndex-(m?0:1),1);if(null!=de&&(J=j.isHorizontal()?de.x:de.y),void 0!==J||void 0!==de&&isNaN(ve)){var B=j.getLabels().indexOf(de=J||de);ve=-1!==B?B:ve}if(j.isHorizontal()){var w=j.width/y,O=w*(ve-j.minIndex);return m&&(O+=w/2),j.left+Math.round(O)}var U=j.height/y,oe=U*(ve-j.minIndex);return m&&(oe+=U/2),j.top+Math.round(oe)},getPixelForTick:function(de){return this.getPixelForValue(this.ticks[de],de+this.minIndex,null)},getValueForPixel:function(de){var ve=this,J=ve.options.offset,j=Math.max(ve._ticks.length-(J?0:1),1),m=ve.isHorizontal(),y=(m?ve.width:ve.height)/j;return de-=m?ve.left:ve.top,J&&(de-=y/2),(de<=0?0:Math.round(de/y))+ve.minIndex},getBasePixel:function(){return this.bottom}});Ne.scaleService.registerScaleType("category",gt,{position:"bottom"})}},{}],53:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(45),de=ke(34);Ve.exports=function(ve){var J={position:"left",ticks:{callback:de.formatters.linear}},j=ve.LinearScaleBase.extend({determineDataLimits:function(){function m(fe){return O?fe.xAxisID===y.id:fe.yAxisID===y.id}var y=this,D=y.options,B=y.chart,w=B.data.datasets,O=y.isHorizontal();y.min=null,y.max=null;var U=D.stacked;if(void 0===U&&gt.each(w,function(fe,ue){if(!U){var be=B.getDatasetMeta(ue);B.isDatasetVisible(ue)&&m(be)&&void 0!==be.stack&&(U=!0)}}),D.stacked||U){var oe={};gt.each(w,function(fe,ue){var be=B.getDatasetMeta(ue),Ae=[be.type,void 0===D.stacked&&void 0===be.stack?ue:"",be.stack].join(".");void 0===oe[Ae]&&(oe[Ae]={positiveValues:[],negativeValues:[]});var Ke=oe[Ae].positiveValues,L=oe[Ae].negativeValues;B.isDatasetVisible(ue)&&m(be)&&gt.each(fe.data,function(Ge,ye){var Te=+y.getRightValue(Ge);isNaN(Te)||be.data[ye].hidden||(Ke[ye]=Ke[ye]||0,L[ye]=L[ye]||0,D.relativePoints?Ke[ye]=100:Te<0?L[ye]+=Te:Ke[ye]+=Te)})}),gt.each(oe,function(fe){var ue=fe.positiveValues.concat(fe.negativeValues),be=gt.min(ue),Ae=gt.max(ue);y.min=null===y.min?be:Math.min(y.min,be),y.max=null===y.max?Ae:Math.max(y.max,Ae)})}else gt.each(w,function(fe,ue){var be=B.getDatasetMeta(ue);B.isDatasetVisible(ue)&&m(be)&&gt.each(fe.data,function(Ae,Ke){var L=+y.getRightValue(Ae);isNaN(L)||be.data[Ke].hidden||((null===y.min||L<y.min)&&(y.min=L),(null===y.max||L>y.max)&&(y.max=L))})});y.min=isFinite(y.min)&&!isNaN(y.min)?y.min:0,y.max=isFinite(y.max)&&!isNaN(y.max)?y.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var m,y=this,D=y.options.ticks;if(y.isHorizontal())m=Math.min(D.maxTicksLimit?D.maxTicksLimit:11,Math.ceil(y.width/50));else{var B=gt.valueOrDefault(D.fontSize,Ne.global.defaultFontSize);m=Math.min(D.maxTicksLimit?D.maxTicksLimit:11,Math.ceil(y.height/(2*B)))}return m},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(m,y){return+this.getRightValue(this.chart.data.datasets[y].data[m])},getPixelForValue:function(m){var y,D=this,B=D.start,w=+D.getRightValue(m),O=D.end-B;return D.isHorizontal()?(y=D.left+D.width/O*(w-B),Math.round(y)):(y=D.bottom-D.height/O*(w-B),Math.round(y))},getValueForPixel:function(m){var y=this,D=y.isHorizontal();return y.start+(D?m-y.left:y.bottom-m)/(D?y.width:y.height)*(y.end-y.start)},getPixelForTick:function(m){return this.getPixelForValue(this.ticksAsNumbers[m])}});ve.scaleService.registerScaleType("linear",j,J)}},{25:25,34:34,45:45}],54:[function(ke,Ve,an){"use strict";var Ne=ke(45),gt=ke(34);Ve.exports=function(de){var ve=Ne.noop;de.LinearScaleBase=de.Scale.extend({getRightValue:function(J){return"string"==typeof J?+J:de.Scale.prototype.getRightValue.call(this,J)},handleTickRangeOptions:function(){var J=this,j=J.options.ticks;if(j.beginAtZero){var m=Ne.sign(J.min),y=Ne.sign(J.max);m<0&&y<0?J.max=0:m>0&&y>0&&(J.min=0)}var D=void 0!==j.min||void 0!==j.suggestedMin,B=void 0!==j.max||void 0!==j.suggestedMax;void 0!==j.min?J.min=j.min:void 0!==j.suggestedMin&&(J.min=null===J.min?j.suggestedMin:Math.min(J.min,j.suggestedMin)),void 0!==j.max?J.max=j.max:void 0!==j.suggestedMax&&(J.max=null===J.max?j.suggestedMax:Math.max(J.max,j.suggestedMax)),D!==B&&J.min>=J.max&&(D?J.max=J.min+1:J.min=J.max-1),J.min===J.max&&(J.max++,j.beginAtZero||J.min--)},getTickLimit:ve,handleDirectionalChanges:ve,buildTicks:function(){var J=this,j=J.options.ticks,m=J.getTickLimit(),y={maxTicks:m=Math.max(2,m),min:j.min,max:j.max,stepSize:Ne.valueOrDefault(j.fixedStepSize,j.stepSize)},D=J.ticks=gt.generators.linear(y,J);J.handleDirectionalChanges(),J.max=Ne.max(D),J.min=Ne.min(D),j.reverse?(D.reverse(),J.start=J.max,J.end=J.min):(J.start=J.min,J.end=J.max)},convertTicksToLabels:function(){var J=this;J.ticksAsNumbers=J.ticks.slice(),J.zeroLineIndex=J.ticks.indexOf(0),de.Scale.prototype.convertTicksToLabels.call(J)}})}},{34:34,45:45}],55:[function(ke,Ve,an){"use strict";var Ne=ke(45),gt=ke(34);Ve.exports=function(de){var ve={position:"left",ticks:{callback:gt.formatters.logarithmic}},J=de.Scale.extend({determineDataLimits:function(){function j(ue){return U?ue.xAxisID===m.id:ue.yAxisID===m.id}var m=this,y=m.options,D=y.ticks,B=m.chart,w=B.data.datasets,O=Ne.valueOrDefault,U=m.isHorizontal();m.min=null,m.max=null,m.minNotZero=null;var oe=y.stacked;if(void 0===oe&&Ne.each(w,function(ue,be){if(!oe){var Ae=B.getDatasetMeta(be);B.isDatasetVisible(be)&&j(Ae)&&void 0!==Ae.stack&&(oe=!0)}}),y.stacked||oe){var fe={};Ne.each(w,function(ue,be){var Ae=B.getDatasetMeta(be),Ke=[Ae.type,void 0===y.stacked&&void 0===Ae.stack?be:"",Ae.stack].join(".");B.isDatasetVisible(be)&&j(Ae)&&(void 0===fe[Ke]&&(fe[Ke]=[]),Ne.each(ue.data,function(L,Ge){var ye=fe[Ke],Te=+m.getRightValue(L);isNaN(Te)||Ae.data[Ge].hidden||(ye[Ge]=ye[Ge]||0,y.relativePoints?ye[Ge]=100:ye[Ge]+=Te)}))}),Ne.each(fe,function(ue){var be=Ne.min(ue),Ae=Ne.max(ue);m.min=null===m.min?be:Math.min(m.min,be),m.max=null===m.max?Ae:Math.max(m.max,Ae)})}else Ne.each(w,function(ue,be){var Ae=B.getDatasetMeta(be);B.isDatasetVisible(be)&&j(Ae)&&Ne.each(ue.data,function(Ke,L){var Ge=+m.getRightValue(Ke);isNaN(Ge)||Ae.data[L].hidden||((null===m.min||Ge<m.min)&&(m.min=Ge),(null===m.max||Ge>m.max)&&(m.max=Ge),0!==Ge&&(null===m.minNotZero||Ge<m.minNotZero)&&(m.minNotZero=Ge))})});m.min=O(D.min,m.min),m.max=O(D.max,m.max),m.min===m.max&&(0!==m.min&&null!==m.min?(m.min=Math.pow(10,Math.floor(Ne.log10(m.min))-1),m.max=Math.pow(10,Math.floor(Ne.log10(m.max))+1)):(m.min=1,m.max=10))},buildTicks:function(){var j=this,m=j.options.ticks,D=j.ticks=gt.generators.logarithmic({min:m.min,max:m.max},j);j.isHorizontal()||D.reverse(),j.max=Ne.max(D),j.min=Ne.min(D),m.reverse?(D.reverse(),j.start=j.max,j.end=j.min):(j.start=j.min,j.end=j.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),de.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(j,m){return+this.getRightValue(this.chart.data.datasets[m].data[j])},getPixelForTick:function(j){return this.getPixelForValue(this.tickValues[j])},getPixelForValue:function(j){var m,y,D,B=this,w=B.start,O=+B.getRightValue(j),U=B.options.ticks;return B.isHorizontal()?(D=Ne.log10(B.end)-Ne.log10(w),y=0===O?B.left:B.left+(m=B.width)/D*(Ne.log10(O)-Ne.log10(w))):(m=B.height,0!==w||U.reverse?0===B.end&&U.reverse?(D=Ne.log10(B.start)-Ne.log10(B.minNotZero),y=O===B.end?B.top:O===B.minNotZero?B.top+.02*m:B.top+.02*m+.98*m/D*(Ne.log10(O)-Ne.log10(B.minNotZero))):0===O?y=U.reverse?B.top:B.bottom:(D=Ne.log10(B.end)-Ne.log10(w),y=B.bottom-(m=B.height)/D*(Ne.log10(O)-Ne.log10(w))):(D=Ne.log10(B.end)-Ne.log10(B.minNotZero),y=O===w?B.bottom:O===B.minNotZero?B.bottom-.02*m:B.bottom-.02*m-.98*m/D*(Ne.log10(O)-Ne.log10(B.minNotZero)))),y},getValueForPixel:function(j){var m,y,D=this,B=Ne.log10(D.end)-Ne.log10(D.start);return D.isHorizontal()?(y=D.width,m=D.start*Math.pow(10,(j-D.left)*B/y)):(y=D.height,m=Math.pow(10,(D.bottom-j)*B/y)/D.start),m}});de.scaleService.registerScaleType("logarithmic",J,ve)}},{34:34,45:45}],56:[function(ke,Ve,an){"use strict";var Ne=ke(25),gt=ke(45),de=ke(34);Ve.exports=function(ve){function J(L){var Ge=L.options;return Ge.angleLines.display||Ge.pointLabels.display?L.chart.data.labels.length:0}function j(L){var Ge=L.options.pointLabels,ye=gt.valueOrDefault(Ge.fontSize,be.defaultFontSize),Te=gt.valueOrDefault(Ge.fontStyle,be.defaultFontStyle),Ue=gt.valueOrDefault(Ge.fontFamily,be.defaultFontFamily);return{size:ye,style:Te,family:Ue,font:gt.fontString(ye,Te,Ue)}}function m(L,Ge,ye){return gt.isArray(ye)?{w:gt.longestText(L,L.font,ye),h:ye.length*Ge+1.5*(ye.length-1)*Ge}:{w:L.measureText(ye).width,h:Ge}}function y(L,Ge,ye,Te,Ue){return L===Te||L===Ue?{start:Ge-ye/2,end:Ge+ye/2}:L<Te||L>Ue?{start:Ge-ye-5,end:Ge}:{start:Ge,end:Ge+ye+5}}function w(L){return 0===L||180===L?"center":L<180?"left":"right"}function O(L,Ge,ye,Te){if(gt.isArray(Ge))for(var Ue=ye.y,ce=1.5*Te,Oe=0;Oe<Ge.length;++Oe)L.fillText(Ge[Oe],ye.x,Ue),Ue+=ce;else L.fillText(Ge,ye.x,ye.y)}function U(L,Ge,ye){90===L||270===L?ye.y-=Ge.h/2:(L>270||L<90)&&(ye.y-=Ge.h)}function ue(L){return gt.isNumber(L)?L:0}var be=Ne.global,Ae={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:de.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(L){return L}}},Ke=ve.LinearScaleBase.extend({setDimensions:function(){var L=this,Ge=L.options,ye=Ge.ticks;L.width=L.maxWidth,L.height=L.maxHeight,L.xCenter=Math.round(L.width/2),L.yCenter=Math.round(L.height/2);var Te=gt.min([L.height,L.width]),Ue=gt.valueOrDefault(ye.fontSize,be.defaultFontSize);L.drawingArea=Ge.display?Te/2-(Ue/2+ye.backdropPaddingY):Te/2},determineDataLimits:function(){var L=this,Ge=L.chart,ye=Number.POSITIVE_INFINITY,Te=Number.NEGATIVE_INFINITY;gt.each(Ge.data.datasets,function(Ue,ce){if(Ge.isDatasetVisible(ce)){var Oe=Ge.getDatasetMeta(ce);gt.each(Ue.data,function(qe,xe){var We=+L.getRightValue(qe);isNaN(We)||Oe.data[xe].hidden||(ye=Math.min(We,ye),Te=Math.max(We,Te))})}}),L.min=ye===Number.POSITIVE_INFINITY?0:ye,L.max=Te===Number.NEGATIVE_INFINITY?0:Te,L.handleTickRangeOptions()},getTickLimit:function(){var L=this.options.ticks,Ge=gt.valueOrDefault(L.fontSize,be.defaultFontSize);return Math.min(L.maxTicksLimit?L.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*Ge)))},convertTicksToLabels:function(){var L=this;ve.LinearScaleBase.prototype.convertTicksToLabels.call(L),L.pointLabels=L.chart.data.labels.map(L.options.pointLabels.callback,L)},getLabelForIndex:function(L,Ge){return+this.getRightValue(this.chart.data.datasets[Ge].data[L])},fit:function(){this.options.pointLabels.display?function D(L){var Ge,ye,Te,Ue=j(L),ce=Math.min(L.height/2,L.width/2),Oe={r:L.width,l:0,t:L.height,b:0},qe={};L.ctx.font=Ue.font,L._pointLabelSizes=[];var xe=J(L);for(Ge=0;Ge<xe;Ge++){Te=L.getPointPosition(Ge,ce),ye=m(L.ctx,Ue.size,L.pointLabels[Ge]||""),L._pointLabelSizes[Ge]=ye;var We=L.getIndexAngle(Ge),et=gt.toDegrees(We)%360,xt=y(et,Te.x,ye.w,0,180),ze=y(et,Te.y,ye.h,90,270);xt.start<Oe.l&&(Oe.l=xt.start,qe.l=We),xt.end>Oe.r&&(Oe.r=xt.end,qe.r=We),ze.start<Oe.t&&(Oe.t=ze.start,qe.t=We),ze.end>Oe.b&&(Oe.b=ze.end,qe.b=We)}L.setReductions(ce,Oe,qe)}(this):function B(L){var Ge=Math.min(L.height/2,L.width/2);L.drawingArea=Math.round(Ge),L.setCenterPoint(0,0,0,0)}(this)},setReductions:function(L,Ge,ye){var Ue=Ge.l/Math.sin(ye.l),ce=Math.max(Ge.r-this.width,0)/Math.sin(ye.r),Oe=-Ge.t/Math.cos(ye.t),qe=-Math.max(Ge.b-this.height,0)/Math.cos(ye.b);Ue=ue(Ue),ce=ue(ce),Oe=ue(Oe),qe=ue(qe),this.drawingArea=Math.min(Math.round(L-(Ue+ce)/2),Math.round(L-(Oe+qe)/2)),this.setCenterPoint(Ue,ce,Oe,qe)},setCenterPoint:function(L,Ge,ye,Te){var Ue=this,qe=ye+Ue.drawingArea,xe=Ue.height-Te-Ue.drawingArea;Ue.xCenter=Math.round((L+Ue.drawingArea+(Ue.width-Ge-Ue.drawingArea))/2+Ue.left),Ue.yCenter=Math.round((qe+xe)/2+Ue.top)},getIndexAngle:function(L){return L*(2*Math.PI/J(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(L){var Ge=this;if(null===L)return 0;var ye=Ge.drawingArea/(Ge.max-Ge.min);return Ge.options.ticks.reverse?(Ge.max-L)*ye:(L-Ge.min)*ye},getPointPosition:function(L,Ge){var Te=this.getIndexAngle(L)-Math.PI/2;return{x:Math.round(Math.cos(Te)*Ge)+this.xCenter,y:Math.round(Math.sin(Te)*Ge)+this.yCenter}},getPointPositionForValue:function(L,Ge){return this.getPointPosition(L,this.getDistanceFromCenterForValue(Ge))},getBasePosition:function(){var L=this,Ge=L.min,ye=L.max;return L.getPointPositionForValue(0,L.beginAtZero?0:Ge<0&&ye<0?ye:Ge>0&&ye>0?Ge:0)},draw:function(){var L=this,Ge=L.options,ye=Ge.gridLines,Te=Ge.ticks,Ue=gt.valueOrDefault;if(Ge.display){var ce=L.ctx,Oe=this.getIndexAngle(0),qe=Ue(Te.fontSize,be.defaultFontSize),xe=Ue(Te.fontStyle,be.defaultFontStyle),We=Ue(Te.fontFamily,be.defaultFontFamily),et=gt.fontString(qe,xe,We);gt.each(L.ticks,function(xt,ze){if(ze>0||Te.reverse){var Xe=L.getDistanceFromCenterForValue(L.ticksAsNumbers[ze]);if(ye.display&&0!==ze&&function fe(L,Ge,ye,Te){var Ue=L.ctx;if(Ue.strokeStyle=gt.valueAtIndexOrDefault(Ge.color,Te-1),Ue.lineWidth=gt.valueAtIndexOrDefault(Ge.lineWidth,Te-1),L.options.gridLines.circular)Ue.beginPath(),Ue.arc(L.xCenter,L.yCenter,ye,0,2*Math.PI),Ue.closePath(),Ue.stroke();else{var ce=J(L);if(0===ce)return;Ue.beginPath();var Oe=L.getPointPosition(0,ye);Ue.moveTo(Oe.x,Oe.y);for(var qe=1;qe<ce;qe++)Oe=L.getPointPosition(qe,ye),Ue.lineTo(Oe.x,Oe.y);Ue.closePath(),Ue.stroke()}}(L,ye,Xe,ze),Te.display){var Je=Ue(Te.fontColor,be.defaultFontColor);if(ce.font=et,ce.save(),ce.translate(L.xCenter,L.yCenter),ce.rotate(Oe),Te.showLabelBackdrop){var st=ce.measureText(xt).width;ce.fillStyle=Te.backdropColor,ce.fillRect(-st/2-Te.backdropPaddingX,-Xe-qe/2-Te.backdropPaddingY,st+2*Te.backdropPaddingX,qe+2*Te.backdropPaddingY)}ce.textAlign="center",ce.textBaseline="middle",ce.fillStyle=Je,ce.fillText(xt,0,-Xe),ce.restore()}}}),(Ge.angleLines.display||Ge.pointLabels.display)&&function oe(L){var Ge=L.ctx,ye=gt.valueOrDefault,Te=L.options,Ue=Te.angleLines,ce=Te.pointLabels;Ge.lineWidth=Ue.lineWidth,Ge.strokeStyle=Ue.color;var Oe=L.getDistanceFromCenterForValue(Te.ticks.reverse?L.min:L.max),qe=j(L);Ge.textBaseline="top";for(var xe=J(L)-1;xe>=0;xe--){if(Ue.display){var We=L.getPointPosition(xe,Oe);Ge.beginPath(),Ge.moveTo(L.xCenter,L.yCenter),Ge.lineTo(We.x,We.y),Ge.stroke(),Ge.closePath()}if(ce.display){var et=L.getPointPosition(xe,Oe+5),xt=ye(ce.fontColor,be.defaultFontColor);Ge.font=qe.font,Ge.fillStyle=xt;var ze=L.getIndexAngle(xe),Xe=gt.toDegrees(ze);Ge.textAlign=w(Xe),U(Xe,L._pointLabelSizes[xe],et),O(Ge,L.pointLabels[xe]||"",et,qe.size)}}}(L)}}});ve.scaleService.registerScaleType("radialLinear",Ke,Ae)}},{25:25,34:34,45:45}],57:[function(ke,Ve,an){"use strict";function Ne(ye,Te){return ye-Te}function gt(ye){var Te,Ue,ce,Oe={},qe=[];for(Te=0,Ue=ye.length;Te<Ue;++Te)Oe[ce=ye[Te]]||(Oe[ce]=!0,qe.push(ce));return qe}function J(ye,Te,Ue,ce){var Oe=function ve(ye,Te,Ue){for(var ce,Oe,qe,xe=0,We=ye.length-1;xe>=0&&xe<=We;){if(qe=ye[ce=xe+We>>1],!(Oe=ye[ce-1]||null))return{lo:null,hi:qe};if(qe[Te]<Ue)xe=ce+1;else{if(!(Oe[Te]>Ue))return{lo:Oe,hi:qe};We=ce-1}}return{lo:qe,hi:null}}(ye,Te,Ue),qe=Oe.lo?Oe.hi?Oe.lo:ye[ye.length-2]:ye[0],xe=Oe.lo?Oe.hi?Oe.hi:ye[ye.length-1]:ye[1],We=xe[Te]-qe[Te];return qe[ce]+(xe[ce]-qe[ce])*(We?(Ue-qe[Te])/We:0)}function j(ye,Te){var Ue=Te.parser,ce=Te.parser||Te.format;return"function"==typeof Ue?Ue(ye):"string"==typeof ye&&"string"==typeof ce?fe(ye,ce):(ye instanceof fe||(ye=fe(ye)),ye.isValid()?ye:"function"==typeof ce?ce(ye):ye)}function m(ye,Te){if(be.isNullOrUndef(ye))return null;var Ue=Te.options.time,ce=j(Te.getRightValue(ye),Ue);return ce.isValid()?(Ue.round&&ce.startOf(Ue.round),ce.valueOf()):null}function w(ye){for(var Te=Ge.indexOf(ye)+1,Ue=Ge.length;Te<Ue;++Te)if(L[Ge[Te]].common)return Ge[Te]}var fe=ke(1);fe="function"==typeof fe?fe:window.moment;var ue=ke(25),be=ke(45),Ae=Number.MIN_SAFE_INTEGER||-9007199254740991,Ke=Number.MAX_SAFE_INTEGER||9007199254740991,L={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},Ge=Object.keys(L);Ve.exports=function(ye){var Te=ye.Scale.extend({initialize:function(){if(!fe)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),ye.Scale.prototype.initialize.call(this)},update:function(){var ce=this.options;return ce.time&&ce.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),ye.Scale.prototype.update.apply(this,arguments)},getRightValue:function(Ue){return Ue&&void 0!==Ue.t&&(Ue=Ue.t),ye.Scale.prototype.getRightValue.call(this,Ue)},determineDataLimits:function(){var Ue,ce,Oe,qe,xe,We,et=this,xt=et.chart,ze=et.options.time,Xe=Ke,Je=Ae,st=[],Et=[],Gt=[];for(Ue=0,Oe=xt.data.labels.length;Ue<Oe;++Ue)Gt.push(m(xt.data.labels[Ue],et));for(Ue=0,Oe=(xt.data.datasets||[]).length;Ue<Oe;++Ue)if(xt.isDatasetVisible(Ue))if(be.isObject((xe=xt.data.datasets[Ue].data)[0]))for(Et[Ue]=[],ce=0,qe=xe.length;ce<qe;++ce)We=m(xe[ce],et),st.push(We),Et[Ue][ce]=We;else st.push.apply(st,Gt),Et[Ue]=Gt.slice(0);else Et[Ue]=[];Gt.length&&(Gt=gt(Gt).sort(Ne),Xe=Math.min(Xe,Gt[0]),Je=Math.max(Je,Gt[Gt.length-1])),st.length&&(st=gt(st).sort(Ne),Xe=Math.min(Xe,st[0]),Je=Math.max(Je,st[st.length-1])),Xe=m(ze.min,et)||Xe,Je=m(ze.max,et)||Je,Xe=Xe===Ke?+fe().startOf("day"):Xe,Je=Je===Ae?+fe().endOf("day")+1:Je,et.min=Math.min(Xe,Je),et.max=Math.max(Xe+1,Je),et._horizontal=et.isHorizontal(),et._table=[],et._timestamps={data:st,datasets:Et,labels:Gt}},buildTicks:function(){var Ue,ce,Oe,qe=this,xe=qe.min,We=qe.max,et=qe.options,xt=et.time,ze=[],Xe=[];switch(et.ticks.source){case"data":ze=qe._timestamps.data;break;case"labels":ze=qe._timestamps.labels;break;default:ze=function O(ye,Te,Ue,ce){var Oe,qe=ce.time,xe=qe.unit||function D(ye,Te,Ue,ce){var Oe,qe,We=Ge.length;for(Oe=Ge.indexOf(ye);Oe<We-1;++Oe)if((qe=L[Ge[Oe]]).common&&Math.ceil((Ue-Te)/((qe.steps?qe.steps[qe.steps.length-1]:Ke)*qe.size))<=ce)return Ge[Oe];return Ge[We-1]}(qe.minUnit,ye,Te,Ue),We=w(xe),et=be.valueOrDefault(qe.stepSize,qe.unitStepSize),xt="week"===xe&&qe.isoWeekday,ze=ce.ticks.major.enabled,Xe=L[xe],Je=fe(ye),st=fe(Te),Et=[];for(et||(et=function y(ye,Te,Ue,ce){var Oe,qe,xe,We=Te-ye,et=L[Ue],xt=et.size,ze=et.steps;if(!ze)return Math.ceil(We/((ce||1)*xt));for(Oe=0,qe=ze.length;Oe<qe&&(xe=ze[Oe],!(Math.ceil(We/(xt*xe))<=ce));++Oe);return xe}(ye,Te,xe,Ue)),xt&&(Je=Je.isoWeekday(xt),st=st.isoWeekday(xt)),Je=Je.startOf(xt?"day":xe),(st=st.startOf(xt?"day":xe))<Te&&st.add(1,xe),Oe=fe(Je),ze&&We&&!xt&&!qe.round&&(Oe.startOf(We),Oe.add(~~((Je-Oe)/(Xe.size*et))*et,xe));Oe<st;Oe.add(et,xe))Et.push(+Oe);return Et.push(+Oe),Et}(xe,We,qe.getLabelCapacity(xe),et)}for("ticks"===et.bounds&&ze.length&&(xe=ze[0],We=ze[ze.length-1]),xe=m(xt.min,qe)||xe,We=m(xt.max,qe)||We,Ue=0,ce=ze.length;Ue<ce;++Ue)(Oe=ze[Ue])>=xe&&Oe<=We&&Xe.push(Oe);return qe.min=xe,qe.max=We,qe._unit=xt.unit||function B(ye,Te,Ue,ce){var Oe,qe,xe=fe.duration(fe(ce).diff(fe(Ue)));for(Oe=Ge.length-1;Oe>=Ge.indexOf(Te);Oe--)if(L[qe=Ge[Oe]].common&&xe.as(qe)>=ye.length)return qe;return Ge[Te?Ge.indexOf(Te):0]}(Xe,xt.minUnit,qe.min,qe.max),qe._majorUnit=w(qe._unit),qe._table=function de(ye,Te,Ue,ce){if("linear"===ce||!ye.length)return[{time:Te,pos:0},{time:Ue,pos:1}];var Oe,qe,xe,We,et,xt=[],ze=[Te];for(Oe=0,qe=ye.length;Oe<qe;++Oe)(We=ye[Oe])>Te&&We<Ue&&ze.push(We);for(ze.push(Ue),Oe=0,qe=ze.length;Oe<qe;++Oe)et=ze[Oe+1],We=ze[Oe],void 0!==(xe=ze[Oe-1])&&void 0!==et&&Math.round((et+xe)/2)===We||xt.push({time:We,pos:Oe/(qe-1)});return xt}(qe._timestamps.data,xe,We,et.distribution),qe._offsets=function U(ye,Te,Ue,ce,Oe){var xe,We=0,et=0;return Oe.offset&&Te.length&&(Oe.time.min||(xe=Te[0],We=(J(ye,"time",Te.length>1?Te[1]:ce,"pos")-J(ye,"time",xe,"pos"))/2),Oe.time.max||(xe=Te.length>1?Te[Te.length-2]:Ue,et=(J(ye,"time",Te[Te.length-1],"pos")-J(ye,"time",xe,"pos"))/2)),{left:We,right:et}}(qe._table,Xe,xe,We,et),function oe(ye,Te){var Ue,ce,Oe,qe,xe=[];for(Ue=0,ce=ye.length;Ue<ce;++Ue)Oe=ye[Ue],qe=!!Te&&Oe===+fe(Oe).startOf(Te),xe.push({value:Oe,major:qe});return xe}(Xe,qe._majorUnit)},getLabelForIndex:function(Ue,ce){var qe=this.chart.data,xe=this.options.time,We=qe.labels&&Ue<qe.labels.length?qe.labels[Ue]:"",et=qe.datasets[ce].data[Ue];return be.isObject(et)&&(We=this.getRightValue(et)),xe.tooltipFormat&&(We=j(We,xe).format(xe.tooltipFormat)),We},tickFormatFunction:function(Ue,ce,Oe,qe){var We=this.options,et=Ue.valueOf(),xt=We.time.displayFormats,ze=xt[this._unit],Xe=this._majorUnit,Je=xt[Xe],st=Ue.clone().startOf(Xe).valueOf(),Et=We.ticks.major,Gt=Et.enabled&&Xe&&Je&&et===st,Tt=Ue.format(qe||(Gt?Je:ze)),Nt=Gt?Et:We.ticks.minor,en=be.valueOrDefault(Nt.callback,Nt.userCallback);return en?en(Tt,ce,Oe):Tt},convertTicksToLabels:function(Ue){var ce,Oe,qe=[];for(ce=0,Oe=Ue.length;ce<Oe;++ce)qe.push(this.tickFormatFunction(fe(Ue[ce].value),ce,Ue));return qe},getPixelForOffset:function(Ue){var ce=this,Oe=ce._horizontal?ce.width:ce.height,qe=ce._horizontal?ce.left:ce.top,xe=J(ce._table,"time",Ue,"pos");return qe+Oe*(ce._offsets.left+xe)/(ce._offsets.left+1+ce._offsets.right)},getPixelForValue:function(Ue,ce,Oe){var xe=null;if(void 0!==ce&&void 0!==Oe&&(xe=this._timestamps.datasets[Oe][ce]),null===xe&&(xe=m(Ue,this)),null!==xe)return this.getPixelForOffset(xe)},getPixelForTick:function(Ue){var ce=this.getTicks();return Ue>=0&&Ue<ce.length?this.getPixelForOffset(ce[Ue].value):null},getValueForPixel:function(Ue){var ce=this,Oe=ce._horizontal?ce.width:ce.height,We=J(ce._table,"pos",(Oe?(Ue-(ce._horizontal?ce.left:ce.top))/Oe:0)*(ce._offsets.left+1+ce._offsets.left)-ce._offsets.right,"time");return fe(We)},getLabelWidth:function(Ue){var Oe=this.options.ticks,qe=this.ctx.measureText(Ue).width,xe=be.toRadians(Oe.maxRotation),We=Math.cos(xe),et=Math.sin(xe);return qe*We+be.valueOrDefault(Oe.fontSize,ue.global.defaultFontSize)*et},getLabelCapacity:function(Ue){var ce=this,Oe=ce.options.time.displayFormats.millisecond,qe=ce.tickFormatFunction(fe(Ue),0,[],Oe),xe=ce.getLabelWidth(qe),We=ce.isHorizontal()?ce.width:ce.height;return Math.floor(We/xe)}});ye.scaleService.registerScaleType("time",Te,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)});var LeaderLine=function(){"use strict";var ke,Ve,an,Ne,gt,de,ve,J,j,m,y,D,B,w,O,U,oe,fe,ue,be,Ae,Ke,L,Ge="leader-line",ye=1,Te=2,Ue=3,ce=4,Oe={top:ye,right:Te,bottom:Ue,left:ce},qe=1,xe=2,We=3,et=4,xt=5,ze={straight:qe,arc:xe,fluid:We,magnet:et,grid:xt},Xe="behind",Je=Ge+"-defs",st='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:white}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:black}.leader-line-caps-mask-anchor{stroke:black}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:rgba(0,0,0,0)}.leader-line-line-mask-shape{stroke:white}.leader-line-line-outline-mask-shape{stroke:black}.leader-line-plug-mask-shape{fill:white;stroke:black}.leader-line-plug-outline-mask-shape{fill:black;stroke:white}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',Et={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},Gt={behind:Xe,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},Tt={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},Nt=[ye,Te,Ue,ce],en="auto",Ht={x:"left",y:"top",width:"width",height:"height"},Mn=80,gn=4,zn=5,xi=120,_i=8,mi=3.75,Pi=10,gi=30,Oi=.5522847,bn=.25*Math.PI,_n=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,fn="http://www.w3.org/2000/svg",Wn=!(fi="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled)&&!!document.uniqueID,Bn="MozAppearance"in document.documentElement.style,Nn=!(fi||Bn||!window.chrome||!window.CSS),ei=!(fi||Wn||Bn||Nn||window.chrome||!("WebkitAppearance"in document.documentElement.style)),Vi=Wn||fi?.2:.1,$i={path:We,lineColor:"coral",lineSize:4,plugSE:[Xe,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},Li=(Ae={}.toString,L=(Ke={}.hasOwnProperty.toString).call(Object),function(X){return X&&"[object Object]"===Ae.call(X)&&(!(X=Object.getPrototypeOf(X))||(X=X.hasOwnProperty("constructor")&&X.constructor)&&"function"==typeof X&&Ke.call(X)===L)}),Cn=Number.isFinite||function(X){return"number"==typeof X&&window.isFinite(X)},Rn=(w={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},O=1e3/60/2,U=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(X){setTimeout(X,O)},oe=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(X){clearTimeout(X)},fe=Number.isFinite||function(X){return"number"==typeof X&&window.isFinite(X)},ue=[],be=0,{add:function(X,De,Ee,Qe,N,q,he){var ge,Ie,it,Ze,nt,dt,mt,It,kt,Ct,At=++be;function Lt(mn,Yt){return{value:X(Yt),timeRatio:mn,outputRatio:Yt}}if("string"==typeof N&&(N=w[N]),X=X||function(){},Ee<O)ge=[Lt(0,0),Lt(1,1)];else{if(Ie=O/Ee,ge=[Lt(0,0)],0===N[0]&&0===N[1]&&1===N[2]&&1===N[3])for(Ze=Ie;Ze<=1;Ze+=Ie)ge.push(Lt(Ze,Ze));else for(nt=it=(Ze=Ie)/10;nt<=1;nt+=it)Ct=void 0,It=(Ct=nt*nt)*nt,Ct*=3*(kt=1-nt),Ze<=(dt={x:(mt=kt*kt*3*nt)*N[0]+Ct*N[2]+It,y:mt*N[1]+Ct*N[3]+It}).x&&(ge.push(Lt(dt.x,dt.y)),Ze+=Ie);ge.push(Lt(1,1))}return ue.push(q={animId:At,frameCallback:De,duration:Ee,count:Qe,frames:ge,reverse:!!q}),!1!==he&&Jr(q,he),At},remove:function(X){var De;ue.some(function(Ee,Qe){return Ee.animId===X&&(De=Qe,!(Ee.framesStart=null))})&&ue.splice(De,1)},start:function(X,De,Ee){ue.some(function(Qe){return Qe.animId===X&&(Qe.reverse=!!De,Jr(Qe,Ee),!0)})},stop:function(X,De){var Ee;return ue.some(function(Qe){return Qe.animId===X&&(De?null!=Qe.lastFrame&&(Ee=Qe.frames[Qe.lastFrame].timeRatio):(Ee=(Date.now()-Qe.framesStart)/Qe.duration,(Ee=Qe.reverse?1-Ee:Ee)<0?Ee=0:1<Ee&&(Ee=1)),!(Qe.framesStart=null))}),Ee},validTiming:function(X){return"string"==typeof X?w[X]:Array.isArray(X)&&[0,1,2,3].every(function(De){return fe(X[De])&&0<=X[De]&&X[De]<=1})?[X[0],X[1],X[2],X[3]]:null}}),ti=function(X,De){X.SVGPathElement.prototype.getPathData&&X.SVGPathElement.prototype.setPathData&&!De||function(){function Ee(mt){this._string=mt,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var Qe={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},N=-1!==X.navigator.userAgent.indexOf("MSIE ");function q(mt){if(!mt||0===mt.length)return[];var It=new Ee(mt),kt=[];if(It.initialCommandIsMoveTo())for(;It.hasMoreData();){var Ct=It.parseSegment();if(null===Ct)break;kt.push(Ct)}return kt}function he(mt){return mt.map(function(It){return{type:It.type,values:Array.prototype.slice.call(It.values)}})}function ge(mt){var It=[],kt=null,Ct=null,At=null,Lt=null,mn=null,Yt=null,ln=null;return mt.forEach(function(Vt){var tn,hn,bt,Kt,pn,vn,ci,ni;"M"===Vt.type?(It.push({type:"M",values:[ci=Vt.values[0],ni=Vt.values[1]]}),Lt=Yt=ci,mn=ln=ni):"C"===Vt.type?(It.push({type:"C",values:[pn=Vt.values[0],vn=Vt.values[1],tn=Vt.values[2],hn=Vt.values[3],ci=Vt.values[4],ni=Vt.values[5]]}),Ct=tn,At=hn,Lt=ci,mn=ni):"L"===Vt.type?(It.push({type:"L",values:[ci=Vt.values[0],ni=Vt.values[1]]}),Lt=ci,mn=ni):"H"===Vt.type?(It.push({type:"L",values:[ci=Vt.values[0],mn]}),Lt=ci):"V"===Vt.type?(It.push({type:"L",values:[Lt,ni=Vt.values[0]]}),mn=ni):"S"===Vt.type?(Kt="C"===kt||"S"===kt?(bt=Lt+(Lt-Ct),mn+(mn-At)):(bt=Lt,mn),It.push({type:"C",values:[bt,Kt,tn=Vt.values[0],hn=Vt.values[1],ci=Vt.values[2],ni=Vt.values[3]]}),Ct=tn,At=hn,Lt=ci,mn=ni):"T"===Vt.type?(vn="Q"===kt||"T"===kt?(pn=Lt+(Lt-Ct),mn+(mn-At)):(pn=Lt,mn),It.push({type:"C",values:[bt=Lt+2*(pn-Lt)/3,Kt=mn+2*(vn-mn)/3,(ci=Vt.values[0])+2*(pn-ci)/3,(ni=Vt.values[1])+2*(vn-ni)/3,ci,ni]}),Ct=pn,At=vn,Lt=ci,mn=ni):"Q"===Vt.type?(It.push({type:"C",values:[bt=Lt+2*((pn=Vt.values[0])-Lt)/3,Kt=mn+2*((vn=Vt.values[1])-mn)/3,(ci=Vt.values[2])+2*(pn-ci)/3,(ni=Vt.values[3])+2*(vn-ni)/3,ci,ni]}),Ct=pn,At=vn,Lt=ci,mn=ni):"A"===Vt.type?(bt=Vt.values[1],Kt=Vt.values[2],pn=Vt.values[3],vn=Vt.values[4],ci=Vt.values[5],ni=Vt.values[6],0===(hn=Vt.values[0])||0===bt?(It.push({type:"C",values:[Lt,mn,ci,ni,ci,ni]}),Lt=ci,mn=ni):Lt===ci&&mn===ni||dt(Lt,mn,ci,ni,hn,bt,Kt,pn,vn).forEach(function(Qi){It.push({type:"C",values:Qi}),Lt=ci,mn=ni})):"Z"===Vt.type&&(It.push(Vt),Lt=Yt,mn=ln),kt=Vt.type}),It}Ee.prototype={parseSegment:function(){var mt=Qe[kt=this._string[this._currentIndex]]||null;if(null===mt){if(null===this._prevCommand||null===(mt=("+"===kt||"-"===kt||"."===kt||"0"<=kt&&kt<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var kt,It=null;return"H"===(kt=(this._prevCommand=mt).toUpperCase())||"V"===kt?It=[this._parseNumber()]:"M"===kt||"L"===kt||"T"===kt?It=[this._parseNumber(),this._parseNumber()]:"S"===kt||"Q"===kt?It=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===kt?It=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===kt?It=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===kt&&(this._skipOptionalSpaces(),It=[]),null===It||0<=It.indexOf(null)?null:{type:mt,values:It}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){return Qe[this._string[this._currentIndex]]||null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var mt=this.peekSegmentType();return"M"===mt||"m"===mt},_isCurrentSpace:function(){var mt=this._string[this._currentIndex];return mt<=" "&&(" "===mt||"\n"===mt||"\t"===mt||"\r"===mt||"\f"===mt)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var mt=0,It=0,kt=1,Ct=0,At=1,Lt=1,mn=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,At=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var Yt=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==Yt)for(var ln=this._currentIndex-1,Vt=1;Yt<=ln;)It+=Vt*(this._string[ln]-"0"),--ln,Vt*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)kt*=10,Ct+=(this._string.charAt(this._currentIndex)-"0")/kt,this._currentIndex+=1}if(this._currentIndex!==mn&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,Lt=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)mt*=10,mt+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var tn=It+Ct;return tn*=At,mt&&(tn*=Math.pow(10,Lt*mt)),mn===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),tn)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var mt=null,It=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===It)mt=0;else{if("1"!==It)return null;mt=1}return this._skipOptionalSpacesOrDelimiter(),mt}};var Ie=X.SVGPathElement.prototype.setAttribute,it=X.SVGPathElement.prototype.removeAttribute,Ze=X.Symbol?X.Symbol():"__cachedPathData",nt=X.Symbol?X.Symbol():"__cachedNormalizedPathData",dt=function(mt,It,kt,Ui,ni,Qi,mn,Yt,ln,Vt){function tn(pr,Ki,wr){return{x:pr*Math.cos(wr)-Ki*Math.sin(wr),y:pr*Math.sin(wr)+Ki*Math.cos(wr)}}var hn=Math.PI*mn/180,Ti=[];Vt?(er=Vt[0],ci=Vt[1],ji=Vt[2],vn=Vt[3]):(mt=(tr=tn(mt,It,-hn)).x,It=tr.y,1<(tr=(pn=(mt-(kt=(Kt=tn(kt,Ui,-hn)).x))/2)*pn/(ni*ni)+(bt=(It-(Ui=Kt.y))/2)*bt/(Qi*Qi))&&(ni*=tr=Math.sqrt(tr),Qi*=tr),Kt=ni*ni,tr=Qi*Qi,ji=(Kt=(Yt===ln?-1:1)*Math.sqrt(Math.abs((Kt*tr-Kt*bt*bt-tr*pn*pn)/(Kt*bt*bt+tr*pn*pn))))*ni*bt/Qi+(mt+kt)/2,vn=Kt*-Qi*pn/ni+(It+Ui)/2,er=Math.asin(parseFloat(((It-vn)/Qi).toFixed(9))),ci=Math.asin(parseFloat(((Ui-vn)/Qi).toFixed(9))),mt<ji&&(er=Math.PI-er),kt<ji&&(ci=Math.PI-ci),er<0&&(er=2*Math.PI+er),ci<0&&(ci=2*Math.PI+ci),ln&&ci<er&&(er-=2*Math.PI),!ln&&er<ci&&(ci-=2*Math.PI));var bt,Kt,pn,tr=ci-er;Math.abs(tr)>120*Math.PI/180&&(bt=ci,Kt=kt,pn=Ui,ci=ln&&er<ci?er+120*Math.PI/180*1:er+120*Math.PI/180*-1,kt=ji+ni*Math.cos(ci),Ui=vn+Qi*Math.sin(ci),Ti=dt(kt,Ui,Kt,pn,ni,Qi,mn,0,ln,[ci,bt,ji,vn])),tr=ci-er;var ji=Math.cos(er),vn=Math.sin(er),er=Math.cos(ci),ci=Math.sin(ci);if(er=[kt+(ni=4/3*ni*(tr=Math.tan(tr/4)))*ci,Ui-(Qi=4/3*Qi*tr)*er],Ui=[kt,Ui],(ji=[mt+ni*vn,It-Qi*ji])[0]=2*(tr=[mt,It])[0]-ji[0],ji[1]=2*tr[1]-ji[1],Vt)return[ji,er,Ui].concat(Ti);Ti=[ji,er,Ui].concat(Ti).join().split(",");var ki=[],Qn=[];return Ti.forEach(function(pr,Ki){Qn.push(Ki%2?tn(Ti[Ki-1],Ti[Ki],hn).y:tn(Ti[Ki],Ti[Ki+1],hn).x),6===Qn.length&&(ki.push(Qn),Qn=[])}),ki};X.SVGPathElement.prototype.setAttribute=function(mt,It){"d"===mt&&(this[Ze]=null,this[nt]=null),Ie.call(this,mt,It)},X.SVGPathElement.prototype.removeAttribute=function(mt,It){"d"===mt&&(this[Ze]=null,this[nt]=null),it.call(this,mt)},X.SVGPathElement.prototype.getPathData=function(mt){if(mt&&mt.normalize)return this[nt]?he(this[nt]):(this[Ze]?mn=he(this[Ze]):(mn=q(this.getAttribute("d")||""),this[Ze]=he(mn)),mt=ge((It=[],Lt=At=Ct=kt=null,mn.forEach(function(Yt){var bt,Kt,pn=Yt.type;"M"===pn?(It.push({type:"M",values:[bt=Yt.values[0],Kt=Yt.values[1]]}),kt=At=bt,Ct=Lt=Kt):"m"===pn?(It.push({type:"M",values:[bt=kt+Yt.values[0],Kt=Ct+Yt.values[1]]}),kt=At=bt,Ct=Lt=Kt):"L"===pn?(It.push({type:"L",values:[bt=Yt.values[0],Kt=Yt.values[1]]}),kt=bt,Ct=Kt):"l"===pn?(It.push({type:"L",values:[bt=kt+Yt.values[0],Kt=Ct+Yt.values[1]]}),kt=bt,Ct=Kt):"C"===pn?(It.push({type:"C",values:[Yt.values[0],Yt.values[1],Yt.values[2],Yt.values[3],bt=Yt.values[4],Kt=Yt.values[5]]}),kt=bt,Ct=Kt):"c"===pn?(It.push({type:"C",values:[kt+Yt.values[0],Ct+Yt.values[1],kt+Yt.values[2],Ct+Yt.values[3],bt=kt+Yt.values[4],Kt=Ct+Yt.values[5]]}),kt=bt,Ct=Kt):"Q"===pn?(It.push({type:"Q",values:[Yt.values[0],Yt.values[1],bt=Yt.values[2],Kt=Yt.values[3]]}),kt=bt,Ct=Kt):"q"===pn?(It.push({type:"Q",values:[kt+Yt.values[0],Ct+Yt.values[1],bt=kt+Yt.values[2],Kt=Ct+Yt.values[3]]}),kt=bt,Ct=Kt):"A"===pn?(It.push({type:"A",values:[Yt.values[0],Yt.values[1],Yt.values[2],Yt.values[3],Yt.values[4],bt=Yt.values[5],Kt=Yt.values[6]]}),kt=bt,Ct=Kt):"a"===pn?(It.push({type:"A",values:[Yt.values[0],Yt.values[1],Yt.values[2],Yt.values[3],Yt.values[4],bt=kt+Yt.values[5],Kt=Ct+Yt.values[6]]}),kt=bt,Ct=Kt):"H"===pn?(It.push({type:"H",values:[bt=Yt.values[0]]}),kt=bt):"h"===pn?(It.push({type:"H",values:[bt=kt+Yt.values[0]]}),kt=bt):"V"===pn?(It.push({type:"V",values:[Kt=Yt.values[0]]}),Ct=Kt):"v"===pn?(It.push({type:"V",values:[Kt=Ct+Yt.values[0]]}),Ct=Kt):"S"===pn?(It.push({type:"S",values:[Yt.values[0],Yt.values[1],bt=Yt.values[2],Kt=Yt.values[3]]}),kt=bt,Ct=Kt):"s"===pn?(It.push({type:"S",values:[kt+Yt.values[0],Ct+Yt.values[1],bt=kt+Yt.values[2],Kt=Ct+Yt.values[3]]}),kt=bt,Ct=Kt):"T"===pn?(It.push({type:"T",values:[bt=Yt.values[0],Kt=Yt.values[1]]}),kt=bt,Ct=Kt):"t"===pn?(It.push({type:"T",values:[bt=kt+Yt.values[0],Kt=Ct+Yt.values[1]]}),kt=bt,Ct=Kt):"Z"!==pn&&"z"!==pn||(It.push({type:"Z",values:[]}),kt=At,Ct=Lt)}),It)),this[nt]=he(mt),mt);if(this[Ze])return he(this[Ze]);var It,kt,Ct,At,Lt,mn=q(this.getAttribute("d")||"");return this[Ze]=he(mn),mn},X.SVGPathElement.prototype.setPathData=function(mt){if(0===mt.length)N?this.setAttribute("d",""):this.removeAttribute("d");else{for(var It="",kt=0,Ct=mt.length;kt<Ct;kt+=1){var At=mt[kt];0<kt&&(It+=" "),It+=At.type,At.values&&0<At.values.length&&(It+=" "+At.values.join(" "))}this.setAttribute("d",It)}},X.SVGRectElement.prototype.getPathData=function(mt){var It=this.x.baseVal.value,mn=this.y.baseVal.value,kt=this.width.baseVal.value,Ct=this.height.baseVal.value,At=(this.hasAttribute("rx")?this.rx:this.ry).baseVal.value,Lt=(this.hasAttribute("ry")?this.ry:this.rx).baseVal.value;return mn=(mn=[{type:"M",values:[It+(At=kt/2<At?kt/2:At),mn]},{type:"H",values:[It+kt-At]},{type:"A",values:[At,Lt=Ct/2<Lt?Ct/2:Lt,0,0,1,It+kt,mn+Lt]},{type:"V",values:[mn+Ct-Lt]},{type:"A",values:[At,Lt,0,0,1,It+kt-At,mn+Ct]},{type:"H",values:[It+At]},{type:"A",values:[At,Lt,0,0,1,It,mn+Ct-Lt]},{type:"V",values:[mn+Lt]},{type:"A",values:[At,Lt,0,0,1,It+At,mn]},{type:"Z",values:[]}]).filter(function(Yt){return"A"!==Yt.type||0!==Yt.values[0]&&0!==Yt.values[1]}),mt&&!0===mt.normalize?ge(mn):mn},X.SVGCircleElement.prototype.getPathData=function(mt){var It=this.cx.baseVal.value,kt=this.r.baseVal.value,Ct=[{type:"M",values:[It+kt,Ct=this.cy.baseVal.value]},{type:"A",values:[kt,kt,0,0,1,It,Ct+kt]},{type:"A",values:[kt,kt,0,0,1,It-kt,Ct]},{type:"A",values:[kt,kt,0,0,1,It,Ct-kt]},{type:"A",values:[kt,kt,0,0,1,It+kt,Ct]},{type:"Z",values:[]}];return mt&&!0===mt.normalize?ge(Ct):Ct},X.SVGEllipseElement.prototype.getPathData=function(mt){var It=this.cx.baseVal.value,kt=this.rx.baseVal.value,Ct=this.ry.baseVal.value,At=[{type:"M",values:[It+kt,At=this.cy.baseVal.value]},{type:"A",values:[kt,Ct,0,0,1,It,At+Ct]},{type:"A",values:[kt,Ct,0,0,1,It-kt,At]},{type:"A",values:[kt,Ct,0,0,1,It,At-Ct]},{type:"A",values:[kt,Ct,0,0,1,It+kt,At]},{type:"Z",values:[]}];return mt&&!0===mt.normalize?ge(At):At},X.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},X.SVGPolylineElement.prototype.getPathData=function(){for(var mt=[],It=0;It<this.points.numberOfItems;It+=1){var kt=this.points.getItem(It);mt.push({type:0===It?"M":"L",values:[kt.x,kt.y]})}return mt},X.SVGPolygonElement.prototype.getPathData=function(){for(var mt=[],It=0;It<this.points.numberOfItems;It+=1){var kt=this.points.getItem(It);mt.push({type:0===It?"M":"L",values:[kt.x,kt.y]})}return mt.push({type:"Z",values:[]}),mt}}()},fi=(D={},vr.m=y=[function(X,De,Ee){Ee.r(De);var Qe=500,N=[],q=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(nt){return setTimeout(nt,1e3/60)},he=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(nt){return clearTimeout(nt)},ge=Date.now(),Ie=void 0;function it(){var nt=void 0,dt=void 0;Ie&&(he.call(window,Ie),Ie=null),N.forEach(function(mt){var It;(It=mt.event)&&(mt.event=null,mt.listener(It),nt=!0)}),nt?(ge=Date.now(),dt=!0):Date.now()-ge<Qe&&(dt=!0),dt&&(Ie=q.call(window,it))}function Ze(nt){var dt=-1;return N.some(function(mt,It){return mt.listener===nt&&(dt=It,!0)}),dt}De.default={add:function(nt){var dt=void 0;return-1===Ze(nt)?(N.push(dt={listener:nt}),function(mt){dt.event=mt,Ie||it()}):null},remove:function(nt){-1<(nt=Ze(nt))&&(N.splice(nt,1),!N.length&&Ie&&(he.call(window,Ie),Ie=null))}}}],vr.c=D,vr.d=function(X,De,Ee){vr.o(X,De)||Object.defineProperty(X,De,{enumerable:!0,get:Ee})},vr.r=function(X){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(X,"__esModule",{value:!0})},vr.t=function(X,De){if(1&De&&(X=vr(X)),8&De||4&De&&"object"==typeof X&&X&&X.__esModule)return X;var Ee=Object.create(null);if(vr.r(Ee),Object.defineProperty(Ee,"default",{enumerable:!0,value:X}),2&De&&"string"!=typeof X)for(var Qe in X)vr.d(Ee,Qe,function(N){return X[N]}.bind(null,Qe));return Ee},vr.n=function(X){var De=X&&X.__esModule?function(){return X.default}:function(){return X};return vr.d(De,"a",De),De},vr.o=function(X,De){return Object.prototype.hasOwnProperty.call(X,De)},vr.p="",vr(vr.s=0).default),si={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:Xe},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:Xe},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:Xe},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},Jn={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},bi="fade",Ii=[],Ai={},Wi=0,qi={},Br=0;function vr(X){if(D[X])return D[X].exports;var De=D[X]={i:X,l:!1,exports:{}};return y[X].call(De.exports,De,De.exports,vr),De.l=!0,De.exports}function cr(){var X=Date.now(),De=!1;B&&(oe.call(window,B),B=null),ue.forEach(function(Ee){var Qe,N,q;if(Ee.framesStart){if((Qe=X-Ee.framesStart)>=Ee.duration&&Ee.count&&Ee.loopsLeft<=1)return q=Ee.frames[Ee.lastFrame=Ee.reverse?0:Ee.frames.length-1],Ee.frameCallback(q.value,!0,q.timeRatio,q.outputRatio),void(Ee.framesStart=null);if(Qe>Ee.duration){if(N=Math.floor(Qe/Ee.duration),Ee.count){if(N>=Ee.loopsLeft)return q=Ee.frames[Ee.lastFrame=Ee.reverse?0:Ee.frames.length-1],Ee.frameCallback(q.value,!0,q.timeRatio,q.outputRatio),void(Ee.framesStart=null);Ee.loopsLeft-=N}Ee.framesStart+=Ee.duration*N,Qe=X-Ee.framesStart}Ee.reverse&&(Qe=Ee.duration-Qe),q=Ee.frames[Ee.lastFrame=Math.round(Qe/O)],!1!==Ee.frameCallback(q.value,!1,q.timeRatio,q.outputRatio)?De=!0:Ee.framesStart=null}}),De&&(B=U.call(window,cr))}function Jr(X,De){X.framesStart=Date.now(),null!=De&&(X.framesStart-=X.duration*(X.reverse?1-De:De)),X.loopsLeft=X.count,X.lastFrame=null,cr()}function hr(X,De){var Ee,Qe;return typeof X!=typeof De||(Ee=Li(X)?"obj":Array.isArray(X)?"array":"")!=(Li(De)?"obj":Array.isArray(De)?"array":"")||("obj"===Ee?hr(Qe=Object.keys(X).sort(),Object.keys(De).sort())||Qe.some(function(N){return hr(X[N],De[N])}):"array"===Ee?X.length!==De.length||X.some(function(N,q){return hr(N,De[q])}):X!==De)}function dr(X){return X&&(Li(X)?Object.keys(X).reduce(function(De,Ee){return De[Ee]=dr(X[Ee]),De},{}):Array.isArray(X)?X.map(dr):X)}function Mr(X){var De,Ee,Qe,N=1,q=X=(X+"").trim();function he(it){var Ie=1;return(it=_n.exec(it))&&(Ie=parseFloat(it[1]),it[2]?Ie=0<=Ie&&Ie<=100?Ie/100:1:(Ie<0||1<Ie)&&(Ie=1)),Ie}return(De=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(X))?(Ee=De[1].toLowerCase(),Qe=De[2].trim().split(/\s*,\s*/),"rgba"===Ee&&4===Qe.length?(N=he(Qe[3]),q="rgb("+Qe.slice(0,3).join(", ")+")"):"hsla"===Ee&&4===Qe.length?(N=he(Qe[3]),q="hsl("+Qe.slice(0,3).join(", ")+")"):"hwb"===Ee&&4===Qe.length?(N=he(Qe[3]),q="hwb("+Qe.slice(0,3).join(", ")+")"):"gray"===Ee&&2===Qe.length?(N=he(Qe[1]),q="gray("+Qe[0]+")"):"device-cmyk"===Ee&&5<=Qe.length&&(N=he(Qe[4]),q="device-cmyk("+Qe.slice(0,4).join(", ")+")")):(De=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(X))?q=De[1]?(N=parseInt(De[2],16)/255,"#"+De[1]):(N=parseInt(De[4]+De[4],16)/255,"#"+De[3]):"transparent"===X.toLocaleLowerCase()&&(N=0),[N,q]}function jr(X){return!(!X||X.nodeType!==Node.ELEMENT_NODE||"function"!=typeof X.getBoundingClientRect)}function ao(X,De){var Ee,Qe,N,q={};if(!(N=X.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(X.compareDocumentPosition(N)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(Qe in Ee=X.getBoundingClientRect())q[Qe]=Ee[Qe];if(!De){if(!(N=N.defaultView))return console.error("Cannot get window that contains the element."),null;q.left+=N.pageXOffset,q.right+=N.pageXOffset,q.top+=N.pageYOffset,q.bottom+=N.pageYOffset}return q}function Ar(X,De){var Ee,Qe=[],N=X;for(De=De||window;;){if(!(Ee=N.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(Ee=Ee.defaultView))return console.error("Cannot get window that contains the element."),null;if(Ee===De)break;if(!(N=Ee.frameElement))return console.error("`baseWindow` was not found."),null;Qe.unshift(N)}return Qe}function Yr(X,De){var Ee=0,Qe=0;return(De=Ar(X,De=De||window))?De.length?(De.forEach(function(N,q){var he=ao(N,0<q);Ee+=he.left,Qe+=he.top,N=(q=N).ownerDocument.defaultView.getComputedStyle(q,""),he={left:q.clientLeft+parseFloat(N.paddingLeft),top:q.clientTop+parseFloat(N.paddingTop)},Ee+=he.left,Qe+=he.top}),(De=ao(X,!0)).left+=Ee,De.right+=Ee,De.top+=Qe,De.bottom+=Qe,De):ao(X):null}function Xr(X,Qe){var Ee=X.x-Qe.x;return Qe=X.y-Qe.y,Math.sqrt(Ee*Ee+Qe*Qe)}function An(X,N,Ee){var Qe=N.x-X.x;return{x:X.x+Qe*Ee,y:X.y+(N=N.y-X.y)*Ee,angle:Math.atan2(N,Qe)/(Math.PI/180)}}function Fn(X,De,Ee){return X=Math.atan2(X.y-De.y,De.x-X.x),{x:De.x+Math.cos(X)*Ee,y:De.y+Math.sin(X)*Ee*-1}}function pi(mt,It,Ee,Ct,kt){var q=1-kt,he=(it=(Ze=q*q)*q)*mt.x+3*Ze*kt*It.x+3*q*(dt=kt*kt)*Ee.x+(nt=dt*kt)*Ct.x,ge=it*mt.y+3*Ze*kt*It.y+3*q*dt*Ee.y+nt*Ct.y,Ie=mt.x+2*kt*(It.x-mt.x)+dt*(Ee.x-2*It.x+mt.x),it=mt.y+2*kt*(It.y-mt.y)+dt*(Ee.y-2*It.y+mt.y),Ze=It.x+2*kt*(Ee.x-It.x)+dt*(Ct.x-2*Ee.x+It.x),nt=It.y+2*kt*(Ee.y-It.y)+dt*(Ct.y-2*Ee.y+It.y),dt=q*mt.x+kt*It.x;return mt=q*mt.y+kt*It.y,It=q*Ee.x+kt*Ct.x,kt=q*Ee.y+kt*Ct.y,Ct=90-180*Math.atan2(Ie-Ze,it-nt)/Math.PI,{x:he,y:ge,fromP2:{x:Ie,y:it},toP1:{x:Ze,y:nt},fromP1:{x:dt,y:mt},toP2:{x:It,y:kt},angle:Ct+=180<Ct?-180:180}}function ai(X,De,Ee,Qe,N){function q(nt,dt,mt,It,kt){return nt*(nt*(-3*dt+9*mt-9*It+3*kt)+6*dt-12*mt+6*It)-3*dt+3*mt}var he,ge,Ie=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],it=0,Ze=(N=null==N||1<N?1:N<0?0:N)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(nt,dt){he=q(ge=Ze*nt+Ze,X.x,De.x,Ee.x,Qe.x),ge=q(ge,X.y,De.y,Ee.y,Qe.y),ge=he*he+ge*ge,it+=Ie[dt]*Math.sqrt(ge)}),Ze*it}function Ei(X,De,Ee,Qe,N){for(var q,he=.5,ge=1-he;q=ai(X,De,Ee,Qe,ge),!(Math.abs(q-N)<=.01);)ge+=(q<N?1:-1)*(he/=2);return ge}function Ji(X,De){var Ee;return X.forEach(function(Qe){Qe=De?Qe.map(function(N){return De(N={x:N.x,y:N.y}),N}):Qe,(Ee=Ee||[{type:"M",values:[Qe[0].x,Qe[0].y]}]).push(Qe.length?2===Qe.length?{type:"L",values:[Qe[1].x,Qe[1].y]}:{type:"C",values:[Qe[1].x,Qe[1].y,Qe[2].x,Qe[2].y,Qe[3].x,Qe[3].y]}:{type:"Z",values:[]})}),Ee}function rr(X){var De=[],Ee=0;return X.forEach(function(Qe){Qe=(2===Qe.length?Xr:ai).apply(null,Qe),De.push(Qe),Ee+=Qe}),{segsLen:De,lenAll:Ee}}function or(X,De){return null==X||null==De||X.length!==De.length||X.some(function(Ee,Qe){var N=De[Qe];return Ee.type!==N.type||Ee.values.some(function(q,he){return q!==N.values[he]})})}function Hi(X,De,Ee){X.events[De]?X.events[De].indexOf(Ee)<0&&X.events[De].push(Ee):X.events[De]=[Ee]}function Fi(X,De,Ee){var Qe;X.events[De]&&-1<(Qe=X.events[De].indexOf(Ee))&&X.events[De].splice(Qe,1)}function yr(X){ve&&clearTimeout(ve),Ii.push(X),ve=setTimeout(function(){Ii.forEach(function(De){De()}),Ii=[]},0)}function ir(X,De){X.reflowTargets.indexOf(De)<0&&X.reflowTargets.push(De)}function _r(X){X.reflowTargets.forEach(function(De){var Ee;Ee=De,setTimeout(function(){var Qe=Ee.parentNode,N=Ee.nextSibling;Qe.insertBefore(Qe.removeChild(Ee),N)},0)}),X.reflowTargets=[]}function Ur(X,De,Ee,Qe,N,q,he){var ge;"auto-start-reverse"===Ee?("boolean"!=typeof J&&(De.setAttribute("orient","auto-start-reverse"),J=De.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),J?De.setAttribute("orient",Ee):((ge=N.createSVGTransform()).setRotate(180,0,0),q.transform.baseVal.appendItem(ge),De.setAttribute("orient","auto"),ge=!0)):(De.setAttribute("orient",Ee),!1===J&&q.transform.baseVal.clear()),De=De.viewBox.baseVal,ge?(De.x=-Qe.right,De.y=-Qe.bottom):(De.x=Qe.left,De.y=Qe.top),De.width=Qe.width,De.height=Qe.height,Wn&&ir(X,he)}function Ir(X,De){return{prop:X?"markerEnd":"markerStart",orient:De?De.noRotate?"0":X?"auto":"auto-start-reverse":null}}function kr(X,De){Object.keys(De).forEach(function(Ee){var Qe=De[Ee];X[Ee]=null!=Qe.iniValue?Qe.hasSE?[Qe.iniValue,Qe.iniValue]:Qe.iniValue:Qe.hasSE?Qe.hasProps?[{},{}]:[]:Qe.hasProps?{}:null})}function Ci(X,De,Ee,Qe,N){return Qe!==De[Ee]&&(De[Ee]=Qe,N&&N.forEach(function(q){q(X,Qe,Ee)}),!0)}function fr(Qe){function De(q,he){return q+parseFloat(he)}var Ee=Qe.getComputedStyle((N=Qe.document).documentElement,""),N=(Qe=Qe.getComputedStyle(N.body,""),{x:0,y:0});return"static"!==Qe.position?(N.x-=[Ee.marginLeft,Ee.borderLeftWidth,Ee.paddingLeft,Qe.marginLeft,Qe.borderLeftWidth].reduce(De,0),N.y-=[Ee.marginTop,Ee.borderTopWidth,Ee.paddingTop,Qe.marginTop,Qe.borderTopWidth].reduce(De,0)):"static"!==Ee.position&&(N.x-=[Ee.marginLeft,Ee.borderLeftWidth].reduce(De,0),N.y-=[Ee.marginTop,Ee.borderTopWidth].reduce(De,0)),N}function so(X){var De,Ee=X.document;Ee.getElementById(Je)||(De=(new X.DOMParser).parseFromString(st,"image/svg+xml"),Ee.body.appendChild(De.documentElement),ti(X,Bn))}function po(X,De){De!==X.isShown&&(!!De!=!!X.isShown&&(X.svg.style.visibility=De?"":"hidden"),X.isShown=De,X.events&&X.events.svgShow&&X.events.svgShow.forEach(function(Ee){Ee(X,De)}))}function Qr(X,De){var Ee,Qe,N,q,he,ge,Ie,it,Ze,nt,dt,mt,It,kt,Ct,At,Lt,mn,Yt,ln,Vt,tn,hn,bt,Kt,pn,vn,ci,ni,Qi,tr,ji,er,Ui,Ti,ki,Qn,pr,Ki,wr,Sr,to,zr,gr={};De.line&&(gr.line=(it=(Ee=X).options,nt=!1,nt=Ci(Ee,Qe=Ee.curStats,"line_color",it.lineColor,(Ze=Ee.events).cur_line_color)||nt,nt=Ci(Ee,Qe,"line_colorTra",Mr(Qe.line_color)[0]<1)||nt,nt=Ci(Ee,Qe,"line_strokeWidth",it.lineSize,Ze.cur_line_strokeWidth)||nt)),(De.plug||gr.line)&&(gr.plug=(q=(N=X).options,he=N.curStats,ge=N.events,Ie=!1,[0,1].forEach(function(Vn){var ur,Dr,M,ie,Me,Re,W,R,_=q.plugSE[Vn];Ie=Ci(N,he.plug_enabledSE,Vn,_!==Xe)||Ie,Ie=Ci(N,he.plug_plugSE,Vn,_)||Ie,Ie=Ci(N,he.plug_colorSE,Vn,R=q.plugColorSE[Vn]||he.line_color,ge.cur_plug_colorSE)||Ie,Ie=Ci(N,he.plug_colorTraSE,Vn,Mr(R)[0]<1)||Ie,_!==Xe&&(ie=Dr=(ur=Et[Tt[_]]).widthR*q.plugSizeSE[Vn],Me=M=ur.heightR*q.plugSizeSE[Vn],ei&&(ie*=he.line_strokeWidth,Me*=he.line_strokeWidth),Ie=Ci(N,he.plug_markerWidthSE,Vn,ie)||Ie,Ie=Ci(N,he.plug_markerHeightSE,Vn,Me)||Ie,he.capsMaskMarker_markerWidthSE[Vn]=Dr,he.capsMaskMarker_markerHeightSE[Vn]=M),he.plugOutline_plugSE[Vn]=he.capsMaskMarker_plugSE[Vn]=_,he.plug_enabledSE[Vn]?(he.position_plugOverheadSE[Vn]=ur.overhead*(R=he.line_strokeWidth/$i.lineSize*q.plugSizeSE[Vn]),he.viewBox_plugBCircleSE[Vn]=ur.bCircle*R,Re=ur.sideLen*R,W=ur.backLen*R):(he.position_plugOverheadSE[Vn]=-he.line_strokeWidth/2,he.viewBox_plugBCircleSE[Vn]=Re=W=0),Ci(N,he.attach_plugSideLenSE,Vn,Re,ge.cur_attach_plugSideLenSE),Ci(N,he.attach_plugBackLenSE,Vn,W,ge.cur_attach_plugBackLenSE),he.capsMaskAnchor_enabledSE[Vn]=!he.plug_enabledSE[Vn]}),Ie=Ci(N,he,"plug_enabled",he.plug_enabledSE[0]||he.plug_enabledSE[1])||Ie)),(De.lineOutline||gr.line)&&(gr.lineOutline=(Ze=(it=X).options,hn=!1,hn=Ci(it,nt=it.curStats,"lineOutline_enabled",Ze.lineOutlineEnabled)||hn,hn=Ci(it,nt,"lineOutline_color",Ze.lineOutlineColor)||hn,hn=Ci(it,nt,"lineOutline_colorTra",Mr(nt.lineOutline_color)[0]<1)||hn,hn=Ci(it,nt,"lineOutline_strokeWidth",nt.line_strokeWidth-2*(Ze=nt.line_strokeWidth*Ze.lineOutlineSize))||hn,hn=Ci(it,nt,"lineOutline_inStrokeWidth",nt.lineOutline_colorTra?nt.lineOutline_strokeWidth+2*Vi:nt.line_strokeWidth-Ze)||hn)),(De.plugOutline||gr.line||gr.plug||gr.lineOutline)&&(gr.plugOutline=(mt=(dt=X).options,It=dt.curStats,kt=!1,[0,1].forEach(function(Vn){var ur=It.plugOutline_plugSE[Vn],Dr=ur!==Xe?Et[Tt[ur]]:null;kt=Ci(dt,It.plugOutline_enabledSE,Vn,mt.plugOutlineEnabledSE[Vn]&&It.plug_enabled&&It.plug_enabledSE[Vn]&&!!Dr&&!!Dr.outlineBase)||kt,kt=Ci(dt,It.plugOutline_colorSE,Vn,ur=mt.plugOutlineColorSE[Vn]||It.lineOutline_color)||kt,kt=Ci(dt,It.plugOutline_colorTraSE,Vn,Mr(ur)[0]<1)||kt,Dr&&Dr.outlineBase&&((ur=mt.plugOutlineSizeSE[Vn])>Dr.outlineMax&&(ur=Dr.outlineMax),kt=Ci(dt,It.plugOutline_strokeWidthSE,Vn,ur*=2*Dr.outlineBase)||kt,kt=Ci(dt,It.plugOutline_inStrokeWidthSE,Vn,It.plugOutline_colorTraSE[Vn]?ur-Vi/(It.line_strokeWidth/$i.lineSize)/mt.plugSizeSE[Vn]*2:ur/2)||kt)}),kt)),(De.faces||gr.line||gr.plug||gr.lineOutline||gr.plugOutline)&&(gr.faces=(Lt=(Ct=X).curStats,mn=Ct.aplStats,Yt=Ct.events,ln=!1,!Lt.line_altColor&&Ci(Ct,mn,"line_color",At=Lt.line_color,Yt.apl_line_color)&&(Ct.lineFace.style.stroke=At,ln=!0),Ci(Ct,mn,"line_strokeWidth",At=Lt.line_strokeWidth,Yt.apl_line_strokeWidth)&&(Ct.lineShape.style.strokeWidth=At+"px",ln=!0,(Bn||Wn)&&(ir(Ct,Ct.lineShape),Wn&&(ir(Ct,Ct.lineFace),ir(Ct,Ct.lineMaskCaps)))),Ci(Ct,mn,"lineOutline_enabled",At=Lt.lineOutline_enabled,Yt.apl_lineOutline_enabled)&&(Ct.lineOutlineFace.style.display=At?"inline":"none",ln=!0),Lt.lineOutline_enabled&&(Ci(Ct,mn,"lineOutline_color",At=Lt.lineOutline_color,Yt.apl_lineOutline_color)&&(Ct.lineOutlineFace.style.stroke=At,ln=!0),Ci(Ct,mn,"lineOutline_strokeWidth",At=Lt.lineOutline_strokeWidth,Yt.apl_lineOutline_strokeWidth)&&(Ct.lineOutlineMaskShape.style.strokeWidth=At+"px",ln=!0,Wn&&(ir(Ct,Ct.lineOutlineMaskCaps),ir(Ct,Ct.lineOutlineFace))),Ci(Ct,mn,"lineOutline_inStrokeWidth",At=Lt.lineOutline_inStrokeWidth,Yt.apl_lineOutline_inStrokeWidth)&&(Ct.lineMaskShape.style.strokeWidth=At+"px",ln=!0,Wn&&(ir(Ct,Ct.lineOutlineMaskCaps),ir(Ct,Ct.lineOutlineFace)))),Ci(Ct,mn,"plug_enabled",At=Lt.plug_enabled,Yt.apl_plug_enabled)&&(Ct.plugsFace.style.display=At?"inline":"none",ln=!0),Lt.plug_enabled&&[0,1].forEach(function(Vn){var ur=Lt.plug_plugSE[Vn],Dr=ur!==Xe?Et[Tt[ur]]:null,M=Ir(Vn,Dr);Ci(Ct,mn.plug_enabledSE,Vn,At=Lt.plug_enabledSE[Vn],Yt.apl_plug_enabledSE)&&(Ct.plugsFace.style[M.prop]=At?"url(#"+Ct.plugMarkerIdSE[Vn]+")":"none",ln=!0),Lt.plug_enabledSE[Vn]&&(Ci(Ct,mn.plug_plugSE,Vn,ur,Yt.apl_plug_plugSE)&&(Ct.plugFaceSE[Vn].href.baseVal="#"+Dr.elmId,Ur(Ct,Ct.plugMarkerSE[Vn],M.orient,Dr.bBox,Ct.svg,Ct.plugMarkerShapeSE[Vn],Ct.plugsFace),ln=!0,Bn&&ir(Ct,Ct.plugsFace)),Ci(Ct,mn.plug_colorSE,Vn,At=Lt.plug_colorSE[Vn],Yt.apl_plug_colorSE)&&(Ct.plugFaceSE[Vn].style.fill=At,ln=!0,(Nn||ei||Wn)&&!Lt.line_colorTra&&ir(Ct,Wn?Ct.lineMaskCaps:Ct.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(ie){var Me="plug_"+ie+"SE";Ci(Ct,mn[Me],Vn,At=Lt[Me][Vn],Yt["apl_"+Me])&&(Ct.plugMarkerSE[Vn][ie].baseVal.value=At,ln=!0)}),Ci(Ct,mn.plugOutline_enabledSE,Vn,At=Lt.plugOutline_enabledSE[Vn],Yt.apl_plugOutline_enabledSE)&&(At?(Ct.plugFaceSE[Vn].style.mask="url(#"+Ct.plugMaskIdSE[Vn]+")",Ct.plugOutlineFaceSE[Vn].style.display="inline"):(Ct.plugFaceSE[Vn].style.mask="none",Ct.plugOutlineFaceSE[Vn].style.display="none"),ln=!0),Lt.plugOutline_enabledSE[Vn]&&(Ci(Ct,mn.plugOutline_plugSE,Vn,ur,Yt.apl_plugOutline_plugSE)&&(Ct.plugOutlineFaceSE[Vn].href.baseVal=Ct.plugMaskShapeSE[Vn].href.baseVal=Ct.plugOutlineMaskShapeSE[Vn].href.baseVal="#"+Dr.elmId,[Ct.plugMaskSE[Vn],Ct.plugOutlineMaskSE[Vn]].forEach(function(ie){ie.x.baseVal.value=Dr.bBox.left,ie.y.baseVal.value=Dr.bBox.top,ie.width.baseVal.value=Dr.bBox.width,ie.height.baseVal.value=Dr.bBox.height}),ln=!0),Ci(Ct,mn.plugOutline_colorSE,Vn,At=Lt.plugOutline_colorSE[Vn],Yt.apl_plugOutline_colorSE)&&(Ct.plugOutlineFaceSE[Vn].style.fill=At,ln=!0,Wn&&(ir(Ct,Ct.lineMaskCaps),ir(Ct,Ct.lineOutlineMaskCaps))),Ci(Ct,mn.plugOutline_strokeWidthSE,Vn,At=Lt.plugOutline_strokeWidthSE[Vn],Yt.apl_plugOutline_strokeWidthSE)&&(Ct.plugOutlineMaskShapeSE[Vn].style.strokeWidth=At+"px",ln=!0),Ci(Ct,mn.plugOutline_inStrokeWidthSE,Vn,At=Lt.plugOutline_inStrokeWidthSE[Vn],Yt.apl_plugOutline_inStrokeWidthSE)&&(Ct.plugMaskShapeSE[Vn].style.strokeWidth=At+"px",ln=!0)))}),ln)),(De.position||gr.line||gr.plug)&&(gr.position=function yo(X){var De,Ee,Qe,N,q,he,ge,Ie,it,Ze,nt,dt,mt,It,kt=X.options,Ct=X.curStats,At=X.aplStats,Lt=Ct.position_socketXYSE,mn=!1;function Yt(Vt,tn){return(Vt=tn===ye?{x:Vt.left+Vt.width/2,y:Vt.top}:tn===Te?{x:Vt.right,y:Vt.top+Vt.height/2}:tn===Ue?{x:Vt.left+Vt.width/2,y:Vt.bottom}:{x:Vt.left,y:Vt.top+Vt.height/2}).socketId=tn,Vt}function ln(Vt){return{x:Vt.x,y:Vt.y}}if(Ct.position_path=kt.path,Ct.position_lineStrokeWidth=Ct.line_strokeWidth,Ct.position_socketGravitySE=De=dr(kt.socketGravitySE),Ee=[0,1].map(function(Vt){var tn=kt.anchorSE[Vt],hn=X.optionIsAttach.anchorSE[Vt],bt=!1!==hn?qi[tn._id]:null,Kt=!1!==hn&&bt.conf.getStrokeWidth?bt.conf.getStrokeWidth(bt,X):0,pn=!1!==hn&&bt.conf.getBBoxNest?bt.conf.getBBoxNest(bt,X,Kt):Yr(tn,X.baseWindow);return Ct.capsMaskAnchor_pathDataSE[Vt]=!1!==hn&&bt.conf.getPathData?bt.conf.getPathData(bt,X,Kt):(hn=null!=(tn=pn).right?tn.right:tn.left+tn.width,[{type:"M",values:[tn.left,tn.top]},{type:"L",values:[hn,tn.top]},{type:"L",values:[hn,bt=null!=tn.bottom?tn.bottom:tn.top+tn.height]},{type:"L",values:[tn.left,bt]},{type:"Z",values:[]}]),Ct.capsMaskAnchor_strokeWidthSE[Vt]=Kt,pn}),ge=-1,kt.socketSE[0]&&kt.socketSE[1]?(Lt[0]=Yt(Ee[0],kt.socketSE[0]),Lt[1]=Yt(Ee[1],kt.socketSE[1])):(kt.socketSE[0]||kt.socketSE[1]?(he=kt.socketSE[0]?(q=0,1):(q=1,0),Lt[q]=Yt(Ee[q],kt.socketSE[q]),(N=Nt.map(function(Vt){return Yt(Ee[he],Vt)})).forEach(function(Vt){var tn=Xr(Vt,Lt[q]);(tn<ge||-1===ge)&&(Lt[he]=Vt,ge=tn)})):(N=Nt.map(function(Vt){return Yt(Ee[1],Vt)}),Nt.map(function(Vt){return Yt(Ee[0],Vt)}).forEach(function(Vt){N.forEach(function(tn){var hn=Xr(Vt,tn);(hn<ge||-1===ge)&&(Lt[0]=Vt,Lt[1]=tn,ge=hn)})})),[0,1].forEach(function(Vt){var tn,hn;kt.socketSE[Vt]||(Ee[Vt].width||Ee[Vt].height?Ee[Vt].width||Lt[Vt].socketId!==ce&&Lt[Vt].socketId!==Te?Ee[Vt].height||Lt[Vt].socketId!==ye&&Lt[Vt].socketId!==Ue||(Lt[Vt].socketId=0<=Lt[Vt?0:1].y-Ee[Vt].top?Ue:ye):Lt[Vt].socketId=0<=Lt[Vt?0:1].x-Ee[Vt].left?Te:ce:(tn=Lt[Vt?0:1].x-Ee[Vt].left,hn=Lt[Vt?0:1].y-Ee[Vt].top,Lt[Vt].socketId=Math.abs(tn)>=Math.abs(hn)?0<=tn?Te:ce:0<=hn?Ue:ye))})),Ct.position_path!==At.position_path||Ct.position_lineStrokeWidth!==At.position_lineStrokeWidth||[0,1].some(function(Vt){return Ct.position_plugOverheadSE[Vt]!==At.position_plugOverheadSE[Vt]||(tn=Lt[Vt]).x!==(hn=At.position_socketXYSE[Vt]).x||tn.y!==hn.y||tn.socketId!==hn.socketId||(hn=At.position_socketGravitySE[Vt],(Vt=null==(tn=De[Vt])?"auto":Array.isArray(tn)?"array":"number")!=(null==hn?"auto":Array.isArray(hn)?"array":"number")||("array"==Vt?tn[0]!==hn[0]||tn[1]!==hn[1]:tn!==hn));var tn,hn})){switch(X.pathList.baseVal=Qe=[],X.pathList.animVal=null,Ct.position_path){case qe:Qe.push([ln(Lt[0]),ln(Lt[1])]);break;case xe:dt=(mt=bn*((dt="number"==typeof De[0]&&0<De[0]||"number"==typeof De[1]&&0<De[1])?-1:1))-(It=Math.atan2(Lt[1].y-Lt[0].y,Lt[1].x-Lt[0].x)),It=Math.PI-It-mt,mt=Xr(Lt[0],Lt[1])/Math.sqrt(2)*Oi,dt={x:Lt[0].x+Math.cos(dt)*mt,y:Lt[0].y+Math.sin(dt)*mt*-1},mt={x:Lt[1].x+Math.cos(It)*mt,y:Lt[1].y+Math.sin(It)*mt*-1},Qe.push([ln(Lt[0]),dt,mt,ln(Lt[1])]);break;case We:case et:it=[De[0],Ct.position_path===et?0:De[1]],Ze=[],nt=[],Lt.forEach(function(Vt,tn){var hn,bt=it[tn],Kt=Array.isArray(bt)?{x:bt[0],y:bt[1]}:"number"==typeof bt?Vt.socketId===ye?{x:0,y:-bt}:Vt.socketId===Te?{x:bt,y:0}:Vt.socketId===Ue?{x:0,y:bt}:{x:-bt,y:0}:(hn=Lt[tn?0:1],bt=0<(bt=Ct.position_plugOverheadSE[tn])?xi+(_i<bt?(bt-_i)*mi:0):Mn+(Ct.position_lineStrokeWidth>gn?(Ct.position_lineStrokeWidth-gn)*zn:0),Vt.socketId===ye?{x:0,y:-(Kt=(Kt=(Vt.y-hn.y)/2)<bt?bt:Kt)}:Vt.socketId===Te?{x:Kt=(Kt=(hn.x-Vt.x)/2)<bt?bt:Kt,y:0}:Vt.socketId===Ue?{x:0,y:Kt=(Kt=(hn.y-Vt.y)/2)<bt?bt:Kt}:{x:-(Kt=(Kt=(Vt.x-hn.x)/2)<bt?bt:Kt),y:0});Ze[tn]=Vt.x+Kt.x,nt[tn]=Vt.y+Kt.y}),Qe.push([ln(Lt[0]),{x:Ze[0],y:nt[0]},{x:Ze[1],y:nt[1]},ln(Lt[1])]);break;case xt:!function(){var Vt,tn=1,hn=2,bt=3,Kt=4,pn=[[],[]],vn=[];function ci(ki){return ki===tn?bt:ki===hn?Kt:ki===bt?tn:hn}function ni(ki){return ki===hn||ki===Kt?"x":"y"}function Qi(ki,Qn,pr){var Ki={x:ki.x,y:ki.y};if(pr){if(pr===ci(ki.dirId))throw new Error("Invalid dirId: "+pr);Ki.dirId=pr}else Ki.dirId=ki.dirId;return Ki.dirId===tn?Ki.y-=Qn:Ki.dirId===hn?Ki.x+=Qn:Ki.dirId===bt?Ki.y+=Qn:Ki.x-=Qn,Ki}function tr(ki,Qn){return Qn.dirId===tn?ki.y<=Qn.y:Qn.dirId===hn?ki.x>=Qn.x:Qn.dirId===bt?ki.y>=Qn.y:ki.x<=Qn.x}function ji(ki,Qn){return Qn.dirId===tn||Qn.dirId===bt?ki.x===Qn.x:ki.y===Qn.y}function er(ki){return ki[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function Ui(ki,Qn,pr){return Math.abs(Qn[pr]-ki[pr])}function Ti(ki,Qn,pr){return"x"===pr?ki.x<Qn.x?hn:Kt:ki.y<Qn.y?bt:tn}for(Lt.forEach(function(ki,Qn){var pr=ln(ki),Ki=De[Qn];ki=Array.isArray(Ki)?Ki[0]<0?[Kt,-Ki[0]]:0<Ki[0]?[hn,Ki[0]]:Ki[1]<0?[tn,-Ki[1]]:0<Ki[1]?[bt,Ki[1]]:[ki.socketId,0]:"number"!=typeof Ki?[ki.socketId,gi]:0<=Ki?[ki.socketId,Ki]:[ci(ki.socketId),-Ki],pr.dirId=ki[0],Ki=ki[1],pn[Qn].push(pr),vn[Qn]=Qi(pr,Ki)});function(){var ki,Qn,pr,Ki,wr=[tr(vn[1],vn[0]),tr(vn[0],vn[1])],Sr=[ni(vn[0].dirId),ni(vn[1].dirId)];if(Sr[0]===Sr[1]){if(wr[0]&&wr[1])return void(ji(vn[1],vn[0])||(vn[0][Sr[0]]===vn[1][Sr[1]]?(pn[0].push(vn[0]),pn[1].push(vn[1])):(ki=vn[0][Sr[0]]+(vn[1][Sr[1]]-vn[0][Sr[0]])/2,pn[0].push(Qi(vn[0],Math.abs(ki-vn[0][Sr[0]]))),pn[1].push(Qi(vn[1],Math.abs(ki-vn[1][Sr[1]]))))));wr[0]!==wr[1]?(Qn=er(wr),(pr=Ui(vn[Qn.notContain],vn[Qn.contain],Sr[Qn.notContain]))<gi&&(vn[Qn.notContain]=Qi(vn[Qn.notContain],gi-pr)),pn[Qn.notContain].push(vn[Qn.notContain]),vn[Qn.notContain]=Qi(vn[Qn.notContain],gi,ji(vn[Qn.contain],vn[Qn.notContain])?"x"===Sr[Qn.notContain]?bt:hn:Ti(vn[Qn.notContain],vn[Qn.contain],"x"===Sr[Qn.notContain]?"y":"x"))):(pr=Ui(vn[0],vn[1],"x"===Sr[0]?"y":"x"),pn.forEach(function(to,zr){var gr=0===zr?1:0;to.push(vn[zr]),vn[zr]=Qi(vn[zr],gi,2*gi<=pr?Ti(vn[zr],vn[gr],"x"===Sr[zr]?"y":"x"):"x"===Sr[zr]?bt:hn)}))}else{if(wr[0]&&wr[1])return void(ji(vn[1],vn[0])?pn[1].push(vn[1]):ji(vn[0],vn[1])?pn[0].push(vn[0]):pn[0].push("x"===Sr[0]?{x:vn[1].x,y:vn[0].y}:{x:vn[0].x,y:vn[1].y}));wr[0]!==wr[1]?(Qn=er(wr),pn[Qn.notContain].push(vn[Qn.notContain]),vn[Qn.notContain]=Qi(vn[Qn.notContain],gi,Ui(vn[Qn.notContain],vn[Qn.contain],Sr[Qn.contain])>=gi?Ti(vn[Qn.notContain],vn[Qn.contain],Sr[Qn.contain]):vn[Qn.contain].dirId)):(Ki=[{x:vn[0].x,y:vn[0].y},{x:vn[1].x,y:vn[1].y}],pn.forEach(function(to,zr){var gr=0===zr?1:0,Vn=Ui(Ki[zr],Ki[gr],Sr[zr]);Vn<gi&&(vn[zr]=Qi(vn[zr],gi-Vn)),to.push(vn[zr]),vn[zr]=Qi(vn[zr],gi,Ti(vn[zr],vn[gr],Sr[gr]))}))}return 1}(););pn[1].reverse(),pn[0].concat(pn[1]).forEach(function(ki,Qn){ki={x:ki.x,y:ki.y},0<Qn&&Qe.push([Vt,ki]),Vt=ki})}()}Ie=[],Ct.position_plugOverheadSE.forEach(function(Vt,tn){var hn,bt,Kt,pn,vn,ci,ni,Qi,tr,ji=!tn;0<Vt?2===(hn=Qe[bt=ji?0:Qe.length-1]).length?(Ie[bt]=Ie[bt]||Xr.apply(null,hn),Ie[bt]>Pi&&(Ie[bt]-Vt<Pi&&(Vt=Ie[bt]-Pi),ni=An(hn[0],hn[1],(ji?Vt:Ie[bt]-Vt)/Ie[bt]),Qe[bt]=ji?[ni,hn[1]]:[hn[0],ni],Ie[bt]-=Vt)):(Ie[bt]=Ie[bt]||ai.apply(null,hn),Ie[bt]>Pi&&(Ie[bt]-Vt<Pi&&(Vt=Ie[bt]-Pi),ni=pi(hn[0],hn[1],hn[2],hn[3],Ei(hn[0],hn[1],hn[2],hn[3],ji?Vt:Ie[bt]-Vt)),pn=ji?(Kt=hn[0],ni.toP1):(Kt=hn[3],ni.fromP2),vn=Math.atan2(Kt.y-ni.y,ni.x-Kt.x),ci=Xr(ni,pn),ni.x=Kt.x+Math.cos(vn)*Vt,ni.y=Kt.y+Math.sin(vn)*Vt*-1,pn.x=ni.x+Math.cos(vn)*ci,pn.y=ni.y+Math.sin(vn)*ci*-1,Qe[bt]=ji?[ni,ni.toP1,ni.toP2,hn[3]]:[hn[0],ni.fromP1,ni.fromP2,ni],Ie[bt]=null)):Vt<0&&(hn=Qe[bt=ji?0:Qe.length-1],tn=-Ee[tn]["x"==(Qi=(ni=Lt[tn].socketId)===ce||ni===Te?"x":"y")?"width":"height"],tr=(Vt=Vt<tn?tn:Vt)*(ni===ce||ni===ye?-1:1),2===hn.length?hn[ji?0:hn.length-1][Qi]+=tr:(ji?[0,1]:[hn.length-2,hn.length-1]).forEach(function(er){hn[er][Qi]+=tr}),Ie[bt]=null)}),At.position_socketXYSE=dr(Lt),At.position_plugOverheadSE=dr(Ct.position_plugOverheadSE),At.position_path=Ct.position_path,At.position_lineStrokeWidth=Ct.position_lineStrokeWidth,At.position_socketGravitySE=dr(De),mn=!0,X.events.apl_position&&X.events.apl_position.forEach(function(Vt){Vt(X,Qe)})}return mn}(X)),(De.path||gr.position)&&(gr.path=(hn=(Vt=X).curStats,vn=Vt.aplStats,bt=hn.path_edge,ci=!1,(pn=Vt.pathList.animVal||Vt.pathList.baseVal)&&(bt.x1=bt.x2=pn[0][0].x,bt.y1=bt.y2=pn[0][0].y,hn.path_pathData=tn=Ji(pn,function(Vn){Vn.x<bt.x1&&(bt.x1=Vn.x),Vn.y<bt.y1&&(bt.y1=Vn.y),Vn.x>bt.x2&&(bt.x2=Vn.x),Vn.y>bt.y2&&(bt.y2=Vn.y)}),or(tn,vn.path_pathData)&&(Vt.linePath.setPathData(tn),vn.path_pathData=tn,ci=!0,Wn?(ir(Vt,Vt.plugsFace),ir(Vt,Vt.lineMaskCaps)):Bn&&ir(Vt,Vt.linePath),Vt.events.apl_path&&Vt.events.apl_path.forEach(function(Vn){Vn(Vt,tn)}))),ci)),gr.viewBox=(ci=(pn=(Kt=X).curStats).path_edge,ni=pn.viewBox_bBox,Qi=(vn=Kt.aplStats).viewBox_bBox,tr=Kt.svg.viewBox.baseVal,ji=Kt.svg.style,er=!1,vn=Math.max(pn.line_strokeWidth/2,pn.viewBox_plugBCircleSE[0]||0,pn.viewBox_plugBCircleSE[1]||0),Ui={x1:ci.x1-vn,y1:ci.y1-vn,x2:ci.x2+vn,y2:ci.y2+vn},Kt.events.new_edge4viewBox&&Kt.events.new_edge4viewBox.forEach(function(Vn){Vn(Kt,Ui)}),ni.x=pn.lineMask_x=pn.lineOutlineMask_x=pn.maskBGRect_x=Ui.x1,ni.y=pn.lineMask_y=pn.lineOutlineMask_y=pn.maskBGRect_y=Ui.y1,ni.width=Ui.x2-Ui.x1,ni.height=Ui.y2-Ui.y1,["x","y","width","height"].forEach(function(Vn){var ur;(ur=ni[Vn])!==Qi[Vn]&&(tr[Vn]=Qi[Vn]=ur,ji[Ht[Vn]]=ur+("x"===Vn||"y"===Vn?Kt.bodyOffset[Vn]:0)+"px",er=!0)}),er),gr.mask=(Qn=(Ti=X).curStats,pr=Ti.aplStats,Ki=!1,Qn.plug_enabled?[0,1].forEach(function(Vn){Qn.capsMaskMarker_enabledSE[Vn]=Qn.plug_enabledSE[Vn]&&Qn.plug_colorTraSE[Vn]||Qn.plugOutline_enabledSE[Vn]&&Qn.plugOutline_colorTraSE[Vn]}):Qn.capsMaskMarker_enabledSE[0]=Qn.capsMaskMarker_enabledSE[1]=!1,Qn.capsMaskMarker_enabled=Qn.capsMaskMarker_enabledSE[0]||Qn.capsMaskMarker_enabledSE[1],Qn.lineMask_outlineMode=Qn.lineOutline_enabled,Qn.caps_enabled=Qn.capsMaskMarker_enabled||Qn.capsMaskAnchor_enabledSE[0]||Qn.capsMaskAnchor_enabledSE[1],Qn.lineMask_enabled=Qn.caps_enabled||Qn.lineMask_outlineMode,(Qn.lineMask_enabled&&!Qn.lineMask_outlineMode||Qn.lineOutline_enabled)&&["x","y"].forEach(function(Vn){var ur="maskBGRect_"+Vn;Ci(Ti,pr,ur,ki=Qn[ur])&&(Ti.maskBGRect[Vn].baseVal.value=ki,Ki=!0)}),Ci(Ti,pr,"lineMask_enabled",ki=Qn.lineMask_enabled)&&(Ti.lineFace.style.mask=ki?"url(#"+Ti.lineMaskId+")":"none",Ki=!0,ei&&ir(Ti,Ti.lineMask)),Qn.lineMask_enabled&&(Ci(Ti,pr,"lineMask_outlineMode",ki=Qn.lineMask_outlineMode)&&(ki?(Ti.lineMaskBG.style.display="none",Ti.lineMaskShape.style.display="inline"):(Ti.lineMaskBG.style.display="inline",Ti.lineMaskShape.style.display="none"),Ki=!0),["x","y"].forEach(function(Vn){var ur="lineMask_"+Vn;Ci(Ti,pr,ur,ki=Qn[ur])&&(Ti.lineMask[Vn].baseVal.value=ki,Ki=!0)}),Ci(Ti,pr,"caps_enabled",ki=Qn.caps_enabled)&&(Ti.lineMaskCaps.style.display=Ti.lineOutlineMaskCaps.style.display=ki?"inline":"none",Ki=!0,ei&&ir(Ti,Ti.capsMaskLine)),Qn.caps_enabled&&([0,1].forEach(function(Vn){var ur;Ci(Ti,pr.capsMaskAnchor_enabledSE,Vn,ki=Qn.capsMaskAnchor_enabledSE[Vn])&&(Ti.capsMaskAnchorSE[Vn].style.display=ki?"inline":"none",Ki=!0,ei&&ir(Ti,Ti.lineMask)),Qn.capsMaskAnchor_enabledSE[Vn]&&(or(ur=Qn.capsMaskAnchor_pathDataSE[Vn],pr.capsMaskAnchor_pathDataSE[Vn])&&(Ti.capsMaskAnchorSE[Vn].setPathData(ur),pr.capsMaskAnchor_pathDataSE[Vn]=ur,Ki=!0),Ci(Ti,pr.capsMaskAnchor_strokeWidthSE,Vn,ki=Qn.capsMaskAnchor_strokeWidthSE[Vn])&&(Ti.capsMaskAnchorSE[Vn].style.strokeWidth=ki+"px",Ki=!0))}),Ci(Ti,pr,"capsMaskMarker_enabled",ki=Qn.capsMaskMarker_enabled)&&(Ti.capsMaskLine.style.display=ki?"inline":"none",Ki=!0),Qn.capsMaskMarker_enabled&&[0,1].forEach(function(Vn){var ur=Qn.capsMaskMarker_plugSE[Vn],Dr=ur!==Xe?Et[Tt[ur]]:null,M=Ir(Vn,Dr);Ci(Ti,pr.capsMaskMarker_enabledSE,Vn,ki=Qn.capsMaskMarker_enabledSE[Vn])&&(Ti.capsMaskLine.style[M.prop]=ki?"url(#"+Ti.lineMaskMarkerIdSE[Vn]+")":"none",Ki=!0),Qn.capsMaskMarker_enabledSE[Vn]&&(Ci(Ti,pr.capsMaskMarker_plugSE,Vn,ur)&&(Ti.capsMaskMarkerShapeSE[Vn].href.baseVal="#"+Dr.elmId,Ur(Ti,Ti.capsMaskMarkerSE[Vn],M.orient,Dr.bBox,Ti.svg,Ti.capsMaskMarkerShapeSE[Vn],Ti.capsMaskLine),Ki=!0,Bn&&(ir(Ti,Ti.capsMaskLine),ir(Ti,Ti.lineFace))),["markerWidth","markerHeight"].forEach(function(ie){var Me="capsMaskMarker_"+ie+"SE";Ci(Ti,pr[Me],Vn,ki=Qn[Me][Vn])&&(Ti.capsMaskMarkerSE[Vn][ie].baseVal.value=ki,Ki=!0)}))}))),Qn.lineOutline_enabled&&["x","y"].forEach(function(Vn){var ur="lineOutlineMask_"+Vn;Ci(Ti,pr,ur,ki=Qn[ur])&&(Ti.lineOutlineMask[Vn].baseVal.value=ki,Ki=!0)}),Ki),De.effect&&(to=(wr=X).curStats,zr=wr.aplStats,Object.keys(ke).forEach(function(ie){var ur=ke[ie],Dr=ie+"_enabled",M=ie+"_options";ie=to[M],Ci(wr,zr,Dr,Sr=to[Dr])?(Sr&&(zr[M]=dr(ie)),ur[Sr?"init":"remove"](wr)):Sr&&hr(ie,zr[M])&&(ur.remove(wr),zr[Dr]=!0,zr[M]=dr(ie),ur.init(wr))})),(Nn||ei)&&gr.line&&!gr.path&&ir(X,X.lineShape),Nn&&gr.plug&&!gr.line&&ir(X,X.plugsFace),_r(X)}function Co(X,De){return{duration:(Cn(X.duration)&&0<X.duration?X:De).duration,timing:Rn.validTiming(X.timing)?X.timing:dr(De.timing)}}function Xo(X,De,Ee,Qe){var N=X.curStats,q=X.aplStats,he={};function ge(){["show_on","show_effect","show_animOptions"].forEach(function(Ie){q[Ie]=N[Ie]})}N.show_on=De,Ee&&Ve[Ee]&&(N.show_effect=Ee,N.show_animOptions=Co(Li(Qe)?Qe:{},Ve[Ee].defaultAnimOptions)),he.show_on=N.show_on!==q.show_on,he.show_effect=N.show_effect!==q.show_effect,he.show_animOptions=hr(N.show_animOptions,q.show_animOptions),he.show_effect||he.show_animOptions?N.show_inAnim?(Ee=he.show_effect?Ve[q.show_effect].stop(X,!0,!0):Ve[q.show_effect].stop(X),ge(),Ve[q.show_effect].init(X,Ee)):he.show_on&&(q.show_effect&&he.show_effect&&Ve[q.show_effect].stop(X,!0,!0),ge(),Ve[q.show_effect].init(X)):he.show_on&&(ge(),Ve[q.show_effect].start(X))}function oa(X,De,Ee){return Ee={props:X,optionName:Ee},X.attachments.indexOf(De)<0&&(!De.conf.bind||De.conf.bind(De,Ee))&&(X.attachments.push(De),De.boundTargets.push(Ee),1)}function Lo(X,De,Ee){var Qe=X.attachments.indexOf(De);-1<Qe&&X.attachments.splice(Qe,1),De.boundTargets.some(function(N,q){return N.props===X&&(De.conf.unbind&&De.conf.unbind(De,N),Qe=q,!0)})&&(De.boundTargets.splice(Qe,1),Ee||yr(function(){De.boundTargets.length||de(De)}))}function Kr(X,De){var Ee,Qe,N,q,he,ge,Ie,it,Ze,nt,dt,mt,It,kt,Ct,At=X.options,Lt={};function mn(bt,Kt,pn,vn,ci){var ni={};return pn?null!=vn?(ni.container=bt[pn],ni.key=vn):(ni.container=bt,ni.key=pn):(ni.container=bt,ni.key=Kt),ni.default=ci,ni.acceptsAuto=null==ni.default,ni}function Yt(bt,Kt,pn,vn,ci,ni,Ui){var tr,ji,er;return Ui=mn(bt,pn,ci,ni,Ui),null!=Kt[pn]&&(ji=(Kt[pn]+"").toLowerCase())&&(Ui.acceptsAuto&&ji===en||(er=vn[ji]))&&er!==Ui.container[Ui.key]&&(Ui.container[Ui.key]=er,tr=!0),null!=Ui.container[Ui.key]||Ui.acceptsAuto||(Ui.container[Ui.key]=Ui.default,tr=!0),tr}function ln(bt,Kt,pn,vn,ci,ni,Qn,tr,ji){var er,Ui,Ti,ki;if(Qn=mn(bt,pn,ci,ni,Qn),!vn){if(null==Qn.default)throw new Error("Invalid `type`: "+pn);vn=typeof Qn.default}return null!=Kt[pn]&&(Qn.acceptsAuto&&(Kt[pn]+"").toLowerCase()===en||(Ti=Ui=Kt[pn],("number"===(ki=vn)?Cn(Ti):typeof Ti===ki)&&(Ui=ji&&"string"===vn&&Ui?Ui.trim():Ui,1)&&(!tr||tr(Ui))))&&Ui!==Qn.container[Qn.key]&&(Qn.container[Qn.key]=Ui,er=!0),null!=Qn.container[Qn.key]||Qn.acceptsAuto||(Qn.container[Qn.key]=Qn.default,er=!0),er}if(De=De||{},["start","end"].forEach(function(bt,Kt){var pn=De[bt],vn=!1;if(pn&&(jr(pn)||(vn=gt(pn,"anchor")))&&pn!==At.anchorSE[Kt]){if(!1!==X.optionIsAttach.anchorSE[Kt]&&Lo(X,qi[At.anchorSE[Kt]._id]),vn&&!oa(X,qi[pn._id],bt))throw new Error("Can't bind attachment");At.anchorSE[Kt]=pn,X.optionIsAttach.anchorSE[Kt]=vn,Ee=Lt.position=!0}}),!At.anchorSE[0]||!At.anchorSE[1]||At.anchorSE[0]===At.anchorSE[1])throw new Error("`start` and `end` are required.");function Vt(bt){var Kt=he.appendChild(kt.createElementNS(fn,"mask"));return Kt.id=bt,Kt.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[Kt.x,Kt.y,Kt.width,Kt.height].forEach(function(pn){pn.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),Kt}function tn(bt){var Kt=he.appendChild(kt.createElementNS(fn,"marker"));return Kt.id=bt,Kt.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,Kt.viewBox.baseVal||Kt.setAttribute("viewBox","0 0 0 0"),Kt}function hn(bt){return[bt.width,bt.height].forEach(function(Kt){Kt.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),bt}Ee&&(dt=function(bt,Kt){var pn,vn;if(!(bt=Ar(bt))||!(pn=Ar(Kt)))throw new Error("Cannot get frames.");return bt.length&&pn.length&&(bt.reverse(),pn.reverse(),bt.some(function(ci){return pn.some(function(ni){return ni===ci&&(vn=ni.contentWindow,!0)})})),vn||window}(!1!==X.optionIsAttach.anchorSE[0]?qi[At.anchorSE[0]._id].element:At.anchorSE[0],!1!==X.optionIsAttach.anchorSE[1]?qi[At.anchorSE[1]._id].element:At.anchorSE[1]))!==X.baseWindow&&(It=(Qe=X).aplStats,kt=(N=dt).document,Ct=Ge+"-"+Qe._id,Qe.pathList={},kr(It,si),Object.keys(ke).forEach(function(bt){var Kt=bt+"_enabled";It[Kt]&&(ke[bt].remove(Qe),It[Kt]=!1)}),Qe.baseWindow&&Qe.svg&&Qe.baseWindow.document.body.removeChild(Qe.svg),so(Qe.baseWindow=N),Qe.bodyOffset=fr(N),Qe.svg=q=kt.createElementNS(fn,"svg"),q.className.baseVal=Ge,q.viewBox.baseVal||q.setAttribute("viewBox","0 0 0 0"),Qe.defs=he=q.appendChild(kt.createElementNS(fn,"defs")),Qe.linePath=Ie=he.appendChild(kt.createElementNS(fn,"path")),Ie.id=it=Ct+"-line-path",Ie.className.baseVal=Ge+"-line-path",ei&&(Ie.style.fill="none"),Qe.lineShape=Ie=he.appendChild(kt.createElementNS(fn,"use")),Ie.id=Ze=Ct+"-line-shape",Ie.href.baseVal="#"+it,(ge=he.appendChild(kt.createElementNS(fn,"g"))).id=nt=Ct+"-caps",Qe.capsMaskAnchorSE=[0,1].map(function(){var bt=ge.appendChild(kt.createElementNS(fn,"path"));return bt.className.baseVal=Ge+"-caps-mask-anchor",bt}),Qe.lineMaskMarkerIdSE=[Ct+"-caps-mask-marker-0",Ct+"-caps-mask-marker-1"],Qe.capsMaskMarkerSE=[0,1].map(function(bt){return tn(Qe.lineMaskMarkerIdSE[bt])}),Qe.capsMaskMarkerShapeSE=[0,1].map(function(bt){return(bt=Qe.capsMaskMarkerSE[bt].appendChild(kt.createElementNS(fn,"use"))).className.baseVal=Ge+"-caps-mask-marker-shape",bt}),Qe.capsMaskLine=Ie=ge.appendChild(kt.createElementNS(fn,"use")),Ie.className.baseVal=Ge+"-caps-mask-line",Ie.href.baseVal="#"+Ze,Qe.maskBGRect=Ie=hn(he.appendChild(kt.createElementNS(fn,"rect"))),Ie.id=dt=Ct+"-mask-bg-rect",Ie.className.baseVal=Ge+"-mask-bg-rect",ei&&(Ie.style.fill="white"),Qe.lineMask=hn(Vt(Qe.lineMaskId=Ct+"-line-mask")),Qe.lineMaskBG=Ie=Qe.lineMask.appendChild(kt.createElementNS(fn,"use")),Ie.href.baseVal="#"+dt,Qe.lineMaskShape=Ie=Qe.lineMask.appendChild(kt.createElementNS(fn,"use")),Ie.className.baseVal=Ge+"-line-mask-shape",Ie.href.baseVal="#"+it,Ie.style.display="none",Qe.lineMaskCaps=Ie=Qe.lineMask.appendChild(kt.createElementNS(fn,"use")),Ie.href.baseVal="#"+nt,Qe.lineOutlineMask=hn(Vt(N=Ct+"-line-outline-mask")),(Ie=Qe.lineOutlineMask.appendChild(kt.createElementNS(fn,"use"))).href.baseVal="#"+dt,Qe.lineOutlineMaskShape=Ie=Qe.lineOutlineMask.appendChild(kt.createElementNS(fn,"use")),Ie.className.baseVal=Ge+"-line-outline-mask-shape",Ie.href.baseVal="#"+it,Qe.lineOutlineMaskCaps=Ie=Qe.lineOutlineMask.appendChild(kt.createElementNS(fn,"use")),Ie.href.baseVal="#"+nt,Qe.face=q.appendChild(kt.createElementNS(fn,"g")),Qe.lineFace=Ie=Qe.face.appendChild(kt.createElementNS(fn,"use")),Ie.href.baseVal="#"+Ze,Qe.lineOutlineFace=Ie=Qe.face.appendChild(kt.createElementNS(fn,"use")),Ie.href.baseVal="#"+Ze,Ie.style.mask="url(#"+N+")",Ie.style.display="none",Qe.plugMaskIdSE=[Ct+"-plug-mask-0",Ct+"-plug-mask-1"],Qe.plugMaskSE=[0,1].map(function(bt){return Vt(Qe.plugMaskIdSE[bt])}),Qe.plugMaskShapeSE=[0,1].map(function(bt){return(bt=Qe.plugMaskSE[bt].appendChild(kt.createElementNS(fn,"use"))).className.baseVal=Ge+"-plug-mask-shape",bt}),mt=[],Qe.plugOutlineMaskSE=[0,1].map(function(bt){return Vt(mt[bt]=Ct+"-plug-outline-mask-"+bt)}),Qe.plugOutlineMaskShapeSE=[0,1].map(function(bt){return(bt=Qe.plugOutlineMaskSE[bt].appendChild(kt.createElementNS(fn,"use"))).className.baseVal=Ge+"-plug-outline-mask-shape",bt}),Qe.plugMarkerIdSE=[Ct+"-plug-marker-0",Ct+"-plug-marker-1"],Qe.plugMarkerSE=[0,1].map(function(bt){return bt=tn(Qe.plugMarkerIdSE[bt]),ei&&(bt.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),bt}),Qe.plugMarkerShapeSE=[0,1].map(function(bt){return Qe.plugMarkerSE[bt].appendChild(kt.createElementNS(fn,"g"))}),Qe.plugFaceSE=[0,1].map(function(bt){return Qe.plugMarkerShapeSE[bt].appendChild(kt.createElementNS(fn,"use"))}),Qe.plugOutlineFaceSE=[0,1].map(function(bt){var Kt=Qe.plugMarkerShapeSE[bt].appendChild(kt.createElementNS(fn,"use"));return Kt.style.mask="url(#"+mt[bt]+")",Kt.style.display="none",Kt}),Qe.plugsFace=Ie=Qe.face.appendChild(kt.createElementNS(fn,"use")),Ie.className.baseVal=Ge+"-plugs-face",Ie.href.baseVal="#"+Ze,Ie.style.display="none",Qe.curStats.show_inAnim?(Qe.isShown=1,Ve[It.show_effect].stop(Qe,!0)):Qe.isShown||(q.style.visibility="hidden"),kt.body.appendChild(q),[0,1,2].forEach(function(pn){var Kt;(pn=Qe.options.labelSEM[pn])&&gt(pn,"label")&&(Kt=qi[pn._id]).conf.initSvg&&Kt.conf.initSvg(Kt,Qe)}),Lt.line=Lt.plug=Lt.lineOutline=Lt.plugOutline=Lt.faces=Lt.effect=!0),Lt.position=Yt(At,De,"path",ze,null,null,$i.path)||Lt.position,Lt.position=Yt(At,De,"startSocket",Oe,"socketSE",0)||Lt.position,Lt.position=Yt(At,De,"endSocket",Oe,"socketSE",1)||Lt.position,[De.startSocketGravity,De.endSocketGravity].forEach(function(bt,Kt){var pn,vn,ci=!1;null!=bt&&(Array.isArray(bt)?Cn(bt[0])&&Cn(bt[1])&&(ci=[bt[0],bt[1]],Array.isArray(At.socketGravitySE[Kt])&&(pn=ci).length===(vn=At.socketGravitySE[Kt]).length&&pn.every(function(ni,Qi){return ni===vn[Qi]})&&(ci=!1)):((bt+"").toLowerCase()===en?ci=null:Cn(bt)&&0<=bt&&(ci=bt),ci===At.socketGravitySE[Kt]&&(ci=!1)),!1!==ci&&(At.socketGravitySE[Kt]=ci,Lt.position=!0))}),Lt.line=ln(At,De,"color",null,"lineColor",null,$i.lineColor,null,!0)||Lt.line,Lt.line=ln(At,De,"size",null,"lineSize",null,$i.lineSize,function(bt){return 0<bt})||Lt.line,["startPlug","endPlug"].forEach(function(bt,Kt){Lt.plug=Yt(At,De,bt,Gt,"plugSE",Kt,$i.plugSE[Kt])||Lt.plug,Lt.plug=ln(At,De,bt+"Color","string","plugColorSE",Kt,null,null,!0)||Lt.plug,Lt.plug=ln(At,De,bt+"Size",null,"plugSizeSE",Kt,$i.plugSizeSE[Kt],function(pn){return 0<pn})||Lt.plug}),Lt.lineOutline=ln(At,De,"outline",null,"lineOutlineEnabled",null,$i.lineOutlineEnabled)||Lt.lineOutline,Lt.lineOutline=ln(At,De,"outlineColor",null,"lineOutlineColor",null,$i.lineOutlineColor,null,!0)||Lt.lineOutline,Lt.lineOutline=ln(At,De,"outlineSize",null,"lineOutlineSize",null,$i.lineOutlineSize,function(bt){return 0<bt&&bt<=.48})||Lt.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(bt,Kt){Lt.plugOutline=ln(At,De,bt,null,"plugOutlineEnabledSE",Kt,$i.plugOutlineEnabledSE[Kt])||Lt.plugOutline,Lt.plugOutline=ln(At,De,bt+"Color","string","plugOutlineColorSE",Kt,null,null,!0)||Lt.plugOutline,Lt.plugOutline=ln(At,De,bt+"Size",null,"plugOutlineSizeSE",Kt,$i.plugOutlineSizeSE[Kt],function(pn){return 1<=pn})||Lt.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(bt,Kt){var pn,vn,ci,ni=De[bt],Qi=At.labelSEM[Kt]&&!X.optionIsAttach.labelSEM[Kt]?qi[At.labelSEM[Kt]._id].text:At.labelSEM[Kt],tr=!1;if((pn="string"==typeof ni)&&(ni=ni.trim()),(pn||ni&&(tr=gt(ni,"label")))&&ni!==Qi){if(At.labelSEM[Kt]&&(Lo(X,qi[At.labelSEM[Kt]._id]),At.labelSEM[Kt]=""),ni){if(tr?(vn=qi[(ci=ni)._id]).boundTargets.slice().forEach(function(ji){vn.conf.removeOption(vn,ji)}):ci=new Ne(an.captionLabel,[ni]),!oa(X,qi[ci._id],bt))throw new Error("Can't bind attachment");At.labelSEM[Kt]=ci}X.optionIsAttach.labelSEM[Kt]=tr}}),Object.keys(ke).forEach(function(bt){var Kt,pn,vn=ke[bt],ci=bt+"_enabled",ni=bt+"_options";function Qi(ji){var er={};return vn.optionsConf.forEach(function(Ui){var Ti=Ui[0],ki=Ui[3];null==Ui[4]||er[ki]||(er[ki]=[]),("function"==typeof Ti?Ti:"id"===Ti?Yt:ln).apply(null,[er,ji].concat(Ui.slice(1)))}),er}function tr(ji){var er,Ui=bt+"_animOptions";return ji.hasOwnProperty("animation")?Li(ji.animation)?er=X.curStats[Ui]=Co(ji.animation,vn.defaultAnimOptions):X.curStats[Ui]=(er=!!ji.animation)?Co({},vn.defaultAnimOptions):null:X.curStats[Ui]=(er=!!vn.defaultEnabled)?Co({},vn.defaultAnimOptions):null,er}De.hasOwnProperty(bt)&&(Li(Kt=De[bt])?(X.curStats[ci]=!0,pn=X.curStats[ni]=Qi(Kt),vn.anim&&(X.curStats[ni].animation=tr(Kt))):(pn=X.curStats[ci]=!!Kt)&&(X.curStats[ni]=Qi({}),vn.anim&&(X.curStats[ni].animation=tr({}))),hr(pn,At[bt])&&(At[bt]=pn,Lt.effect=!0))}),Qr(X,Lt)}function Yi(X,De,Ee){var Qe={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};kr(Qe.curStats,si),kr(Qe.aplStats,si),Object.keys(ke).forEach(function(N){var q=ke[N].stats;kr(Qe.curStats,q),kr(Qe.aplStats,q),Qe.options[N]=!1}),kr(Qe.curStats,Jn),kr(Qe.aplStats,Jn),Qe.curStats.show_effect=bi,Qe.curStats.show_animOptions=dr(Ve[bi].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++Wi}),Qe._id=this._id,Ai[this._id]=Qe,1===arguments.length&&(Ee=X,X=null),Ee=Ee||{},(X||De)&&(Ee=dr(Ee),X&&(Ee.start=X),De&&(Ee.end=De)),Qe.isShown=Qe.aplStats.show_on=!Ee.hide,this.setOptions(Ee)}function Zr(X){return function(De){var Ee={};Ee[X]=De,this.setOptions(Ee)}}function go(X,De){var Ee,Qe={conf:X,curStats:{},aplStats:{},boundTargets:[]},N={};X.argOptions.every(function(q){return!(!De.length||("string"==typeof q.type?typeof De[0]!==q.type:"function"!=typeof q.type||!q.type(De[0]))||(N[q.optionName]=De.shift(),0))}),Ee=De.length&&Li(De[0])?dr(De[0]):{},Object.keys(N).forEach(function(q){Ee[q]=N[q]}),X.stats&&(kr(Qe.curStats,X.stats),kr(Qe.aplStats,X.stats)),Object.defineProperty(this,"_id",{value:++Br}),Object.defineProperty(this,"isRemoved",{get:function(){return!qi[this._id]}}),Qe._id=this._id,X.init&&!X.init(Qe,Ee)||(qi[this._id]=Qe)}return ke={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(X){return 0<X}],["type","gap","number",null,null,null,function(X){return 0<X}]],init:function(X){Hi(X,"apl_line_strokeWidth",ke.dash.update),X.lineFace.style.strokeDashoffset=0,ke.dash.update(X)},remove:function(X){var De=X.curStats;Fi(X,"apl_line_strokeWidth",ke.dash.update),De.dash_animId&&(Rn.remove(De.dash_animId),De.dash_animId=null),X.lineFace.style.strokeDasharray="none",X.lineFace.style.strokeDashoffset=0,kr(X.aplStats,ke.dash.stats)},update:function(X){var De,Ee=X.curStats,Qe=X.aplStats,N=Qe.dash_options,q=!1;Ee.dash_len=N.len||2*Qe.line_strokeWidth,Ee.dash_gap=N.gap||Qe.line_strokeWidth,Ee.dash_maxOffset=Ee.dash_len+Ee.dash_gap,q=Ci(X,Qe,"dash_len",Ee.dash_len)||q,(q=Ci(X,Qe,"dash_gap",Ee.dash_gap)||q)&&(X.lineFace.style.strokeDasharray=Qe.dash_len+","+Qe.dash_gap),Ee.dash_animOptions?(q=Ci(X,Qe,"dash_maxOffset",Ee.dash_maxOffset),Qe.dash_animOptions&&(q||hr(Ee.dash_animOptions,Qe.dash_animOptions))&&(Ee.dash_animId&&(De=Rn.stop(Ee.dash_animId),Rn.remove(Ee.dash_animId)),Qe.dash_animOptions=null),Qe.dash_animOptions||(Ee.dash_animId=Rn.add(function(he){return(1-he)*Qe.dash_maxOffset+"px"},function(he){X.lineFace.style.strokeDashoffset=he},Ee.dash_animOptions.duration,0,Ee.dash_animOptions.timing,!1,De),Qe.dash_animOptions=dr(Ee.dash_animOptions))):Qe.dash_animOptions&&(Ee.dash_animId&&(Rn.remove(Ee.dash_animId),Ee.dash_animId=null),X.lineFace.style.strokeDashoffset=0,Qe.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(X){var De=X.baseWindow.document,Ee=X.defs,Qe=Ge+"-"+X._id+"-gradient";X.efc_gradient_gradient=Ee=Ee.appendChild(De.createElementNS(fn,"linearGradient")),Ee.id=Qe,Ee.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[Ee.x1,Ee.y1,Ee.x2,Ee.y2].forEach(function(N){N.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),X.efc_gradient_stopSE=[0,1].map(function(N){var q=X.efc_gradient_gradient.appendChild(De.createElementNS(fn,"stop"));try{q.offset.baseVal=N}catch(he){if(he.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw he;q.setAttribute("offset",N)}return q}),Hi(X,"cur_plug_colorSE",ke.gradient.update),Hi(X,"apl_path",ke.gradient.update),X.curStats.line_altColor=!0,X.lineFace.style.stroke="url(#"+Qe+")",ke.gradient.update(X)},remove:function(X){X.efc_gradient_gradient&&(X.defs.removeChild(X.efc_gradient_gradient),X.efc_gradient_gradient=X.efc_gradient_stopSE=null),Fi(X,"cur_plug_colorSE",ke.gradient.update),Fi(X,"apl_path",ke.gradient.update),X.curStats.line_altColor=!1,X.lineFace.style.stroke=X.curStats.line_color,kr(X.aplStats,ke.gradient.stats)},update:function(X){var De,Ee=X.curStats,Qe=X.aplStats,N=Qe.gradient_options,q=X.pathList.animVal||X.pathList.baseVal;[0,1].forEach(function(he){Ee.gradient_colorSE[he]=N.colorSE[he]||Ee.plug_colorSE[he]}),Ee.gradient_pointSE[0]={x:(De=q[0][0]).x,y:De.y},De=(q=q[q.length-1])[q.length-1],Ee.gradient_pointSE[1]={x:De.x,y:De.y},[0,1].forEach(function(he){var ge;Ci(X,Qe.gradient_colorSE,he,ge=Ee.gradient_colorSE[he])&&(ei?(ge=Mr(ge),X.efc_gradient_stopSE[he].style.stopColor=ge[1],X.efc_gradient_stopSE[he].style.stopOpacity=ge[0]):X.efc_gradient_stopSE[he].style.stopColor=ge),["x","y"].forEach(function(Ie){(ge=Ee.gradient_pointSE[he][Ie])!==Qe.gradient_pointSE[he][Ie]&&(X.efc_gradient_gradient[Ie+(he+1)].baseVal.value=Qe.gradient_pointSE[he][Ie]=ge)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(X){return 0<=X}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(X){return 0<=X&&X<=1}]],init:function(X){var De,Ee,Qe,N,q=X.baseWindow.document,he=X.defs,ge=Ge+"-"+X._id+"-dropShadow",Ie=(De=q,Ee=ge,N={},"boolean"!=typeof m&&(m=!!window.SVGFEDropShadowElement&&!ei),N.elmsAppend=[N.elmFilter=q=De.createElementNS(fn,"filter")],q.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,q.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),q.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),q.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),q.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),q.id=Ee,m?(N.elmOffset=N.elmBlur=Qe=q.appendChild(De.createElementNS(fn,"feDropShadow")),N.styleFlood=Qe.style):(N.elmBlur=q.appendChild(De.createElementNS(fn,"feGaussianBlur")),N.elmOffset=Qe=q.appendChild(De.createElementNS(fn,"feOffset")),Qe.result.baseVal="offsetblur",Qe=q.appendChild(De.createElementNS(fn,"feFlood")),N.styleFlood=Qe.style,(Qe=q.appendChild(De.createElementNS(fn,"feComposite"))).in2.baseVal="offsetblur",Qe.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(Qe=q.appendChild(De.createElementNS(fn,"feMerge"))).appendChild(De.createElementNS(fn,"feMergeNode")),Qe.appendChild(De.createElementNS(fn,"feMergeNode")).in1.baseVal="SourceGraphic"),N);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(it){X["efc_dropShadow_"+it]=Ie[it]}),Ie.elmsAppend.forEach(function(it){he.appendChild(it)}),X.face.setAttribute("filter","url(#"+ge+")"),Hi(X,"new_edge4viewBox",ke.dropShadow.adjustEdge),ke.dropShadow.update(X)},remove:function(X){var De=X.defs;X.efc_dropShadow_elmsAppend&&(X.efc_dropShadow_elmsAppend.forEach(function(Ee){De.removeChild(Ee)}),X.efc_dropShadow_elmFilter=X.efc_dropShadow_elmOffset=X.efc_dropShadow_elmBlur=X.efc_dropShadow_styleFlood=X.efc_dropShadow_elmsAppend=null),Fi(X,"new_edge4viewBox",ke.dropShadow.adjustEdge),Qr(X,{}),X.face.removeAttribute("filter"),kr(X.aplStats,ke.dropShadow.stats)},update:function(X){var De,Ee,Qe=X.curStats,N=X.aplStats,q=N.dropShadow_options;Qe.dropShadow_dx=De=q.dx,Ci(X,N,"dropShadow_dx",De)&&(X.efc_dropShadow_elmOffset.dx.baseVal=De,Ee=!0),Qe.dropShadow_dy=De=q.dy,Ci(X,N,"dropShadow_dy",De)&&(X.efc_dropShadow_elmOffset.dy.baseVal=De,Ee=!0),Qe.dropShadow_blur=De=q.blur,Ci(X,N,"dropShadow_blur",De)&&(X.efc_dropShadow_elmBlur.setStdDeviation(De,De),Ee=!0),Ee&&Qr(X,{}),Qe.dropShadow_color=De=q.color,Ci(X,N,"dropShadow_color",De)&&(X.efc_dropShadow_styleFlood.floodColor=De),Qe.dropShadow_opacity=De=q.opacity,Ci(X,N,"dropShadow_opacity",De)&&(X.efc_dropShadow_styleFlood.floodOpacity=De)},adjustEdge:function(X,De){var Ee,Qe=X.curStats,N=X.aplStats;null!=Qe.dropShadow_dx&&((Ee={x1:De.x1-(Ee=3*Qe.dropShadow_blur)+Qe.dropShadow_dx,y1:De.y1-Ee+Qe.dropShadow_dy,x2:De.x2+Ee+Qe.dropShadow_dx,y2:De.y2+Ee+Qe.dropShadow_dy}).x1<De.x1&&(De.x1=Ee.x1),Ee.y1<De.y1&&(De.y1=Ee.y1),Ee.x2>De.x2&&(De.x2=Ee.x2),Ee.y2>De.y2&&(De.y2=Ee.y2),["x","y"].forEach(function(q){var he,ge="dropShadow_"+q;Qe[ge]=he=De[q+"1"],Ci(X,N,ge,he)&&(X.efc_dropShadow_elmFilter[q].baseVal.value=he)}))}}},Object.keys(ke).forEach(function(X){var De=ke[X],Ee=De.stats;Ee[X+"_enabled"]={iniValue:!1},Ee[X+"_options"]={hasProps:!0},De.anim&&(Ee[X+"_animOptions"]={},Ee[X+"_animId"]={})}),Ve={none:{defaultAnimOptions:{},init:function(X,De){var Ee=X.curStats;Ee.show_animId&&(Rn.remove(Ee.show_animId),Ee.show_animId=null),Ve.none.start(X,De)},start:function(X,De){Ve.none.stop(X,!0)},stop:function(X,De,Ee){return Ee=Ee??X.aplStats.show_on,X.curStats.show_inAnim=!1,De&&po(X,Ee),Ee?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(X,De){var Ee=X.curStats,Qe=X.aplStats;Ee.show_animId&&Rn.remove(Ee.show_animId),Ee.show_animId=Rn.add(function(N){return N},function(N,q){q?Ve.fade.stop(X,!0):(X.svg.style.opacity=N+"",Wn&&(ir(X,X.svg),_r(X)))},Qe.show_animOptions.duration,1,Qe.show_animOptions.timing,null,!1),Ve.fade.start(X,De)},start:function(X,De){var Ee,Qe=X.curStats;Qe.show_inAnim&&(Ee=Rn.stop(Qe.show_animId)),po(X,1),Qe.show_inAnim=!0,Rn.start(Qe.show_animId,!X.aplStats.show_on,De??Ee)},stop:function(X,De,Ee){var Qe,N=X.curStats;return Ee=Ee??X.aplStats.show_on,Qe=N.show_inAnim?Rn.stop(N.show_animId):Ee?1:0,N.show_inAnim=!1,De&&(X.svg.style.opacity=Ee?"":"0",po(X,Ee)),Qe}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(X,De){var Ee=X.curStats,Qe=X.aplStats,N=X.pathList.baseVal,q=rr(N),he=q.segsLen,ge=q.lenAll;Ee.show_animId&&Rn.remove(Ee.show_animId),Ee.show_animId=Rn.add(function(Ie){var it,Ze,nt,dt=-1;if(0===Ie)Ze=[[N[0][0],N[0][0]]];else if(1===Ie)Ze=N;else{for(it=ge*Ie,Ze=[];it>=he[++dt];)Ze.push(N[dt]),it-=he[dt];it&&(2===(nt=N[dt]).length?Ze.push([nt[0],An(nt[0],nt[1],it/he[dt])]):(Ie=pi(nt[0],nt[1],nt[2],nt[3],Ei(nt[0],nt[1],nt[2],nt[3],it)),Ze.push([nt[0],Ie.fromP1,Ie.fromP2,Ie])))}return Ze},function(Ie,it){it?Ve.draw.stop(X,!0):(X.pathList.animVal=Ie,Qr(X,{path:!0}))},Qe.show_animOptions.duration,1,Qe.show_animOptions.timing,null,!1),Ve.draw.start(X,De)},start:function(X,De){var Ee,Qe=X.curStats;Qe.show_inAnim&&(Ee=Rn.stop(Qe.show_animId)),po(X,1),Qe.show_inAnim=!0,Hi(X,"apl_position",Ve.draw.update),Rn.start(Qe.show_animId,!X.aplStats.show_on,De??Ee)},stop:function(X,De,Ee){var Qe,N=X.curStats;return Ee=Ee??X.aplStats.show_on,Qe=N.show_inAnim?Rn.stop(N.show_animId):Ee?1:0,N.show_inAnim=!1,De&&(X.pathList.animVal=Ee?null:[[X.pathList.baseVal[0][0],X.pathList.baseVal[0][0]]],Qr(X,{path:!0}),po(X,Ee)),Qe},update:function(X){Fi(X,"apl_position",Ve.draw.update),X.curStats.show_inAnim?Ve.draw.init(X,Ve.draw.stop(X)):X.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(X){var De=X[0],Ee=X[1],Qe=X[2];Object.defineProperty(Yi.prototype,De,{get:function(){var N=null!=Qe?Ai[this._id].options[Ee][Qe]:Ee?Ai[this._id].options[Ee]:Ai[this._id].options[De];return null==N?en:dr(N)},set:Zr(De),enumerable:!0})}),[["path",ze],["startSocket",Oe,"socketSE",0],["endSocket",Oe,"socketSE",1],["startPlug",Gt,"plugSE",0],["endPlug",Gt,"plugSE",1]].forEach(function(X){var De=X[0],Ee=X[1],Qe=X[2],N=X[3];Object.defineProperty(Yi.prototype,De,{get:function(){var q,he=null!=N?Ai[this._id].options[Qe][N]:Qe?Ai[this._id].options[Qe]:Ai[this._id].options[De];return he?Object.keys(Ee).some(function(ge){return Ee[ge]===he&&(q=ge,!0)})?q:new Error("It's broken"):en},set:Zr(De),enumerable:!0})}),Object.keys(ke).forEach(function(X){var De=ke[X];Object.defineProperty(Yi.prototype,X,{get:function(){var Ee,Qe,N=Ai[this._id].options[X];return Li(N)?(Ee=N,Qe=De.optionsConf.reduce(function(q,dt){var ge,Ie=dt[0],it=dt[1],Ze=dt[2],nt=dt[3],mt=null!=(dt=dt[4])?Ee[nt][dt]:nt?Ee[nt]:Ee[it];return q[it]="id"===Ie?mt?Object.keys(Ze).some(function(It){return Ze[It]===mt&&(ge=It,!0)})?ge:new Error("It's broken"):en:null==mt?en:dr(mt),q},{}),De.anim&&(Qe.animation=dr(Ee.animation)),Qe):N},set:Zr(X),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(X,De){Object.defineProperty(Yi.prototype,X,{get:function(){var Ee=Ai[this._id],Qe=Ee.options;return Qe.labelSEM[De]&&!Ee.optionIsAttach.labelSEM[De]?qi[Qe.labelSEM[De]._id].text:Qe.labelSEM[De]||""},set:Zr(X),enumerable:!0})}),Yi.prototype.setOptions=function(X){return Kr(Ai[this._id],X),this},Yi.prototype.position=function(){return Qr(Ai[this._id],{position:!0}),this},Yi.prototype.remove=function(){var X=Ai[this._id],De=X.curStats;Object.keys(ke).forEach(function(Ee){De[Ee+="_animId"]&&Rn.remove(De[Ee])}),De.show_animId&&Rn.remove(De.show_animId),X.attachments.slice().forEach(function(Ee){Lo(X,Ee)}),X.baseWindow&&X.svg&&X.baseWindow.document.body.removeChild(X.svg),delete Ai[this._id]},Yi.prototype.show=function(X,De){return Xo(Ai[this._id],!0,X,De),this},Yi.prototype.hide=function(X,De){return Xo(Ai[this._id],!1,X,De),this},de=function(X){X&&qi[X._id]&&(X.boundTargets.slice().forEach(function(De){Lo(De.props,X,!0)}),X.conf.remove&&X.conf.remove(X),delete qi[X._id])},go.prototype.remove=function(){var X=this,De=qi[X._id];De&&(De.boundTargets.slice().forEach(function(Ee){De.conf.removeOption(De,Ee)}),yr(function(){var Ee=qi[X._id];Ee&&(console.error("LeaderLineAttachment was not removed by removeOption"),de(Ee))}))},Ne=go,window.LeaderLineAttachment=Ne,gt=function(X,De){return X instanceof Ne&&(!(X.isRemoved||De&&qi[X._id].conf.type!==De)||null)},an={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:jr}],init:function(X,De){return X.element=an.pointAnchor.checkElement(De.element),X.x=an.pointAnchor.parsePercent(De.x,!0)||[.5,!0],X.y=an.pointAnchor.parsePercent(De.y,!0)||[.5,!0],!0},removeOption:function(q,De){var Ee=De.props,Qe={},N=q.element;N===(q=Ee.options.anchorSE["start"===De.optionName?1:0])&&(N=q===document.body?new Ne(an.pointAnchor,[N]):document.body),Qe[De.optionName]=N,Kr(Ee,Qe)},getBBoxNest:function(X,N){var Ee=Yr(X.element,N.baseWindow),Qe=Ee.width;return N=Ee.height,Ee.width=Ee.height=0,Ee.left=Ee.right=Ee.left+X.x[0]*(X.x[1]?Qe:1),Ee.top=Ee.bottom=Ee.top+X.y[0]*(X.y[1]?N:1),Ee},parsePercent:function(X,De){var Ee,Qe,N=!1;return Cn(X)?Qe=X:"string"==typeof X&&(Ee=_n.exec(X))&&Ee[2]&&(N=0!=(Qe=parseFloat(Ee[1])/100)),null!=Qe&&(De||0<=Qe)?[Qe,N]:null},checkElement:function(X){if(null==X)X=document.body;else if(!jr(X))throw new Error("`element` must be Element");return X}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:jr},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(X,De){var Ee,Qe=[];return X.element=an.pointAnchor.checkElement(De.element),"string"==typeof De.color&&(X.color=De.color.trim()),"string"==typeof De.fillColor&&(X.fill=De.fillColor.trim()),Cn(De.size)&&0<=De.size&&(X.size=De.size),De.dash&&(X.dash=!0,Cn(De.dash.len)&&0<De.dash.len&&(X.dashLen=De.dash.len),Cn(De.dash.gap)&&0<De.dash.gap&&(X.dashGap=De.dash.gap)),"circle"===De.shape?X.shape=De.shape:"polygon"===De.shape&&Array.isArray(De.points)&&3<=De.points.length&&De.points.every(function(N){var q={};return!(!(q.x=an.pointAnchor.parsePercent(N[0],!0))||!(q.y=an.pointAnchor.parsePercent(N[1],!0))||(Qe.push(q),(q.x[1]||q.y[1])&&(X.hasRatio=!0),0))})?(X.shape=De.shape,X.points=Qe):(X.shape="rect",X.radius=Cn(De.radius)&&0<=De.radius?De.radius:0),"rect"!==X.shape&&"circle"!==X.shape||(X.x=an.pointAnchor.parsePercent(De.x,!0)||[-.05,!0],X.y=an.pointAnchor.parsePercent(De.y,!0)||[-.05,!0],X.width=an.pointAnchor.parsePercent(De.width)||[1.1,!0],X.height=an.pointAnchor.parsePercent(De.height)||[1.1,!0],(X.x[1]||X.y[1]||X.width[1]||X.height[1])&&(X.hasRatio=!0)),X.svg=De=(Ee=X.element.ownerDocument).createElementNS(fn,"svg"),De.className.baseVal=Ge+"-areaAnchor",De.viewBox.baseVal||De.setAttribute("viewBox","0 0 0 0"),X.path=De.appendChild(Ee.createElementNS(fn,"path")),X.path.style.fill=X.fill||"none",X.isShown=!1,De.style.visibility="hidden",Ee.body.appendChild(De),so(Ee=Ee.defaultView),X.bodyOffset=fr(Ee),X.updateColor=function(){var q=X.aplStats,he=X.boundTargets.length?X.boundTargets[0].props.curStats:null;X.curStats.color=he=X.color||(he?he.line_color:$i.lineColor),Ci(X,q,"color",he)&&(X.path.style.stroke=he)},X.updateShow=function(){po(X,X.boundTargets.some(function(N){return!0===N.props.isShown}))},!0},bind:function(X,De){return De=De.props,X.color||Hi(De,"cur_line_color",X.updateColor),Hi(De,"svgShow",X.updateShow),yr(function(){X.updateColor(),X.updateShow()}),!0},unbind:function(X,De){De=De.props,X.color||Fi(De,"cur_line_color",X.updateColor),Fi(De,"svgShow",X.updateShow),1<X.boundTargets.length&&yr(function(){X.updateColor(),X.updateShow(),an.areaAnchor.update(X)&&X.boundTargets.forEach(function(Ee){Qr(Ee.props,{position:!0})})})},removeOption:function(X,De){an.pointAnchor.removeOption(X,De)},remove:function(X){X.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),X.boundTargets.forEach(function(De){an.areaAnchor.unbind(X,De)})),X.svg.parentNode.removeChild(X.svg)},getStrokeWidth:function(X,De){return an.areaAnchor.update(X)&&1<X.boundTargets.length&&yr(function(){X.boundTargets.forEach(function(Ee){Ee.props!==De&&Qr(Ee.props,{position:!0})})}),X.curStats.strokeWidth},getPathData:function(X,De){var Ee=Yr(X.element,De.baseWindow);return Ji(X.curStats.pathListRel,function(Qe){Qe.x+=Ee.left,Qe.y+=Ee.top})},getBBoxNest:function(X,De){return De=Yr(X.element,De.baseWindow),{left:(X=X.curStats.bBoxRel).left+De.left,top:X.top+De.top,right:X.right+De.left,bottom:X.bottom+De.top,width:X.width,height:X.height}},update:function(X){var De,Ee,Qe,N,q,he,ge,Ie,it,Ze,nt,dt,mt,It,kt,Ct,At=X.curStats,Lt=X.aplStats,mn=X.boundTargets.length?X.boundTargets[0].props.curStats:null,Yt={};if(Yt.strokeWidth=Ci(X,At,"strokeWidth",null!=X.size?X.size:mn?mn.line_strokeWidth:$i.lineSize),De=ao(X.element),Yt.elementWidth=Ci(X,At,"elementWidth",De.width),Yt.elementHeight=Ci(X,At,"elementHeight",De.height),Yt.elementLeft=Ci(X,At,"elementLeft",De.left),Yt.elementTop=Ci(X,At,"elementTop",De.top),Yt.strokeWidth||X.hasRatio&&(Yt.elementWidth||Yt.elementHeight)){switch(X.shape){case"rect":(dt={left:X.x[0]*(X.x[1]?De.width:1),top:X.y[0]*(X.y[1]?De.height:1),width:X.width[0]*(X.width[1]?De.width:1),height:X.height[0]*(X.height[1]?De.height:1)}).right=dt.left+dt.width,dt.bottom=dt.top+dt.height,nt=At.strokeWidth/2,Ie=(ge=Math.min(dt.width,dt.height))?ge/2*Math.SQRT2+nt:0,Ze=(ge=X.radius?X.radius<=Ie?X.radius:Ie:0)?(Ie=(ge-nt)/Math.SQRT2,Ze=[{x:dt.left-(it=ge-Ie),y:dt.top+Ie},{x:dt.left+Ie,y:dt.top-it},{x:dt.right-Ie,y:dt.top-it},{x:dt.right+it,y:dt.top+Ie},{x:dt.right+it,y:dt.bottom-Ie},{x:dt.right-Ie,y:dt.bottom+it},{x:dt.left+Ie,y:dt.bottom+it},{x:dt.left-it,y:dt.bottom-Ie}],At.pathListRel=[[Ze[0],{x:Ze[0].x,y:Ze[0].y-(nt=ge*Oi)},{x:Ze[1].x-nt,y:Ze[1].y},Ze[1]]],Ze[1].x!==Ze[2].x&&At.pathListRel.push([Ze[1],Ze[2]]),At.pathListRel.push([Ze[2],{x:Ze[2].x+nt,y:Ze[2].y},{x:Ze[3].x,y:Ze[3].y-nt},Ze[3]]),Ze[3].y!==Ze[4].y&&At.pathListRel.push([Ze[3],Ze[4]]),At.pathListRel.push([Ze[4],{x:Ze[4].x,y:Ze[4].y+nt},{x:Ze[5].x+nt,y:Ze[5].y},Ze[5]]),Ze[5].x!==Ze[6].x&&At.pathListRel.push([Ze[5],Ze[6]]),At.pathListRel.push([Ze[6],{x:Ze[6].x-nt,y:Ze[6].y},{x:Ze[7].x,y:Ze[7].y+nt},Ze[7]]),Ze[7].y!==Ze[0].y&&At.pathListRel.push([Ze[7],Ze[0]]),At.pathListRel.push([]),[{x:dt.left-(it=ge-Ie+At.strokeWidth/2),y:dt.top-it},{x:dt.right+it,y:dt.bottom+it}]):(At.pathListRel=[[(Ze=[{x:dt.left-(it=At.strokeWidth/2),y:dt.top-it},{x:dt.right+it,y:dt.bottom+it}])[0],{x:Ze[1].x,y:Ze[0].y}],[{x:Ze[1].x,y:Ze[0].y},Ze[1]],[Ze[1],{x:Ze[0].x,y:Ze[1].y}],[]],[{x:dt.left-At.strokeWidth,y:dt.top-At.strokeWidth},{x:dt.right+At.strokeWidth,y:dt.bottom+At.strokeWidth}]),At.bBoxRel={left:Ze[0].x,top:Ze[0].y,right:Ze[1].x,bottom:Ze[1].y,width:Ze[1].x-Ze[0].x,height:Ze[1].y-Ze[0].y};break;case"circle":(he={left:X.x[0]*(X.x[1]?De.width:1),top:X.y[0]*(X.y[1]?De.height:1),width:X.width[0]*(X.width[1]?De.width:1),height:X.height[0]*(X.height[1]?De.height:1)}).width||he.height||(he.width=he.height=10),he.width||(he.width=he.height),he.height||(he.height=he.width),he.right=he.left+he.width,he.bottom=he.top+he.height,nt=he.left+he.width/2,ge=he.top+he.height/2,q=At.strokeWidth/2,it=he.height/2,dt=(Ie=he.width/2)*Math.SQRT2+q,Ze=it*Math.SQRT2+q,At.pathListRel=[[(q=[{x:nt-dt,y:ge},{x:nt,y:ge-Ze},{x:nt+dt,y:ge},{x:nt,y:ge+Ze}])[0],{x:q[0].x,y:q[0].y-(nt=Ze*Oi)},{x:q[1].x-(ge=dt*Oi),y:q[1].y},q[1]],[q[1],{x:q[1].x+ge,y:q[1].y},{x:q[2].x,y:q[2].y-nt},q[2]],[q[2],{x:q[2].x,y:q[2].y+nt},{x:q[3].x+ge,y:q[3].y},q[3]],[q[3],{x:q[3].x-ge,y:q[3].y},{x:q[0].x,y:q[0].y+nt},q[0]],[]],At.bBoxRel={left:(q=[{x:he.left-(Ie=dt-Ie+At.strokeWidth/2),y:he.top-(it=Ze-it+At.strokeWidth/2)},{x:he.right+Ie,y:he.bottom+it}])[0].x,top:q[0].y,right:q[1].x,bottom:q[1].y,width:q[1].x-q[0].x,height:q[1].y-q[0].y};break;case"polygon":X.points.forEach(function(tn){var Vt=tn.x[0]*(tn.x[1]?De.width:1);tn=tn.y[0]*(tn.y[1]?De.height:1),Qe?(Vt<Qe.left&&(Qe.left=Vt),Vt>Qe.right&&(Qe.right=Vt),tn<Qe.top&&(Qe.top=tn),tn>Qe.bottom&&(Qe.bottom=tn)):Qe={left:Vt,right:Vt,top:tn,bottom:tn},N?At.pathListRel.push([N,{x:Vt,y:tn}]):At.pathListRel=[],N={x:Vt,y:tn}}),At.pathListRel.push([]),At.bBoxRel={left:(q=[{x:Qe.left-(q=At.strokeWidth/2),y:Qe.top-q},{x:Qe.right+q,y:Qe.bottom+q}])[0].x,top:q[0].y,right:q[1].x,bottom:q[1].y,width:q[1].x-q[0].x,height:q[1].y-q[0].y}}Yt.pathListRel=Yt.bBoxRel=!0}return(Yt.pathListRel||Yt.elementLeft||Yt.elementTop)&&(At.pathData=Ji(At.pathListRel,function(ln){ln.x+=De.left,ln.y+=De.top})),Ci(X,Lt,"strokeWidth",Ee=At.strokeWidth)&&(X.path.style.strokeWidth=Ee+"px"),or(Ee=At.pathData,Lt.pathData)&&(X.path.setPathData(Ee),Lt.pathData=Ee,Yt.pathData=!0),X.dash&&(!Yt.pathData&&(!Yt.strokeWidth||X.dashLen&&X.dashGap)||(At.dashLen=X.dashLen||2*At.strokeWidth,At.dashGap=X.dashGap||At.strokeWidth),Yt.dash=Ci(X,Lt,"dashLen",At.dashLen)||Yt.dash,Yt.dash=Ci(X,Lt,"dashGap",At.dashGap)||Yt.dash,Yt.dash&&(X.path.style.strokeDasharray=Lt.dashLen+","+Lt.dashGap)),It=Lt.viewBoxBBox,kt=X.svg.viewBox.baseVal,Ct=X.svg.style,(mt=At.viewBoxBBox).x=At.bBoxRel.left+De.left,mt.y=At.bBoxRel.top+De.top,mt.width=At.bBoxRel.width,mt.height=At.bBoxRel.height,["x","y","width","height"].forEach(function(ln){(Ee=mt[ln])!==It[ln]&&(kt[ln]=It[ln]=Ee,Ct[Ht[ln]]=Ee+("x"===ln||"y"===ln?X.bodyOffset[ln]:0)+"px")}),Yt.strokeWidth||Yt.pathListRel||Yt.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:jr},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(X,De){var Ee,Qe,N,q,he,ge,Ie,it,Ze,nt=an.mouseHoverAnchor,dt={};if(X.element=an.pointAnchor.checkElement(De.element),!((it=(Ie=X.element).ownerDocument)&&(Ze=it.defaultView)&&Ze.HTMLElement&&Ie instanceof Ze.HTMLElement))throw new Error("`element` must be HTML element");return nt.style.backgroundSize=nt.backgroundSize.width+"px "+nt.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(mt){var It=nt[mt];X[mt]=Object.keys(It).reduce(function(kt,Ct){return kt[Ct]=It[Ct],kt},{})}),"inline"===(Ee=X.element.ownerDocument.defaultView.getComputedStyle(X.element,"")).display?X.style.display="inline-block":"none"===Ee.display&&(X.style.display="block"),an.mouseHoverAnchor.dirKeys.forEach(function(kt){var It=kt[0];kt="padding"+kt[1],parseFloat(Ee[kt])<nt.padding[It]&&(X.style[kt]=nt.padding[It]+"px")}),X.style.display&&(N=X.element.style.display,X.element.style.display=X.style.display),an.mouseHoverAnchor.dirKeys.forEach(function(mt){X.style[mt="padding"+mt[1]]&&(dt[mt]=X.element.style[mt],X.element.style[mt]=X.style[mt])}),(Ie=X.element.getBoundingClientRect()).height<nt.minHeight&&(Wn?(Ze=nt.minHeight,"content-box"===Ee.boxSizing?Ze-=parseFloat(Ee.borderTopWidth)+parseFloat(Ee.borderBottomWidth)+parseFloat(Ee.paddingTop)+parseFloat(Ee.paddingBottom):"padding-box"===Ee.boxSizing&&(Ze-=parseFloat(Ee.borderTopWidth)+parseFloat(Ee.borderBottomWidth)),X.style.height=Ze+"px"):X.style.height=parseFloat(Ee.height)+(nt.minHeight-Ie.height)+"px"),X.style.backgroundPosition=ei?Ie.width-nt.backgroundSize.width-nt.backgroundPosition.right+"px "+nt.backgroundPosition.top+"px":"right "+nt.backgroundPosition.right+"px top "+nt.backgroundPosition.top+"px",X.style.display&&(X.element.style.display=N),an.mouseHoverAnchor.dirKeys.forEach(function(mt){X.style[mt="padding"+mt[1]]&&(X.element.style[mt]=dt[mt])}),["style","hoverStyle"].forEach(function(mt){var It=X[mt],kt=De[mt];Li(kt)&&Object.keys(kt).forEach(function(Ct){"string"==typeof kt[Ct]||Cn(kt[Ct])?It[Ct]=kt[Ct]:null==kt[Ct]&&delete It[Ct]})}),"function"==typeof De.onSwitch&&(ge=De.onSwitch),De.showEffectName&&Ve[De.showEffectName]&&(X.showEffectName=q=De.showEffectName),he=De.animOptions,X.elmStyle=Qe=X.element.style,X.mouseenter=function(mt){X.hoverStyleSave=nt.getStyles(Qe,Object.keys(X.hoverStyle)),nt.setStyles(Qe,X.hoverStyle),X.boundTargets.forEach(function(It){Xo(It.props,!0,q,he)}),ge&&ge(mt)},X.mouseleave=function(mt){nt.setStyles(Qe,X.hoverStyleSave),X.boundTargets.forEach(function(It){Xo(It.props,!1,q,he)}),ge&&ge(mt)},!0},bind:function(X,De){var Ee,Qe,N,q,he;return De.props.svg?an.mouseHoverAnchor.llShow(De.props,!1,X.showEffectName):yr(function(){an.mouseHoverAnchor.llShow(De.props,!1,X.showEffectName)}),X.enabled||(X.styleSave=an.mouseHoverAnchor.getStyles(X.elmStyle,Object.keys(X.style)),an.mouseHoverAnchor.setStyles(X.elmStyle,X.style),X.removeEventListener=(Qe=X.mouseenter,N=X.mouseleave,"onmouseenter"in(Ee=X.element)&&"onmouseleave"in Ee?(Ee.addEventListener("mouseenter",Qe,!1),Ee.addEventListener("mouseleave",N,!1),function(){Ee.removeEventListener("mouseenter",Qe,!1),Ee.removeEventListener("mouseleave",N,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),Ee.addEventListener("mouseover",q=function(ge){ge.relatedTarget&&(ge.relatedTarget===this||this.compareDocumentPosition(ge.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||Qe.apply(this,arguments)}),Ee.addEventListener("mouseout",he=function(ge){ge.relatedTarget&&(ge.relatedTarget===this||this.compareDocumentPosition(ge.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||N.apply(this,arguments)}),function(){Ee.removeEventListener("mouseover",q,!1),Ee.removeEventListener("mouseout",he,!1)})),X.enabled=!0),!0},unbind:function(X,De){X.enabled&&X.boundTargets.length<=1&&(X.removeEventListener(),an.mouseHoverAnchor.setStyles(X.elmStyle,X.styleSave),X.enabled=!1),an.mouseHoverAnchor.llShow(De.props,!0,X.showEffectName)},removeOption:function(X,De){an.pointAnchor.removeOption(X,De)},remove:function(X){X.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),X.boundTargets.forEach(function(De){an.mouseHoverAnchor.unbind(X,De)}))},getBBoxNest:function(X,De){return Yr(X.element,De.baseWindow)},llShow:function(X,De,Ee){Ve[Ee||X.curStats.show_effect].stop(X,!0,De),X.aplStats.show_on=De},getStyles:function(X,De){return De.reduce(function(Ee,Qe){return Ee[Qe]=X[Qe],Ee},{})},setStyles:function(X,De){Object.keys(De).forEach(function(Ee){X[Ee]=De[Ee]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(X,De){return"string"==typeof De.text&&(X.text=De.text.trim()),!!X.text&&("string"==typeof De.color&&(X.color=De.color.trim()),X.outlineColor="string"==typeof De.outlineColor?De.outlineColor.trim():"#fff",Array.isArray(De.offset)&&Cn(De.offset[0])&&Cn(De.offset[1])&&(X.offset={x:De.offset[0],y:De.offset[1]}),Cn(De.lineOffset)&&(X.lineOffset=De.lineOffset),an.captionLabel.textStyleProps.forEach(function(Ee){null!=De[Ee]&&(X[Ee]=De[Ee])}),X.updateColor=function(Ee){an.captionLabel.updateColor(X,Ee)},X.updateSocketXY=function(Ee){var Qe,N=X.curStats,q=X.aplStats,he=Ee.curStats,ge=he.position_socketXYSE[X.socketIndex];null!=ge.x&&(X.offset?(N.x=ge.x+X.offset.x,N.y=ge.y+X.offset.y):(Qe=X.height/2,Ee=Math.max(he.attach_plugSideLenSE[X.socketIndex]||0,he.line_strokeWidth/2),he=he.position_socketXYSE[X.socketIndex?0:1],ge.socketId===ce||ge.socketId===Te?(N.x=ge.socketId===ce?ge.x-Qe-X.width:ge.x+Qe,N.y=he.y<ge.y?ge.y+Ee+Qe:ge.y-Ee-Qe-X.height):(N.x=he.x<ge.x?ge.x+Ee+Qe:ge.x-Ee-Qe-X.width,N.y=ge.socketId===ye?ge.y-Qe-X.height:ge.y+Qe)),Ci(X,q,"x",Qe=N.x)&&(X.elmPosition.x.baseVal.getItem(0).value=Qe),Ci(X,q,"y",Qe=N.y)&&(X.elmPosition.y.baseVal.getItem(0).value=Qe+X.height))},X.updatePath=function(q){var Qe=X.curStats,N=X.aplStats;(q=q.pathList.animVal||q.pathList.baseVal)&&(q=an.captionLabel.getMidPoint(q,X.lineOffset),Qe.x=q.x-X.width/2,Qe.y=q.y-X.height/2,Ci(X,N,"x",q=Qe.x)&&(X.elmPosition.x.baseVal.getItem(0).value=q),Ci(X,N,"y",q=Qe.y)&&(X.elmPosition.y.baseVal.getItem(0).value=q+X.height))},X.updateShow=function(Ee){an.captionLabel.updateShow(X,Ee)},ei&&(X.adjustEdge=function(Ee,Qe){var N=X.curStats;null!=N.x&&an.captionLabel.adjustEdge(Qe,{x:N.x,y:N.y,width:X.width,height:X.height},X.strokeWidth/2)}),!0)},updateColor:function(X,N){var Qe=X.aplStats;N=N.curStats,X.curStats.color=N=X.color||N.line_color,Ci(X,Qe,"color",N)&&(X.styleFill.fill=N)},updateShow:function(X,De){(De=!0===De.isShown)!==X.isShown&&(X.styleShow.visibility=De?"":"hidden",X.isShown=De)},adjustEdge:function(X,De,Ee){(Ee={x1:De.x-Ee,y1:De.y-Ee,x2:De.x+De.width+Ee,y2:De.y+De.height+Ee}).x1<X.x1&&(X.x1=Ee.x1),Ee.y1<X.y1&&(X.y1=Ee.y1),Ee.x2>X.x2&&(X.x2=Ee.x2),Ee.y2>X.y2&&(X.y2=Ee.y2)},newText:function(X,De,Ee,Qe,N){var q,he,ge=De.createElementNS(fn,"text");return ge.textContent=X,[ge.x,ge.y].forEach(function(Ie){var it=Ee.createSVGLength();it.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),Ie.baseVal.initialize(it)}),"boolean"!=typeof j&&(j="paintOrder"in ge.style),N&&!j?(q=De.createElementNS(fn,"defs"),ge.id=Qe,q.appendChild(ge),(he=(X=De.createElementNS(fn,"g")).appendChild(De.createElementNS(fn,"use"))).href.baseVal="#"+Qe,(De=X.appendChild(De.createElementNS(fn,"use"))).href.baseVal="#"+Qe,(he=he.style).strokeLinejoin="round",{elmPosition:ge,styleText:ge.style,styleFill:De.style,styleStroke:he,styleShow:X.style,elmsAppend:[q,X]}):(he=ge.style,N&&(he.strokeLinejoin="round",he.paintOrder="stroke"),{elmPosition:ge,styleText:he,styleFill:he,styleStroke:N?he:null,styleShow:he,elmsAppend:[ge]})},getMidPoint:function(X,De){var Ee,Qe,q,N=(q=rr(X)).segsLen,he=-1,ge=(q=q.lenAll)/2+(De||0);if(ge<=0)return 2===(Ee=X[0]).length?An(Ee[0],Ee[1],0):pi(Ee[0],Ee[1],Ee[2],Ee[3],0);if(q<=ge)return 2===(Ee=X[X.length-1]).length?An(Ee[0],Ee[1],1):pi(Ee[0],Ee[1],Ee[2],Ee[3],1);for(Qe=[];ge>N[++he];)Qe.push(X[he]),ge-=N[he];return 2===(Ee=X[he]).length?An(Ee[0],Ee[1],ge/N[he]):pi(Ee[0],Ee[1],Ee[2],Ee[3],Ei(Ee[0],Ee[1],Ee[2],Ee[3],ge))},initSvg:function(X,De){var Ee,Qe,N=an.captionLabel.newText(X.text,De.baseWindow.document,De.svg,Ge+"-captionLabel-"+X._id,X.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(q){X[q]=N[q]}),X.isShown=!1,X.styleShow.visibility="hidden",an.captionLabel.textStyleProps.forEach(function(q){null!=X[q]&&(N.styleText[q]=X[q])}),N.elmsAppend.forEach(function(q){De.svg.appendChild(q)}),Ee=N.elmPosition.getBBox(),X.width=Ee.width,X.height=Ee.height,X.outlineColor&&(N.styleStroke.strokeWidth=(Qe=10<(Qe=Ee.height/9)?10:Qe<2?2:Qe)+"px",N.styleStroke.stroke=X.outlineColor),X.strokeWidth=Qe||0,kr(X.aplStats,an.captionLabel.stats),X.updateColor(De),X.refSocketXY?X.updateSocketXY(De):X.updatePath(De),ei&&Qr(De,{}),X.updateShow(De)},bind:function(X,De){var Ee=De.props;return X.color||Hi(Ee,"cur_line_color",X.updateColor),(X.refSocketXY="startLabel"===De.optionName||"endLabel"===De.optionName)?(X.socketIndex="startLabel"===De.optionName?0:1,Hi(Ee,"apl_position",X.updateSocketXY),X.offset||(Hi(Ee,"cur_attach_plugSideLenSE",X.updateSocketXY),Hi(Ee,"cur_line_strokeWidth",X.updateSocketXY))):Hi(Ee,"apl_path",X.updatePath),Hi(Ee,"svgShow",X.updateShow),ei&&Hi(Ee,"new_edge4viewBox",X.adjustEdge),an.captionLabel.initSvg(X,Ee),!0},unbind:function(X,De){var Ee=De.props;X.elmsAppend&&(X.elmsAppend.forEach(function(Qe){Ee.svg.removeChild(Qe)}),X.elmPosition=X.styleFill=X.styleShow=X.elmsAppend=null),kr(X.curStats,an.captionLabel.stats),kr(X.aplStats,an.captionLabel.stats),X.color||Fi(Ee,"cur_line_color",X.updateColor),X.refSocketXY?(Fi(Ee,"apl_position",X.updateSocketXY),X.offset||(Fi(Ee,"cur_attach_plugSideLenSE",X.updateSocketXY),Fi(Ee,"cur_line_strokeWidth",X.updateSocketXY))):Fi(Ee,"apl_path",X.updatePath),Fi(Ee,"svgShow",X.updateShow),ei&&(Fi(Ee,"new_edge4viewBox",X.adjustEdge),Qr(Ee,{}))},removeOption:function(X,De){var Ee=De.props,Qe={};Qe[De.optionName]="",Kr(Ee,Qe)},remove:function(X){X.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),X.boundTargets.forEach(function(De){an.captionLabel.unbind(X,De)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(X,De){return"string"==typeof De.text&&(X.text=De.text.trim()),!!X.text&&("string"==typeof De.color&&(X.color=De.color.trim()),X.outlineColor="string"==typeof De.outlineColor?De.outlineColor.trim():"#fff",Cn(De.lineOffset)&&(X.lineOffset=De.lineOffset),an.captionLabel.textStyleProps.forEach(function(Ee){null!=De[Ee]&&(X[Ee]=De[Ee])}),X.updateColor=function(Ee){an.captionLabel.updateColor(X,Ee)},X.updatePath=function(Ee){var N=X.aplStats,q=Ee.curStats,he=Ee.pathList.animVal||Ee.pathList.baseVal;he&&(X.curStats.pathData=q=an.pathLabel.getOffsetPathData(he,q.line_strokeWidth/2+X.strokeWidth/2+X.height/4,1.25*X.height),or(q,N.pathData)&&(X.elmPath.setPathData(q),N.pathData=q,X.bBox=X.elmPosition.getBBox(),X.updateStartOffset(Ee)))},X.updateStartOffset=function(Ee){var Qe,N,q=X.curStats,he=X.aplStats,ge=Ee.curStats;q.pathData&&(2===X.semIndex&&!X.lineOffset||(N=q.pathData.reduce(function(Ie,it){var Ze,nt=it.values;switch(it.type){case"M":Qe={x:nt[0],y:nt[1]};break;case"L":Ze={x:nt[0],y:nt[1]},Qe&&(Ie+=Xr(Qe,Ze)),Qe=Ze;break;case"C":Ze={x:nt[4],y:nt[5]},Qe&&(Ie+=ai(Qe,{x:nt[0],y:nt[1]},{x:nt[2],y:nt[3]},Ze)),Qe=Ze}return Ie},0),Ee=0===X.semIndex?0:1===X.semIndex?N:N/2,2!==X.semIndex&&(ge=Math.max(ge.attach_plugBackLenSE[X.semIndex]||0,ge.line_strokeWidth/2)+X.strokeWidth/2+X.height/4,Ee=(Ee+=0===X.semIndex?ge:-ge)<0?0:N<Ee?N:Ee),X.lineOffset&&(Ee=(Ee+=X.lineOffset)<0?0:N<Ee?N:Ee),q.startOffset=Ee,Ci(X,he,"startOffset",Ee)&&(X.elmOffset.startOffset.baseVal.value=Ee)))},X.updateShow=function(Ee){an.captionLabel.updateShow(X,Ee)},ei&&(X.adjustEdge=function(Ee,Qe){X.bBox&&an.captionLabel.adjustEdge(Qe,X.bBox,X.strokeWidth/2)}),!0)},getOffsetPathData:function(X,De,Ee){var Qe,N,q=[];function he(ge,Ie){return Math.abs(ge.x-Ie.x)<3&&Math.abs(ge.y-Ie.y)<3}return X.forEach(function(ge){var Ie,it,Ze,nt,dt,mt,It,kt,Ct,At,Lt;2===ge.length?(kt=ge[0],Ct=ge[1],At=De,Lt=Math.atan2(kt.y-Ct.y,Ct.x-kt.x)+.5*Math.PI,Ie=[{x:kt.x+Math.cos(Lt)*At,y:kt.y+Math.sin(Lt)*At*-1},{x:Ct.x+Math.cos(Lt)*At,y:Ct.y+Math.sin(Lt)*At*-1}],Qe?(Ze=Qe.points,0<=(It=Math.atan2(Ze[1].y-Ze[0].y,Ze[0].x-Ze[1].x)-Math.atan2(ge[0].y-ge[1].y,ge[1].x-ge[0].x))&&It<=Math.PI?it={type:"line",points:Ie,inside:!0}:(dt=Fn(Ze[0],Ze[1],De),nt=Fn(Ie[1],Ie[0],De),Lt=(Ct=dt).x-(mt=Ze[0]).x,kt=(-(At=Ct.y-mt.y)*(mt.x-nt.x)+Lt*(mt.y-nt.y))/(-(It=(kt=Ie[1]).x-nt.x)*At+Lt*(Ct=kt.y-nt.y)),Ct=(It*(mt.y-nt.y)-Ct*(mt.x-nt.x))/(-It*At+Lt*Ct),it=(At=0<=kt&&kt<=1&&0<=Ct&&Ct<=1?{x:mt.x+Ct*Lt,y:mt.y+Ct*At}:null)?{type:"line",points:[Ze[1]=At,Ie[1]]}:(Ze[1]=he(nt,dt)?nt:dt,{type:"line",points:[nt,Ie[1]]}),Qe.len=Xr(Ze[0],Ze[1]))):it={type:"line",points:Ie},it.len=Xr(it.points[0],it.points[1]),q.push(Qe=it)):(q.push({type:"cubic",points:function(mn,Yt,ln,Vt,tn,hn){for(var bt,Kt,pn=ai(mn,Yt,ln,Vt)/16,vn=1/(16<tn?tn/16*pn:pn),ci=[],ni=0;Kt=(90-(bt=pi(mn,Yt,ln,Vt,ni)).angle)*(Math.PI/180),ci.push({x:bt.x+Math.cos(Kt)*tn,y:bt.y+Math.sin(Kt)*tn*-1}),!(1<=ni);)1<(ni+=vn)&&(ni=1);return ci}(ge[0],ge[1],ge[2],ge[3],De)}),Qe=null)}),Qe=null,q.forEach(function(ge){var Ie;Qe="line"===ge.type?(ge.inside&&(Qe.len>De?((Ie=Qe.points)[1]=Fn(Ie[0],Ie[1],-De),Qe.len=Xr(Ie[0],Ie[1])):(Qe.points=null,Qe.len=0),ge.len>De+Ee?((Ie=ge.points)[0]=Fn(Ie[1],Ie[0],-(De+Ee)),ge.len=Xr(Ie[0],Ie[1])):(ge.points=null,ge.len=0)),ge):null}),q.reduce(function(ge,Ie){var it=Ie.points;return it&&(N&&he(it[0],N)||ge.push({type:"M",values:[it[0].x,it[0].y]}),"line"===Ie.type?ge.push({type:"L",values:[it[1].x,it[1].y]}):(it.shift(),it.forEach(function(Ze){ge.push({type:"L",values:[Ze.x,Ze.y]})})),N=it[it.length-1]),ge},[])},newText:function(X,De,Ee,Qe){var N,q,he,ge,Ie=De.createElementNS(fn,"defs"),it=Ie.appendChild(De.createElementNS(fn,"path"));return it.id=N=Ee+"-path",(he=(q=De.createElementNS(fn,"text")).appendChild(De.createElementNS(fn,"textPath"))).href.baseVal="#"+N,he.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),he.textContent=X,"boolean"!=typeof j&&(j="paintOrder"in q.style),Qe&&!j?(q.id=X=Ee+"-text",Ie.appendChild(q),(ge=(Ee=De.createElementNS(fn,"g")).appendChild(De.createElementNS(fn,"use"))).href.baseVal="#"+X,(De=Ee.appendChild(De.createElementNS(fn,"use"))).href.baseVal="#"+X,(ge=ge.style).strokeLinejoin="round",{elmPosition:q,elmPath:it,elmOffset:he,styleText:q.style,styleFill:De.style,styleStroke:ge,styleShow:Ee.style,elmsAppend:[Ie,Ee]}):(ge=q.style,Qe&&(ge.strokeLinejoin="round",ge.paintOrder="stroke"),{elmPosition:q,elmPath:it,elmOffset:he,styleText:ge,styleFill:ge,styleStroke:Qe?ge:null,styleShow:ge,elmsAppend:[Ie,q]})},initSvg:function(X,De){var Ee,Qe,N,q=an.pathLabel.newText(X.text,De.baseWindow.document,Ge+"-pathLabel-"+X._id,X.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(he){X[he]=q[he]}),X.isShown=!1,X.styleShow.visibility="hidden",an.captionLabel.textStyleProps.forEach(function(he){null!=X[he]&&(q.styleText[he]=X[he])}),q.elmsAppend.forEach(function(he){De.svg.appendChild(he)}),q.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),Nn&&(N=q.elmOffset.href.baseVal,q.elmOffset.href.baseVal=""),Ee=q.elmPosition.getBBox(),Nn&&(q.elmOffset.href.baseVal=N),q.styleText.textAnchor=["start","end","middle"][X.semIndex],2!==X.semIndex||X.lineOffset||q.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),X.height=Ee.height,X.outlineColor&&(q.styleStroke.strokeWidth=(Qe=10<(Qe=Ee.height/9)?10:Qe<2?2:Qe)+"px",q.styleStroke.stroke=X.outlineColor),X.strokeWidth=Qe||0,kr(X.aplStats,an.pathLabel.stats),X.updateColor(De),X.updatePath(De),X.updateStartOffset(De),ei&&Qr(De,{}),X.updateShow(De)},bind:function(X,De){var Ee=De.props;return X.color||Hi(Ee,"cur_line_color",X.updateColor),Hi(Ee,"cur_line_strokeWidth",X.updatePath),Hi(Ee,"apl_path",X.updatePath),X.semIndex="startLabel"===De.optionName?0:"endLabel"===De.optionName?1:2,2===X.semIndex&&!X.lineOffset||Hi(Ee,"cur_attach_plugBackLenSE",X.updateStartOffset),Hi(Ee,"svgShow",X.updateShow),ei&&Hi(Ee,"new_edge4viewBox",X.adjustEdge),an.pathLabel.initSvg(X,Ee),!0},unbind:function(X,De){var Ee=De.props;X.elmsAppend&&(X.elmsAppend.forEach(function(Qe){Ee.svg.removeChild(Qe)}),X.elmPosition=X.elmPath=X.elmOffset=X.styleFill=X.styleShow=X.elmsAppend=null),kr(X.curStats,an.pathLabel.stats),kr(X.aplStats,an.pathLabel.stats),X.color||Fi(Ee,"cur_line_color",X.updateColor),Fi(Ee,"cur_line_strokeWidth",X.updatePath),Fi(Ee,"apl_path",X.updatePath),2===X.semIndex&&!X.lineOffset||Fi(Ee,"cur_attach_plugBackLenSE",X.updateStartOffset),Fi(Ee,"svgShow",X.updateShow),ei&&(Fi(Ee,"new_edge4viewBox",X.adjustEdge),Qr(Ee,{}))},removeOption:function(X,De){var Ee=De.props,Qe={};Qe[De.optionName]="",Kr(Ee,Qe)},remove:function(X){X.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),X.boundTargets.forEach(function(De){an.pathLabel.unbind(X,De)}))}}},Object.keys(an).forEach(function(X){Yi[X]=function(){return new Ne(an[X],Array.prototype.slice.call(arguments))}}),Yi.positionByWindowResize=!0,window.addEventListener("resize",fi.add(function(){Yi.positionByWindowResize&&Object.keys(Ai).forEach(function(X){Qr(Ai[X],{position:!0})})}),!1),Yi}();(function(ke,Ve){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=ke.document?Ve(ke,!0):function(an){if(!an.document)throw new Error("jQuery requires a window with a document");return Ve(an)}:Ve(ke)})(typeof window<"u"?window:this,function(ke,Ve){"use strict";var an=[],Ne=Object.getPrototypeOf,gt=an.slice,de=an.flat?function(M){return an.flat.call(M)}:function(M){return an.concat.apply([],M)},ve=an.push,J=an.indexOf,j={},m=j.toString,y=j.hasOwnProperty,D=y.toString,B=D.call(Object),w={},O=function(M){return"function"==typeof M&&"number"!=typeof M.nodeType&&"function"!=typeof M.item},U=function(M){return null!=M&&M===M.window},oe=ke.document,fe={type:!0,src:!0,nonce:!0,noModule:!0};function ue(M,ie,Me){var Re,W,R=(Me=Me||oe).createElement("script");if(R.text=M,ie)for(Re in fe)(W=ie[Re]||ie.getAttribute&&ie.getAttribute(Re))&&R.setAttribute(Re,W);Me.head.appendChild(R).parentNode.removeChild(R)}function be(M){return null==M?M+"":"object"==typeof M||"function"==typeof M?j[m.call(M)]||"object":typeof M}var Ke=/HTML$/i,L=function(M,ie){return new L.fn.init(M,ie)};function Ge(M){var ie=!!M&&"length"in M&&M.length,Me=be(M);return!O(M)&&!U(M)&&("array"===Me||0===ie||"number"==typeof ie&&0<ie&&ie-1 in M)}function ye(M,ie){return M.nodeName&&M.nodeName.toLowerCase()===ie.toLowerCase()}L.fn=L.prototype={jquery:"3.7.1",constructor:L,length:0,toArray:function(){return gt.call(this)},get:function(M){return null==M?gt.call(this):M<0?this[M+this.length]:this[M]},pushStack:function(M){var ie=L.merge(this.constructor(),M);return ie.prevObject=this,ie},each:function(M){return L.each(this,M)},map:function(M){return this.pushStack(L.map(this,function(ie,Me){return M.call(ie,Me,ie)}))},slice:function(){return this.pushStack(gt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(L.grep(this,function(M,ie){return(ie+1)%2}))},odd:function(){return this.pushStack(L.grep(this,function(M,ie){return ie%2}))},eq:function(M){var ie=this.length,Me=+M+(M<0?ie:0);return this.pushStack(0<=Me&&Me<ie?[this[Me]]:[])},end:function(){return this.prevObject||this.constructor()},push:ve,sort:an.sort,splice:an.splice},L.extend=L.fn.extend=function(){var M,ie,Me,Re,W,R,_=arguments[0]||{},I=1,x=arguments.length,T=!1;for("boolean"==typeof _&&(T=_,_=arguments[I]||{},I++),"object"==typeof _||O(_)||(_={}),I===x&&(_=this,I--);I<x;I++)if(null!=(M=arguments[I]))for(ie in M)Re=M[ie],"__proto__"!==ie&&_!==Re&&(T&&Re&&(L.isPlainObject(Re)||(W=Array.isArray(Re)))?(Me=_[ie],R=W&&!Array.isArray(Me)?[]:W||L.isPlainObject(Me)?Me:{},W=!1,_[ie]=L.extend(T,R,Re)):void 0!==Re&&(_[ie]=Re));return _},L.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(M){throw new Error(M)},noop:function(){},isPlainObject:function(M){var ie,Me;return!(!M||"[object Object]"!==m.call(M)||(ie=Ne(M))&&("function"!=typeof(Me=y.call(ie,"constructor")&&ie.constructor)||D.call(Me)!==B))},isEmptyObject:function(M){var ie;for(ie in M)return!1;return!0},globalEval:function(M,ie,Me){ue(M,{nonce:ie&&ie.nonce},Me)},each:function(M,ie){var Me,Re=0;if(Ge(M))for(Me=M.length;Re<Me&&!1!==ie.call(M[Re],Re,M[Re]);Re++);else for(Re in M)if(!1===ie.call(M[Re],Re,M[Re]))break;return M},text:function(M){var ie,Me="",Re=0,W=M.nodeType;if(!W)for(;ie=M[Re++];)Me+=L.text(ie);return 1===W||11===W?M.textContent:9===W?M.documentElement.textContent:3===W||4===W?M.nodeValue:Me},makeArray:function(M,ie){var Me=ie||[];return null!=M&&(Ge(Object(M))?L.merge(Me,"string"==typeof M?[M]:M):ve.call(Me,M)),Me},inArray:function(M,ie,Me){return null==ie?-1:J.call(ie,M,Me)},isXMLDoc:function(M){var Me=M&&(M.ownerDocument||M).documentElement;return!Ke.test(M&&M.namespaceURI||Me&&Me.nodeName||"HTML")},merge:function(M,ie){for(var Me=+ie.length,Re=0,W=M.length;Re<Me;Re++)M[W++]=ie[Re];return M.length=W,M},grep:function(M,ie,Me){for(var Re=[],W=0,R=M.length,_=!Me;W<R;W++)!ie(M[W],W)!==_&&Re.push(M[W]);return Re},map:function(M,ie,Me){var Re,W,R=0,_=[];if(Ge(M))for(Re=M.length;R<Re;R++)null!=(W=ie(M[R],R,Me))&&_.push(W);else for(R in M)null!=(W=ie(M[R],R,Me))&&_.push(W);return de(_)},guid:1,support:w}),"function"==typeof Symbol&&(L.fn[Symbol.iterator]=an[Symbol.iterator]),L.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(M,ie){j["[object "+ie+"]"]=ie.toLowerCase()});var Te=an.pop,Ue=an.sort,ce=an.splice,Oe="[\\x20\\t\\r\\n\\f]",qe=new RegExp("^"+Oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Oe+"+$","g");L.contains=function(M,ie){var Me=ie&&ie.parentNode;return M===Me||!(!Me||1!==Me.nodeType||!(M.contains?M.contains(Me):M.compareDocumentPosition&&16&M.compareDocumentPosition(Me)))};var xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function We(M,ie){return ie?"\0"===M?"\ufffd":M.slice(0,-1)+"\\"+M.charCodeAt(M.length-1).toString(16)+" ":"\\"+M}L.escapeSelector=function(M){return(M+"").replace(xe,We)};var et=oe,xt=ve;!function(){var M,ie,Me,Re,W,R,_,I,x,T,S=xt,A=L.expando,k=0,V=0,H=Pe(),G=Pe(),$=Pe(),te=Pe(),K=function(tt,yt){return tt===yt&&(W=!0),0},re="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Q="(?:\\\\[\\da-fA-F]{1,6}"+Oe+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",pe="\\["+Oe+"*("+Q+")(?:"+Oe+"*([*^$|!~]?=)"+Oe+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Q+"))|)"+Oe+"*\\]",Z=":("+Q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+pe+")*)|.*)\\)|)",Y=new RegExp(Oe+"+","g"),z=new RegExp("^"+Oe+"*,"+Oe+"*"),C=new RegExp("^"+Oe+"*([>+~]|"+Oe+")"+Oe+"*"),E=new RegExp(Oe+"|>"),ne=new RegExp(Z),me=new RegExp("^"+Q+"$"),se={ID:new RegExp("^#("+Q+")"),CLASS:new RegExp("^\\.("+Q+")"),TAG:new RegExp("^("+Q+"|[*])"),ATTR:new RegExp("^"+pe),PSEUDO:new RegExp("^"+Z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Oe+"*(even|odd|(([+-]|)(\\d*)n|)"+Oe+"*(?:([+-]|)"+Oe+"*(\\d+)|))"+Oe+"*\\)|)","i"),bool:new RegExp("^(?:"+re+")$","i"),needsContext:new RegExp("^"+Oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Oe+"*((?:-\\d)?\\d*)"+Oe+"*\\)|)(?=[^-]|$)","i")},Se=/^(?:input|select|textarea|button)$/i,Be=/^h\d$/i,ht=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ot=/[+~]/,rt=new RegExp("\\\\[\\da-fA-F]{1,6}"+Oe+"?|\\\\([^\\r\\n\\f])","g"),ut=function(tt,yt){var Dt="0x"+tt.slice(1)-65536;return yt||(Dt<0?String.fromCharCode(Dt+65536):String.fromCharCode(Dt>>10|55296,1023&Dt|56320))},lt=function(){Xn()},_t=He(function(tt){return!0===tt.disabled&&ye(tt,"fieldset")},{dir:"parentNode",next:"legend"});try{S.apply(an=gt.call(et.childNodes),et.childNodes)}catch{S={apply:function(yt,Dt){xt.apply(yt,gt.call(Dt))},call:function(yt){xt.apply(yt,gt.call(arguments,1))}}}function ft(tt,yt,Dt,nn){var En,di,vi,yi,hi,nr,Ri,Bi=yt&&yt.ownerDocument,Tn=yt?yt.nodeType:9;if(Dt=Dt||[],"string"!=typeof tt||!tt||1!==Tn&&9!==Tn&&11!==Tn)return Dt;if(!nn&&(Xn(yt),yt=yt||R,I)){if(11!==Tn&&(hi=ht.exec(tt)))if(En=hi[1]){if(9===Tn){if(!(vi=yt.getElementById(En)))return Dt;if(vi.id===En)return S.call(Dt,vi),Dt}else if(Bi&&(vi=Bi.getElementById(En))&&ft.contains(yt,vi)&&vi.id===En)return S.call(Dt,vi),Dt}else{if(hi[2])return S.apply(Dt,yt.getElementsByTagName(tt)),Dt;if((En=hi[3])&&yt.getElementsByClassName)return S.apply(Dt,yt.getElementsByClassName(En)),Dt}if(!(te[tt+" "]||x&&x.test(tt))){if(Ri=tt,Bi=yt,1===Tn&&(E.test(tt)||C.test(tt))){for((Bi=ot.test(tt)&&Gn(yt.parentNode)||yt)==yt&&w.scope||((yi=yt.getAttribute("id"))?yi=L.escapeSelector(yi):yt.setAttribute("id",yi=A)),di=(nr=Bt(tt)).length;di--;)nr[di]=(yi?"#"+yi:":scope")+" "+Ye(nr[di]);Ri=nr.join(",")}try{return S.apply(Dt,Bi.querySelectorAll(Ri)),Dt}catch{te(tt,!0)}finally{yi===A&&yt.removeAttribute("id")}}}return Dn(tt.replace(qe,"$1"),yt,Dt,nn)}function Pe(){var tt=[];return function yt(Dt,nn){return tt.push(Dt+" ")>ie.cacheLength&&delete yt[tt.shift()],yt[Dt+" "]=nn}}function $e(tt){return tt[A]=!0,tt}function ct(tt){var yt=R.createElement("fieldset");try{return!!tt(yt)}catch{return!1}finally{yt.parentNode&&yt.parentNode.removeChild(yt),yt=null}}function Mt(tt){return function(yt){return ye(yt,"input")&&yt.type===tt}}function zt(tt){return function(yt){return(ye(yt,"input")||ye(yt,"button"))&&yt.type===tt}}function yn(tt){return function(yt){return"form"in yt?yt.parentNode&&!1===yt.disabled?"label"in yt?"label"in yt.parentNode?yt.parentNode.disabled===tt:yt.disabled===tt:yt.isDisabled===tt||yt.isDisabled!==!tt&&_t(yt)===tt:yt.disabled===tt:"label"in yt&&yt.disabled===tt}}function On(tt){return $e(function(yt){return yt=+yt,$e(function(Dt,nn){for(var En,di=tt([],Dt.length,yt),vi=di.length;vi--;)Dt[En=di[vi]]&&(Dt[En]=!(nn[En]=Dt[En]))})})}function Gn(tt){return tt&&typeof tt.getElementsByTagName<"u"&&tt}function Xn(tt){var yt,Dt=tt?tt.ownerDocument||tt:et;return Dt!=R&&9===Dt.nodeType&&Dt.documentElement&&(_=(R=Dt).documentElement,I=!L.isXMLDoc(R),T=_.matches||_.webkitMatchesSelector||_.msMatchesSelector,_.msMatchesSelector&&et!=R&&(yt=R.defaultView)&&yt.top!==yt&&yt.addEventListener("unload",lt),w.getById=ct(function(nn){return _.appendChild(nn).id=L.expando,!R.getElementsByName||!R.getElementsByName(L.expando).length}),w.disconnectedMatch=ct(function(nn){return T.call(nn,"*")}),w.scope=ct(function(){return R.querySelectorAll(":scope")}),w.cssHas=ct(function(){try{return R.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),w.getById?(ie.filter.ID=function(nn){var En=nn.replace(rt,ut);return function(di){return di.getAttribute("id")===En}},ie.find.ID=function(nn,En){if(typeof En.getElementById<"u"&&I){var di=En.getElementById(nn);return di?[di]:[]}}):(ie.filter.ID=function(nn){var En=nn.replace(rt,ut);return function(di){var vi=typeof di.getAttributeNode<"u"&&di.getAttributeNode("id");return vi&&vi.value===En}},ie.find.ID=function(nn,En){if(typeof En.getElementById<"u"&&I){var di,vi,yi,hi=En.getElementById(nn);if(hi){if((di=hi.getAttributeNode("id"))&&di.value===nn)return[hi];for(yi=En.getElementsByName(nn),vi=0;hi=yi[vi++];)if((di=hi.getAttributeNode("id"))&&di.value===nn)return[hi]}return[]}}),ie.find.TAG=function(nn,En){return typeof En.getElementsByTagName<"u"?En.getElementsByTagName(nn):En.querySelectorAll(nn)},ie.find.CLASS=function(nn,En){if(typeof En.getElementsByClassName<"u"&&I)return En.getElementsByClassName(nn)},x=[],ct(function(nn){var En;_.appendChild(nn).innerHTML="<a id='"+A+"' href='' disabled='disabled'></a><select id='"+A+"-\r\\' disabled='disabled'><option selected=''></option></select>",nn.querySelectorAll("[selected]").length||x.push("\\["+Oe+"*(?:value|"+re+")"),nn.querySelectorAll("[id~="+A+"-]").length||x.push("~="),nn.querySelectorAll("a#"+A+"+*").length||x.push(".#.+[+~]"),nn.querySelectorAll(":checked").length||x.push(":checked"),(En=R.createElement("input")).setAttribute("type","hidden"),nn.appendChild(En).setAttribute("name","D"),_.appendChild(nn).disabled=!0,2!==nn.querySelectorAll(":disabled").length&&x.push(":enabled",":disabled"),(En=R.createElement("input")).setAttribute("name",""),nn.appendChild(En),nn.querySelectorAll("[name='']").length||x.push("\\["+Oe+"*name"+Oe+"*="+Oe+"*(?:''|\"\")")}),w.cssHas||x.push(":has"),x=x.length&&new RegExp(x.join("|")),K=function(nn,En){if(nn===En)return W=!0,0;var di=!nn.compareDocumentPosition-!En.compareDocumentPosition;return di||(1&(di=(nn.ownerDocument||nn)==(En.ownerDocument||En)?nn.compareDocumentPosition(En):1)||!w.sortDetached&&En.compareDocumentPosition(nn)===di?nn===R||nn.ownerDocument==et&&ft.contains(et,nn)?-1:En===R||En.ownerDocument==et&&ft.contains(et,En)?1:Re?J.call(Re,nn)-J.call(Re,En):0:4&di?-1:1)}),R}for(M in ft.matches=function(tt,yt){return ft(tt,null,null,yt)},ft.matchesSelector=function(tt,yt){if(Xn(tt),I&&!te[yt+" "]&&(!x||!x.test(yt)))try{var Dt=T.call(tt,yt);if(Dt||w.disconnectedMatch||tt.document&&11!==tt.document.nodeType)return Dt}catch{te(yt,!0)}return 0<ft(yt,R,null,[tt]).length},ft.contains=function(tt,yt){return(tt.ownerDocument||tt)!=R&&Xn(tt),L.contains(tt,yt)},ft.attr=function(tt,yt){(tt.ownerDocument||tt)!=R&&Xn(tt);var Dt=ie.attrHandle[yt.toLowerCase()],nn=Dt&&y.call(ie.attrHandle,yt.toLowerCase())?Dt(tt,yt,!I):void 0;return void 0!==nn?nn:tt.getAttribute(yt)},ft.error=function(tt){throw new Error("Syntax error, unrecognized expression: "+tt)},L.uniqueSort=function(tt){var yt,Dt=[],nn=0,En=0;if(W=!w.sortStable,Re=!w.sortStable&&gt.call(tt,0),Ue.call(tt,K),W){for(;yt=tt[En++];)yt===tt[En]&&(nn=Dt.push(En));for(;nn--;)ce.call(tt,Dt[nn],1)}return Re=null,tt},L.fn.uniqueSort=function(){return this.pushStack(L.uniqueSort(gt.apply(this)))},(ie=L.expr={cacheLength:50,createPseudo:$e,match:se,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(tt){return tt[1]=tt[1].replace(rt,ut),tt[3]=(tt[3]||tt[4]||tt[5]||"").replace(rt,ut),"~="===tt[2]&&(tt[3]=" "+tt[3]+" "),tt.slice(0,4)},CHILD:function(tt){return tt[1]=tt[1].toLowerCase(),"nth"===tt[1].slice(0,3)?(tt[3]||ft.error(tt[0]),tt[4]=+(tt[4]?tt[5]+(tt[6]||1):2*("even"===tt[3]||"odd"===tt[3])),tt[5]=+(tt[7]+tt[8]||"odd"===tt[3])):tt[3]&&ft.error(tt[0]),tt},PSEUDO:function(tt){var yt,Dt=!tt[6]&&tt[2];return se.CHILD.test(tt[0])?null:(tt[3]?tt[2]=tt[4]||tt[5]||"":Dt&&ne.test(Dt)&&(yt=Bt(Dt,!0))&&(yt=Dt.indexOf(")",Dt.length-yt)-Dt.length)&&(tt[0]=tt[0].slice(0,yt),tt[2]=Dt.slice(0,yt)),tt.slice(0,3))}},filter:{TAG:function(tt){var yt=tt.replace(rt,ut).toLowerCase();return"*"===tt?function(){return!0}:function(Dt){return ye(Dt,yt)}},CLASS:function(tt){var yt=H[tt+" "];return yt||(yt=new RegExp("(^|"+Oe+")"+tt+"("+Oe+"|$)"))&&H(tt,function(Dt){return yt.test("string"==typeof Dt.className&&Dt.className||typeof Dt.getAttribute<"u"&&Dt.getAttribute("class")||"")})},ATTR:function(tt,yt,Dt){return function(nn){var En=ft.attr(nn,tt);return null==En?"!="===yt:!yt||(En+="","="===yt?En===Dt:"!="===yt?En!==Dt:"^="===yt?Dt&&0===En.indexOf(Dt):"*="===yt?Dt&&-1<En.indexOf(Dt):"$="===yt?Dt&&En.slice(-Dt.length)===Dt:"~="===yt?-1<(" "+En.replace(Y," ")+" ").indexOf(Dt):"|="===yt&&(En===Dt||En.slice(0,Dt.length+1)===Dt+"-"))}},CHILD:function(tt,yt,Dt,nn,En){var di="nth"!==tt.slice(0,3),vi="last"!==tt.slice(-4),yi="of-type"===yt;return 1===nn&&0===En?function(hi){return!!hi.parentNode}:function(hi,nr,Ri){var Bi,Tn,In,Jt,xn,wi=di!==vi?"nextSibling":"previousSibling",ui=hi.parentNode,Ni=yi&&hi.nodeName.toLowerCase(),Ft=!Ri&&!yi,qt=!1;if(ui){if(di){for(;wi;){for(In=hi;In=In[wi];)if(yi?ye(In,Ni):1===In.nodeType)return!1;xn=wi="only"===tt&&!xn&&"nextSibling"}return!0}if(xn=[vi?ui.firstChild:ui.lastChild],vi&&Ft){for(qt=(Jt=(Bi=(Tn=ui[A]||(ui[A]={}))[tt]||[])[0]===k&&Bi[1])&&Bi[2],In=Jt&&ui.childNodes[Jt];In=++Jt&&In&&In[wi]||(qt=Jt=0)||xn.pop();)if(1===In.nodeType&&++qt&&In===hi){Tn[tt]=[k,Jt,qt];break}}else if(Ft&&(qt=Jt=(Bi=(Tn=hi[A]||(hi[A]={}))[tt]||[])[0]===k&&Bi[1]),!1===qt)for(;(In=++Jt&&In&&In[wi]||(qt=Jt=0)||xn.pop())&&(!(yi?ye(In,Ni):1===In.nodeType)||!++qt||(Ft&&((Tn=In[A]||(In[A]={}))[tt]=[k,qt]),In!==hi)););return(qt-=En)===nn||qt%nn==0&&0<=qt/nn}}},PSEUDO:function(tt,yt){var Dt,nn=ie.pseudos[tt]||ie.setFilters[tt.toLowerCase()]||ft.error("unsupported pseudo: "+tt);return nn[A]?nn(yt):1<nn.length?(Dt=[tt,tt,"",yt],ie.setFilters.hasOwnProperty(tt.toLowerCase())?$e(function(En,di){for(var vi,yi=nn(En,yt),hi=yi.length;hi--;)En[vi=J.call(En,yi[hi])]=!(di[vi]=yi[hi])}):function(En){return nn(En,0,Dt)}):nn}},pseudos:{not:$e(function(tt){var yt=[],Dt=[],nn=Zt(tt.replace(qe,"$1"));return nn[A]?$e(function(En,di,vi,yi){for(var hi,nr=nn(En,null,yi,[]),Ri=En.length;Ri--;)(hi=nr[Ri])&&(En[Ri]=!(di[Ri]=hi))}):function(En,di,vi){return yt[0]=En,nn(yt,null,vi,Dt),yt[0]=null,!Dt.pop()}}),has:$e(function(tt){return function(yt){return 0<ft(tt,yt).length}}),contains:$e(function(tt){return tt=tt.replace(rt,ut),function(yt){return-1<(yt.textContent||L.text(yt)).indexOf(tt)}}),lang:$e(function(tt){return me.test(tt||"")||ft.error("unsupported lang: "+tt),tt=tt.replace(rt,ut).toLowerCase(),function(yt){var Dt;do{if(Dt=I?yt.lang:yt.getAttribute("xml:lang")||yt.getAttribute("lang"))return(Dt=Dt.toLowerCase())===tt||0===Dt.indexOf(tt+"-")}while((yt=yt.parentNode)&&1===yt.nodeType);return!1}}),target:function(tt){var yt=ke.location&&ke.location.hash;return yt&&yt.slice(1)===tt.id},root:function(tt){return tt===_},focus:function(tt){return tt===function(){try{return R.activeElement}catch{}}()&&R.hasFocus()&&!!(tt.type||tt.href||~tt.tabIndex)},enabled:yn(!1),disabled:yn(!0),checked:function(tt){return ye(tt,"input")&&!!tt.checked||ye(tt,"option")&&!!tt.selected},selected:function(tt){return!0===tt.selected},empty:function(tt){for(tt=tt.firstChild;tt;tt=tt.nextSibling)if(tt.nodeType<6)return!1;return!0},parent:function(tt){return!ie.pseudos.empty(tt)},header:function(tt){return Be.test(tt.nodeName)},input:function(tt){return Se.test(tt.nodeName)},button:function(tt){return ye(tt,"input")&&"button"===tt.type||ye(tt,"button")},text:function(tt){var yt;return ye(tt,"input")&&"text"===tt.type&&(null==(yt=tt.getAttribute("type"))||"text"===yt.toLowerCase())},first:On(function(){return[0]}),last:On(function(tt,yt){return[yt-1]}),eq:On(function(tt,yt,Dt){return[Dt<0?Dt+yt:Dt]}),even:On(function(tt,yt){for(var Dt=0;Dt<yt;Dt+=2)tt.push(Dt);return tt}),odd:On(function(tt,yt){for(var Dt=1;Dt<yt;Dt+=2)tt.push(Dt);return tt}),lt:On(function(tt,yt,Dt){var nn;for(nn=Dt<0?Dt+yt:yt<Dt?yt:Dt;0<=--nn;)tt.push(nn);return tt}),gt:On(function(tt,yt,Dt){for(var nn=Dt<0?Dt+yt:Dt;++nn<yt;)tt.push(nn);return tt})}}).pseudos.nth=ie.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ie.pseudos[M]=Mt(M);for(M in{submit:!0,reset:!0})ie.pseudos[M]=zt(M);function qn(){}function Bt(tt,yt){var Dt,nn,En,di,vi,yi,hi,nr=G[tt+" "];if(nr)return yt?0:nr.slice(0);for(vi=tt,yi=[],hi=ie.preFilter;vi;){for(di in Dt&&!(nn=z.exec(vi))||(nn&&(vi=vi.slice(nn[0].length)||vi),yi.push(En=[])),Dt=!1,(nn=C.exec(vi))&&(Dt=nn.shift(),En.push({value:Dt,type:nn[0].replace(qe," ")}),vi=vi.slice(Dt.length)),ie.filter)!(nn=se[di].exec(vi))||hi[di]&&!(nn=hi[di](nn))||(Dt=nn.shift(),En.push({value:Dt,type:di,matches:nn}),vi=vi.slice(Dt.length));if(!Dt)break}return yt?vi.length:vi?ft.error(tt):G(tt,yi).slice(0)}function Ye(tt){for(var yt=0,Dt=tt.length,nn="";yt<Dt;yt++)nn+=tt[yt].value;return nn}function He(tt,yt,Dt){var nn=yt.dir,En=yt.next,di=En||nn,vi=Dt&&"parentNode"===di,yi=V++;return yt.first?function(hi,nr,Ri){for(;hi=hi[nn];)if(1===hi.nodeType||vi)return tt(hi,nr,Ri);return!1}:function(hi,nr,Ri){var Bi,Tn,In=[k,yi];if(Ri){for(;hi=hi[nn];)if((1===hi.nodeType||vi)&&tt(hi,nr,Ri))return!0}else for(;hi=hi[nn];)if(1===hi.nodeType||vi)if(Tn=hi[A]||(hi[A]={}),En&&ye(hi,En))hi=hi[nn]||hi;else{if((Bi=Tn[di])&&Bi[0]===k&&Bi[1]===yi)return In[2]=Bi[2];if((Tn[di]=In)[2]=tt(hi,nr,Ri))return!0}return!1}}function St(tt){return 1<tt.length?function(yt,Dt,nn){for(var En=tt.length;En--;)if(!tt[En](yt,Dt,nn))return!1;return!0}:tt[0]}function jt(tt,yt,Dt,nn,En){for(var di,vi=[],yi=0,hi=tt.length,nr=null!=yt;yi<hi;yi++)(di=tt[yi])&&(Dt&&!Dt(di,nn,En)||(vi.push(di),nr&&yt.push(yi)));return vi}function on(tt,yt,Dt,nn,En,di){return nn&&!nn[A]&&(nn=on(nn)),En&&!En[A]&&(En=on(En,di)),$e(function(vi,yi,hi,nr){var Ri,Bi,Tn,In,Jt=[],xn=[],wi=yi.length,ui=vi||function(Ft,qt,je){for(var vt=0,Ut=qt.length;vt<Ut;vt++)ft(Ft,qt[vt],je);return je}(yt||"*",hi.nodeType?[hi]:hi,[]),Ni=!tt||!vi&&yt?ui:jt(ui,Jt,tt,hi,nr);if(Dt?Dt(Ni,In=En||(vi?tt:wi||nn)?[]:yi,hi,nr):In=Ni,nn)for(Ri=jt(In,xn),nn(Ri,[],hi,nr),Bi=Ri.length;Bi--;)(Tn=Ri[Bi])&&(In[xn[Bi]]=!(Ni[xn[Bi]]=Tn));if(vi){if(En||tt){if(En){for(Ri=[],Bi=In.length;Bi--;)(Tn=In[Bi])&&Ri.push(Ni[Bi]=Tn);En(null,In=[],Ri,nr)}for(Bi=In.length;Bi--;)(Tn=In[Bi])&&-1<(Ri=En?J.call(vi,Tn):Jt[Bi])&&(vi[Ri]=!(yi[Ri]=Tn))}}else In=jt(In===yi?In.splice(wi,In.length):In),En?En(null,yi,In,nr):S.apply(yi,In)})}function un(tt){for(var yt,Dt,nn,En=tt.length,di=ie.relative[tt[0].type],vi=di||ie.relative[" "],yi=di?1:0,hi=He(function(Bi){return Bi===yt},vi,!0),nr=He(function(Bi){return-1<J.call(yt,Bi)},vi,!0),Ri=[function(Bi,Tn,In){var Jt=!di&&(In||Tn!=Me)||((yt=Tn).nodeType?hi(Bi,Tn,In):nr(Bi,Tn,In));return yt=null,Jt}];yi<En;yi++)if(Dt=ie.relative[tt[yi].type])Ri=[He(St(Ri),Dt)];else{if((Dt=ie.filter[tt[yi].type].apply(null,tt[yi].matches))[A]){for(nn=++yi;nn<En&&!ie.relative[tt[nn].type];nn++);return on(1<yi&&St(Ri),1<yi&&Ye(tt.slice(0,yi-1).concat({value:" "===tt[yi-2].type?"*":""})).replace(qe,"$1"),Dt,yi<nn&&un(tt.slice(yi,nn)),nn<En&&un(tt=tt.slice(nn)),nn<En&&Ye(tt))}Ri.push(Dt)}return St(Ri)}function Zt(tt,yt){var Dt,nn,En,di,vi,yi,hi=[],nr=[],Ri=$[tt+" "];if(!Ri){for(yt||(yt=Bt(tt)),Dt=yt.length;Dt--;)(Ri=un(yt[Dt]))[A]?hi.push(Ri):nr.push(Ri);(Ri=$(tt,(nn=nr,di=0<(En=hi).length,vi=0<nn.length,yi=function(Bi,Tn,In,Jt,xn){var wi,ui,Ni,Ft=0,qt="0",je=Bi&&[],vt=[],Ut=Me,sn=Bi||vi&&ie.find.TAG("*",xn),Ln=k+=null==Ut?1:Math.random()||.1,dn=sn.length;for(xn&&(Me=Tn==R||Tn||xn);qt!==dn&&null!=(wi=sn[qt]);qt++){if(vi&&wi){for(ui=0,Tn||wi.ownerDocument==R||(Xn(wi),In=!I);Ni=nn[ui++];)if(Ni(wi,Tn||R,In)){S.call(Jt,wi);break}xn&&(k=Ln)}di&&((wi=!Ni&&wi)&&Ft--,Bi&&je.push(wi))}if(Ft+=qt,di&&qt!==Ft){for(ui=0;Ni=En[ui++];)Ni(je,vt,Tn,In);if(Bi){if(0<Ft)for(;qt--;)je[qt]||vt[qt]||(vt[qt]=Te.call(Jt));vt=jt(vt)}S.apply(Jt,vt),xn&&!Bi&&0<vt.length&&1<Ft+En.length&&L.uniqueSort(Jt)}return xn&&(k=Ln,Me=Ut),je},di?$e(yi):yi))).selector=tt}return Ri}function Dn(tt,yt,Dt,nn){var En,di,vi,yi,hi,nr="function"==typeof tt&&tt,Ri=!nn&&Bt(tt=nr.selector||tt);if(Dt=Dt||[],1===Ri.length){if(2<(di=Ri[0]=Ri[0].slice(0)).length&&"ID"===(vi=di[0]).type&&9===yt.nodeType&&I&&ie.relative[di[1].type]){if(!(yt=(ie.find.ID(vi.matches[0].replace(rt,ut),yt)||[])[0]))return Dt;nr&&(yt=yt.parentNode),tt=tt.slice(di.shift().value.length)}for(En=se.needsContext.test(tt)?0:di.length;En--&&!ie.relative[yi=(vi=di[En]).type];)if((hi=ie.find[yi])&&(nn=hi(vi.matches[0].replace(rt,ut),ot.test(di[0].type)&&Gn(yt.parentNode)||yt))){if(di.splice(En,1),!(tt=nn.length&&Ye(di)))return S.apply(Dt,nn),Dt;break}}return(nr||Zt(tt,Ri))(nn,yt,!I,Dt,!yt||ot.test(tt)&&Gn(yt.parentNode)||yt),Dt}qn.prototype=ie.filters=ie.pseudos,ie.setFilters=new qn,w.sortStable=A.split("").sort(K).join("")===A,Xn(),w.sortDetached=ct(function(tt){return 1&tt.compareDocumentPosition(R.createElement("fieldset"))}),L.find=ft,L.expr[":"]=L.expr.pseudos,L.unique=L.uniqueSort,ft.compile=Zt,ft.select=Dn,ft.setDocument=Xn,ft.tokenize=Bt,ft.escape=L.escapeSelector,ft.getText=L.text,ft.isXML=L.isXMLDoc,ft.selectors=L.expr,ft.support=L.support,ft.uniqueSort=L.uniqueSort}();var ze=function(M,ie,Me){for(var Re=[],W=void 0!==Me;(M=M[ie])&&9!==M.nodeType;)if(1===M.nodeType){if(W&&L(M).is(Me))break;Re.push(M)}return Re},Xe=function(M,ie){for(var Me=[];M;M=M.nextSibling)1===M.nodeType&&M!==ie&&Me.push(M);return Me},Je=L.expr.match.needsContext,st=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Et(M,ie,Me){return O(ie)?L.grep(M,function(Re,W){return!!ie.call(Re,W,Re)!==Me}):ie.nodeType?L.grep(M,function(Re){return Re===ie!==Me}):"string"!=typeof ie?L.grep(M,function(Re){return-1<J.call(ie,Re)!==Me}):L.filter(ie,M,Me)}L.filter=function(M,ie,Me){var Re=ie[0];return Me&&(M=":not("+M+")"),1===ie.length&&1===Re.nodeType?L.find.matchesSelector(Re,M)?[Re]:[]:L.find.matches(M,L.grep(ie,function(W){return 1===W.nodeType}))},L.fn.extend({find:function(M){var ie,Me,Re=this.length,W=this;if("string"!=typeof M)return this.pushStack(L(M).filter(function(){for(ie=0;ie<Re;ie++)if(L.contains(W[ie],this))return!0}));for(Me=this.pushStack([]),ie=0;ie<Re;ie++)L.find(M,W[ie],Me);return 1<Re?L.uniqueSort(Me):Me},filter:function(M){return this.pushStack(Et(this,M||[],!1))},not:function(M){return this.pushStack(Et(this,M||[],!0))},is:function(M){return!!Et(this,"string"==typeof M&&Je.test(M)?L(M):M||[],!1).length}});var Gt,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(L.fn.init=function(M,ie,Me){var Re,W;if(!M)return this;if(Me=Me||Gt,"string"==typeof M){if(!(Re="<"===M[0]&&">"===M[M.length-1]&&3<=M.length?[null,M,null]:Tt.exec(M))||!Re[1]&&ie)return!ie||ie.jquery?(ie||Me).find(M):this.constructor(ie).find(M);if(Re[1]){if(L.merge(this,L.parseHTML(Re[1],(ie=ie instanceof L?ie[0]:ie)&&ie.nodeType?ie.ownerDocument||ie:oe,!0)),st.test(Re[1])&&L.isPlainObject(ie))for(Re in ie)O(this[Re])?this[Re](ie[Re]):this.attr(Re,ie[Re]);return this}return(W=oe.getElementById(Re[2]))&&(this[0]=W,this.length=1),this}return M.nodeType?(this[0]=M,this.length=1,this):O(M)?void 0!==Me.ready?Me.ready(M):M(L):L.makeArray(M,this)}).prototype=L.fn,Gt=L(oe);var Nt=/^(?:parents|prev(?:Until|All))/,en={children:!0,contents:!0,next:!0,prev:!0};function Ht(M,ie){for(;(M=M[ie])&&1!==M.nodeType;);return M}L.fn.extend({has:function(M){var ie=L(M,this),Me=ie.length;return this.filter(function(){for(var Re=0;Re<Me;Re++)if(L.contains(this,ie[Re]))return!0})},closest:function(M,ie){var Me,Re=0,W=this.length,R=[],_="string"!=typeof M&&L(M);if(!Je.test(M))for(;Re<W;Re++)for(Me=this[Re];Me&&Me!==ie;Me=Me.parentNode)if(Me.nodeType<11&&(_?-1<_.index(Me):1===Me.nodeType&&L.find.matchesSelector(Me,M))){R.push(Me);break}return this.pushStack(1<R.length?L.uniqueSort(R):R)},index:function(M){return M?"string"==typeof M?J.call(L(M),this[0]):J.call(this,M.jquery?M[0]:M):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(M,ie){return this.pushStack(L.uniqueSort(L.merge(this.get(),L(M,ie))))},addBack:function(M){return this.add(null==M?this.prevObject:this.prevObject.filter(M))}}),L.each({parent:function(M){var ie=M.parentNode;return ie&&11!==ie.nodeType?ie:null},parents:function(M){return ze(M,"parentNode")},parentsUntil:function(M,ie,Me){return ze(M,"parentNode",Me)},next:function(M){return Ht(M,"nextSibling")},prev:function(M){return Ht(M,"previousSibling")},nextAll:function(M){return ze(M,"nextSibling")},prevAll:function(M){return ze(M,"previousSibling")},nextUntil:function(M,ie,Me){return ze(M,"nextSibling",Me)},prevUntil:function(M,ie,Me){return ze(M,"previousSibling",Me)},siblings:function(M){return Xe((M.parentNode||{}).firstChild,M)},children:function(M){return Xe(M.firstChild)},contents:function(M){return null!=M.contentDocument&&Ne(M.contentDocument)?M.contentDocument:(ye(M,"template")&&(M=M.content||M),L.merge([],M.childNodes))}},function(M,ie){L.fn[M]=function(Me,Re){var W=L.map(this,ie,Me);return"Until"!==M.slice(-5)&&(Re=Me),Re&&"string"==typeof Re&&(W=L.filter(Re,W)),1<this.length&&(en[M]||L.uniqueSort(W),Nt.test(M)&&W.reverse()),this.pushStack(W)}});var Mn=/[^\x20\t\r\n\f]+/g;function gn(M){return M}function zn(M){throw M}function xi(M,ie,Me,Re){var W;try{M&&O(W=M.promise)?W.call(M).done(ie).fail(Me):M&&O(W=M.then)?W.call(M,ie,Me):ie.apply(void 0,[M].slice(Re))}catch(R){Me.apply(void 0,[R])}}L.Callbacks=function(M){var Me;M="string"==typeof M?(Me={},L.each(M.match(Mn)||[],function(k,V){Me[V]=!0}),Me):L.extend({},M);var Re,W,R,_,I=[],x=[],T=-1,S=function(){for(_=_||M.once,R=Re=!0;x.length;T=-1)for(W=x.shift();++T<I.length;)!1===I[T].apply(W[0],W[1])&&M.stopOnFalse&&(T=I.length,W=!1);M.memory||(W=!1),Re=!1,_&&(I=W?[]:"")},A={add:function(){return I&&(W&&!Re&&(T=I.length-1,x.push(W)),function k(V){L.each(V,function(H,G){O(G)?M.unique&&A.has(G)||I.push(G):G&&G.length&&"string"!==be(G)&&k(G)})}(arguments),W&&!Re&&S()),this},remove:function(){return L.each(arguments,function(k,V){for(var H;-1<(H=L.inArray(V,I,H));)I.splice(H,1),H<=T&&T--}),this},has:function(k){return k?-1<L.inArray(k,I):0<I.length},empty:function(){return I&&(I=[]),this},disable:function(){return _=x=[],I=W="",this},disabled:function(){return!I},lock:function(){return _=x=[],W||Re||(I=W=""),this},locked:function(){return!!_},fireWith:function(k,V){return _||(V=[k,(V=V||[]).slice?V.slice():V],x.push(V),Re||S()),this},fire:function(){return A.fireWith(this,arguments),this},fired:function(){return!!R}};return A},L.extend({Deferred:function(M){var ie=[["notify","progress",L.Callbacks("memory"),L.Callbacks("memory"),2],["resolve","done",L.Callbacks("once memory"),L.Callbacks("once memory"),0,"resolved"],["reject","fail",L.Callbacks("once memory"),L.Callbacks("once memory"),1,"rejected"]],Me="pending",Re={state:function(){return Me},always:function(){return W.done(arguments).fail(arguments),this},catch:function(R){return Re.then(null,R)},pipe:function(){var R=arguments;return L.Deferred(function(_){L.each(ie,function(I,x){var T=O(R[x[4]])&&R[x[4]];W[x[1]](function(){var S=T&&T.apply(this,arguments);S&&O(S.promise)?S.promise().progress(_.notify).done(_.resolve).fail(_.reject):_[x[0]+"With"](this,T?[S]:arguments)})}),R=null}).promise()},then:function(R,_,I){var x=0;function T(S,A,k,V){return function(){var H=this,G=arguments,$=function(){var K,re;if(!(S<x)){if((K=k.apply(H,G))===A.promise())throw new TypeError("Thenable self-resolution");O(re=K&&("object"==typeof K||"function"==typeof K)&&K.then)?V?re.call(K,T(x,A,gn,V),T(x,A,zn,V)):(x++,re.call(K,T(x,A,gn,V),T(x,A,zn,V),T(x,A,gn,A.notifyWith))):(k!==gn&&(H=void 0,G=[K]),(V||A.resolveWith)(H,G))}},te=V?$:function(){try{$()}catch(K){L.Deferred.exceptionHook&&L.Deferred.exceptionHook(K,te.error),x<=S+1&&(k!==zn&&(H=void 0,G=[K]),A.rejectWith(H,G))}};S?te():(L.Deferred.getErrorHook?te.error=L.Deferred.getErrorHook():L.Deferred.getStackHook&&(te.error=L.Deferred.getStackHook()),ke.setTimeout(te))}}return L.Deferred(function(S){ie[0][3].add(T(0,S,O(I)?I:gn,S.notifyWith)),ie[1][3].add(T(0,S,O(R)?R:gn)),ie[2][3].add(T(0,S,O(_)?_:zn))}).promise()},promise:function(R){return null!=R?L.extend(R,Re):Re}},W={};return L.each(ie,function(R,_){var I=_[2],x=_[5];Re[_[1]]=I.add,x&&I.add(function(){Me=x},ie[3-R][2].disable,ie[3-R][3].disable,ie[0][2].lock,ie[0][3].lock),I.add(_[3].fire),W[_[0]]=function(){return W[_[0]+"With"](this===W?void 0:this,arguments),this},W[_[0]+"With"]=I.fireWith}),Re.promise(W),M&&M.call(W,W),W},when:function(M){var ie=arguments.length,Me=ie,Re=Array(Me),W=gt.call(arguments),R=L.Deferred(),_=function(I){return function(x){Re[I]=this,W[I]=1<arguments.length?gt.call(arguments):x,--ie||R.resolveWith(Re,W)}};if(ie<=1&&(xi(M,R.done(_(Me)).resolve,R.reject,!ie),"pending"===R.state()||O(W[Me]&&W[Me].then)))return R.then();for(;Me--;)xi(W[Me],_(Me),R.reject);return R.promise()}});var _i=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;L.Deferred.exceptionHook=function(M,ie){ke.console&&ke.console.warn&&M&&_i.test(M.name)&&ke.console.warn("jQuery.Deferred exception: "+M.message,M.stack,ie)},L.readyException=function(M){ke.setTimeout(function(){throw M})};var mi=L.Deferred();function Pi(){oe.removeEventListener("DOMContentLoaded",Pi),ke.removeEventListener("load",Pi),L.ready()}L.fn.ready=function(M){return mi.then(M).catch(function(ie){L.readyException(ie)}),this},L.extend({isReady:!1,readyWait:1,ready:function(M){(!0===M?--L.readyWait:L.isReady)||(L.isReady=!0)!==M&&0<--L.readyWait||mi.resolveWith(oe,[L])}}),L.ready.then=mi.then,"complete"===oe.readyState||"loading"!==oe.readyState&&!oe.documentElement.doScroll?ke.setTimeout(L.ready):(oe.addEventListener("DOMContentLoaded",Pi),ke.addEventListener("load",Pi));var gi=function(M,ie,Me,Re,W,R,_){var I=0,x=M.length,T=null==Me;if("object"===be(Me))for(I in W=!0,Me)gi(M,ie,I,Me[I],!0,R,_);else if(void 0!==Re&&(W=!0,O(Re)||(_=!0),T&&(_?(ie.call(M,Re),ie=null):(T=ie,ie=function(S,A,k){return T.call(L(S),k)})),ie))for(;I<x;I++)ie(M[I],Me,_?Re:Re.call(M[I],I,ie(M[I],Me)));return W?M:T?ie.call(M):x?ie(M[0],Me):R},Oi=/^-ms-/,bn=/-([a-z])/g;function _n(M,ie){return ie.toUpperCase()}function fn(M){return M.replace(Oi,"ms-").replace(bn,_n)}var Wn=function(M){return 1===M.nodeType||9===M.nodeType||!+M.nodeType};function Bn(){this.expando=L.expando+Bn.uid++}Bn.uid=1,Bn.prototype={cache:function(M){var ie=M[this.expando];return ie||(ie={},Wn(M)&&(M.nodeType?M[this.expando]=ie:Object.defineProperty(M,this.expando,{value:ie,configurable:!0}))),ie},set:function(M,ie,Me){var Re,W=this.cache(M);if("string"==typeof ie)W[fn(ie)]=Me;else for(Re in ie)W[fn(Re)]=ie[Re];return W},get:function(M,ie){return void 0===ie?this.cache(M):M[this.expando]&&M[this.expando][fn(ie)]},access:function(M,ie,Me){return void 0===ie||ie&&"string"==typeof ie&&void 0===Me?this.get(M,ie):(this.set(M,ie,Me),void 0!==Me?Me:ie)},remove:function(M,ie){var Me,Re=M[this.expando];if(void 0!==Re){if(void 0!==ie)for((Me=(ie=Array.isArray(ie)?ie.map(fn):(ie=fn(ie))in Re?[ie]:ie.match(Mn)||[]).length);Me--;)delete Re[ie[Me]];(void 0===ie||L.isEmptyObject(Re))&&(M.nodeType?M[this.expando]=void 0:delete M[this.expando])}},hasData:function(M){var ie=M[this.expando];return void 0!==ie&&!L.isEmptyObject(ie)}};var Nn=new Bn,ei=new Bn,Vi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$i=/[A-Z]/g;function Li(M,ie,Me){var Re,W;if(void 0===Me&&1===M.nodeType)if(Re="data-"+ie.replace($i,"-$&").toLowerCase(),"string"==typeof(Me=M.getAttribute(Re))){try{Me="true"===(W=Me)||"false"!==W&&("null"===W?null:W===+W+""?+W:Vi.test(W)?JSON.parse(W):W)}catch{}ei.set(M,ie,Me)}else Me=void 0;return Me}L.extend({hasData:function(M){return ei.hasData(M)||Nn.hasData(M)},data:function(M,ie,Me){return ei.access(M,ie,Me)},removeData:function(M,ie){ei.remove(M,ie)},_data:function(M,ie,Me){return Nn.access(M,ie,Me)},_removeData:function(M,ie){Nn.remove(M,ie)}}),L.fn.extend({data:function(M,ie){var Me,Re,W,R=this[0],_=R&&R.attributes;if(void 0===M){if(this.length&&(W=ei.get(R),1===R.nodeType&&!Nn.get(R,"hasDataAttrs"))){for(Me=_.length;Me--;)_[Me]&&0===(Re=_[Me].name).indexOf("data-")&&(Re=fn(Re.slice(5)),Li(R,Re,W[Re]));Nn.set(R,"hasDataAttrs",!0)}return W}return"object"==typeof M?this.each(function(){ei.set(this,M)}):gi(this,function(I){var x;if(R&&void 0===I)return void 0!==(x=ei.get(R,M))||void 0!==(x=Li(R,M))?x:void 0;this.each(function(){ei.set(this,M,I)})},null,ie,1<arguments.length,null,!0)},removeData:function(M){return this.each(function(){ei.remove(this,M)})}}),L.extend({queue:function(M,ie,Me){var Re;if(M)return Re=Nn.get(M,ie=(ie||"fx")+"queue"),Me&&(!Re||Array.isArray(Me)?Re=Nn.access(M,ie,L.makeArray(Me)):Re.push(Me)),Re||[]},dequeue:function(M,ie){var Me=L.queue(M,ie=ie||"fx"),Re=Me.length,W=Me.shift(),R=L._queueHooks(M,ie);"inprogress"===W&&(W=Me.shift(),Re--),W&&("fx"===ie&&Me.unshift("inprogress"),delete R.stop,W.call(M,function(){L.dequeue(M,ie)},R)),!Re&&R&&R.empty.fire()},_queueHooks:function(M,ie){var Me=ie+"queueHooks";return Nn.get(M,Me)||Nn.access(M,Me,{empty:L.Callbacks("once memory").add(function(){Nn.remove(M,[ie+"queue",Me])})})}}),L.fn.extend({queue:function(M,ie){var Me=2;return"string"!=typeof M&&(ie=M,M="fx",Me--),arguments.length<Me?L.queue(this[0],M):void 0===ie?this:this.each(function(){var Re=L.queue(this,M,ie);L._queueHooks(this,M),"fx"===M&&"inprogress"!==Re[0]&&L.dequeue(this,M)})},dequeue:function(M){return this.each(function(){L.dequeue(this,M)})},clearQueue:function(M){return this.queue(M||"fx",[])},promise:function(M,ie){var Me,Re=1,W=L.Deferred(),R=this,_=this.length,I=function(){--Re||W.resolveWith(R,[R])};for("string"!=typeof M&&(ie=M,M=void 0),M=M||"fx";_--;)(Me=Nn.get(R[_],M+"queueHooks"))&&Me.empty&&(Re++,Me.empty.add(I));return I(),W.promise(ie)}});var Cn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Rn=new RegExp("^(?:([+-])=|)("+Cn+")([a-z%]*)$","i"),ti=["Top","Right","Bottom","Left"],fi=oe.documentElement,si=function(M){return L.contains(M.ownerDocument,M)},Jn={composed:!0};fi.getRootNode&&(si=function(M){return L.contains(M.ownerDocument,M)||M.getRootNode(Jn)===M.ownerDocument});var bi=function(M,ie){return"none"===(M=ie||M).style.display||""===M.style.display&&si(M)&&"none"===L.css(M,"display")};function Ii(M,ie,Me,Re){var W,R,_=20,I=Re?function(){return Re.cur()}:function(){return L.css(M,ie,"")},x=I(),T=Me&&Me[3]||(L.cssNumber[ie]?"":"px"),S=M.nodeType&&(L.cssNumber[ie]||"px"!==T&&+x)&&Rn.exec(L.css(M,ie));if(S&&S[3]!==T){for(T=T||S[3],S=+(x/=2)||1;_--;)L.style(M,ie,S+T),(1-R)*(1-(R=I()/x||.5))<=0&&(_=0),S/=R;L.style(M,ie,(S*=2)+T),Me=Me||[]}return Me&&(S=+S||+x||0,W=Me[1]?S+(Me[1]+1)*Me[2]:+Me[2],Re&&(Re.unit=T,Re.start=S,Re.end=W)),W}var Ai={};function Wi(M,ie){for(var Me,Re,W,R,_,I,x,T=[],S=0,A=M.length;S<A;S++)(Re=M[S]).style&&(Me=Re.style.display,ie?("none"===Me&&(T[S]=Nn.get(Re,"display")||null,T[S]||(Re.style.display="")),""===Re.style.display&&bi(Re)&&(T[S]=(x=_=R=void 0,_=(W=Re).ownerDocument,(x=Ai[I=W.nodeName])||(R=_.body.appendChild(_.createElement(I)),x=L.css(R,"display"),R.parentNode.removeChild(R),"none"===x&&(x="block"),Ai[I]=x)))):"none"!==Me&&(T[S]="none",Nn.set(Re,"display",Me)));for(S=0;S<A;S++)null!=T[S]&&(M[S].style.display=T[S]);return M}L.fn.extend({show:function(){return Wi(this,!0)},hide:function(){return Wi(this)},toggle:function(M){return"boolean"==typeof M?M?this.show():this.hide():this.each(function(){bi(this)?L(this).show():L(this).hide()})}});var qi,Br,vr=/^(?:checkbox|radio)$/i,cr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Jr=/^$|^module$|\/(?:java|ecma)script/i;qi=oe.createDocumentFragment().appendChild(oe.createElement("div")),(Br=oe.createElement("input")).setAttribute("type","radio"),Br.setAttribute("checked","checked"),Br.setAttribute("name","t"),qi.appendChild(Br),w.checkClone=qi.cloneNode(!0).cloneNode(!0).lastChild.checked,qi.innerHTML="<textarea>x</textarea>",w.noCloneChecked=!!qi.cloneNode(!0).lastChild.defaultValue,qi.innerHTML="<option></option>",w.option=!!qi.lastChild;var hr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function dr(M,ie){var Me;return Me=typeof M.getElementsByTagName<"u"?M.getElementsByTagName(ie||"*"):typeof M.querySelectorAll<"u"?M.querySelectorAll(ie||"*"):[],void 0===ie||ie&&ye(M,ie)?L.merge([M],Me):Me}function Mr(M,ie){for(var Me=0,Re=M.length;Me<Re;Me++)Nn.set(M[Me],"globalEval",!ie||Nn.get(ie[Me],"globalEval"))}hr.tbody=hr.tfoot=hr.colgroup=hr.caption=hr.thead,hr.th=hr.td,w.option||(hr.optgroup=hr.option=[1,"<select multiple='multiple'>","</select>"]);var jr=/<|&#?\w+;/;function ao(M,ie,Me,Re,W){for(var R,_,I,x,T,S,A=ie.createDocumentFragment(),k=[],V=0,H=M.length;V<H;V++)if((R=M[V])||0===R)if("object"===be(R))L.merge(k,R.nodeType?[R]:R);else if(jr.test(R)){for(_=_||A.appendChild(ie.createElement("div")),I=(cr.exec(R)||["",""])[1].toLowerCase(),_.innerHTML=(x=hr[I]||hr._default)[1]+L.htmlPrefilter(R)+x[2],S=x[0];S--;)_=_.lastChild;L.merge(k,_.childNodes),(_=A.firstChild).textContent=""}else k.push(ie.createTextNode(R));for(A.textContent="",V=0;R=k[V++];)if(Re&&-1<L.inArray(R,Re))W&&W.push(R);else if(T=si(R),_=dr(A.appendChild(R),"script"),T&&Mr(_),Me)for(S=0;R=_[S++];)Jr.test(R.type||"")&&Me.push(R);return A}var Ar=/^([^.]*)(?:\.(.+)|)/;function Yr(){return!0}function Xr(){return!1}function An(M,ie,Me,Re,W,R){var _,I;if("object"==typeof ie){for(I in"string"!=typeof Me&&(Re=Re||Me,Me=void 0),ie)An(M,I,Me,Re,ie[I],R);return M}if(null==Re&&null==W?(W=Me,Re=Me=void 0):null==W&&("string"==typeof Me?(W=Re,Re=void 0):(W=Re,Re=Me,Me=void 0)),!1===W)W=Xr;else if(!W)return M;return 1===R&&(_=W,(W=function(x){return L().off(x),_.apply(this,arguments)}).guid=_.guid||(_.guid=L.guid++)),M.each(function(){L.event.add(this,ie,W,Re,Me)})}function Fn(M,ie,Me){Me?(Nn.set(M,ie,!1),L.event.add(M,ie,{namespace:!1,handler:function(Re){var W,R=Nn.get(this,ie);if(1&Re.isTrigger&&this[ie]){if(R)(L.event.special[ie]||{}).delegateType&&Re.stopPropagation();else if(R=gt.call(arguments),Nn.set(this,ie,R),this[ie](),W=Nn.get(this,ie),Nn.set(this,ie,!1),R!==W)return Re.stopImmediatePropagation(),Re.preventDefault(),W}else R&&(Nn.set(this,ie,L.event.trigger(R[0],R.slice(1),this)),Re.stopPropagation(),Re.isImmediatePropagationStopped=Yr)}})):void 0===Nn.get(M,ie)&&L.event.add(M,ie,Yr)}L.event={global:{},add:function(M,ie,Me,Re,W){var R,_,I,x,T,S,A,k,V,H,G,$=Nn.get(M);if(Wn(M))for(Me.handler&&(Me=(R=Me).handler,W=R.selector),W&&L.find.matchesSelector(fi,W),Me.guid||(Me.guid=L.guid++),(x=$.events)||(x=$.events=Object.create(null)),(_=$.handle)||(_=$.handle=function(te){return typeof L<"u"&&L.event.triggered!==te.type?L.event.dispatch.apply(M,arguments):void 0}),T=(ie=(ie||"").match(Mn)||[""]).length;T--;)V=G=(I=Ar.exec(ie[T])||[])[1],H=(I[2]||"").split(".").sort(),V&&(A=L.event.special[V]||{},A=L.event.special[V=(W?A.delegateType:A.bindType)||V]||{},S=L.extend({type:V,origType:G,data:Re,handler:Me,guid:Me.guid,selector:W,needsContext:W&&L.expr.match.needsContext.test(W),namespace:H.join(".")},R),(k=x[V])||((k=x[V]=[]).delegateCount=0,A.setup&&!1!==A.setup.call(M,Re,H,_)||M.addEventListener&&M.addEventListener(V,_)),A.add&&(A.add.call(M,S),S.handler.guid||(S.handler.guid=Me.guid)),W?k.splice(k.delegateCount++,0,S):k.push(S),L.event.global[V]=!0)},remove:function(M,ie,Me,Re,W){var R,_,I,x,T,S,A,k,V,H,G,$=Nn.hasData(M)&&Nn.get(M);if($&&(x=$.events)){for(T=(ie=(ie||"").match(Mn)||[""]).length;T--;)if(V=G=(I=Ar.exec(ie[T])||[])[1],H=(I[2]||"").split(".").sort(),V){for(A=L.event.special[V]||{},k=x[V=(Re?A.delegateType:A.bindType)||V]||[],I=I[2]&&new RegExp("(^|\\.)"+H.join("\\.(?:.*\\.|)")+"(\\.|$)"),_=R=k.length;R--;)S=k[R],!W&&G!==S.origType||Me&&Me.guid!==S.guid||I&&!I.test(S.namespace)||Re&&Re!==S.selector&&("**"!==Re||!S.selector)||(k.splice(R,1),S.selector&&k.delegateCount--,A.remove&&A.remove.call(M,S));_&&!k.length&&(A.teardown&&!1!==A.teardown.call(M,H,$.handle)||L.removeEvent(M,V,$.handle),delete x[V])}else for(V in x)L.event.remove(M,V+ie[T],Me,Re,!0);L.isEmptyObject(x)&&Nn.remove(M,"handle events")}},dispatch:function(M){var ie,Me,Re,W,R,_,I=new Array(arguments.length),x=L.event.fix(M),T=(Nn.get(this,"events")||Object.create(null))[x.type]||[],S=L.event.special[x.type]||{};for(I[0]=x,ie=1;ie<arguments.length;ie++)I[ie]=arguments[ie];if(x.delegateTarget=this,!S.preDispatch||!1!==S.preDispatch.call(this,x)){for(_=L.event.handlers.call(this,x,T),ie=0;(W=_[ie++])&&!x.isPropagationStopped();)for(x.currentTarget=W.elem,Me=0;(R=W.handlers[Me++])&&!x.isImmediatePropagationStopped();)x.rnamespace&&!1!==R.namespace&&!x.rnamespace.test(R.namespace)||(x.handleObj=R,x.data=R.data,void 0!==(Re=((L.event.special[R.origType]||{}).handle||R.handler).apply(W.elem,I))&&!1===(x.result=Re)&&(x.preventDefault(),x.stopPropagation()));return S.postDispatch&&S.postDispatch.call(this,x),x.result}},handlers:function(M,ie){var Me,Re,W,R,_,I=[],x=ie.delegateCount,T=M.target;if(x&&T.nodeType&&!("click"===M.type&&1<=M.button))for(;T!==this;T=T.parentNode||this)if(1===T.nodeType&&("click"!==M.type||!0!==T.disabled)){for(R=[],_={},Me=0;Me<x;Me++)void 0===_[W=(Re=ie[Me]).selector+" "]&&(_[W]=Re.needsContext?-1<L(W,this).index(T):L.find(W,this,null,[T]).length),_[W]&&R.push(Re);R.length&&I.push({elem:T,handlers:R})}return T=this,x<ie.length&&I.push({elem:T,handlers:ie.slice(x)}),I},addProp:function(M,ie){Object.defineProperty(L.Event.prototype,M,{enumerable:!0,configurable:!0,get:O(ie)?function(){if(this.originalEvent)return ie(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[M]},set:function(Me){Object.defineProperty(this,M,{enumerable:!0,configurable:!0,writable:!0,value:Me})}})},fix:function(M){return M[L.expando]?M:new L.Event(M)},special:{load:{noBubble:!0},click:{setup:function(M){var ie=this||M;return vr.test(ie.type)&&ie.click&&ye(ie,"input")&&Fn(ie,"click",!0),!1},trigger:function(M){var ie=this||M;return vr.test(ie.type)&&ie.click&&ye(ie,"input")&&Fn(ie,"click"),!0},_default:function(M){var ie=M.target;return vr.test(ie.type)&&ie.click&&ye(ie,"input")&&Nn.get(ie,"click")||ye(ie,"a")}},beforeunload:{postDispatch:function(M){void 0!==M.result&&M.originalEvent&&(M.originalEvent.returnValue=M.result)}}}},L.removeEvent=function(M,ie,Me){M.removeEventListener&&M.removeEventListener(ie,Me)},L.Event=function(M,ie){if(!(this instanceof L.Event))return new L.Event(M,ie);M&&M.type?(this.originalEvent=M,this.type=M.type,this.isDefaultPrevented=M.defaultPrevented||void 0===M.defaultPrevented&&!1===M.returnValue?Yr:Xr,this.target=M.target&&3===M.target.nodeType?M.target.parentNode:M.target,this.currentTarget=M.currentTarget,this.relatedTarget=M.relatedTarget):this.type=M,ie&&L.extend(this,ie),this.timeStamp=M&&M.timeStamp||Date.now(),this[L.expando]=!0},L.Event.prototype={constructor:L.Event,isDefaultPrevented:Xr,isPropagationStopped:Xr,isImmediatePropagationStopped:Xr,isSimulated:!1,preventDefault:function(){var M=this.originalEvent;this.isDefaultPrevented=Yr,M&&!this.isSimulated&&M.preventDefault()},stopPropagation:function(){var M=this.originalEvent;this.isPropagationStopped=Yr,M&&!this.isSimulated&&M.stopPropagation()},stopImmediatePropagation:function(){var M=this.originalEvent;this.isImmediatePropagationStopped=Yr,M&&!this.isSimulated&&M.stopImmediatePropagation(),this.stopPropagation()}},L.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},L.event.addProp),L.each({focus:"focusin",blur:"focusout"},function(M,ie){function Me(Re){if(oe.documentMode){var W=Nn.get(this,"handle"),R=L.event.fix(Re);R.type="focusin"===Re.type?"focus":"blur",R.isSimulated=!0,W(Re),R.target===R.currentTarget&&W(R)}else L.event.simulate(ie,Re.target,L.event.fix(Re))}L.event.special[M]={setup:function(){var Re;if(Fn(this,M,!0),!oe.documentMode)return!1;(Re=Nn.get(this,ie))||this.addEventListener(ie,Me),Nn.set(this,ie,(Re||0)+1)},trigger:function(){return Fn(this,M),!0},teardown:function(){var Re;if(!oe.documentMode)return!1;(Re=Nn.get(this,ie)-1)?Nn.set(this,ie,Re):(this.removeEventListener(ie,Me),Nn.remove(this,ie))},_default:function(Re){return Nn.get(Re.target,M)},delegateType:ie},L.event.special[ie]={setup:function(){var Re=this.ownerDocument||this.document||this,W=oe.documentMode?this:Re,R=Nn.get(W,ie);R||(oe.documentMode?this.addEventListener(ie,Me):Re.addEventListener(M,Me,!0)),Nn.set(W,ie,(R||0)+1)},teardown:function(){var Re=this.ownerDocument||this.document||this,W=oe.documentMode?this:Re,R=Nn.get(W,ie)-1;R?Nn.set(W,ie,R):(oe.documentMode?this.removeEventListener(ie,Me):Re.removeEventListener(M,Me,!0),Nn.remove(W,ie))}}}),L.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(M,ie){L.event.special[M]={delegateType:ie,bindType:ie,handle:function(Me){var Re,W=Me.relatedTarget,R=Me.handleObj;return W&&(W===this||L.contains(this,W))||(Me.type=R.origType,Re=R.handler.apply(this,arguments),Me.type=ie),Re}}}),L.fn.extend({on:function(M,ie,Me,Re){return An(this,M,ie,Me,Re)},one:function(M,ie,Me,Re){return An(this,M,ie,Me,Re,1)},off:function(M,ie,Me){var Re,W;if(M&&M.preventDefault&&M.handleObj)return Re=M.handleObj,L(M.delegateTarget).off(Re.namespace?Re.origType+"."+Re.namespace:Re.origType,Re.selector,Re.handler),this;if("object"==typeof M){for(W in M)this.off(W,ie,M[W]);return this}return!1!==ie&&"function"!=typeof ie||(Me=ie,ie=void 0),!1===Me&&(Me=Xr),this.each(function(){L.event.remove(this,M,Me,ie)})}});var pi=/<script|<style|<link/i,ai=/checked\s*(?:[^=]|=\s*.checked.)/i,Ei=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ji(M,ie){return ye(M,"table")&&ye(11!==ie.nodeType?ie:ie.firstChild,"tr")&&L(M).children("tbody")[0]||M}function rr(M){return M.type=(null!==M.getAttribute("type"))+"/"+M.type,M}function or(M){return"true/"===(M.type||"").slice(0,5)?M.type=M.type.slice(5):M.removeAttribute("type"),M}function Hi(M,ie){var Me,Re,W,R,_,I;if(1===ie.nodeType){if(Nn.hasData(M)&&(I=Nn.get(M).events))for(W in Nn.remove(ie,"handle events"),I)for(Me=0,Re=I[W].length;Me<Re;Me++)L.event.add(ie,W,I[W][Me]);ei.hasData(M)&&(R=ei.access(M),_=L.extend({},R),ei.set(ie,_))}}function Fi(M,ie,Me,Re){ie=de(ie);var W,R,_,I,x,T,S=0,A=M.length,k=A-1,V=ie[0],H=O(V);if(H||1<A&&"string"==typeof V&&!w.checkClone&&ai.test(V))return M.each(function(G){var $=M.eq(G);H&&(ie[0]=V.call(this,G,$.html())),Fi($,ie,Me,Re)});if(A&&(R=(W=ao(ie,M[0].ownerDocument,!1,M,Re)).firstChild,1===W.childNodes.length&&(W=R),R||Re)){for(I=(_=L.map(dr(W,"script"),rr)).length;S<A;S++)x=W,S!==k&&(x=L.clone(x,!0,!0),I&&L.merge(_,dr(x,"script"))),Me.call(M[S],x,S);if(I)for(T=_[_.length-1].ownerDocument,L.map(_,or),S=0;S<I;S++)Jr.test((x=_[S]).type||"")&&!Nn.access(x,"globalEval")&&L.contains(T,x)&&(x.src&&"module"!==(x.type||"").toLowerCase()?L._evalUrl&&!x.noModule&&L._evalUrl(x.src,{nonce:x.nonce||x.getAttribute("nonce")},T):ue(x.textContent.replace(Ei,""),x,T))}return M}function yr(M,ie,Me){for(var Re,W=ie?L.filter(ie,M):M,R=0;null!=(Re=W[R]);R++)Me||1!==Re.nodeType||L.cleanData(dr(Re)),Re.parentNode&&(Me&&si(Re)&&Mr(dr(Re,"script")),Re.parentNode.removeChild(Re));return M}L.extend({htmlPrefilter:function(M){return M},clone:function(M,ie,Me){var Re,W,R,_,I,x,T,S=M.cloneNode(!0),A=si(M);if(!(w.noCloneChecked||1!==M.nodeType&&11!==M.nodeType||L.isXMLDoc(M)))for(_=dr(S),Re=0,W=(R=dr(M)).length;Re<W;Re++)I=R[Re],"input"===(T=(x=_[Re]).nodeName.toLowerCase())&&vr.test(I.type)?x.checked=I.checked:"input"!==T&&"textarea"!==T||(x.defaultValue=I.defaultValue);if(ie)if(Me)for(R=R||dr(M),_=_||dr(S),Re=0,W=R.length;Re<W;Re++)Hi(R[Re],_[Re]);else Hi(M,S);return 0<(_=dr(S,"script")).length&&Mr(_,!A&&dr(M,"script")),S},cleanData:function(M){for(var ie,Me,Re,W=L.event.special,R=0;void 0!==(Me=M[R]);R++)if(Wn(Me)){if(ie=Me[Nn.expando]){if(ie.events)for(Re in ie.events)W[Re]?L.event.remove(Me,Re):L.removeEvent(Me,Re,ie.handle);Me[Nn.expando]=void 0}Me[ei.expando]&&(Me[ei.expando]=void 0)}}}),L.fn.extend({detach:function(M){return yr(this,M,!0)},remove:function(M){return yr(this,M)},text:function(M){return gi(this,function(ie){return void 0===ie?L.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=ie)})},null,M,arguments.length)},append:function(){return Fi(this,arguments,function(M){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ji(this,M).appendChild(M)})},prepend:function(){return Fi(this,arguments,function(M){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var ie=Ji(this,M);ie.insertBefore(M,ie.firstChild)}})},before:function(){return Fi(this,arguments,function(M){this.parentNode&&this.parentNode.insertBefore(M,this)})},after:function(){return Fi(this,arguments,function(M){this.parentNode&&this.parentNode.insertBefore(M,this.nextSibling)})},empty:function(){for(var M,ie=0;null!=(M=this[ie]);ie++)1===M.nodeType&&(L.cleanData(dr(M,!1)),M.textContent="");return this},clone:function(M,ie){return M=null!=M&&M,ie=ie??M,this.map(function(){return L.clone(this,M,ie)})},html:function(M){return gi(this,function(ie){var Me=this[0]||{},Re=0,W=this.length;if(void 0===ie&&1===Me.nodeType)return Me.innerHTML;if("string"==typeof ie&&!pi.test(ie)&&!hr[(cr.exec(ie)||["",""])[1].toLowerCase()]){ie=L.htmlPrefilter(ie);try{for(;Re<W;Re++)1===(Me=this[Re]||{}).nodeType&&(L.cleanData(dr(Me,!1)),Me.innerHTML=ie);Me=0}catch{}}Me&&this.empty().append(ie)},null,M,arguments.length)},replaceWith:function(){var M=[];return Fi(this,arguments,function(ie){var Me=this.parentNode;L.inArray(this,M)<0&&(L.cleanData(dr(this)),Me&&Me.replaceChild(ie,this))},M)}}),L.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(M,ie){L.fn[M]=function(Me){for(var Re,W=[],R=L(Me),_=R.length-1,I=0;I<=_;I++)Re=I===_?this:this.clone(!0),L(R[I])[ie](Re),ve.apply(W,Re.get());return this.pushStack(W)}});var ir=new RegExp("^("+Cn+")(?!px)[a-z%]+$","i"),_r=/^--/,Ur=function(M){var ie=M.ownerDocument.defaultView;return ie&&ie.opener||(ie=ke),ie.getComputedStyle(M)},Ir=function(M,ie,Me){var Re,W,R={};for(W in ie)R[W]=M.style[W],M.style[W]=ie[W];for(W in Re=Me.call(M),ie)M.style[W]=R[W];return Re},kr=new RegExp(ti.join("|"),"i");function Ci(M,ie,Me){var Re,W,R,_,I=_r.test(ie),x=M.style;return(Me=Me||Ur(M))&&(_=Me.getPropertyValue(ie)||Me[ie],I&&_&&(_=_.replace(qe,"$1")||void 0),""!==_||si(M)||(_=L.style(M,ie)),!w.pixelBoxStyles()&&ir.test(_)&&kr.test(ie)&&(Re=x.width,W=x.minWidth,R=x.maxWidth,x.minWidth=x.maxWidth=x.width=_,_=Me.width,x.width=Re,x.minWidth=W,x.maxWidth=R)),void 0!==_?_+"":_}function fr(M,ie){return{get:function(){if(!M())return(this.get=ie).apply(this,arguments);delete this.get}}}!function(){function M(){if(T){x.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",T.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",fi.appendChild(x).appendChild(T);var S=ke.getComputedStyle(T);Me="1%"!==S.top,I=12===ie(S.marginLeft),T.style.right="60%",R=36===ie(S.right),Re=36===ie(S.width),T.style.position="absolute",W=12===ie(T.offsetWidth/3),fi.removeChild(x),T=null}}function ie(S){return Math.round(parseFloat(S))}var Me,Re,W,R,_,I,x=oe.createElement("div"),T=oe.createElement("div");T.style&&(T.style.backgroundClip="content-box",T.cloneNode(!0).style.backgroundClip="",w.clearCloneStyle="content-box"===T.style.backgroundClip,L.extend(w,{boxSizingReliable:function(){return M(),Re},pixelBoxStyles:function(){return M(),R},pixelPosition:function(){return M(),Me},reliableMarginLeft:function(){return M(),I},scrollboxSize:function(){return M(),W},reliableTrDimensions:function(){var S,A,k,V;return null==_&&(S=oe.createElement("table"),A=oe.createElement("tr"),k=oe.createElement("div"),S.style.cssText="position:absolute;left:-11111px;border-collapse:separate",A.style.cssText="box-sizing:content-box;border:1px solid",A.style.height="1px",k.style.height="9px",k.style.display="block",fi.appendChild(S).appendChild(A).appendChild(k),V=ke.getComputedStyle(A),_=parseInt(V.height,10)+parseInt(V.borderTopWidth,10)+parseInt(V.borderBottomWidth,10)===A.offsetHeight,fi.removeChild(S)),_}}))}();var so=["Webkit","Moz","ms"],yo=oe.createElement("div").style,po={};function Qr(M){return L.cssProps[M]||po[M]||(M in yo?M:po[M]=function(Me){for(var Re=Me[0].toUpperCase()+Me.slice(1),W=so.length;W--;)if((Me=so[W]+Re)in yo)return Me}(M)||M)}var Co=/^(none|table(?!-c[ea]).+)/,Xo={position:"absolute",visibility:"hidden",display:"block"},oa={letterSpacing:"0",fontWeight:"400"};function Lo(M,ie,Me){var Re=Rn.exec(ie);return Re?Math.max(0,Re[2]-(Me||0))+(Re[3]||"px"):ie}function Kr(M,ie,Me,Re,W,R){var _="width"===ie?1:0,I=0,x=0,T=0;if(Me===(Re?"border":"content"))return 0;for(;_<4;_+=2)"margin"===Me&&(T+=L.css(M,Me+ti[_],!0,W)),Re?("content"===Me&&(x-=L.css(M,"padding"+ti[_],!0,W)),"margin"!==Me&&(x-=L.css(M,"border"+ti[_]+"Width",!0,W))):(x+=L.css(M,"padding"+ti[_],!0,W),"padding"!==Me?x+=L.css(M,"border"+ti[_]+"Width",!0,W):I+=L.css(M,"border"+ti[_]+"Width",!0,W));return!Re&&0<=R&&(x+=Math.max(0,Math.ceil(M["offset"+ie[0].toUpperCase()+ie.slice(1)]-R-x-I-.5))||0),x+T}function Yi(M,ie,Me){var Re=Ur(M),W=(!w.boxSizingReliable()||Me)&&"border-box"===L.css(M,"boxSizing",!1,Re),R=W,_=Ci(M,ie,Re),I="offset"+ie[0].toUpperCase()+ie.slice(1);if(ir.test(_)){if(!Me)return _;_="auto"}return(!w.boxSizingReliable()&&W||!w.reliableTrDimensions()&&ye(M,"tr")||"auto"===_||!parseFloat(_)&&"inline"===L.css(M,"display",!1,Re))&&M.getClientRects().length&&(W="border-box"===L.css(M,"boxSizing",!1,Re),(R=I in M)&&(_=M[I])),(_=parseFloat(_)||0)+Kr(M,ie,Me||(W?"border":"content"),R,Re,_)+"px"}function Zr(M,ie,Me,Re,W){return new Zr.prototype.init(M,ie,Me,Re,W)}L.extend({cssHooks:{opacity:{get:function(M,ie){if(ie){var Me=Ci(M,"opacity");return""===Me?"1":Me}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(M,ie,Me,Re){if(M&&3!==M.nodeType&&8!==M.nodeType&&M.style){var W,R,_,I=fn(ie),x=_r.test(ie),T=M.style;if(x||(ie=Qr(I)),_=L.cssHooks[ie]||L.cssHooks[I],void 0===Me)return _&&"get"in _&&void 0!==(W=_.get(M,!1,Re))?W:T[ie];"string"==(R=typeof Me)&&(W=Rn.exec(Me))&&W[1]&&(Me=Ii(M,ie,W),R="number"),null!=Me&&Me==Me&&("number"!==R||x||(Me+=W&&W[3]||(L.cssNumber[I]?"":"px")),w.clearCloneStyle||""!==Me||0!==ie.indexOf("background")||(T[ie]="inherit"),_&&"set"in _&&void 0===(Me=_.set(M,Me,Re))||(x?T.setProperty(ie,Me):T[ie]=Me))}},css:function(M,ie,Me,Re){var W,R,_,I=fn(ie);return _r.test(ie)||(ie=Qr(I)),(_=L.cssHooks[ie]||L.cssHooks[I])&&"get"in _&&(W=_.get(M,!0,Me)),void 0===W&&(W=Ci(M,ie,Re)),"normal"===W&&ie in oa&&(W=oa[ie]),""===Me||Me?(R=parseFloat(W),!0===Me||isFinite(R)?R||0:W):W}}),L.each(["height","width"],function(M,ie){L.cssHooks[ie]={get:function(Me,Re,W){if(Re)return!Co.test(L.css(Me,"display"))||Me.getClientRects().length&&Me.getBoundingClientRect().width?Yi(Me,ie,W):Ir(Me,Xo,function(){return Yi(Me,ie,W)})},set:function(Me,Re,W){var R,_=Ur(Me),I=!w.scrollboxSize()&&"absolute"===_.position,x=(I||W)&&"border-box"===L.css(Me,"boxSizing",!1,_),T=W?Kr(Me,ie,W,x,_):0;return x&&I&&(T-=Math.ceil(Me["offset"+ie[0].toUpperCase()+ie.slice(1)]-parseFloat(_[ie])-Kr(Me,ie,"border",!1,_)-.5)),T&&(R=Rn.exec(Re))&&"px"!==(R[3]||"px")&&(Me.style[ie]=Re,Re=L.css(Me,ie)),Lo(0,Re,T)}}}),L.cssHooks.marginLeft=fr(w.reliableMarginLeft,function(M,ie){if(ie)return(parseFloat(Ci(M,"marginLeft"))||M.getBoundingClientRect().left-Ir(M,{marginLeft:0},function(){return M.getBoundingClientRect().left}))+"px"}),L.each({margin:"",padding:"",border:"Width"},function(M,ie){L.cssHooks[M+ie]={expand:function(Me){for(var Re=0,W={},R="string"==typeof Me?Me.split(" "):[Me];Re<4;Re++)W[M+ti[Re]+ie]=R[Re]||R[Re-2]||R[0];return W}},"margin"!==M&&(L.cssHooks[M+ie].set=Lo)}),L.fn.extend({css:function(M,ie){return gi(this,function(Me,Re,W){var R,_,I={},x=0;if(Array.isArray(Re)){for(R=Ur(Me),_=Re.length;x<_;x++)I[Re[x]]=L.css(Me,Re[x],!1,R);return I}return void 0!==W?L.style(Me,Re,W):L.css(Me,Re)},M,ie,1<arguments.length)}}),((L.Tween=Zr).prototype={constructor:Zr,init:function(M,ie,Me,Re,W,R){this.elem=M,this.prop=Me,this.easing=W||L.easing._default,this.options=ie,this.start=this.now=this.cur(),this.end=Re,this.unit=R||(L.cssNumber[Me]?"":"px")},cur:function(){var M=Zr.propHooks[this.prop];return M&&M.get?M.get(this):Zr.propHooks._default.get(this)},run:function(M){var ie,Me=Zr.propHooks[this.prop];return this.pos=ie=this.options.duration?L.easing[this.easing](M,this.options.duration*M,0,1,this.options.duration):M,this.now=(this.end-this.start)*ie+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Me&&Me.set?Me.set(this):Zr.propHooks._default.set(this),this}}).init.prototype=Zr.prototype,(Zr.propHooks={_default:{get:function(M){var ie;return 1!==M.elem.nodeType||null!=M.elem[M.prop]&&null==M.elem.style[M.prop]?M.elem[M.prop]:(ie=L.css(M.elem,M.prop,""))&&"auto"!==ie?ie:0},set:function(M){L.fx.step[M.prop]?L.fx.step[M.prop](M):1!==M.elem.nodeType||!L.cssHooks[M.prop]&&null==M.elem.style[Qr(M.prop)]?M.elem[M.prop]=M.now:L.style(M.elem,M.prop,M.now+M.unit)}}}).scrollTop=Zr.propHooks.scrollLeft={set:function(M){M.elem.nodeType&&M.elem.parentNode&&(M.elem[M.prop]=M.now)}},L.easing={linear:function(M){return M},swing:function(M){return.5-Math.cos(M*Math.PI)/2},_default:"swing"},L.fx=Zr.prototype.init,L.fx.step={};var go,X,De,Ee,Qe=/^(?:toggle|show|hide)$/,N=/queueHooks$/;function q(){X&&(!1===oe.hidden&&ke.requestAnimationFrame?ke.requestAnimationFrame(q):ke.setTimeout(q,L.fx.interval),L.fx.tick())}function he(){return ke.setTimeout(function(){go=void 0}),go=Date.now()}function ge(M,ie){var Me,Re=0,W={height:M};for(ie=ie?1:0;Re<4;Re+=2-ie)W["margin"+(Me=ti[Re])]=W["padding"+Me]=M;return ie&&(W.opacity=W.width=M),W}function Ie(M,ie,Me){for(var Re,W=(it.tweeners[ie]||[]).concat(it.tweeners["*"]),R=0,_=W.length;R<_;R++)if(Re=W[R].call(Me,ie,M))return Re}function it(M,ie,Me){var Re,W,R=0,_=it.prefilters.length,I=L.Deferred().always(function(){delete x.elem}),x=function(){if(W)return!1;for(var A=go||he(),k=Math.max(0,T.startTime+T.duration-A),V=1-(k/T.duration||0),H=0,G=T.tweens.length;H<G;H++)T.tweens[H].run(V);return I.notifyWith(M,[T,V,k]),V<1&&G?k:(G||I.notifyWith(M,[T,1,0]),I.resolveWith(M,[T]),!1)},T=I.promise({elem:M,props:L.extend({},ie),opts:L.extend(!0,{specialEasing:{},easing:L.easing._default},Me),originalProperties:ie,originalOptions:Me,startTime:go||he(),duration:Me.duration,tweens:[],createTween:function(A,k){var V=L.Tween(M,T.opts,A,k,T.opts.specialEasing[A]||T.opts.easing);return T.tweens.push(V),V},stop:function(A){var k=0,V=A?T.tweens.length:0;if(W)return this;for(W=!0;k<V;k++)T.tweens[k].run(1);return A?(I.notifyWith(M,[T,1,0]),I.resolveWith(M,[T,A])):I.rejectWith(M,[T,A]),this}}),S=T.props;for(function(A,k){var V,H,G,$,te;for(V in A)if(G=k[H=fn(V)],$=A[V],Array.isArray($)&&(G=$[1],$=A[V]=$[0]),V!==H&&(A[H]=$,delete A[V]),(te=L.cssHooks[H])&&"expand"in te)for(V in $=te.expand($),delete A[H],$)V in A||(A[V]=$[V],k[V]=G);else k[H]=G}(S,T.opts.specialEasing);R<_;R++)if(Re=it.prefilters[R].call(T,M,S,T.opts))return O(Re.stop)&&(L._queueHooks(T.elem,T.opts.queue).stop=Re.stop.bind(Re)),Re;return L.map(S,Ie,T),O(T.opts.start)&&T.opts.start.call(M,T),T.progress(T.opts.progress).done(T.opts.done,T.opts.complete).fail(T.opts.fail).always(T.opts.always),L.fx.timer(L.extend(x,{elem:M,anim:T,queue:T.opts.queue})),T}L.Animation=L.extend(it,{tweeners:{"*":[function(M,ie){var Me=this.createTween(M,ie);return Ii(Me.elem,M,Rn.exec(ie),Me),Me}]},tweener:function(M,ie){O(M)?(ie=M,M=["*"]):M=M.match(Mn);for(var Me,Re=0,W=M.length;Re<W;Re++)(it.tweeners[Me=M[Re]]=it.tweeners[Me]||[]).unshift(ie)},prefilters:[function(M,ie,Me){var Re,W,R,_,I,x,T,S,A="width"in ie||"height"in ie,k=this,V={},H=M.style,G=M.nodeType&&bi(M),$=Nn.get(M,"fxshow");for(Re in Me.queue||(null==(_=L._queueHooks(M,"fx")).unqueued&&(_.unqueued=0,I=_.empty.fire,_.empty.fire=function(){_.unqueued||I()}),_.unqueued++,k.always(function(){k.always(function(){_.unqueued--,L.queue(M,"fx").length||_.empty.fire()})})),ie)if(Qe.test(W=ie[Re])){if(delete ie[Re],R=R||"toggle"===W,W===(G?"hide":"show")){if("show"!==W||!$||void 0===$[Re])continue;G=!0}V[Re]=$&&$[Re]||L.style(M,Re)}if((x=!L.isEmptyObject(ie))||!L.isEmptyObject(V))for(Re in A&&1===M.nodeType&&(Me.overflow=[H.overflow,H.overflowX,H.overflowY],null==(T=$&&$.display)&&(T=Nn.get(M,"display")),"none"===(S=L.css(M,"display"))&&(T?S=T:(Wi([M],!0),T=M.style.display||T,S=L.css(M,"display"),Wi([M]))),("inline"===S||"inline-block"===S&&null!=T)&&"none"===L.css(M,"float")&&(x||(k.done(function(){H.display=T}),null==T&&(T="none"===(S=H.display)?"":S)),H.display="inline-block")),Me.overflow&&(H.overflow="hidden",k.always(function(){H.overflow=Me.overflow[0],H.overflowX=Me.overflow[1],H.overflowY=Me.overflow[2]})),x=!1,V)x||($?"hidden"in $&&(G=$.hidden):$=Nn.access(M,"fxshow",{display:T}),R&&($.hidden=!G),G&&Wi([M],!0),k.done(function(){for(Re in G||Wi([M]),Nn.remove(M,"fxshow"),V)L.style(M,Re,V[Re])})),x=Ie(G?$[Re]:0,Re,k),Re in $||($[Re]=x.start,G&&(x.end=x.start,x.start=0))}],prefilter:function(M,ie){ie?it.prefilters.unshift(M):it.prefilters.push(M)}}),L.speed=function(M,ie,Me){var Re=M&&"object"==typeof M?L.extend({},M):{complete:Me||!Me&&ie||O(M)&&M,duration:M,easing:Me&&ie||ie&&!O(ie)&&ie};return L.fx.off?Re.duration=0:"number"!=typeof Re.duration&&(Re.duration=Re.duration in L.fx.speeds?L.fx.speeds[Re.duration]:L.fx.speeds._default),null!=Re.queue&&!0!==Re.queue||(Re.queue="fx"),Re.old=Re.complete,Re.complete=function(){O(Re.old)&&Re.old.call(this),Re.queue&&L.dequeue(this,Re.queue)},Re},L.fn.extend({fadeTo:function(M,ie,Me,Re){return this.filter(bi).css("opacity",0).show().end().animate({opacity:ie},M,Me,Re)},animate:function(M,ie,Me,Re){var W=L.isEmptyObject(M),R=L.speed(ie,Me,Re),_=function(){var I=it(this,L.extend({},M),R);(W||Nn.get(this,"finish"))&&I.stop(!0)};return _.finish=_,W||!1===R.queue?this.each(_):this.queue(R.queue,_)},stop:function(M,ie,Me){var Re=function(W){var R=W.stop;delete W.stop,R(Me)};return"string"!=typeof M&&(Me=ie,ie=M,M=void 0),ie&&this.queue(M||"fx",[]),this.each(function(){var W=!0,R=null!=M&&M+"queueHooks",_=L.timers,I=Nn.get(this);if(R)I[R]&&I[R].stop&&Re(I[R]);else for(R in I)I[R]&&I[R].stop&&N.test(R)&&Re(I[R]);for(R=_.length;R--;)_[R].elem!==this||null!=M&&_[R].queue!==M||(_[R].anim.stop(Me),W=!1,_.splice(R,1));!W&&Me||L.dequeue(this,M)})},finish:function(M){return!1!==M&&(M=M||"fx"),this.each(function(){var ie,Me=Nn.get(this),Re=Me[M+"queue"],W=Me[M+"queueHooks"],R=L.timers,_=Re?Re.length:0;for(Me.finish=!0,L.queue(this,M,[]),W&&W.stop&&W.stop.call(this,!0),ie=R.length;ie--;)R[ie].elem===this&&R[ie].queue===M&&(R[ie].anim.stop(!0),R.splice(ie,1));for(ie=0;ie<_;ie++)Re[ie]&&Re[ie].finish&&Re[ie].finish.call(this);delete Me.finish})}}),L.each(["toggle","show","hide"],function(M,ie){var Me=L.fn[ie];L.fn[ie]=function(Re,W,R){return null==Re||"boolean"==typeof Re?Me.apply(this,arguments):this.animate(ge(ie,!0),Re,W,R)}}),L.each({slideDown:ge("show"),slideUp:ge("hide"),slideToggle:ge("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(M,ie){L.fn[M]=function(Me,Re,W){return this.animate(ie,Me,Re,W)}}),L.timers=[],L.fx.tick=function(){var M,ie=0,Me=L.timers;for(go=Date.now();ie<Me.length;ie++)(M=Me[ie])()||Me[ie]!==M||Me.splice(ie--,1);Me.length||L.fx.stop(),go=void 0},L.fx.timer=function(M){L.timers.push(M),L.fx.start()},L.fx.interval=13,L.fx.start=function(){X||(X=!0,q())},L.fx.stop=function(){X=null},L.fx.speeds={slow:600,fast:200,_default:400},L.fn.delay=function(M,ie){return M=L.fx&&L.fx.speeds[M]||M,this.queue(ie=ie||"fx",function(Me,Re){var W=ke.setTimeout(Me,M);Re.stop=function(){ke.clearTimeout(W)}})},De=oe.createElement("input"),Ee=oe.createElement("select").appendChild(oe.createElement("option")),De.type="checkbox",w.checkOn=""!==De.value,w.optSelected=Ee.selected,(De=oe.createElement("input")).value="t",De.type="radio",w.radioValue="t"===De.value;var Ze,nt=L.expr.attrHandle;L.fn.extend({attr:function(M,ie){return gi(this,L.attr,M,ie,1<arguments.length)},removeAttr:function(M){return this.each(function(){L.removeAttr(this,M)})}}),L.extend({attr:function(M,ie,Me){var Re,W,R=M.nodeType;if(3!==R&&8!==R&&2!==R)return typeof M.getAttribute>"u"?L.prop(M,ie,Me):(1===R&&L.isXMLDoc(M)||(W=L.attrHooks[ie.toLowerCase()]||(L.expr.match.bool.test(ie)?Ze:void 0)),void 0!==Me?null===Me?void L.removeAttr(M,ie):W&&"set"in W&&void 0!==(Re=W.set(M,Me,ie))?Re:(M.setAttribute(ie,Me+""),Me):W&&"get"in W&&null!==(Re=W.get(M,ie))?Re:null==(Re=L.find.attr(M,ie))?void 0:Re)},attrHooks:{type:{set:function(M,ie){if(!w.radioValue&&"radio"===ie&&ye(M,"input")){var Me=M.value;return M.setAttribute("type",ie),Me&&(M.value=Me),ie}}}},removeAttr:function(M,ie){var Me,Re=0,W=ie&&ie.match(Mn);if(W&&1===M.nodeType)for(;Me=W[Re++];)M.removeAttribute(Me)}}),Ze={set:function(M,ie,Me){return!1===ie?L.removeAttr(M,Me):M.setAttribute(Me,Me),Me}},L.each(L.expr.match.bool.source.match(/\w+/g),function(M,ie){var Me=nt[ie]||L.find.attr;nt[ie]=function(Re,W,R){var _,I,x=W.toLowerCase();return R||(I=nt[x],nt[x]=_,_=null!=Me(Re,W,R)?x:null,nt[x]=I),_}});var dt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;function It(M){return(M.match(Mn)||[]).join(" ")}function kt(M){return M.getAttribute&&M.getAttribute("class")||""}function Ct(M){return Array.isArray(M)?M:"string"==typeof M&&M.match(Mn)||[]}L.fn.extend({prop:function(M,ie){return gi(this,L.prop,M,ie,1<arguments.length)},removeProp:function(M){return this.each(function(){delete this[L.propFix[M]||M]})}}),L.extend({prop:function(M,ie,Me){var Re,W,R=M.nodeType;if(3!==R&&8!==R&&2!==R)return 1===R&&L.isXMLDoc(M)||(W=L.propHooks[ie=L.propFix[ie]||ie]),void 0!==Me?W&&"set"in W&&void 0!==(Re=W.set(M,Me,ie))?Re:M[ie]=Me:W&&"get"in W&&null!==(Re=W.get(M,ie))?Re:M[ie]},propHooks:{tabIndex:{get:function(M){var ie=L.find.attr(M,"tabindex");return ie?parseInt(ie,10):dt.test(M.nodeName)||mt.test(M.nodeName)&&M.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),w.optSelected||(L.propHooks.selected={get:function(M){return null},set:function(M){}}),L.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){L.propFix[this.toLowerCase()]=this}),L.fn.extend({addClass:function(M){var ie,Me,Re,W,R,_;return O(M)?this.each(function(I){L(this).addClass(M.call(this,I,kt(this)))}):(ie=Ct(M)).length?this.each(function(){if(Re=kt(this),Me=1===this.nodeType&&" "+It(Re)+" "){for(R=0;R<ie.length;R++)Me.indexOf(" "+(W=ie[R])+" ")<0&&(Me+=W+" ");_=It(Me),Re!==_&&this.setAttribute("class",_)}}):this},removeClass:function(M){var ie,Me,Re,W,R,_;return O(M)?this.each(function(I){L(this).removeClass(M.call(this,I,kt(this)))}):arguments.length?(ie=Ct(M)).length?this.each(function(){if(Re=kt(this),Me=1===this.nodeType&&" "+It(Re)+" "){for(R=0;R<ie.length;R++)for(W=ie[R];-1<Me.indexOf(" "+W+" ");)Me=Me.replace(" "+W+" "," ");_=It(Me),Re!==_&&this.setAttribute("class",_)}}):this:this.attr("class","")},toggleClass:function(M,ie){var Me,Re,W,R,_=typeof M,I="string"===_||Array.isArray(M);return O(M)?this.each(function(x){L(this).toggleClass(M.call(this,x,kt(this),ie),ie)}):"boolean"==typeof ie&&I?ie?this.addClass(M):this.removeClass(M):(Me=Ct(M),this.each(function(){if(I)for(R=L(this),W=0;W<Me.length;W++)R.hasClass(Re=Me[W])?R.removeClass(Re):R.addClass(Re);else void 0!==M&&"boolean"!==_||((Re=kt(this))&&Nn.set(this,"__className__",Re),this.setAttribute&&this.setAttribute("class",Re||!1===M?"":Nn.get(this,"__className__")||""))}))},hasClass:function(M){var ie,Me,Re=0;for(ie=" "+M+" ";Me=this[Re++];)if(1===Me.nodeType&&-1<(" "+It(kt(Me))+" ").indexOf(ie))return!0;return!1}});var At=/\r/g;L.fn.extend({val:function(M){var ie,Me,Re,W=this[0];return arguments.length?(Re=O(M),this.each(function(R){var _;1===this.nodeType&&(null==(_=Re?M.call(this,R,L(this).val()):M)?_="":"number"==typeof _?_+="":Array.isArray(_)&&(_=L.map(_,function(I){return null==I?"":I+""})),(ie=L.valHooks[this.type]||L.valHooks[this.nodeName.toLowerCase()])&&"set"in ie&&void 0!==ie.set(this,_,"value")||(this.value=_))})):W?(ie=L.valHooks[W.type]||L.valHooks[W.nodeName.toLowerCase()])&&"get"in ie&&void 0!==(Me=ie.get(W,"value"))?Me:"string"==typeof(Me=W.value)?Me.replace(At,""):Me??"":void 0}}),L.extend({valHooks:{option:{get:function(M){return L.find.attr(M,"value")??It(L.text(M))}},select:{get:function(M){var ie,Me,Re,W=M.options,R=M.selectedIndex,_="select-one"===M.type,I=_?null:[],x=_?R+1:W.length;for(Re=R<0?x:_?R:0;Re<x;Re++)if(((Me=W[Re]).selected||Re===R)&&!Me.disabled&&(!Me.parentNode.disabled||!ye(Me.parentNode,"optgroup"))){if(ie=L(Me).val(),_)return ie;I.push(ie)}return I},set:function(M,ie){for(var Me,Re,W=M.options,R=L.makeArray(ie),_=W.length;_--;)((Re=W[_]).selected=-1<L.inArray(L.valHooks.option.get(Re),R))&&(Me=!0);return Me||(M.selectedIndex=-1),R}}}}),L.each(["radio","checkbox"],function(){L.valHooks[this]={set:function(M,ie){if(Array.isArray(ie))return M.checked=-1<L.inArray(L(M).val(),ie)}},w.checkOn||(L.valHooks[this].get=function(M){return null===M.getAttribute("value")?"on":M.value})});var Lt=ke.location,mn={guid:Date.now()},Yt=/\?/;L.parseXML=function(M){var ie,Me;if(!M||"string"!=typeof M)return null;try{ie=(new ke.DOMParser).parseFromString(M,"text/xml")}catch{}return Me=ie&&ie.getElementsByTagName("parsererror")[0],ie&&!Me||L.error("Invalid XML: "+(Me?L.map(Me.childNodes,function(Re){return Re.textContent}).join("\n"):M)),ie};var ln=/^(?:focusinfocus|focusoutblur)$/,Vt=function(M){M.stopPropagation()};L.extend(L.event,{trigger:function(M,ie,Me,Re){var W,R,_,I,x,T,S,A,k=[Me||oe],V=y.call(M,"type")?M.type:M,H=y.call(M,"namespace")?M.namespace.split("."):[];if(R=A=_=Me=Me||oe,3!==Me.nodeType&&8!==Me.nodeType&&!ln.test(V+L.event.triggered)&&(-1<V.indexOf(".")&&(V=(H=V.split(".")).shift(),H.sort()),x=V.indexOf(":")<0&&"on"+V,(M=M[L.expando]?M:new L.Event(V,"object"==typeof M&&M)).isTrigger=Re?2:3,M.namespace=H.join("."),M.rnamespace=M.namespace?new RegExp("(^|\\.)"+H.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,M.result=void 0,M.target||(M.target=Me),ie=null==ie?[M]:L.makeArray(ie,[M]),S=L.event.special[V]||{},Re||!S.trigger||!1!==S.trigger.apply(Me,ie))){if(!Re&&!S.noBubble&&!U(Me)){for(ln.test((I=S.delegateType||V)+V)||(R=R.parentNode);R;R=R.parentNode)k.push(R),_=R;_===(Me.ownerDocument||oe)&&k.push(_.defaultView||_.parentWindow||ke)}for(W=0;(R=k[W++])&&!M.isPropagationStopped();)A=R,M.type=1<W?I:S.bindType||V,(T=(Nn.get(R,"events")||Object.create(null))[M.type]&&Nn.get(R,"handle"))&&T.apply(R,ie),(T=x&&R[x])&&T.apply&&Wn(R)&&(M.result=T.apply(R,ie),!1===M.result&&M.preventDefault());return M.type=V,Re||M.isDefaultPrevented()||S._default&&!1!==S._default.apply(k.pop(),ie)||!Wn(Me)||x&&O(Me[V])&&!U(Me)&&((_=Me[x])&&(Me[x]=null),L.event.triggered=V,M.isPropagationStopped()&&A.addEventListener(V,Vt),Me[V](),M.isPropagationStopped()&&A.removeEventListener(V,Vt),L.event.triggered=void 0,_&&(Me[x]=_)),M.result}},simulate:function(M,ie,Me){var Re=L.extend(new L.Event,Me,{type:M,isSimulated:!0});L.event.trigger(Re,null,ie)}}),L.fn.extend({trigger:function(M,ie){return this.each(function(){L.event.trigger(M,ie,this)})},triggerHandler:function(M,ie){var Me=this[0];if(Me)return L.event.trigger(M,ie,Me,!0)}});var tn=/\[\]$/,hn=/\r?\n/g,bt=/^(?:submit|button|image|reset|file)$/i,Kt=/^(?:input|select|textarea|keygen)/i;function pn(M,ie,Me,Re){var W;if(Array.isArray(ie))L.each(ie,function(R,_){Me||tn.test(M)?Re(M,_):pn(M+"["+("object"==typeof _&&null!=_?R:"")+"]",_,Me,Re)});else if(Me||"object"!==be(ie))Re(M,ie);else for(W in ie)pn(M+"["+W+"]",ie[W],Me,Re)}L.param=function(M,ie){var Me,Re=[],W=function(R,_){var I=O(_)?_():_;Re[Re.length]=encodeURIComponent(R)+"="+encodeURIComponent(I??"")};if(null==M)return"";if(Array.isArray(M)||M.jquery&&!L.isPlainObject(M))L.each(M,function(){W(this.name,this.value)});else for(Me in M)pn(Me,M[Me],ie,W);return Re.join("&")},L.fn.extend({serialize:function(){return L.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var M=L.prop(this,"elements");return M?L.makeArray(M):this}).filter(function(){var M=this.type;return this.name&&!L(this).is(":disabled")&&Kt.test(this.nodeName)&&!bt.test(M)&&(this.checked||!vr.test(M))}).map(function(M,ie){var Me=L(this).val();return null==Me?null:Array.isArray(Me)?L.map(Me,function(Re){return{name:ie.name,value:Re.replace(hn,"\r\n")}}):{name:ie.name,value:Me.replace(hn,"\r\n")}}).get()}});var vn=/%20/g,ci=/#.*$/,ni=/([?&])_=[^&]*/,Qi=/^(.*?):[ \t]*([^\r\n]*)$/gm,tr=/^(?:GET|HEAD)$/,ji=/^\/\//,er={},Ui={},Ti="*/".concat("*"),ki=oe.createElement("a");function Qn(M){return function(ie,Me){"string"!=typeof ie&&(Me=ie,ie="*");var Re,W=0,R=ie.toLowerCase().match(Mn)||[];if(O(Me))for(;Re=R[W++];)"+"===Re[0]?(Re=Re.slice(1)||"*",(M[Re]=M[Re]||[]).unshift(Me)):(M[Re]=M[Re]||[]).push(Me)}}function pr(M,ie,Me,Re){var W={},R=M===Ui;function _(I){var x;return W[I]=!0,L.each(M[I]||[],function(T,S){var A=S(ie,Me,Re);return"string"!=typeof A||R||W[A]?R?!(x=A):void 0:(ie.dataTypes.unshift(A),_(A),!1)}),x}return _(ie.dataTypes[0])||!W["*"]&&_("*")}function Ki(M,ie){var Me,Re,W=L.ajaxSettings.flatOptions||{};for(Me in ie)void 0!==ie[Me]&&((W[Me]?M:Re||(Re={}))[Me]=ie[Me]);return Re&&L.extend(!0,M,Re),M}ki.href=Lt.href,L.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Lt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Lt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ti,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":L.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(M,ie){return ie?Ki(Ki(M,L.ajaxSettings),ie):Ki(L.ajaxSettings,M)},ajaxPrefilter:Qn(er),ajaxTransport:Qn(Ui),ajax:function(M,ie){"object"==typeof M&&(ie=M,M=void 0);var Me,Re,W,R,_,I,x,T,S,A,k=L.ajaxSetup({},ie=ie||{}),V=k.context||k,H=k.context&&(V.nodeType||V.jquery)?L(V):L.event,G=L.Deferred(),$=L.Callbacks("once memory"),te=k.statusCode||{},K={},re={},Q="canceled",pe={readyState:0,getResponseHeader:function(Y){var z;if(x){if(!R)for(R={};z=Qi.exec(W);)R[z[1].toLowerCase()+" "]=(R[z[1].toLowerCase()+" "]||[]).concat(z[2]);z=R[Y.toLowerCase()+" "]}return null==z?null:z.join(", ")},getAllResponseHeaders:function(){return x?W:null},setRequestHeader:function(Y,z){return null==x&&(Y=re[Y.toLowerCase()]=re[Y.toLowerCase()]||Y,K[Y]=z),this},overrideMimeType:function(Y){return null==x&&(k.mimeType=Y),this},statusCode:function(Y){var z;if(Y)if(x)pe.always(Y[pe.status]);else for(z in Y)te[z]=[te[z],Y[z]];return this},abort:function(Y){var z=Y||Q;return Me&&Me.abort(z),Z(0,z),this}};if(G.promise(pe),k.url=((M||k.url||Lt.href)+"").replace(ji,Lt.protocol+"//"),k.type=ie.method||ie.type||k.method||k.type,k.dataTypes=(k.dataType||"*").toLowerCase().match(Mn)||[""],null==k.crossDomain){I=oe.createElement("a");try{I.href=k.url,I.href=I.href,k.crossDomain=ki.protocol+"//"+ki.host!=I.protocol+"//"+I.host}catch{k.crossDomain=!0}}if(k.data&&k.processData&&"string"!=typeof k.data&&(k.data=L.param(k.data,k.traditional)),pr(er,k,ie,pe),x)return pe;for(S in(T=L.event&&k.global)&&0==L.active++&&L.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!tr.test(k.type),Re=k.url.replace(ci,""),k.hasContent?k.data&&k.processData&&0===(k.contentType||"").indexOf("application/x-www-form-urlencoded")&&(k.data=k.data.replace(vn,"+")):(A=k.url.slice(Re.length),k.data&&(k.processData||"string"==typeof k.data)&&(Re+=(Yt.test(Re)?"&":"?")+k.data,delete k.data),!1===k.cache&&(Re=Re.replace(ni,"$1"),A=(Yt.test(Re)?"&":"?")+"_="+mn.guid+++A),k.url=Re+A),k.ifModified&&(L.lastModified[Re]&&pe.setRequestHeader("If-Modified-Since",L.lastModified[Re]),L.etag[Re]&&pe.setRequestHeader("If-None-Match",L.etag[Re])),(k.data&&k.hasContent&&!1!==k.contentType||ie.contentType)&&pe.setRequestHeader("Content-Type",k.contentType),pe.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Ti+"; q=0.01":""):k.accepts["*"]),k.headers)pe.setRequestHeader(S,k.headers[S]);if(k.beforeSend&&(!1===k.beforeSend.call(V,pe,k)||x))return pe.abort();if(Q="abort",$.add(k.complete),pe.done(k.success),pe.fail(k.error),Me=pr(Ui,k,ie,pe)){if(pe.readyState=1,T&&H.trigger("ajaxSend",[pe,k]),x)return pe;k.async&&0<k.timeout&&(_=ke.setTimeout(function(){pe.abort("timeout")},k.timeout));try{x=!1,Me.send(K,Z)}catch(Y){if(x)throw Y;Z(-1,Y)}}else Z(-1,"No Transport");function Z(Y,z,C,E){var ne,me,se,Se,Be,ht=z;x||(x=!0,_&&ke.clearTimeout(_),Me=void 0,W=E||"",pe.readyState=0<Y?4:0,ne=200<=Y&&Y<300||304===Y,C&&(Se=function(ot,rt,ut){for(var lt,_t,ft,Pe,$e=ot.contents,ct=ot.dataTypes;"*"===ct[0];)ct.shift(),void 0===lt&&(lt=ot.mimeType||rt.getResponseHeader("Content-Type"));if(lt)for(_t in $e)if($e[_t]&&$e[_t].test(lt)){ct.unshift(_t);break}if(ct[0]in ut)ft=ct[0];else{for(_t in ut){if(!ct[0]||ot.converters[_t+" "+ct[0]]){ft=_t;break}Pe||(Pe=_t)}ft=ft||Pe}if(ft)return ft!==ct[0]&&ct.unshift(ft),ut[ft]}(k,pe,C)),!ne&&-1<L.inArray("script",k.dataTypes)&&L.inArray("json",k.dataTypes)<0&&(k.converters["text script"]=function(){}),Se=function(ot,rt,ut,lt){var _t,ft,Pe,$e,ct,Mt={},zt=ot.dataTypes.slice();if(zt[1])for(Pe in ot.converters)Mt[Pe.toLowerCase()]=ot.converters[Pe];for(ft=zt.shift();ft;)if(ot.responseFields[ft]&&(ut[ot.responseFields[ft]]=rt),!ct&&lt&&ot.dataFilter&&(rt=ot.dataFilter(rt,ot.dataType)),ct=ft,ft=zt.shift())if("*"===ft)ft=ct;else if("*"!==ct&&ct!==ft){if(!(Pe=Mt[ct+" "+ft]||Mt["* "+ft]))for(_t in Mt)if(($e=_t.split(" "))[1]===ft&&(Pe=Mt[ct+" "+$e[0]]||Mt["* "+$e[0]])){!0===Pe?Pe=Mt[_t]:!0!==Mt[_t]&&(ft=$e[0],zt.unshift($e[1]));break}if(!0!==Pe)if(Pe&&ot.throws)rt=Pe(rt);else try{rt=Pe(rt)}catch(yn){return{state:"parsererror",error:Pe?yn:"No conversion from "+ct+" to "+ft}}}return{state:"success",data:rt}}(k,Se,pe,ne),ne?(k.ifModified&&((Be=pe.getResponseHeader("Last-Modified"))&&(L.lastModified[Re]=Be),(Be=pe.getResponseHeader("etag"))&&(L.etag[Re]=Be)),204===Y||"HEAD"===k.type?ht="nocontent":304===Y?ht="notmodified":(ht=Se.state,me=Se.data,ne=!(se=Se.error))):(se=ht,!Y&&ht||(ht="error",Y<0&&(Y=0))),pe.status=Y,pe.statusText=(z||ht)+"",ne?G.resolveWith(V,[me,ht,pe]):G.rejectWith(V,[pe,ht,se]),pe.statusCode(te),te=void 0,T&&H.trigger(ne?"ajaxSuccess":"ajaxError",[pe,k,ne?me:se]),$.fireWith(V,[pe,ht]),T&&(H.trigger("ajaxComplete",[pe,k]),--L.active||L.event.trigger("ajaxStop")))}return pe},getJSON:function(M,ie,Me){return L.get(M,ie,Me,"json")},getScript:function(M,ie){return L.get(M,void 0,ie,"script")}}),L.each(["get","post"],function(M,ie){L[ie]=function(Me,Re,W,R){return O(Re)&&(R=R||W,W=Re,Re=void 0),L.ajax(L.extend({url:Me,type:ie,dataType:R,data:Re,success:W},L.isPlainObject(Me)&&Me))}}),L.ajaxPrefilter(function(M){var ie;for(ie in M.headers)"content-type"===ie.toLowerCase()&&(M.contentType=M.headers[ie]||"")}),L._evalUrl=function(M,ie,Me){return L.ajax({url:M,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Re){L.globalEval(Re,ie,Me)}})},L.fn.extend({wrapAll:function(M){var ie;return this[0]&&(O(M)&&(M=M.call(this[0])),ie=L(M,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&ie.insertBefore(this[0]),ie.map(function(){for(var Me=this;Me.firstElementChild;)Me=Me.firstElementChild;return Me}).append(this)),this},wrapInner:function(M){return O(M)?this.each(function(ie){L(this).wrapInner(M.call(this,ie))}):this.each(function(){var ie=L(this),Me=ie.contents();Me.length?Me.wrapAll(M):ie.append(M)})},wrap:function(M){var ie=O(M);return this.each(function(Me){L(this).wrapAll(ie?M.call(this,Me):M)})},unwrap:function(M){return this.parent(M).not("body").each(function(){L(this).replaceWith(this.childNodes)}),this}}),L.expr.pseudos.hidden=function(M){return!L.expr.pseudos.visible(M)},L.expr.pseudos.visible=function(M){return!!(M.offsetWidth||M.offsetHeight||M.getClientRects().length)},L.ajaxSettings.xhr=function(){try{return new ke.XMLHttpRequest}catch{}};var wr={0:200,1223:204},Sr=L.ajaxSettings.xhr();w.cors=!!Sr&&"withCredentials"in Sr,w.ajax=Sr=!!Sr,L.ajaxTransport(function(M){var ie,Me;if(w.cors||Sr&&!M.crossDomain)return{send:function(Re,W){var R,_=M.xhr();if(_.open(M.type,M.url,M.async,M.username,M.password),M.xhrFields)for(R in M.xhrFields)_[R]=M.xhrFields[R];for(R in M.mimeType&&_.overrideMimeType&&_.overrideMimeType(M.mimeType),M.crossDomain||Re["X-Requested-With"]||(Re["X-Requested-With"]="XMLHttpRequest"),Re)_.setRequestHeader(R,Re[R]);ie=function(I){return function(){ie&&(ie=Me=_.onload=_.onerror=_.onabort=_.ontimeout=_.onreadystatechange=null,"abort"===I?_.abort():"error"===I?"number"!=typeof _.status?W(0,"error"):W(_.status,_.statusText):W(wr[_.status]||_.status,_.statusText,"text"!==(_.responseType||"text")||"string"!=typeof _.responseText?{binary:_.response}:{text:_.responseText},_.getAllResponseHeaders()))}},_.onload=ie(),Me=_.onerror=_.ontimeout=ie("error"),void 0!==_.onabort?_.onabort=Me:_.onreadystatechange=function(){4===_.readyState&&ke.setTimeout(function(){ie&&Me()})},ie=ie("abort");try{_.send(M.hasContent&&M.data||null)}catch(I){if(ie)throw I}},abort:function(){ie&&ie()}}}),L.ajaxPrefilter(function(M){M.crossDomain&&(M.contents.script=!1)}),L.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(M){return L.globalEval(M),M}}}),L.ajaxPrefilter("script",function(M){void 0===M.cache&&(M.cache=!1),M.crossDomain&&(M.type="GET")}),L.ajaxTransport("script",function(M){var ie,Me;if(M.crossDomain||M.scriptAttrs)return{send:function(Re,W){ie=L("<script>").attr(M.scriptAttrs||{}).prop({charset:M.scriptCharset,src:M.url}).on("load error",Me=function(R){ie.remove(),Me=null,R&&W("error"===R.type?404:200,R.type)}),oe.head.appendChild(ie[0])},abort:function(){Me&&Me()}}});var to,zr=[],gr=/(=)\?(?=&|$)|\?\?/;L.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var M=zr.pop()||L.expando+"_"+mn.guid++;return this[M]=!0,M}}),L.ajaxPrefilter("json jsonp",function(M,ie,Me){var Re,W,R,_=!1!==M.jsonp&&(gr.test(M.url)?"url":"string"==typeof M.data&&0===(M.contentType||"").indexOf("application/x-www-form-urlencoded")&&gr.test(M.data)&&"data");if(_||"jsonp"===M.dataTypes[0])return Re=M.jsonpCallback=O(M.jsonpCallback)?M.jsonpCallback():M.jsonpCallback,_?M[_]=M[_].replace(gr,"$1"+Re):!1!==M.jsonp&&(M.url+=(Yt.test(M.url)?"&":"?")+M.jsonp+"="+Re),M.converters["script json"]=function(){return R||L.error(Re+" was not called"),R[0]},M.dataTypes[0]="json",W=ke[Re],ke[Re]=function(){R=arguments},Me.always(function(){void 0===W?L(ke).removeProp(Re):ke[Re]=W,M[Re]&&(M.jsonpCallback=ie.jsonpCallback,zr.push(Re)),R&&O(W)&&W(R[0]),R=W=void 0}),"script"}),w.createHTMLDocument=((to=oe.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===to.childNodes.length),L.parseHTML=function(M,ie,Me){return"string"!=typeof M?[]:("boolean"==typeof ie&&(Me=ie,ie=!1),ie||(w.createHTMLDocument?((Re=(ie=oe.implementation.createHTMLDocument("")).createElement("base")).href=oe.location.href,ie.head.appendChild(Re)):ie=oe),R=!Me&&[],(W=st.exec(M))?[ie.createElement(W[1])]:(W=ao([M],ie,R),R&&R.length&&L(R).remove(),L.merge([],W.childNodes)));var Re,W,R},L.fn.load=function(M,ie,Me){var Re,W,R,_=this,I=M.indexOf(" ");return-1<I&&(Re=It(M.slice(I)),M=M.slice(0,I)),O(ie)?(Me=ie,ie=void 0):ie&&"object"==typeof ie&&(W="POST"),0<_.length&&L.ajax({url:M,type:W||"GET",dataType:"html",data:ie}).done(function(x){R=arguments,_.html(Re?L("<div>").append(L.parseHTML(x)).find(Re):x)}).always(Me&&function(x,T){_.each(function(){Me.apply(this,R||[x.responseText,T,x])})}),this},L.expr.pseudos.animated=function(M){return L.grep(L.timers,function(ie){return M===ie.elem}).length},L.offset={setOffset:function(M,ie,Me){var Re,W,R,_,I,x,T=L.css(M,"position"),S=L(M),A={};"static"===T&&(M.style.position="relative"),I=S.offset(),R=L.css(M,"top"),x=L.css(M,"left"),("absolute"===T||"fixed"===T)&&-1<(R+x).indexOf("auto")?(_=(Re=S.position()).top,W=Re.left):(_=parseFloat(R)||0,W=parseFloat(x)||0),O(ie)&&(ie=ie.call(M,Me,L.extend({},I))),null!=ie.top&&(A.top=ie.top-I.top+_),null!=ie.left&&(A.left=ie.left-I.left+W),"using"in ie?ie.using.call(M,A):S.css(A)}},L.fn.extend({offset:function(M){if(arguments.length)return void 0===M?this:this.each(function(W){L.offset.setOffset(this,M,W)});var ie,Me,Re=this[0];return Re?Re.getClientRects().length?{top:(ie=Re.getBoundingClientRect()).top+(Me=Re.ownerDocument.defaultView).pageYOffset,left:ie.left+Me.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var M,ie,Me,Re=this[0],W={top:0,left:0};if("fixed"===L.css(Re,"position"))ie=Re.getBoundingClientRect();else{for(ie=this.offset(),Me=Re.ownerDocument,M=Re.offsetParent||Me.documentElement;M&&(M===Me.body||M===Me.documentElement)&&"static"===L.css(M,"position");)M=M.parentNode;M&&M!==Re&&1===M.nodeType&&((W=L(M).offset()).top+=L.css(M,"borderTopWidth",!0),W.left+=L.css(M,"borderLeftWidth",!0))}return{top:ie.top-W.top-L.css(Re,"marginTop",!0),left:ie.left-W.left-L.css(Re,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var M=this.offsetParent;M&&"static"===L.css(M,"position");)M=M.offsetParent;return M||fi})}}),L.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(M,ie){var Me="pageYOffset"===ie;L.fn[M]=function(Re){return gi(this,function(W,R,_){var I;if(U(W)?I=W:9===W.nodeType&&(I=W.defaultView),void 0===_)return I?I[ie]:W[R];I?I.scrollTo(Me?I.pageXOffset:_,Me?_:I.pageYOffset):W[R]=_},M,Re,arguments.length)}}),L.each(["top","left"],function(M,ie){L.cssHooks[ie]=fr(w.pixelPosition,function(Me,Re){if(Re)return Re=Ci(Me,ie),ir.test(Re)?L(Me).position()[ie]+"px":Re})}),L.each({Height:"height",Width:"width"},function(M,ie){L.each({padding:"inner"+M,content:ie,"":"outer"+M},function(Me,Re){L.fn[Re]=function(W,R){var _=arguments.length&&(Me||"boolean"!=typeof W),I=Me||(!0===W||!0===R?"margin":"border");return gi(this,function(x,T,S){var A;return U(x)?0===Re.indexOf("outer")?x["inner"+M]:x.document.documentElement["client"+M]:9===x.nodeType?(A=x.documentElement,Math.max(x.body["scroll"+M],A["scroll"+M],x.body["offset"+M],A["offset"+M],A["client"+M])):void 0===S?L.css(x,T,I):L.style(x,T,S,I)},ie,_?W:void 0,_)}})}),L.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(M,ie){L.fn[ie]=function(Me){return this.on(ie,Me)}}),L.fn.extend({bind:function(M,ie,Me){return this.on(M,null,ie,Me)},unbind:function(M,ie){return this.off(M,null,ie)},delegate:function(M,ie,Me,Re){return this.on(ie,M,Me,Re)},undelegate:function(M,ie,Me){return 1===arguments.length?this.off(M,"**"):this.off(ie,M||"**",Me)},hover:function(M,ie){return this.on("mouseenter",M).on("mouseleave",ie||M)}}),L.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(M,ie){L.fn[ie]=function(Me,Re){return 0<arguments.length?this.on(ie,null,Me,Re):this.trigger(ie)}});var Vn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;L.proxy=function(M,ie){var Me,Re,W;if("string"==typeof ie&&(Me=M[ie],ie=M,M=Me),O(M))return Re=gt.call(arguments,2),(W=function(){return M.apply(ie||this,Re.concat(gt.call(arguments)))}).guid=M.guid=M.guid||L.guid++,W},L.holdReady=function(M){M?L.readyWait++:L.ready(!0)},L.isArray=Array.isArray,L.parseJSON=JSON.parse,L.nodeName=ye,L.isFunction=O,L.isWindow=U,L.camelCase=fn,L.type=be,L.now=Date.now,L.isNumeric=function(M){var ie=L.type(M);return("number"===ie||"string"===ie)&&!isNaN(M-parseFloat(M))},L.trim=function(M){return null==M?"":(M+"").replace(Vn,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return L});var ur=ke.jQuery,Dr=ke.$;return L.noConflict=function(M){return ke.$===L&&(ke.$=Dr),M&&ke.jQuery===L&&(ke.jQuery=ur),L},typeof Ve>"u"&&(ke.jQuery=ke.$=L),L}),function(ke,Ve){"function"==typeof define&&define.amd?define("eve",function(){return Ve()}):"object"==typeof exports?module.exports=Ve():ke.eve=Ve()}(this,function(){var ke,Ve,Ne="hasOwnProperty",gt=/[\.\/]/,ve=function(){},J=function(y,D){return y-D},j={n:{}},m=function(y,D){y=String(y);var B,w=Ve,O=Array.prototype.slice.call(arguments,2),U=m.listeners(y),oe=0,fe=[],ue={},be=[],Ae=ke;ke=y,Ve=0;for(var Ke=0,L=U.length;L>Ke;Ke++)"zIndex"in U[Ke]&&(fe.push(U[Ke].zIndex),U[Ke].zIndex<0&&(ue[U[Ke].zIndex]=U[Ke]));for(fe.sort(J);fe[oe]<0;)if(B=ue[fe[oe++]],be.push(B.apply(D,O)),Ve)return Ve=w,be;for(Ke=0;L>Ke;Ke++)if("zIndex"in(B=U[Ke]))if(B.zIndex==fe[oe]){if(be.push(B.apply(D,O)),Ve)break;do{if((B=ue[fe[++oe]])&&be.push(B.apply(D,O)),Ve)break}while(B)}else ue[B.zIndex]=B;else if(be.push(B.apply(D,O)),Ve)break;return Ve=w,ke=Ae,be.length?be:null};return m._events=j,m.listeners=function(y){var D,B,w,O,U,oe,fe,ue,be=y.split(gt),Ae=j,Ke=[Ae],L=[];for(O=0,U=be.length;U>O;O++){for(ue=[],oe=0,fe=Ke.length;fe>oe;oe++)for(B=[(Ae=Ke[oe].n)[be[O]],Ae["*"]],w=2;w--;)(D=B[w])&&(ue.push(D),L=L.concat(D.f||[]));Ke=ue}return L},m.on=function(y,D){if(y=String(y),"function"!=typeof D)return function(){};for(var B=y.split(gt),w=j,O=0,U=B.length;U>O;O++)w=(w=w.n).hasOwnProperty(B[O])&&w[B[O]]||(w[B[O]]={n:{}});for(w.f=w.f||[],O=0,U=w.f.length;U>O;O++)if(w.f[O]==D)return ve;return w.f.push(D),function(oe){+oe==+oe&&(D.zIndex=+oe)}},m.f=function(y){var D=[].slice.call(arguments,1);return function(){m.apply(null,[y,null].concat(D).concat([].slice.call(arguments,0)))}},m.stop=function(){Ve=1},m.nt=function(y){return y?new RegExp("(?:\\.|\\/|^)"+y+"(?:\\.|\\/|$)").test(ke):ke},m.nts=function(){return ke.split(gt)},m.off=m.unbind=function(y,D){if(y){var B,w,O,U,oe,fe,ue,be=y.split(gt),Ae=[j];for(U=0,oe=be.length;oe>U;U++)for(fe=0;fe<Ae.length;fe+=O.length-2){if(O=[fe,1],B=Ae[fe].n,"*"!=be[U])B[be[U]]&&O.push(B[be[U]]);else for(w in B)B[Ne](w)&&O.push(B[w]);Ae.splice.apply(Ae,O)}for(U=0,oe=Ae.length;oe>U;U++)for(B=Ae[U];B.n;){if(D){if(B.f){for(fe=0,ue=B.f.length;ue>fe;fe++)if(B.f[fe]==D){B.f.splice(fe,1);break}!B.f.length&&delete B.f}for(w in B.n)if(B.n[Ne](w)&&B.n[w].f){var Ke=B.n[w].f;for(fe=0,ue=Ke.length;ue>fe;fe++)if(Ke[fe]==D){Ke.splice(fe,1);break}!Ke.length&&delete B.n[w].f}}else for(w in delete B.f,B.n)B.n[Ne](w)&&B.n[w].f&&delete B.n[w].f;B=B.n}}else m._events=j={n:{}}},m.once=function(y,D){var B=function(){return m.unbind(y,B),D.apply(this,arguments)};return m.on(y,B)},m.version="0.4.2",m.toString=function(){return"You are running Eve 0.4.2"},m}),function(ke,Ve){"function"==typeof define&&define.amd?define("raphael.core",["eve"],function(an){return Ve(an)}):"object"==typeof exports?module.exports=Ve(require("eve")):ke.Raphael=Ve(ke.eve)}(this,function(ke){function Ve(N){if(Ve.is(N,"function"))return be?N():ke.on("raphael.DOMload",N);if(Ve.is(N,zn))return Ve._engine.create[Oe](Ve,N.splice(0,3+Ve.is(N[0],Mn))).add(N);var q=Array.prototype.slice.call(arguments,0);if(Ve.is(q[q.length-1],"function")){var he=q.pop();return be?he.call(Ve._engine.create[Oe](Ve,q)):ke.on("raphael.DOMload",function(){he.call(Ve._engine.create[Oe](Ve,q))})}return Ve._engine.create[Oe](Ve,arguments)}function an(N){if("function"==typeof N||Object(N)!==N)return N;var q=new N.constructor;for(var he in N)N[ye](he)&&(q[he]=an(N[he]));return q}function gt(N,q,he){return function ge(){var Ie=Array.prototype.slice.call(arguments,0),it=Ie.join("\u2400"),Ze=ge.cache=ge.cache||{},nt=ge.count=ge.count||[];return Ze[ye](it)?(function Ne(N,q){for(var he=0,ge=N.length;ge>he;he++)if(N[he]===q)return N.push(N.splice(he,1)[0])}(nt,it),he?he(Ze[it]):Ze[it]):(nt.length>=1e3&&delete Ze[nt.shift()],nt.push(it),Ze[it]=N[Oe](q,Ie),he?he(Ze[it]):Ze[it])}}function de(){return this.hex}function ve(N,q){for(var he=[],ge=0,Ie=N.length;Ie-2*!q>ge;ge+=2){var it=[{x:+N[ge-2],y:+N[ge-1]},{x:+N[ge],y:+N[ge+1]},{x:+N[ge+2],y:+N[ge+3]},{x:+N[ge+4],y:+N[ge+5]}];q?ge?Ie-4==ge?it[3]={x:+N[0],y:+N[1]}:Ie-2==ge&&(it[2]={x:+N[0],y:+N[1]},it[3]={x:+N[2],y:+N[3]}):it[0]={x:+N[Ie-2],y:+N[Ie-1]}:Ie-4==ge?it[3]=it[2]:ge||(it[0]={x:+N[ge],y:+N[ge+1]}),he.push(["C",(6*it[1].x-it[0].x+it[2].x)/6,(6*it[1].y-it[0].y+it[2].y)/6,(it[1].x+6*it[2].x-it[3].x)/6,(it[1].y+6*it[2].y-it[3].y)/6,it[2].x,it[2].y])}return he}function J(N,q,he,ge,Ie){return N*(N*(-3*q+9*he-9*ge+3*Ie)+6*q-12*he+6*ge)-3*q+3*he}function j(N,q,he,ge,Ie,it,Ze,nt,dt){null==dt&&(dt=1);for(var mt=(dt=dt>1?1:0>dt?0:dt)/2,kt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ct=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],At=0,Lt=0;12>Lt;Lt++){var mn=mt*kt[Lt]+mt,Yt=J(mn,N,he,Ie,Ze),ln=J(mn,q,ge,it,nt);At+=Ct[Lt]*Et.sqrt(Yt*Yt+ln*ln)}return mt*At}function y(N,q,he,ge,Ie,it,Ze,nt){if(!(Gt(N,he)<Tt(Ie,Ze)||Tt(N,he)>Gt(Ie,Ze)||Gt(q,ge)<Tt(it,nt)||Tt(q,ge)>Gt(it,nt))){var It=(N-he)*(it-nt)-(q-ge)*(Ie-Ze);if(It){var kt=((N*ge-q*he)*(Ie-Ze)-(N-he)*(Ie*nt-it*Ze))/It,Ct=((N*ge-q*he)*(it-nt)-(q-ge)*(Ie*nt-it*Ze))/It,At=+kt.toFixed(2),Lt=+Ct.toFixed(2);if(!(At<+Tt(N,he).toFixed(2)||At>+Gt(N,he).toFixed(2)||At<+Tt(Ie,Ze).toFixed(2)||At>+Gt(Ie,Ze).toFixed(2)||Lt<+Tt(q,ge).toFixed(2)||Lt>+Gt(q,ge).toFixed(2)||Lt<+Tt(it,nt).toFixed(2)||Lt>+Gt(it,nt).toFixed(2)))return{x:kt,y:Ct}}}}function D(N,q,he){var ge=Ve.bezierBBox(N),Ie=Ve.bezierBBox(q);if(!Ve.isBBoxIntersect(ge,Ie))return he?0:[];for(var it=j.apply(0,N),Ze=j.apply(0,q),nt=Gt(~~(it/5),1),dt=Gt(~~(Ze/5),1),mt=[],It=[],kt={},Ct=he?0:[],At=0;nt+1>At;At++){var Lt=Ve.findDotsAtSegment.apply(Ve,N.concat(At/nt));mt.push({x:Lt.x,y:Lt.y,t:At/nt})}for(At=0;dt+1>At;At++)Lt=Ve.findDotsAtSegment.apply(Ve,q.concat(At/dt)),It.push({x:Lt.x,y:Lt.y,t:At/dt});for(At=0;nt>At;At++)for(var mn=0;dt>mn;mn++){var Yt=mt[At],ln=mt[At+1],Vt=It[mn],tn=It[mn+1],hn=Nt(ln.x-Yt.x)<.001?"y":"x",bt=Nt(tn.x-Vt.x)<.001?"y":"x",Kt=y(Yt.x,Yt.y,ln.x,ln.y,Vt.x,Vt.y,tn.x,tn.y);if(Kt){if(kt[Kt.x.toFixed(4)]==Kt.y.toFixed(4))continue;kt[Kt.x.toFixed(4)]=Kt.y.toFixed(4);var pn=Yt.t+Nt((Kt[hn]-Yt[hn])/(ln[hn]-Yt[hn]))*(ln.t-Yt.t),vn=Vt.t+Nt((Kt[bt]-Vt[bt])/(tn[bt]-Vt[bt]))*(tn.t-Vt.t);pn>=0&&1.001>=pn&&vn>=0&&1.001>=vn&&(he?Ct++:Ct.push({x:Kt.x,y:Kt.y,t1:Tt(pn,1),t2:Tt(vn,1)}))}}return Ct}function B(N,q,he){N=Ve._path2curve(N),q=Ve._path2curve(q);for(var ge,Ie,it,Ze,nt,dt,mt,It,kt,Ct,At=he?0:[],Lt=0,mn=N.length;mn>Lt;Lt++){var Yt=N[Lt];if("M"==Yt[0])ge=nt=Yt[1],Ie=dt=Yt[2];else{"C"==Yt[0]?(kt=[ge,Ie].concat(Yt.slice(1)),ge=kt[6],Ie=kt[7]):(kt=[ge,Ie,ge,Ie,nt,dt,nt,dt],ge=nt,Ie=dt);for(var ln=0,Vt=q.length;Vt>ln;ln++){var tn=q[ln];if("M"==tn[0])it=mt=tn[1],Ze=It=tn[2];else{"C"==tn[0]?(Ct=[it,Ze].concat(tn.slice(1)),it=Ct[6],Ze=Ct[7]):(Ct=[it,Ze,it,Ze,mt,It,mt,It],it=mt,Ze=It);var hn=D(kt,Ct,he);if(he)At+=hn;else{for(var bt=0,Kt=hn.length;Kt>bt;bt++)hn[bt].segment1=Lt,hn[bt].segment2=ln,hn[bt].bez1=kt,hn[bt].bez2=Ct;At=At.concat(hn)}}}}}return At}function w(N,q,he,ge,Ie,it){null!=N?(this.a=+N,this.b=+q,this.c=+he,this.d=+ge,this.e=+Ie,this.f=+it):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function O(){return this.x+et+this.y+et+this.width+" \xd7 "+this.height}function oe(N,q){var he=[],ge={};if(this.ms=q,this.times=1,N){for(var Ie in N)N[ye](Ie)&&(ge[Oi(Ie)]=N[Ie],he.push(Oi(Ie)));he.sort(Rn)}this.anim=ge,this.top=he[he.length-1],this.percents=he}function fe(N,q,he,ge,Ie,it){he=Oi(he);var Ze,nt,dt,mt,It,kt,Ct=N.ms,At={},Lt={},mn={};if(ge)for(ln=0,Vt=Yi.length;Vt>ln;ln++){var Yt=Yi[ln];if(Yt.el.id==q.id&&Yt.anim==N){Yt.percent!=he?(Yi.splice(ln,1),dt=1):nt=Yt,q.attr(Yt.totalOrigin);break}}else ge=+Lt;for(var ln=0,Vt=N.percents.length;Vt>ln;ln++){if(N.percents[ln]==he||N.percents[ln]>ge*N.top){Ct=Ct/N.top*((he=N.percents[ln])-(It=N.percents[ln-1]||0)),mt=N.percents[ln+1],Ze=N.anim[he];break}ge&&q.attr(N.anim[N.percents[ln]])}if(Ze){if(nt)nt.initstatus=ge,nt.start=new Date-nt.ms*ge;else{for(var tn in Ze)if(Ze[ye](tn)&&(Wn[ye](tn)||q.paper.customAttributes[ye](tn)))switch(At[tn]=q.attr(tn),null==At[tn]&&(At[tn]=fn[tn]),Lt[tn]=Ze[tn],Wn[tn]){case Mn:mn[tn]=(Lt[tn]-At[tn])/Ct;break;case"colour":At[tn]=Ve.getRGB(At[tn]);var hn=Ve.getRGB(Lt[tn]);mn[tn]={r:(hn.r-At[tn].r)/Ct,g:(hn.g-At[tn].g)/Ct,b:(hn.b-At[tn].b)/Ct};break;case"path":var bt=pi(At[tn],Lt[tn]),Kt=bt[1];for(At[tn]=bt[0],mn[tn]=[],ln=0,Vt=At[tn].length;Vt>ln;ln++){mn[tn][ln]=[0];for(var pn=1,vn=At[tn][ln].length;vn>pn;pn++)mn[tn][ln][pn]=(Kt[ln][pn]-At[tn][ln][pn])/Ct}break;case"transform":var ci=q._,ni=or(ci[tn],Lt[tn]);if(ni)for(At[tn]=ni.from,Lt[tn]=ni.to,mn[tn]=[],mn[tn].real=!0,ln=0,Vt=At[tn].length;Vt>ln;ln++)for(mn[tn][ln]=[At[tn][ln][0]],pn=1,vn=At[tn][ln].length;vn>pn;pn++)mn[tn][ln][pn]=(Lt[tn][ln][pn]-At[tn][ln][pn])/Ct;else{var Qi=q.matrix||new w,tr={_:{transform:ci.transform},getBBox:function(){return q.getBBox(1)}};At[tn]=[Qi.a,Qi.b,Qi.c,Qi.d,Qi.e,Qi.f],Ji(tr,Lt[tn]),Lt[tn]=tr._.transform,mn[tn]=[(tr.matrix.a-Qi.a)/Ct,(tr.matrix.b-Qi.b)/Ct,(tr.matrix.c-Qi.c)/Ct,(tr.matrix.d-Qi.d)/Ct,(tr.matrix.e-Qi.e)/Ct,(tr.matrix.f-Qi.f)/Ct]}break;case"csv":var ji=xt(Ze[tn])[ze](Ke),er=xt(At[tn])[ze](Ke);if("clip-rect"==tn)for(At[tn]=er,mn[tn]=[],ln=er.length;ln--;)mn[tn][ln]=(ji[ln]-At[tn][ln])/Ct;Lt[tn]=ji;break;default:for(ji=[][qe](Ze[tn]),er=[][qe](At[tn]),mn[tn]=[],ln=q.paper.customAttributes[tn].length;ln--;)mn[tn][ln]=((ji[ln]||0)-(er[ln]||0))/Ct}var Ui=Ze.easing,Ti=Ve.easing_formulas[Ui];if(!Ti)if((Ti=xt(Ui).match(Pi))&&5==Ti.length){var ki=Ti;Ti=function(Qn){return function U(N,q,he,ge,Ie,it){function Ze(mn){return((kt*mn+It)*mn+mt)*mn}var mt=3*q,It=3*(ge-q)-mt,kt=1-mt-It,Ct=3*he,At=3*(Ie-he)-Ct,Lt=1-Ct-At;return function nt(mn,Yt){var ln=function dt(mn,Yt){var ln,Vt,tn,hn,bt,Kt;for(tn=mn,Kt=0;8>Kt;Kt++){if(hn=Ze(tn)-mn,Nt(hn)<Yt)return tn;if(Nt(bt=(3*kt*tn+2*It)*tn+mt)<1e-6)break;tn-=hn/bt}if((ln=0)>(tn=mn))return ln;if(tn>(Vt=1))return Vt;for(;Vt>ln;){if(hn=Ze(tn),Nt(hn-mn)<Yt)return tn;mn>hn?ln=tn:Vt=tn,tn=(Vt-ln)/2+ln}return tn}(mn,Yt);return((Lt*ln+At)*ln+Ct)*ln}(N,1/(200*it))}(Qn,+ki[1],+ki[2],+ki[3],+ki[4],Ct)}}else Ti=ti;if(Yt={anim:N,percent:he,timestamp:kt=Ze.start||N.start||+new Date,start:kt+(N.del||0),status:0,initstatus:ge||0,stop:!1,ms:Ct,easing:Ti,from:At,diff:mn,to:Lt,el:q,callback:Ze.callback,prev:It,next:mt,repeat:it||N.times,origin:q.attr(),totalOrigin:Ie},Yi.push(Yt),ge&&!nt&&!dt&&(Yt.stop=!0,Yt.start=new Date-Ct*ge,1==Yi.length))return go();dt&&(Yt.start=new Date-Yt.ms*ge),1==Yi.length&&Zr(go)}ke("raphael.anim.start."+q.id,q,N)}}function ue(N){for(var q=0;q<Yi.length;q++)Yi[q].el.paper==N&&Yi.splice(q--,1)}Ve.version="2.1.4",Ve.eve=ke;var be,Ae,N,q,Ke=/[, ]+/,L={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},Ge=/\{(\d+)\}/g,ye="hasOwnProperty",Te={doc:document,win:window},Ue={was:Object.prototype[ye].call(Te.win,"Raphael"),is:Te.win.Raphael},ce=function(){this.ca=this.customAttributes={}},Oe="apply",qe="concat",xe="ontouchstart"in Te.win||Te.win.DocumentTouch&&Te.doc instanceof DocumentTouch,We="",et=" ",xt=String,ze="split",Xe="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[ze](et),Je={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},st=xt.prototype.toLowerCase,Et=Math,Gt=Et.max,Tt=Et.min,Nt=Et.abs,en=Et.pow,Ht=Et.PI,Mn="number",gn="string",zn="array",xi=Object.prototype.toString,_i=(Ve._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),mi={NaN:1,Infinity:1,"-Infinity":1},Pi=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,gi=Et.round,Oi=parseFloat,bn=parseInt,_n=xt.prototype.toUpperCase,fn=Ve._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},Wn=Ve._availableAnimAttrs={blur:Mn,"clip-rect":"csv",cx:Mn,cy:Mn,fill:"colour","fill-opacity":Mn,"font-size":Mn,height:Mn,opacity:Mn,path:"path",r:Mn,rx:Mn,ry:Mn,stroke:"colour","stroke-opacity":Mn,"stroke-width":Mn,transform:"transform",width:Mn,x:Mn,y:Mn},Bn=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,Nn={hs:1,rg:1},ei=/,?([achlmqrstvxz]),?/gi,Vi=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,$i=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Li=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,Cn=(Ve._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),Rn=function(N,q){return Oi(N)-Oi(q)},ti=function(N){return N},fi=Ve._rectPath=function(N,q,he,ge,Ie){return Ie?[["M",N+Ie,q],["l",he-2*Ie,0],["a",Ie,Ie,0,0,1,Ie,Ie],["l",0,ge-2*Ie],["a",Ie,Ie,0,0,1,-Ie,Ie],["l",2*Ie-he,0],["a",Ie,Ie,0,0,1,-Ie,-Ie],["l",0,2*Ie-ge],["a",Ie,Ie,0,0,1,Ie,-Ie],["z"]]:[["M",N,q],["l",he,0],["l",0,ge],["l",-he,0],["z"]]},si=function(N,q,he,ge){return null==ge&&(ge=he),[["M",N,q],["m",0,-ge],["a",he,ge,0,1,1,0,2*ge],["a",he,ge,0,1,1,0,-2*ge],["z"]]},Jn=Ve._getPath={path:function(N){return N.attr("path")},circle:function(N){var q=N.attrs;return si(q.cx,q.cy,q.r)},ellipse:function(N){var q=N.attrs;return si(q.cx,q.cy,q.rx,q.ry)},rect:function(N){var q=N.attrs;return fi(q.x,q.y,q.width,q.height,q.r)},image:function(N){var q=N.attrs;return fi(q.x,q.y,q.width,q.height)},text:function(N){var q=N._getBBox();return fi(q.x,q.y,q.width,q.height)},set:function(N){var q=N._getBBox();return fi(q.x,q.y,q.width,q.height)}},bi=Ve.mapPath=function(N,q){if(!q)return N;var he,ge,Ie,it,Ze,nt,dt;for(Ie=0,Ze=(N=pi(N)).length;Ze>Ie;Ie++)for(it=1,nt=(dt=N[Ie]).length;nt>it;it+=2)he=q.x(dt[it],dt[it+1]),ge=q.y(dt[it],dt[it+1]),dt[it]=he,dt[it+1]=ge;return N};if(Ve._g=Te,"VML"==(Ve.type=Te.win.SVGAngle||Te.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){var Ii,Ai=Te.doc.createElement("div");if(Ai.innerHTML='<v:shape adj="1"/>',(Ii=Ai.firstChild).style.behavior="url(#default#VML)",!Ii||"object"!=typeof Ii.adj)return Ve.type=We;Ai=null}Ve.svg=!(Ve.vml="VML"==Ve.type),Ve._Paper=ce,Ve.fn=Ae=ce.prototype=Ve.prototype,Ve._id=0,Ve._oid=0,Ve.is=function(N,q){return"finite"==(q=st.call(q))?!mi[ye](+N):"array"==q?N instanceof Array:"null"==q&&null===N||q==typeof N&&null!==N||"object"==q&&N===Object(N)||"array"==q&&Array.isArray&&Array.isArray(N)||xi.call(N).slice(8,-1).toLowerCase()==q},Ve.angle=function(N,q,he,ge,Ie,it){if(null==Ie){var Ze=N-he,nt=q-ge;return Ze||nt?(180+180*Et.atan2(-nt,-Ze)/Ht+360)%360:0}return Ve.angle(N,q,Ie,it)-Ve.angle(he,ge,Ie,it)},Ve.rad=function(N){return N%360*Ht/180},Ve.deg=function(N){return Math.round(180*N/Ht%360*1e3)/1e3},Ve.snapTo=function(N,q,he){if(he=Ve.is(he,"finite")?he:10,Ve.is(N,zn)){for(var ge=N.length;ge--;)if(Nt(N[ge]-q)<=he)return N[ge]}else{var Ie=q%(N=+N);if(he>Ie)return q-Ie;if(Ie>N-he)return q-Ie+N}return q},Ve.createUUID=(N=/[xy]/g,q=function(N){var q=16*Et.random()|0;return("x"==N?q:3&q|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(N,q).toUpperCase()}),Ve.setWindow=function(N){ke("raphael.setWindow",Ve,Te.win,N),Te.win=N,Te.doc=Te.win.document,Ve._engine.initWin&&Ve._engine.initWin(Te.win)};var Wi=function(N){if(Ve.vml){var q,he=/^\s+|\s+$/g;try{var ge=new ActiveXObject("htmlfile");ge.write("<body>"),ge.close(),q=ge.body}catch{q=createPopup().document.body}var Ie=q.createTextRange();Wi=gt(function(Ze){try{q.style.color=xt(Ze).replace(he,We);var nt=Ie.queryCommandValue("ForeColor");return"#"+("000000"+(nt=(255&nt)<<16|65280&nt|(16711680&nt)>>>16).toString(16)).slice(-6)}catch{return"none"}})}else{var it=Te.doc.createElement("i");it.title="Rapha\xebl Colour Picker",it.style.display="none",Te.doc.body.appendChild(it),Wi=gt(function(Ze){return it.style.color=Ze,Te.doc.defaultView.getComputedStyle(it,We).getPropertyValue("color")})}return Wi(N)},qi=function(){return"hsb("+[this.h,this.s,this.b]+")"},Br=function(){return"hsl("+[this.h,this.s,this.l]+")"},vr=function(){return this.hex},cr=function(N,q,he){if(null==q&&Ve.is(N,"object")&&"r"in N&&"g"in N&&"b"in N&&(he=N.b,q=N.g,N=N.r),null==q&&Ve.is(N,gn)){var ge=Ve.getRGB(N);N=ge.r,q=ge.g,he=ge.b}return(N>1||q>1||he>1)&&(N/=255,q/=255,he/=255),[N,q,he]},Jr=function(N,q,he,ge){var Ie={r:N*=255,g:q*=255,b:he*=255,hex:Ve.rgb(N,q,he),toString:vr};return Ve.is(ge,"finite")&&(Ie.opacity=ge),Ie};Ve.color=function(N){var q;return Ve.is(N,"object")&&"h"in N&&"s"in N&&"b"in N?(q=Ve.hsb2rgb(N),N.r=q.r,N.g=q.g,N.b=q.b,N.hex=q.hex):Ve.is(N,"object")&&"h"in N&&"s"in N&&"l"in N?(q=Ve.hsl2rgb(N),N.r=q.r,N.g=q.g,N.b=q.b,N.hex=q.hex):(Ve.is(N,"string")&&(N=Ve.getRGB(N)),Ve.is(N,"object")&&"r"in N&&"g"in N&&"b"in N?(q=Ve.rgb2hsl(N),N.h=q.h,N.s=q.s,N.l=q.l,q=Ve.rgb2hsb(N),N.v=q.b):(N={hex:"none"}).r=N.g=N.b=N.h=N.s=N.v=N.l=-1),N.toString=vr,N},Ve.hsb2rgb=function(N,q,he,ge){var Ie,it,Ze,nt,dt;return this.is(N,"object")&&"h"in N&&"s"in N&&"b"in N&&(he=N.b,q=N.s,ge=N.o,N=N.h),nt=(dt=he*q)*(1-Nt((N=(N*=360)%360/60)%2-1)),Ie=it=Ze=he-dt,Jr(Ie+=[dt,nt,0,0,nt,dt][N=~~N],it+=[nt,dt,dt,nt,0,0][N],Ze+=[0,0,nt,dt,dt,nt][N],ge)},Ve.hsl2rgb=function(N,q,he,ge){var Ie,it,Ze,nt,dt;return this.is(N,"object")&&"h"in N&&"s"in N&&"l"in N&&(he=N.l,q=N.s,N=N.h),(N>1||q>1||he>1)&&(N/=360,q/=100,he/=100),nt=(dt=2*q*(.5>he?he:1-he))*(1-Nt((N=(N*=360)%360/60)%2-1)),Ie=it=Ze=he-dt/2,Jr(Ie+=[dt,nt,0,0,nt,dt][N=~~N],it+=[nt,dt,dt,nt,0,0][N],Ze+=[0,0,nt,dt,dt,nt][N],ge)},Ve.rgb2hsb=function(N,q,he){var it,Ze;return he=cr(N,q,he),{h:((0==(Ze=(it=Gt(N=he[0],q=he[1],he=he[2]))-Tt(N,q,he))?null:it==N?(q-he)/Ze:it==q?(he-N)/Ze+2:(N-q)/Ze+4)+360)%6*60/360,s:0==Ze?0:Ze/it,b:it,toString:qi}},Ve.rgb2hsl=function(N,q,he){var it,Ze,nt,dt;return he=cr(N,q,he),it=((Ze=Gt(N=he[0],q=he[1],he=he[2]))+(nt=Tt(N,q,he)))/2,{h:((0==(dt=Ze-nt)?null:Ze==N?(q-he)/dt:Ze==q?(he-N)/dt+2:(N-q)/dt+4)+360)%6*60/360,s:0==dt?0:.5>it?dt/(2*it):dt/(2-2*it),l:it,toString:Br}},Ve._path2string=function(){return this.join(",").replace(ei,"$1")},Ve._preload=function(N,q){var he=Te.doc.createElement("img");he.style.cssText="position:absolute;left:-9999em;top:-9999em",he.onload=function(){q.call(this),this.onload=null,Te.doc.body.removeChild(this)},he.onerror=function(){Te.doc.body.removeChild(this)},Te.doc.body.appendChild(he),he.src=N},Ve.getRGB=gt(function(N){if(!N||(N=xt(N)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:de};if("none"==N)return{r:-1,g:-1,b:-1,hex:"none",toString:de};!Nn[ye](N.toLowerCase().substring(0,2))&&"#"!=N.charAt()&&(N=Wi(N));var q,he,ge,Ie,it,Ze,nt=N.match(_i);return nt?(nt[2]&&(ge=bn(nt[2].substring(5),16),he=bn(nt[2].substring(3,5),16),q=bn(nt[2].substring(1,3),16)),nt[3]&&(ge=bn((it=nt[3].charAt(3))+it,16),he=bn((it=nt[3].charAt(2))+it,16),q=bn((it=nt[3].charAt(1))+it,16)),nt[4]&&(Ze=nt[4][ze](Bn),q=Oi(Ze[0]),"%"==Ze[0].slice(-1)&&(q*=2.55),he=Oi(Ze[1]),"%"==Ze[1].slice(-1)&&(he*=2.55),ge=Oi(Ze[2]),"%"==Ze[2].slice(-1)&&(ge*=2.55),"rgba"==nt[1].toLowerCase().slice(0,4)&&(Ie=Oi(Ze[3])),Ze[3]&&"%"==Ze[3].slice(-1)&&(Ie/=100)),nt[5]?(Ze=nt[5][ze](Bn),q=Oi(Ze[0]),"%"==Ze[0].slice(-1)&&(q*=2.55),he=Oi(Ze[1]),"%"==Ze[1].slice(-1)&&(he*=2.55),ge=Oi(Ze[2]),"%"==Ze[2].slice(-1)&&(ge*=2.55),("deg"==Ze[0].slice(-3)||"\xb0"==Ze[0].slice(-1))&&(q/=360),"hsba"==nt[1].toLowerCase().slice(0,4)&&(Ie=Oi(Ze[3])),Ze[3]&&"%"==Ze[3].slice(-1)&&(Ie/=100),Ve.hsb2rgb(q,he,ge,Ie)):nt[6]?(Ze=nt[6][ze](Bn),q=Oi(Ze[0]),"%"==Ze[0].slice(-1)&&(q*=2.55),he=Oi(Ze[1]),"%"==Ze[1].slice(-1)&&(he*=2.55),ge=Oi(Ze[2]),"%"==Ze[2].slice(-1)&&(ge*=2.55),("deg"==Ze[0].slice(-3)||"\xb0"==Ze[0].slice(-1))&&(q/=360),"hsla"==nt[1].toLowerCase().slice(0,4)&&(Ie=Oi(Ze[3])),Ze[3]&&"%"==Ze[3].slice(-1)&&(Ie/=100),Ve.hsl2rgb(q,he,ge,Ie)):((nt={r:q,g:he,b:ge,toString:de}).hex="#"+(16777216|ge|he<<8|q<<16).toString(16).slice(1),Ve.is(Ie,"finite")&&(nt.opacity=Ie),nt)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:de}},Ve),Ve.hsb=gt(function(N,q,he){return Ve.hsb2rgb(N,q,he).hex}),Ve.hsl=gt(function(N,q,he){return Ve.hsl2rgb(N,q,he).hex}),Ve.rgb=gt(function(N,q,he){function ge(Ie){return Ie+.5|0}return"#"+(16777216|ge(he)|ge(q)<<8|ge(N)<<16).toString(16).slice(1)}),Ve.getColor=function(N){var q=this.getColor.start=this.getColor.start||{h:0,s:1,b:N||.75},he=this.hsb2rgb(q.h,q.s,q.b);return q.h+=.075,q.h>1&&(q.h=0,q.s-=.2,q.s<=0&&(this.getColor.start={h:0,s:1,b:q.b})),he.hex},Ve.getColor.reset=function(){delete this.start},Ve.parsePathString=function(N){if(!N)return null;var q=hr(N);if(q.arr)return Mr(q.arr);var he={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},ge=[];return Ve.is(N,zn)&&Ve.is(N[0],zn)&&(ge=Mr(N)),ge.length||xt(N).replace(Vi,function(Ie,it,Ze){var nt=[],dt=it.toLowerCase();if(Ze.replace(Li,function(mt,It){It&&nt.push(+It)}),"m"==dt&&nt.length>2&&(ge.push([it][qe](nt.splice(0,2))),dt="l",it="m"==it?"l":"L"),"r"==dt)ge.push([it][qe](nt));else for(;nt.length>=he[dt]&&(ge.push([it][qe](nt.splice(0,he[dt]))),he[dt]););}),ge.toString=Ve._path2string,q.arr=Mr(ge),ge},Ve.parseTransformString=gt(function(N){if(!N)return null;var q=[];return Ve.is(N,zn)&&Ve.is(N[0],zn)&&(q=Mr(N)),q.length||xt(N).replace($i,function(he,ge,Ie){var it=[];st.call(ge),Ie.replace(Li,function(Ze,nt){nt&&it.push(+nt)}),q.push([ge][qe](it))}),q.toString=Ve._path2string,q});var hr=function(N){var q=hr.ps=hr.ps||{};return q[N]?q[N].sleep=100:q[N]={sleep:100},setTimeout(function(){for(var he in q)q[ye](he)&&he!=N&&(q[he].sleep--,!q[he].sleep&&delete q[he])}),q[N]};Ve.findDotsAtSegment=function(N,q,he,ge,Ie,it,Ze,nt,dt){var mt=1-dt,It=en(mt,3),kt=en(mt,2),Ct=dt*dt,At=Ct*dt,Lt=It*N+3*kt*dt*he+3*mt*dt*dt*Ie+At*Ze,mn=It*q+3*kt*dt*ge+3*mt*dt*dt*it+At*nt,Yt=N+2*dt*(he-N)+Ct*(Ie-2*he+N),ln=q+2*dt*(ge-q)+Ct*(it-2*ge+q),Vt=he+2*dt*(Ie-he)+Ct*(Ze-2*Ie+he),tn=ge+2*dt*(it-ge)+Ct*(nt-2*it+ge),hn=mt*N+dt*he,bt=mt*q+dt*ge,Kt=mt*Ie+dt*Ze,pn=mt*it+dt*nt,vn=90-180*Et.atan2(Yt-Vt,ln-tn)/Ht;return(Yt>Vt||tn>ln)&&(vn+=180),{x:Lt,y:mn,m:{x:Yt,y:ln},n:{x:Vt,y:tn},start:{x:hn,y:bt},end:{x:Kt,y:pn},alpha:vn}},Ve.bezierBBox=function(N,q,he,ge,Ie,it,Ze,nt){Ve.is(N,"array")||(N=[N,q,he,ge,Ie,it,Ze,nt]);var dt=Fn.apply(null,N);return{x:dt.min.x,y:dt.min.y,x2:dt.max.x,y2:dt.max.y,width:dt.max.x-dt.min.x,height:dt.max.y-dt.min.y}},Ve.isPointInsideBBox=function(N,q,he){return q>=N.x&&q<=N.x2&&he>=N.y&&he<=N.y2},Ve.isBBoxIntersect=function(N,q){var he=Ve.isPointInsideBBox;return he(q,N.x,N.y)||he(q,N.x2,N.y)||he(q,N.x,N.y2)||he(q,N.x2,N.y2)||he(N,q.x,q.y)||he(N,q.x2,q.y)||he(N,q.x,q.y2)||he(N,q.x2,q.y2)||(N.x<q.x2&&N.x>q.x||q.x<N.x2&&q.x>N.x)&&(N.y<q.y2&&N.y>q.y||q.y<N.y2&&q.y>N.y)},Ve.pathIntersection=function(N,q){return B(N,q)},Ve.pathIntersectionNumber=function(N,q){return B(N,q,1)},Ve.isPointInsidePath=function(N,q,he){var ge=Ve.pathBBox(N);return Ve.isPointInsideBBox(ge,q,he)&&B(N,[["M",q,he],["H",ge.x2+10]],1)%2==1},Ve._removedFactory=function(N){return function(){ke("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+N+"\u201d of removed object",N)}};var dr=Ve.pathBBox=function(N){var q=hr(N);if(q.bbox)return an(q.bbox);if(!N)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var he,ge=0,Ie=0,it=[],Ze=[],nt=0,dt=(N=pi(N)).length;dt>nt;nt++)if("M"==(he=N[nt])[0])Ie=he[2],it.push(ge=he[1]),Ze.push(Ie);else{var mt=Fn(ge,Ie,he[1],he[2],he[3],he[4],he[5],he[6]);it=it[qe](mt.min.x,mt.max.x),Ze=Ze[qe](mt.min.y,mt.max.y),ge=he[5],Ie=he[6]}var It=Tt[Oe](0,it),kt=Tt[Oe](0,Ze),Ct=Gt[Oe](0,it),At=Gt[Oe](0,Ze),Lt=Ct-It,mn=At-kt,Yt={x:It,y:kt,x2:Ct,y2:At,width:Lt,height:mn,cx:It+Lt/2,cy:kt+mn/2};return q.bbox=an(Yt),Yt},Mr=function(N){var q=an(N);return q.toString=Ve._path2string,q},jr=Ve._pathToRelative=function(N){var q=hr(N);if(q.rel)return Mr(q.rel);Ve.is(N,zn)&&Ve.is(N&&N[0],zn)||(N=Ve.parsePathString(N));var he=[],ge=0,Ie=0,it=0,Ze=0,nt=0;"M"==N[0][0]&&(it=ge=N[0][1],Ze=Ie=N[0][2],nt++,he.push(["M",ge,Ie]));for(var dt=nt,mt=N.length;mt>dt;dt++){var It=he[dt]=[],kt=N[dt];if(kt[0]!=st.call(kt[0]))switch(It[0]=st.call(kt[0]),It[0]){case"a":It[1]=kt[1],It[2]=kt[2],It[3]=kt[3],It[4]=kt[4],It[5]=kt[5],It[6]=+(kt[6]-ge).toFixed(3),It[7]=+(kt[7]-Ie).toFixed(3);break;case"v":It[1]=+(kt[1]-Ie).toFixed(3);break;case"m":it=kt[1],Ze=kt[2];default:for(var Ct=1,At=kt.length;At>Ct;Ct++)It[Ct]=+(kt[Ct]-(Ct%2?ge:Ie)).toFixed(3)}else{It=he[dt]=[],"m"==kt[0]&&(it=kt[1]+ge,Ze=kt[2]+Ie);for(var Lt=0,mn=kt.length;mn>Lt;Lt++)he[dt][Lt]=kt[Lt]}var Yt=he[dt].length;switch(he[dt][0]){case"z":ge=it,Ie=Ze;break;case"h":ge+=+he[dt][Yt-1];break;case"v":Ie+=+he[dt][Yt-1];break;default:ge+=+he[dt][Yt-2],Ie+=+he[dt][Yt-1]}}return he.toString=Ve._path2string,q.rel=Mr(he),he},ao=Ve._pathToAbsolute=function(N){var q=hr(N);if(q.abs)return Mr(q.abs);if(Ve.is(N,zn)&&Ve.is(N&&N[0],zn)||(N=Ve.parsePathString(N)),!N||!N.length)return[["M",0,0]];var he=[],ge=0,Ie=0,it=0,Ze=0,nt=0;"M"==N[0][0]&&(it=ge=+N[0][1],Ze=Ie=+N[0][2],nt++,he[0]=["M",ge,Ie]);for(var dt,mt,It=3==N.length&&"M"==N[0][0]&&"R"==N[1][0].toUpperCase()&&"Z"==N[2][0].toUpperCase(),kt=nt,Ct=N.length;Ct>kt;kt++){if(he.push(dt=[]),(mt=N[kt])[0]!=_n.call(mt[0]))switch(dt[0]=_n.call(mt[0]),dt[0]){case"A":dt[1]=mt[1],dt[2]=mt[2],dt[3]=mt[3],dt[4]=mt[4],dt[5]=mt[5],dt[6]=+(mt[6]+ge),dt[7]=+(mt[7]+Ie);break;case"V":dt[1]=+mt[1]+Ie;break;case"H":dt[1]=+mt[1]+ge;break;case"R":for(var At=[ge,Ie][qe](mt.slice(1)),Lt=2,mn=At.length;mn>Lt;Lt++)At[Lt]=+At[Lt]+ge,At[++Lt]=+At[Lt]+Ie;he.pop(),he=he[qe](ve(At,It));break;case"M":it=+mt[1]+ge,Ze=+mt[2]+Ie;default:for(Lt=1,mn=mt.length;mn>Lt;Lt++)dt[Lt]=+mt[Lt]+(Lt%2?ge:Ie)}else if("R"==mt[0])At=[ge,Ie][qe](mt.slice(1)),he.pop(),he=he[qe](ve(At,It)),dt=["R"][qe](mt.slice(-2));else for(var Yt=0,ln=mt.length;ln>Yt;Yt++)dt[Yt]=mt[Yt];switch(dt[0]){case"Z":ge=it,Ie=Ze;break;case"H":ge=dt[1];break;case"V":Ie=dt[1];break;case"M":it=dt[dt.length-2],Ze=dt[dt.length-1];default:ge=dt[dt.length-2],Ie=dt[dt.length-1]}}return he.toString=Ve._path2string,q.abs=Mr(he),he},Ar=function(N,q,he,ge){return[N,q,he,ge,he,ge]},Yr=function(N,q,he,ge,Ie,it){var Ze=.3333333333333333,nt=2/3;return[Ze*N+nt*he,Ze*q+nt*ge,Ze*Ie+nt*he,Ze*it+nt*ge,Ie,it]},Xr=function(N,q,he,ge,Ie,it,Ze,nt,dt,mt){var It,kt=120*Ht/180,Ct=Ht/180*(+Ie||0),At=[],Lt=gt(function(ur,Dr,M){return{x:ur*Et.cos(M)-Dr*Et.sin(M),y:ur*Et.sin(M)+Dr*Et.cos(M)}});if(mt)pn=mt[0],vn=mt[1],bt=mt[2],Kt=mt[3];else{N=(It=Lt(N,q,-Ct)).x,q=It.y,nt=(It=Lt(nt,dt,-Ct)).x,dt=It.y;var mn=(Et.cos(Ht/180*Ie),Et.sin(Ht/180*Ie),(N-nt)/2),Yt=(q-dt)/2,ln=mn*mn/(he*he)+Yt*Yt/(ge*ge);ln>1&&(he*=ln=Et.sqrt(ln),ge*=ln);var Vt=he*he,tn=ge*ge,hn=(it==Ze?-1:1)*Et.sqrt(Nt((Vt*tn-Vt*Yt*Yt-tn*mn*mn)/(Vt*Yt*Yt+tn*mn*mn))),bt=hn*he*Yt/ge+(N+nt)/2,Kt=hn*-ge*mn/he+(q+dt)/2,pn=Et.asin(((q-Kt)/ge).toFixed(9)),vn=Et.asin(((dt-Kt)/ge).toFixed(9));0>(pn=bt>N?Ht-pn:pn)&&(pn=2*Ht+pn),0>(vn=bt>nt?Ht-vn:vn)&&(vn=2*Ht+vn),Ze&&pn>vn&&(pn-=2*Ht),!Ze&&vn>pn&&(vn-=2*Ht)}var ci=vn-pn;if(Nt(ci)>kt){var ni=vn,Qi=nt,tr=dt;nt=bt+he*Et.cos(vn=pn+kt*(Ze&&vn>pn?1:-1)),dt=Kt+ge*Et.sin(vn),At=Xr(nt,dt,he,ge,Ie,0,Ze,Qi,tr,[vn,ni,bt,Kt])}ci=vn-pn;var ji=Et.cos(pn),er=Et.sin(pn),Ui=Et.cos(vn),Ti=Et.sin(vn),ki=Et.tan(ci/4),Qn=4/3*he*ki,pr=4/3*ge*ki,Ki=[N,q],wr=[N+Qn*er,q-pr*ji],Sr=[nt+Qn*Ti,dt-pr*Ui],to=[nt,dt];if(wr[0]=2*Ki[0]-wr[0],wr[1]=2*Ki[1]-wr[1],mt)return[wr,Sr,to][qe](At);for(var zr=[],gr=0,Vn=(At=[wr,Sr,to][qe](At).join()[ze](",")).length;Vn>gr;gr++)zr[gr]=gr%2?Lt(At[gr-1],At[gr],Ct).y:Lt(At[gr],At[gr+1],Ct).x;return zr},An=function(N,q,he,ge,Ie,it,Ze,nt,dt){var mt=1-dt;return{x:en(mt,3)*N+3*en(mt,2)*dt*he+3*mt*dt*dt*Ie+en(dt,3)*Ze,y:en(mt,3)*q+3*en(mt,2)*dt*ge+3*mt*dt*dt*it+en(dt,3)*nt}},Fn=gt(function(N,q,he,ge,Ie,it,Ze,nt){var dt,mt=Ie-2*he+N-(Ze-2*Ie+he),It=2*(he-N)-2*(Ie-he),kt=N-he,Ct=(-It+Et.sqrt(It*It-4*mt*kt))/2/mt,At=(-It-Et.sqrt(It*It-4*mt*kt))/2/mt,Lt=[q,nt],mn=[N,Ze];return Nt(Ct)>"1e12"&&(Ct=.5),Nt(At)>"1e12"&&(At=.5),Ct>0&&1>Ct&&(dt=An(N,q,he,ge,Ie,it,Ze,nt,Ct),mn.push(dt.x),Lt.push(dt.y)),At>0&&1>At&&(dt=An(N,q,he,ge,Ie,it,Ze,nt,At),mn.push(dt.x),Lt.push(dt.y)),Ct=(-(It=2*(ge-q)-2*(it-ge))+Et.sqrt(It*It-4*(mt=it-2*ge+q-(nt-2*it+ge))*(kt=q-ge)))/2/mt,At=(-It-Et.sqrt(It*It-4*mt*kt))/2/mt,Nt(Ct)>"1e12"&&(Ct=.5),Nt(At)>"1e12"&&(At=.5),Ct>0&&1>Ct&&(dt=An(N,q,he,ge,Ie,it,Ze,nt,Ct),mn.push(dt.x),Lt.push(dt.y)),At>0&&1>At&&(dt=An(N,q,he,ge,Ie,it,Ze,nt,At),mn.push(dt.x),Lt.push(dt.y)),{min:{x:Tt[Oe](0,mn),y:Tt[Oe](0,Lt)},max:{x:Gt[Oe](0,mn),y:Gt[Oe](0,Lt)}}}),pi=Ve._path2curve=gt(function(N,q){var he=!q&&hr(N);if(!q&&he.curve)return Mr(he.curve);for(var ge=ao(N),Ie=q&&ao(q),it={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ze={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},nt=function(hn,bt,Kt){var pn,vn;if(!hn)return["C",bt.x,bt.y,bt.x,bt.y,bt.x,bt.y];switch(!(hn[0]in{T:1,Q:1})&&(bt.qx=bt.qy=null),hn[0]){case"M":bt.X=hn[1],bt.Y=hn[2];break;case"A":hn=["C"][qe](Xr[Oe](0,[bt.x,bt.y][qe](hn.slice(1))));break;case"S":"C"==Kt||"S"==Kt?(pn=2*bt.x-bt.bx,vn=2*bt.y-bt.by):(pn=bt.x,vn=bt.y),hn=["C",pn,vn][qe](hn.slice(1));break;case"T":"Q"==Kt||"T"==Kt?(bt.qx=2*bt.x-bt.qx,bt.qy=2*bt.y-bt.qy):(bt.qx=bt.x,bt.qy=bt.y),hn=["C"][qe](Yr(bt.x,bt.y,bt.qx,bt.qy,hn[1],hn[2]));break;case"Q":bt.qx=hn[1],bt.qy=hn[2],hn=["C"][qe](Yr(bt.x,bt.y,hn[1],hn[2],hn[3],hn[4]));break;case"L":hn=["C"][qe](Ar(bt.x,bt.y,hn[1],hn[2]));break;case"H":hn=["C"][qe](Ar(bt.x,bt.y,hn[1],bt.y));break;case"V":hn=["C"][qe](Ar(bt.x,bt.y,bt.x,hn[1]));break;case"Z":hn=["C"][qe](Ar(bt.x,bt.y,bt.X,bt.Y))}return hn},dt=function(hn,bt){if(hn[bt].length>7){hn[bt].shift();for(var Kt=hn[bt];Kt.length;)It[bt]="A",Ie&&(kt[bt]="A"),hn.splice(bt++,0,["C"][qe](Kt.splice(0,6)));hn.splice(bt,1),mn=Gt(ge.length,Ie&&Ie.length||0)}},mt=function(hn,bt,Kt,pn,vn){hn&&bt&&"M"==hn[vn][0]&&"M"!=bt[vn][0]&&(bt.splice(vn,0,["M",pn.x,pn.y]),Kt.bx=0,Kt.by=0,Kt.x=hn[vn][1],Kt.y=hn[vn][2],mn=Gt(ge.length,Ie&&Ie.length||0))},It=[],kt=[],Ct="",At="",Lt=0,mn=Gt(ge.length,Ie&&Ie.length||0);mn>Lt;Lt++){ge[Lt]&&(Ct=ge[Lt][0]),"C"!=Ct&&(It[Lt]=Ct,Lt&&(At=It[Lt-1])),ge[Lt]=nt(ge[Lt],it,At),"A"!=It[Lt]&&"C"==Ct&&(It[Lt]="C"),dt(ge,Lt),Ie&&(Ie[Lt]&&(Ct=Ie[Lt][0]),"C"!=Ct&&(kt[Lt]=Ct,Lt&&(At=kt[Lt-1])),Ie[Lt]=nt(Ie[Lt],Ze,At),"A"!=kt[Lt]&&"C"==Ct&&(kt[Lt]="C"),dt(Ie,Lt)),mt(ge,Ie,it,Ze,Lt),mt(Ie,ge,Ze,it,Lt);var Yt=ge[Lt],ln=Ie&&Ie[Lt],Vt=Yt.length,tn=Ie&&ln.length;it.x=Yt[Vt-2],it.y=Yt[Vt-1],it.bx=Oi(Yt[Vt-4])||it.x,it.by=Oi(Yt[Vt-3])||it.y,Ze.bx=Ie&&(Oi(ln[tn-4])||Ze.x),Ze.by=Ie&&(Oi(ln[tn-3])||Ze.y),Ze.x=Ie&&ln[tn-2],Ze.y=Ie&&ln[tn-1]}return Ie||(he.curve=Mr(ge)),Ie?[ge,Ie]:ge},null,Mr),ai=(Ve._parseDots=gt(function(N){for(var q=[],he=0,ge=N.length;ge>he;he++){var Ie={},it=N[he].match(/^([^:]*):?([\d\.]*)/);if(Ie.color=Ve.getRGB(it[1]),Ie.color.error)return null;Ie.opacity=Ie.color.opacity,Ie.color=Ie.color.hex,it[2]&&(Ie.offset=it[2]+"%"),q.push(Ie)}for(he=1,ge=q.length-1;ge>he;he++)if(!q[he].offset){for(var Ze=Oi(q[he-1].offset||0),nt=0,dt=he+1;ge>dt;dt++)if(q[dt].offset){nt=q[dt].offset;break}nt||(nt=100,dt=ge);for(var mt=((nt=Oi(nt))-Ze)/(dt-he+1);dt>he;he++)q[he].offset=(Ze+=mt)+"%"}return q}),Ve._tear=function(N,q){N==q.top&&(q.top=N.prev),N==q.bottom&&(q.bottom=N.next),N.next&&(N.next.prev=N.prev),N.prev&&(N.prev.next=N.next)}),Ei=(Ve._tofront=function(N,q){q.top!==N&&(ai(N,q),N.next=null,N.prev=q.top,q.top.next=N,q.top=N)},Ve._toback=function(N,q){q.bottom!==N&&(ai(N,q),N.next=q.bottom,N.prev=null,q.bottom.prev=N,q.bottom=N)},Ve._insertafter=function(N,q,he){ai(N,he),q==he.top&&(he.top=N),q.next&&(q.next.prev=N),N.next=q.next,N.prev=q,q.next=N},Ve._insertbefore=function(N,q,he){ai(N,he),q==he.bottom&&(he.bottom=N),q.prev&&(q.prev.next=N),N.prev=q.prev,q.prev=N,N.next=q},Ve.toMatrix=function(N,q){var he=dr(N),ge={_:{transform:We},getBBox:function(){return he}};return Ji(ge,q),ge.matrix}),Ji=(Ve.transformPath=function(N,q){return bi(N,Ei(N,q))},Ve._extractTransform=function(N,q){if(null==q)return N._.transform;q=xt(q).replace(/\.{3}|\u2026/g,N._.transform||We);var Ie,it,he=Ve.parseTransformString(q),ge=0,Ze=1,nt=1,dt=N._,mt=new w;if(dt.transform=he||[],he)for(var It=0,kt=he.length;kt>It;It++){var Ct,At,Lt,mn,Yt,ln=he[It],Vt=ln.length,tn=xt(ln[0]).toLowerCase(),hn=ln[0]!=tn,bt=hn?mt.invert():0;"t"==tn&&3==Vt?hn?(Ct=bt.x(0,0),At=bt.y(0,0),Lt=bt.x(ln[1],ln[2]),mn=bt.y(ln[1],ln[2]),mt.translate(Lt-Ct,mn-At)):mt.translate(ln[1],ln[2]):"r"==tn?2==Vt?(Yt=Yt||N.getBBox(1),mt.rotate(ln[1],Yt.x+Yt.width/2,Yt.y+Yt.height/2),ge+=ln[1]):4==Vt&&(hn?(Lt=bt.x(ln[2],ln[3]),mn=bt.y(ln[2],ln[3]),mt.rotate(ln[1],Lt,mn)):mt.rotate(ln[1],ln[2],ln[3]),ge+=ln[1]):"s"==tn?2==Vt||3==Vt?(Yt=Yt||N.getBBox(1),mt.scale(ln[1],ln[Vt-1],Yt.x+Yt.width/2,Yt.y+Yt.height/2),Ze*=ln[1],nt*=ln[Vt-1]):5==Vt&&(hn?(Lt=bt.x(ln[3],ln[4]),mn=bt.y(ln[3],ln[4]),mt.scale(ln[1],ln[2],Lt,mn)):mt.scale(ln[1],ln[2],ln[3],ln[4]),Ze*=ln[1],nt*=ln[2]):"m"==tn&&7==Vt&&mt.add(ln[1],ln[2],ln[3],ln[4],ln[5],ln[6]),dt.dirtyT=1,N.matrix=mt}N.matrix=mt,dt.sx=Ze,dt.sy=nt,dt.deg=ge,dt.dx=Ie=mt.e,dt.dy=it=mt.f,1==Ze&&1==nt&&!ge&&dt.bbox?(dt.bbox.x+=+Ie,dt.bbox.y+=+it):dt.dirtyT=1}),rr=function(N){var q=N[0];switch(q.toLowerCase()){case"t":return[q,0,0];case"m":return[q,1,0,0,1,0,0];case"r":return 4==N.length?[q,0,N[2],N[3]]:[q,0];case"s":return 5==N.length?[q,1,1,N[3],N[4]]:3==N.length?[q,1,1]:[q,1]}},or=Ve._equaliseTransform=function(N,q){q=xt(q).replace(/\.{3}|\u2026/g,N),N=Ve.parseTransformString(N)||[],q=Ve.parseTransformString(q)||[];for(var he,ge,Ie,it,Ze=Gt(N.length,q.length),nt=[],dt=[],mt=0;Ze>mt;mt++){if(Ie=N[mt]||rr(q[mt]),it=q[mt]||rr(Ie),Ie[0]!=it[0]||"r"==Ie[0].toLowerCase()&&(Ie[2]!=it[2]||Ie[3]!=it[3])||"s"==Ie[0].toLowerCase()&&(Ie[3]!=it[3]||Ie[4]!=it[4]))return;for(nt[mt]=[],dt[mt]=[],he=0,ge=Gt(Ie.length,it.length);ge>he;he++)he in Ie&&(nt[mt][he]=Ie[he]),he in it&&(dt[mt][he]=it[he])}return{from:nt,to:dt}};Ve._getContainer=function(N,q,he,ge){var Ie;return null!=(Ie=null!=ge||Ve.is(N,"object")?N:Te.doc.getElementById(N))?Ie.tagName?null==q?{container:Ie,width:Ie.style.pixelWidth||Ie.offsetWidth,height:Ie.style.pixelHeight||Ie.offsetHeight}:{container:Ie,width:q,height:he}:{container:1,x:N,y:q,width:he,height:ge}:void 0},Ve.pathToRelative=jr,Ve._engine={},Ve.path2curve=pi,Ve.matrix=function(N,q,he,ge,Ie,it){return new w(N,q,he,ge,Ie,it)},function(N){function q(ge){return ge[0]*ge[0]+ge[1]*ge[1]}function he(ge){var Ie=Et.sqrt(q(ge));ge[0]&&(ge[0]/=Ie),ge[1]&&(ge[1]/=Ie)}N.add=function(ge,Ie,it,Ze,nt,dt){var mt,It,kt,Ct,At=[[],[],[]],Lt=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],mn=[[ge,it,nt],[Ie,Ze,dt],[0,0,1]];for(ge&&ge instanceof w&&(mn=[[ge.a,ge.c,ge.e],[ge.b,ge.d,ge.f],[0,0,1]]),mt=0;3>mt;mt++)for(It=0;3>It;It++){for(Ct=0,kt=0;3>kt;kt++)Ct+=Lt[mt][kt]*mn[kt][It];At[mt][It]=Ct}this.a=At[0][0],this.b=At[1][0],this.c=At[0][1],this.d=At[1][1],this.e=At[0][2],this.f=At[1][2]},N.invert=function(){var ge=this,Ie=ge.a*ge.d-ge.b*ge.c;return new w(ge.d/Ie,-ge.b/Ie,-ge.c/Ie,ge.a/Ie,(ge.c*ge.f-ge.d*ge.e)/Ie,(ge.b*ge.e-ge.a*ge.f)/Ie)},N.clone=function(){return new w(this.a,this.b,this.c,this.d,this.e,this.f)},N.translate=function(ge,Ie){this.add(1,0,0,1,ge,Ie)},N.scale=function(ge,Ie,it,Ze){null==Ie&&(Ie=ge),(it||Ze)&&this.add(1,0,0,1,it,Ze),this.add(ge,0,0,Ie,0,0),(it||Ze)&&this.add(1,0,0,1,-it,-Ze)},N.rotate=function(ge,Ie,it){ge=Ve.rad(ge),Ie=Ie||0,it=it||0;var Ze=+Et.cos(ge).toFixed(9),nt=+Et.sin(ge).toFixed(9);this.add(Ze,nt,-nt,Ze,Ie,it),this.add(1,0,0,1,-Ie,-it)},N.x=function(ge,Ie){return ge*this.a+Ie*this.c+this.e},N.y=function(ge,Ie){return ge*this.b+Ie*this.d+this.f},N.get=function(ge){return+this[xt.fromCharCode(97+ge)].toFixed(4)},N.toString=function(){return Ve.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},N.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},N.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},N.split=function(){var ge={};ge.dx=this.e,ge.dy=this.f;var Ie=[[this.a,this.c],[this.b,this.d]];ge.scalex=Et.sqrt(q(Ie[0])),he(Ie[0]),ge.shear=Ie[0][0]*Ie[1][0]+Ie[0][1]*Ie[1][1],Ie[1]=[Ie[1][0]-Ie[0][0]*ge.shear,Ie[1][1]-Ie[0][1]*ge.shear],ge.scaley=Et.sqrt(q(Ie[1])),he(Ie[1]),ge.shear/=ge.scaley;var it=-Ie[0][1],Ze=Ie[1][1];return 0>Ze?(ge.rotate=Ve.deg(Et.acos(Ze)),0>it&&(ge.rotate=360-ge.rotate)):ge.rotate=Ve.deg(Et.asin(it)),ge.isSimple=!(+ge.shear.toFixed(9)||ge.scalex.toFixed(9)!=ge.scaley.toFixed(9)&&ge.rotate),ge.isSuperSimple=!+ge.shear.toFixed(9)&&ge.scalex.toFixed(9)==ge.scaley.toFixed(9)&&!ge.rotate,ge.noRotation=!+ge.shear.toFixed(9)&&!ge.rotate,ge},N.toTransformString=function(ge){var Ie=ge||this[ze]();return Ie.isSimple?(Ie.scalex=+Ie.scalex.toFixed(4),Ie.scaley=+Ie.scaley.toFixed(4),Ie.rotate=+Ie.rotate.toFixed(4),(Ie.dx||Ie.dy?"t"+[Ie.dx,Ie.dy]:We)+(1!=Ie.scalex||1!=Ie.scaley?"s"+[Ie.scalex,Ie.scaley,0,0]:We)+(Ie.rotate?"r"+[Ie.rotate,0,0]:We)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(w.prototype);for(var Hi=function(){this.returnValue=!1},Fi=function(){return this.originalEvent.preventDefault()},yr=function(){this.cancelBubble=!0},ir=function(){return this.originalEvent.stopPropagation()},_r=function(N){return{x:N.clientX+(Te.doc.documentElement.scrollLeft||Te.doc.body.scrollLeft),y:N.clientY+(Te.doc.documentElement.scrollTop||Te.doc.body.scrollTop)}},Ur=Te.doc.addEventListener?function(N,q,he,ge){var Ie=function(Ze){var nt=_r(Ze);return he.call(ge,Ze,nt.x,nt.y)};if(N.addEventListener(q,Ie,!1),xe&&Je[q]){var it=function(Ze){for(var nt=_r(Ze),dt=Ze,mt=0,It=Ze.targetTouches&&Ze.targetTouches.length;It>mt;mt++)if(Ze.targetTouches[mt].target==N){(Ze=Ze.targetTouches[mt]).originalEvent=dt,Ze.preventDefault=Fi,Ze.stopPropagation=ir;break}return he.call(ge,Ze,nt.x,nt.y)};N.addEventListener(Je[q],it,!1)}return function(){return N.removeEventListener(q,Ie,!1),xe&&Je[q]&&N.removeEventListener(Je[q],it,!1),!0}}:Te.doc.attachEvent?function(N,q,he,ge){var Ie=function(Ze){var mt=(Ze=Ze||Te.win.event).clientX+(Te.doc.documentElement.scrollLeft||Te.doc.body.scrollLeft),It=Ze.clientY+(Te.doc.documentElement.scrollTop||Te.doc.body.scrollTop);return Ze.preventDefault=Ze.preventDefault||Hi,Ze.stopPropagation=Ze.stopPropagation||yr,he.call(ge,Ze,mt,It)};return N.attachEvent("on"+q,Ie),function(){return N.detachEvent("on"+q,Ie),!0}}:void 0,Ir=[],kr=function(N){for(var q,he=N.clientX,ge=N.clientY,Ie=Te.doc.documentElement.scrollTop||Te.doc.body.scrollTop,it=Te.doc.documentElement.scrollLeft||Te.doc.body.scrollLeft,Ze=Ir.length;Ze--;){if(q=Ir[Ze],xe&&N.touches){for(var nt,dt=N.touches.length;dt--;)if((nt=N.touches[dt]).identifier==q.el._drag.id){he=nt.clientX,ge=nt.clientY,(N.originalEvent?N.originalEvent:N).preventDefault();break}}else N.preventDefault();var mt,It=q.el.node,kt=It.nextSibling,Ct=It.parentNode,At=It.style.display;Te.win.opera&&Ct.removeChild(It),It.style.display="none",mt=q.el.paper.getElementByPoint(he,ge),It.style.display=At,Te.win.opera&&(kt?Ct.insertBefore(It,kt):Ct.appendChild(It)),mt&&ke("raphael.drag.over."+q.el.id,q.el,mt),ke("raphael.drag.move."+q.el.id,q.move_scope||q.el,(he+=it)-q.el._drag.x,(ge+=Ie)-q.el._drag.y,he,ge,N)}},Ci=function(N){Ve.unmousemove(kr).unmouseup(Ci);for(var q,he=Ir.length;he--;)(q=Ir[he]).el._drag={},ke("raphael.drag.end."+q.el.id,q.end_scope||q.start_scope||q.move_scope||q.el,N);Ir=[]},fr=Ve.el={},so=Xe.length;so--;)!function(N){Ve[N]=fr[N]=function(q,he){return Ve.is(q,"function")&&(this.events=this.events||[],this.events.push({name:N,f:q,unbind:Ur(this.shape||this.node||Te.doc,N,q,he||this)})),this},Ve["un"+N]=fr["un"+N]=function(q){for(var he=this.events||[],ge=he.length;ge--;)he[ge].name!=N||!Ve.is(q,"undefined")&&he[ge].f!=q||(he[ge].unbind(),he.splice(ge,1),!he.length&&delete this.events);return this}}(Xe[so]);fr.data=function(N,q){var he=Cn[this.id]=Cn[this.id]||{};if(0==arguments.length)return he;if(1==arguments.length){if(Ve.is(N,"object")){for(var ge in N)N[ye](ge)&&this.data(ge,N[ge]);return this}return ke("raphael.data.get."+this.id,this,he[N],N),he[N]}return he[N]=q,ke("raphael.data.set."+this.id,this,q,N),this},fr.removeData=function(N){return null==N?Cn[this.id]={}:Cn[this.id]&&delete Cn[this.id][N],this},fr.getData=function(){return an(Cn[this.id]||{})},fr.hover=function(N,q,he,ge){return this.mouseover(N,he).mouseout(q,ge||he)},fr.unhover=function(N,q){return this.unmouseover(N).unmouseout(q)};var yo=[];fr.drag=function(N,q,he,ge,Ie,it){function Ze(nt){(nt.originalEvent||nt).preventDefault();var dt=nt.clientX,mt=nt.clientY,It=Te.doc.documentElement.scrollTop||Te.doc.body.scrollTop,kt=Te.doc.documentElement.scrollLeft||Te.doc.body.scrollLeft;if(this._drag.id=nt.identifier,xe&&nt.touches)for(var Ct,At=nt.touches.length;At--;)if(this._drag.id=(Ct=nt.touches[At]).identifier,Ct.identifier==this._drag.id){dt=Ct.clientX,mt=Ct.clientY;break}this._drag.x=dt+kt,this._drag.y=mt+It,!Ir.length&&Ve.mousemove(kr).mouseup(Ci),Ir.push({el:this,move_scope:ge,start_scope:Ie,end_scope:it}),q&&ke.on("raphael.drag.start."+this.id,q),N&&ke.on("raphael.drag.move."+this.id,N),he&&ke.on("raphael.drag.end."+this.id,he),ke("raphael.drag.start."+this.id,Ie||ge||this,nt.clientX+kt,nt.clientY+It,nt)}return this._drag={},yo.push({el:this,start:Ze}),this.mousedown(Ze),this},fr.onDragOver=function(N){N?ke.on("raphael.drag.over."+this.id,N):ke.unbind("raphael.drag.over."+this.id)},fr.undrag=function(){for(var N=yo.length;N--;)yo[N].el==this&&(this.unmousedown(yo[N].start),yo.splice(N,1),ke.unbind("raphael.drag.*."+this.id));!yo.length&&Ve.unmousemove(kr).unmouseup(Ci),Ir=[]},Ae.circle=function(N,q,he){var ge=Ve._engine.circle(this,N||0,q||0,he||0);return this.__set__&&this.__set__.push(ge),ge},Ae.rect=function(N,q,he,ge,Ie){var it=Ve._engine.rect(this,N||0,q||0,he||0,ge||0,Ie||0);return this.__set__&&this.__set__.push(it),it},Ae.ellipse=function(N,q,he,ge){var Ie=Ve._engine.ellipse(this,N||0,q||0,he||0,ge||0);return this.__set__&&this.__set__.push(Ie),Ie},Ae.path=function(N){N&&!Ve.is(N,gn)&&!Ve.is(N[0],zn)&&(N+=We);var q=Ve._engine.path(Ve.format[Oe](Ve,arguments),this);return this.__set__&&this.__set__.push(q),q},Ae.image=function(N,q,he,ge,Ie){var it=Ve._engine.image(this,N||"about:blank",q||0,he||0,ge||0,Ie||0);return this.__set__&&this.__set__.push(it),it},Ae.text=function(N,q,he){var ge=Ve._engine.text(this,N||0,q||0,xt(he));return this.__set__&&this.__set__.push(ge),ge},Ae.set=function(N){!Ve.is(N,"array")&&(N=Array.prototype.splice.call(arguments,0,arguments.length));var q=new De(N);return this.__set__&&this.__set__.push(q),q.paper=this,q.type="set",q},Ae.setStart=function(N){this.__set__=N||this.set()},Ae.setFinish=function(N){var q=this.__set__;return delete this.__set__,q},Ae.getSize=function(){var N=this.canvas.parentNode;return{width:N.offsetWidth,height:N.offsetHeight}},Ae.setSize=function(N,q){return Ve._engine.setSize.call(this,N,q)},Ae.setViewBox=function(N,q,he,ge,Ie){return Ve._engine.setViewBox.call(this,N,q,he,ge,Ie)},Ae.top=Ae.bottom=null,Ae.raphael=Ve,Ae.getElementByPoint=function(N,q){var ge=this.canvas,Ie=Te.doc.elementFromPoint(N,q);if(Te.win.opera&&"svg"==Ie.tagName){var it=function(N){var q=N.getBoundingClientRect(),he=N.ownerDocument,ge=he.body,Ie=he.documentElement;return{y:q.top+(Te.win.pageYOffset||Ie.scrollTop||ge.scrollTop)-(Ie.clientTop||ge.clientTop||0),x:q.left+(Te.win.pageXOffset||Ie.scrollLeft||ge.scrollLeft)-(Ie.clientLeft||ge.clientLeft||0)}}(ge),Ze=ge.createSVGRect();Ze.x=N-it.x,Ze.y=q-it.y,Ze.width=Ze.height=1;var nt=ge.getIntersectionList(Ze,null);nt.length&&(Ie=nt[nt.length-1])}if(!Ie)return null;for(;Ie.parentNode&&Ie!=ge.parentNode&&!Ie.raphael;)Ie=Ie.parentNode;return Ie==this.canvas.parentNode&&(Ie=ge),Ie&&Ie.raphael?this.getById(Ie.raphaelid):null},Ae.getElementsByBBox=function(N){var q=this.set();return this.forEach(function(he){Ve.isBBoxIntersect(he.getBBox(),N)&&q.push(he)}),q},Ae.getById=function(N){for(var q=this.bottom;q;){if(q.id==N)return q;q=q.next}return null},Ae.forEach=function(N,q){for(var he=this.bottom;he;){if(!1===N.call(q,he))return this;he=he.next}return this},Ae.getElementsByPoint=function(N,q){var he=this.set();return this.forEach(function(ge){ge.isPointInside(N,q)&&he.push(ge)}),he},fr.isPointInside=function(N,q){var he=this.realPath=Jn[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(he=Ve.transformPath(he,this.attr("transform"))),Ve.isPointInsidePath(he,N,q)},fr.getBBox=function(N){if(this.removed)return{};var q=this._;return N?((q.dirty||!q.bboxwt)&&(this.realPath=Jn[this.type](this),q.bboxwt=dr(this.realPath),q.bboxwt.toString=O,q.dirty=0),q.bboxwt):((q.dirty||q.dirtyT||!q.bbox)&&((q.dirty||!this.realPath)&&(q.bboxwt=0,this.realPath=Jn[this.type](this)),q.bbox=dr(bi(this.realPath,this.matrix)),q.bbox.toString=O,q.dirty=q.dirtyT=0),q.bbox)},fr.clone=function(){if(this.removed)return null;var N=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(N),N},fr.glow=function(N){if("text"==this.type)return null;var q={width:((N=N||{}).width||10)+(+this.attr("stroke-width")||1),fill:N.fill||!1,opacity:null==N.opacity?.5:N.opacity,offsetx:N.offsetx||0,offsety:N.offsety||0,color:N.color||"#000"},he=q.width/2,ge=this.paper,Ie=ge.set(),it=this.realPath||Jn[this.type](this);it=this.matrix?bi(it,this.matrix):it;for(var Ze=1;he+1>Ze;Ze++)Ie.push(ge.path(it).attr({stroke:q.color,fill:q.fill?q.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(q.width/he*Ze).toFixed(3),opacity:+(q.opacity/he).toFixed(3)}));return Ie.insertBefore(this).translate(q.offsetx,q.offsety)};var Qr=function(N,q,he,ge,Ie,it,Ze,nt,dt){return null==dt?j(N,q,he,ge,Ie,it,Ze,nt):Ve.findDotsAtSegment(N,q,he,ge,Ie,it,Ze,nt,function m(N,q,he,ge,Ie,it,Ze,nt,dt){if(!(0>dt||j(N,q,he,ge,Ie,it,Ze,nt)<dt)){var mt,kt=.5,Ct=1-kt;for(mt=j(N,q,he,ge,Ie,it,Ze,nt,Ct);Nt(mt-dt)>.01;)mt=j(N,q,he,ge,Ie,it,Ze,nt,Ct+=(dt>mt?1:-1)*(kt/=2));return Ct}}(N,q,he,ge,Ie,it,Ze,nt,dt))},Co=function(N,q){return function(he,ge,Ie){for(var it,Ze,nt,dt,mt,It="",kt={},Ct=0,At=0,Lt=(he=pi(he)).length;Lt>At;At++){if("M"==(nt=he[At])[0])it=+nt[1],Ze=+nt[2];else{if(Ct+(dt=Qr(it,Ze,nt[1],nt[2],nt[3],nt[4],nt[5],nt[6]))>ge){if(q&&!kt.start){if(It+=["C"+(mt=Qr(it,Ze,nt[1],nt[2],nt[3],nt[4],nt[5],nt[6],ge-Ct)).start.x,mt.start.y,mt.m.x,mt.m.y,mt.x,mt.y],Ie)return It;kt.start=It,It=["M"+mt.x,mt.y+"C"+mt.n.x,mt.n.y,mt.end.x,mt.end.y,nt[5],nt[6]].join(),Ct+=dt,it=+nt[5],Ze=+nt[6];continue}if(!N&&!q)return{x:(mt=Qr(it,Ze,nt[1],nt[2],nt[3],nt[4],nt[5],nt[6],ge-Ct)).x,y:mt.y,alpha:mt.alpha}}Ct+=dt,it=+nt[5],Ze=+nt[6]}It+=nt.shift()+nt}return kt.end=It,(mt=N?Ct:q?kt:Ve.findDotsAtSegment(it,Ze,nt[0],nt[1],nt[2],nt[3],nt[4],nt[5],1)).alpha&&(mt={x:mt.x,y:mt.y,alpha:mt.alpha}),mt}},Xo=Co(1),oa=Co(),Lo=Co(0,1);Ve.getTotalLength=Xo,Ve.getPointAtLength=oa,Ve.getSubpath=function(N,q,he){if(this.getTotalLength(N)-he<1e-6)return Lo(N,q).end;var ge=Lo(N,he,1);return q?Lo(ge,q).end:ge},fr.getTotalLength=function(){var N=this.getPath();if(N)return this.node.getTotalLength?this.node.getTotalLength():Xo(N)},fr.getPointAtLength=function(N){var q=this.getPath();if(q)return oa(q,N)},fr.getPath=function(){var N,q=Ve._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return q&&(N=q(this)),N},fr.getSubpath=function(N,q){var he=this.getPath();if(he)return Ve.getSubpath(he,N,q)};var Kr=Ve.easing_formulas={linear:function(N){return N},"<":function(N){return en(N,1.7)},">":function(N){return en(N,.48)},"<>":function(N){var q=.48-N/1.04,he=Et.sqrt(.1734+q*q),ge=he-q,it=-he-q,nt=en(Nt(ge),1/3)*(0>ge?-1:1)+en(Nt(it),1/3)*(0>it?-1:1)+.5;return 3*(1-nt)*nt*nt+nt*nt*nt},backIn:function(N){var q=1.70158;return N*N*((q+1)*N-q)},backOut:function(N){var q=1.70158;return(N-=1)*N*((q+1)*N+q)+1},elastic:function(N){return N==!!N?N:en(2,-10*N)*Et.sin(2*(N-.075)*Ht/.3)+1},bounce:function(N){var he=7.5625,ge=2.75;return 1/ge>N?he*N*N:2/ge>N?he*(N-=1.5/ge)*N+.75:2.5/ge>N?he*(N-=2.25/ge)*N+.9375:he*(N-=2.625/ge)*N+.984375}};Kr.easeIn=Kr["ease-in"]=Kr["<"],Kr.easeOut=Kr["ease-out"]=Kr[">"],Kr.easeInOut=Kr["ease-in-out"]=Kr["<>"],Kr["back-in"]=Kr.backIn,Kr["back-out"]=Kr.backOut;var Yi=[],Zr=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(N){setTimeout(N,16)},go=function(){for(var N=+new Date,q=0;q<Yi.length;q++){var he=Yi[q];if(!he.el.removed&&!he.paused){var ge,Ie,it=N-he.start,Ze=he.ms,nt=he.easing,dt=he.from,mt=he.diff,It=he.to,kt=he.el,Ct={},At={};if(he.initstatus?(it=(he.initstatus*he.anim.top-he.prev)/(he.percent-he.prev)*Ze,he.status=he.initstatus,delete he.initstatus,he.stop&&Yi.splice(q--,1)):he.status=(he.prev+it/Ze*(he.percent-he.prev))/he.anim.top,!(0>it))if(Ze>it){var Lt=nt(it/Ze);for(var mn in dt)if(dt[ye](mn)){switch(Wn[mn]){case Mn:ge=+dt[mn]+Lt*Ze*mt[mn];break;case"colour":ge="rgb("+[X(gi(dt[mn].r+Lt*Ze*mt[mn].r)),X(gi(dt[mn].g+Lt*Ze*mt[mn].g)),X(gi(dt[mn].b+Lt*Ze*mt[mn].b))].join(",")+")";break;case"path":ge=[];for(var Yt=0,ln=dt[mn].length;ln>Yt;Yt++){ge[Yt]=[dt[mn][Yt][0]];for(var Vt=1,tn=dt[mn][Yt].length;tn>Vt;Vt++)ge[Yt][Vt]=+dt[mn][Yt][Vt]+Lt*Ze*mt[mn][Yt][Vt];ge[Yt]=ge[Yt].join(et)}ge=ge.join(et);break;case"transform":if(mt[mn].real)for(ge=[],Yt=0,ln=dt[mn].length;ln>Yt;Yt++)for(ge[Yt]=[dt[mn][Yt][0]],Vt=1,tn=dt[mn][Yt].length;tn>Vt;Vt++)ge[Yt][Vt]=dt[mn][Yt][Vt]+Lt*Ze*mt[mn][Yt][Vt];else{var hn=function(Kt){return+dt[mn][Kt]+Lt*Ze*mt[mn][Kt]};ge=[["m",hn(0),hn(1),hn(2),hn(3),hn(4),hn(5)]]}break;case"csv":if("clip-rect"==mn)for(ge=[],Yt=4;Yt--;)ge[Yt]=+dt[mn][Yt]+Lt*Ze*mt[mn][Yt];break;default:var bt=[][qe](dt[mn]);for(ge=[],Yt=kt.paper.customAttributes[mn].length;Yt--;)ge[Yt]=+bt[Yt]+Lt*Ze*mt[mn][Yt]}Ct[mn]=ge}kt.attr(Ct),function(Kt,pn,vn){setTimeout(function(){ke("raphael.anim.frame."+Kt,pn,vn)})}(kt.id,kt,he.anim)}else{if(function(Kt,pn,vn){setTimeout(function(){ke("raphael.anim.frame."+pn.id,pn,vn),ke("raphael.anim.finish."+pn.id,pn,vn),Ve.is(Kt,"function")&&Kt.call(pn)})}(he.callback,kt,he.anim),kt.attr(It),Yi.splice(q--,1),he.repeat>1&&!he.next){for(Ie in It)It[ye](Ie)&&(At[Ie]=he.totalOrigin[Ie]);he.el.attr(At),fe(he.anim,he.el,he.anim.percents[0],null,he.totalOrigin,he.repeat-1)}he.next&&!he.stop&&fe(he.anim,he.el,he.next,null,he.totalOrigin,he.repeat)}}}Yi.length&&Zr(go)},X=function(N){return N>255?255:0>N?0:N};fr.animateWith=function(N,q,he,ge,Ie,it){var Ze=this;if(Ze.removed)return it&&it.call(Ze),Ze;var nt=he instanceof oe?he:Ve.animation(he,ge,Ie,it);fe(nt,Ze,nt.percents[0],null,Ze.attr());for(var dt=0,mt=Yi.length;mt>dt;dt++)if(Yi[dt].anim==q&&Yi[dt].el==N){Yi[mt-1].start=Yi[dt].start;break}return Ze},fr.onAnimation=function(N){return N?ke.on("raphael.anim.frame."+this.id,N):ke.unbind("raphael.anim.frame."+this.id),this},oe.prototype.delay=function(N){var q=new oe(this.anim,this.ms);return q.times=this.times,q.del=+N||0,q},oe.prototype.repeat=function(N){var q=new oe(this.anim,this.ms);return q.del=this.del,q.times=Et.floor(Gt(N,0))||1,q},Ve.animation=function(N,q,he,ge){if(N instanceof oe)return N;(Ve.is(he,"function")||!he)&&(ge=ge||he||null,he=null),N=Object(N),q=+q||0;var Ie,it,Ze={};for(it in N)N[ye](it)&&Oi(it)!=it&&Oi(it)+"%"!=it&&(Ie=!0,Ze[it]=N[it]);if(Ie)return he&&(Ze.easing=he),ge&&(Ze.callback=ge),new oe({100:Ze},q);if(ge){var nt=0;for(var dt in N){var mt=bn(dt);N[ye](dt)&&mt>nt&&(nt=mt)}!N[nt+="%"].callback&&(N[nt].callback=ge)}return new oe(N,q)},fr.animate=function(N,q,he,ge){var Ie=this;if(Ie.removed)return ge&&ge.call(Ie),Ie;var it=N instanceof oe?N:Ve.animation(N,q,he,ge);return fe(it,Ie,it.percents[0],null,Ie.attr()),Ie},fr.setTime=function(N,q){return N&&null!=q&&this.status(N,Tt(q,N.ms)/N.ms),this},fr.status=function(N,q){var he,ge,Ie=[],it=0;if(null!=q)return fe(N,this,-1,Tt(q,1)),this;for(he=Yi.length;he>it;it++)if((ge=Yi[it]).el.id==this.id&&(!N||ge.anim==N)){if(N)return ge.status;Ie.push({anim:ge.anim,status:ge.status})}return N?0:Ie},fr.pause=function(N){for(var q=0;q<Yi.length;q++)Yi[q].el.id!=this.id||N&&Yi[q].anim!=N||!1!==ke("raphael.anim.pause."+this.id,this,Yi[q].anim)&&(Yi[q].paused=!0);return this},fr.resume=function(N){for(var q=0;q<Yi.length;q++)if(Yi[q].el.id==this.id&&(!N||Yi[q].anim==N)){var he=Yi[q];!1!==ke("raphael.anim.resume."+this.id,this,he.anim)&&(delete he.paused,this.status(he.anim,he.status))}return this},fr.stop=function(N){for(var q=0;q<Yi.length;q++)Yi[q].el.id!=this.id||N&&Yi[q].anim!=N||!1!==ke("raphael.anim.stop."+this.id,this,Yi[q].anim)&&Yi.splice(q--,1);return this},ke.on("raphael.remove",ue),ke.on("raphael.clear",ue),fr.toString=function(){return"Rapha\xebl\u2019s object"};var De=function(N){if(this.items=[],this.length=0,this.type="set",N)for(var q=0,he=N.length;he>q;q++)!N[q]||N[q].constructor!=fr.constructor&&N[q].constructor!=De||(this[this.items.length]=this.items[this.items.length]=N[q],this.length++)},Ee=De.prototype;for(var Qe in Ee.push=function(){for(var N,q,he=0,ge=arguments.length;ge>he;he++)!(N=arguments[he])||N.constructor!=fr.constructor&&N.constructor!=De||(this[q=this.items.length]=this.items[q]=N,this.length++);return this},Ee.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Ee.forEach=function(N,q){for(var he=0,ge=this.items.length;ge>he;he++)if(!1===N.call(q,this.items[he],he))return this;return this},fr)fr[ye](Qe)&&(Ee[Qe]=function(N){return function(){var q=arguments;return this.forEach(function(he){he[N][Oe](he,q)})}}(Qe));return Ee.attr=function(N,q){if(N&&Ve.is(N,zn)&&Ve.is(N[0],"object"))for(var he=0,ge=N.length;ge>he;he++)this.items[he].attr(N[he]);else for(var Ie=0,it=this.items.length;it>Ie;Ie++)this.items[Ie].attr(N,q);return this},Ee.clear=function(){for(;this.length;)this.pop()},Ee.splice=function(N,q,he){N=0>N?Gt(this.length+N,0):N,q=Gt(0,Tt(this.length-N,q));var ge,Ie=[],it=[],Ze=[];for(ge=2;ge<arguments.length;ge++)Ze.push(arguments[ge]);for(ge=0;q>ge;ge++)it.push(this[N+ge]);for(;ge<this.length-N;ge++)Ie.push(this[N+ge]);var nt=Ze.length;for(ge=0;ge<nt+Ie.length;ge++)this.items[N+ge]=this[N+ge]=nt>ge?Ze[ge]:Ie[ge-nt];for(ge=this.items.length=this.length-=q-nt;this[ge];)delete this[ge++];return new De(it)},Ee.exclude=function(N){for(var q=0,he=this.length;he>q;q++)if(this[q]==N)return this.splice(q,1),!0},Ee.animate=function(N,q,he,ge){(Ve.is(he,"function")||!he)&&(ge=he||null);var Ie,it,Ze=this.items.length,nt=Ze,dt=this;if(!Ze)return this;ge&&(it=function(){!--Ze&&ge.call(dt)}),he=Ve.is(he,gn)?he:it;var mt=Ve.animation(N,q,he,it);for(Ie=this.items[--nt].animate(mt);nt--;)this.items[nt]&&!this.items[nt].removed&&this.items[nt].animateWith(Ie,mt,mt),this.items[nt]&&!this.items[nt].removed||Ze--;return this},Ee.insertAfter=function(N){for(var q=this.items.length;q--;)this.items[q].insertAfter(N);return this},Ee.getBBox=function(){for(var N=[],q=[],he=[],ge=[],Ie=this.items.length;Ie--;)if(!this.items[Ie].removed){var it=this.items[Ie].getBBox();N.push(it.x),q.push(it.y),he.push(it.x+it.width),ge.push(it.y+it.height)}return{x:N=Tt[Oe](0,N),y:q=Tt[Oe](0,q),x2:he=Gt[Oe](0,he),y2:ge=Gt[Oe](0,ge),width:he-N,height:ge-q}},Ee.clone=function(N){N=this.paper.set();for(var q=0,he=this.items.length;he>q;q++)N.push(this.items[q].clone());return N},Ee.toString=function(){return"Rapha\xebl\u2018s set"},Ee.glow=function(N){var q=this.paper.set();return this.forEach(function(he,ge){he.glow(N)?.forEach(function(it,Ze){q.push(it)})}),q},Ee.isPointInside=function(N,q){var he=!1;return this.forEach(function(ge){return ge.isPointInside(N,q)?(he=!0,!1):void 0}),he},Ve.registerFont=function(N){if(!N.face)return N;this.fonts=this.fonts||{};var q={w:N.w,face:{},glyphs:{}},he=N.face["font-family"];for(var ge in N.face)N.face[ye](ge)&&(q.face[ge]=N.face[ge]);if(this.fonts[he]?this.fonts[he].push(q):this.fonts[he]=[q],!N.svg)for(var Ie in q.face["units-per-em"]=bn(N.face["units-per-em"],10),N.glyphs)if(N.glyphs[ye](Ie)){var it=N.glyphs[Ie];if(q.glyphs[Ie]={w:it.w,k:{},d:it.d&&"M"+it.d.replace(/[mlcxtrv]/g,function(nt){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[nt]||"M"})+"z"},it.k)for(var Ze in it.k)it[ye](Ze)&&(q.glyphs[Ie].k[Ze]=it.k[Ze])}return N},Ae.getFont=function(N,q,he,ge){if(ge=ge||"normal",he=he||"normal",q=+q||{normal:400,bold:700,lighter:300,bolder:800}[q]||400,Ve.fonts){var nt,Ie=Ve.fonts[N];if(!Ie){var it=new RegExp("(^|\\s)"+N.replace(/[^\w\d\s+!~.:_-]/g,We)+"(\\s|$)","i");for(var Ze in Ve.fonts)if(Ve.fonts[ye](Ze)&&it.test(Ze)){Ie=Ve.fonts[Ze];break}}if(Ie)for(var dt=0,mt=Ie.length;mt>dt&&((nt=Ie[dt]).face["font-weight"]!=q||nt.face["font-style"]!=he&&nt.face["font-style"]||nt.face["font-stretch"]!=ge);dt++);return nt}},Ae.print=function(N,q,he,ge,Ie,it,Ze,nt){it=it||"middle",Ze=Gt(Tt(Ze||0,1),-1),nt=Gt(Tt(nt||1,3),1);var dt,mt=xt(he)[ze](We),It=0,kt=0,Ct=We;if(Ve.is(ge,"string")&&(ge=this.getFont(ge)),ge){dt=(Ie||16)/ge.face["units-per-em"];for(var At=ge.face.bbox[ze](Ke),Lt=+At[0],mn=At[3]-At[1],Yt=0,ln=+At[1]+("baseline"==it?mn+ +ge.face.descent:mn/2),Vt=0,tn=mt.length;tn>Vt;Vt++){if("\n"==mt[Vt])It=0,bt=0,kt=0,Yt+=mn*nt;else{var hn=kt&&ge.glyphs[mt[Vt-1]]||{},bt=ge.glyphs[mt[Vt]];It+=kt?(hn.w||ge.w)+(hn.k&&hn.k[mt[Vt]]||0)+ge.w*Ze:0,kt=1}bt&&bt.d&&(Ct+=Ve.transformPath(bt.d,["t",It*dt,Yt*dt,"s",dt,dt,Lt,ln,"t",(N-Lt)/dt,(q-ln)/dt]))}}return this.path(Ct).attr({fill:"#000",stroke:"none"})},Ae.add=function(N){if(Ve.is(N,"array"))for(var q,he=this.set(),ge=0,Ie=N.length;Ie>ge;ge++)L[ye]((q=N[ge]||{}).type)&&he.push(this[q.type]().attr(q));return he},Ve.format=function(N,q){var he=Ve.is(q,zn)?[0][qe](q):arguments;return N&&Ve.is(N,gn)&&he.length-1&&(N=N.replace(Ge,function(ge,Ie){return null==he[++Ie]?We:he[Ie]})),N||We},Ve.fullfill=function(){var N=/\{([^\}]+)\}/g,q=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;return function(ge,Ie){return String(ge).replace(N,function(it,Ze){return function(ge,Ie,it){var Ze=it;return Ie.replace(q,function(nt,dt,mt,It,kt){dt=dt||It,Ze&&(dt in Ze&&(Ze=Ze[dt]),"function"==typeof Ze&&kt&&(Ze=Ze()))}),Ze=(null==Ze||Ze==it?ge:Ze)+""}(it,Ze,Ie)})}}(),Ve.ninja=function(){return Ue.was?Te.win.Raphael=Ue.is:delete Raphael,Ve},Ve.st=Ee,ke.on("raphael.DOMload",function(){be=!0}),function(N,q,he){null==N.readyState&&N.addEventListener&&(N.addEventListener(q,he=function(){N.removeEventListener(q,he,!1),N.readyState="complete"},!1),N.readyState="loading"),function ge(){/in/.test(N.readyState)?setTimeout(ge,9):Ve.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),Ve}),function(ke,Ve){"function"==typeof define&&define.amd?define("raphael.svg",["raphael.core"],function(an){return Ve(an)}):Ve("object"==typeof exports?require("./raphael.core"):ke.Raphael)}(this,function(ke){if(!ke||ke.svg){var Ve="hasOwnProperty",an=String,Ne=parseFloat,gt=parseInt,de=Math,ve=de.max,J=de.abs,j=de.pow,m=/[, ]+/,y=ke.eve,D="",B=" ",w="http://www.w3.org/1999/xlink",O={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},U={};ke.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var oe=function(xe,We){if(We)for(var et in"string"==typeof xe&&(xe=oe(xe)),We)We[Ve](et)&&("xlink:"==et.substring(0,6)?xe.setAttributeNS(w,et.substring(6),an(We[et])):xe.setAttribute(et,an(We[et])));else(xe=ke._g.doc.createElementNS("http://www.w3.org/2000/svg",xe)).style&&(xe.style.webkitTapHighlightColor="rgba(0,0,0,0)");return xe},fe=function(xe,We){var et="linear",xt=xe.id+We,ze=.5,Xe=.5,Je=xe.node,st=xe.paper,Et=Je.style,Gt=ke._g.doc.getElementById(xt);if(!Gt){if(We=(We=an(We).replace(ke._radial_gradient,function(zn,xi,_i){if(et="radial",xi&&_i){ze=Ne(xi);var mi=2*((Xe=Ne(_i))>.5)-1;j(ze-.5,2)+j(Xe-.5,2)>.25&&(Xe=de.sqrt(.25-j(ze-.5,2))*mi+.5)&&.5!=Xe&&(Xe=Xe.toFixed(5)-1e-5*mi)}return D})).split(/\s*\-\s*/),"linear"==et){var Tt=We.shift();if(Tt=-Ne(Tt),isNaN(Tt))return null;var Nt=[0,0,de.cos(ke.rad(Tt)),de.sin(ke.rad(Tt))],en=1/(ve(J(Nt[2]),J(Nt[3]))||1);Nt[2]*=en,Nt[3]*=en,Nt[2]<0&&(Nt[0]=-Nt[2],Nt[2]=0),Nt[3]<0&&(Nt[1]=-Nt[3],Nt[3]=0)}var Ht=ke._parseDots(We);if(!Ht)return null;if(xt=xt.replace(/[\(\)\s,\xb0#]/g,"_"),xe.gradient&&xt!=xe.gradient.id&&(st.defs.removeChild(xe.gradient),delete xe.gradient),!xe.gradient){Gt=oe(et+"Gradient",{id:xt}),xe.gradient=Gt,oe(Gt,"radial"==et?{fx:ze,fy:Xe}:{x1:Nt[0],y1:Nt[1],x2:Nt[2],y2:Nt[3],gradientTransform:xe.matrix.invert()}),st.defs.appendChild(Gt);for(var Mn=0,gn=Ht.length;gn>Mn;Mn++)Gt.appendChild(oe("stop",{offset:Ht[Mn].offset?Ht[Mn].offset:Mn?"100%":"0%","stop-color":Ht[Mn].color||"#fff","stop-opacity":isFinite(Ht[Mn].opacity)?Ht[Mn].opacity:1}))}}return oe(Je,{fill:"url('"+document.location.origin+document.location.pathname+"#"+xt+"')",opacity:1,"fill-opacity":1}),Et.fill=D,Et.opacity=1,Et.fillOpacity=1,1},ue=function(xe){var We=xe.getBBox(1);oe(xe.pattern,{patternTransform:xe.matrix.invert()+" translate("+We.x+","+We.y+")"})},be=function(xe,We,et){if("path"==xe.type){for(var xt,ze,Xe,Je,st,Et=an(We).toLowerCase().split("-"),Gt=xe.paper,Tt=et?"end":"start",Nt=xe.node,en=xe.attrs,Ht=en["stroke-width"],Mn=Et.length,gn="classic",zn=3,xi=3,_i=5;Mn--;)switch(Et[Mn]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":gn=Et[Mn];break;case"wide":xi=5;break;case"narrow":xi=2;break;case"long":zn=5;break;case"short":zn=2}if("open"==gn?(zn+=2,xi+=2,_i+=2,Xe=1,Je=et?4:1,st={fill:"none",stroke:en.stroke}):(Je=Xe=zn/2,st={fill:en.stroke,stroke:"none"}),xe._.arrows?et?(xe._.arrows.endPath&&U[xe._.arrows.endPath]--,xe._.arrows.endMarker&&U[xe._.arrows.endMarker]--):(xe._.arrows.startPath&&U[xe._.arrows.startPath]--,xe._.arrows.startMarker&&U[xe._.arrows.startMarker]--):xe._.arrows={},"none"!=gn){var mi="raphael-marker-"+gn,Pi="raphael-marker-"+Tt+gn+zn+xi+"-obj"+xe.id;ke._g.doc.getElementById(mi)?U[mi]++:(Gt.defs.appendChild(oe(oe("path"),{"stroke-linecap":"round",d:O[gn],id:mi})),U[mi]=1);var gi,Oi=ke._g.doc.getElementById(Pi);Oi?(U[Pi]++,gi=Oi.getElementsByTagName("use")[0]):(Oi=oe(oe("marker"),{id:Pi,markerHeight:xi,markerWidth:zn,orient:"auto",refX:Je,refY:xi/2}),gi=oe(oe("use"),{"xlink:href":"#"+mi,transform:(et?"rotate(180 "+zn/2+" "+xi/2+") ":D)+"scale("+zn/_i+","+xi/_i+")","stroke-width":(1/((zn/_i+xi/_i)/2)).toFixed(4)}),Oi.appendChild(gi),Gt.defs.appendChild(Oi),U[Pi]=1),oe(gi,st);var bn=Xe*("diamond"!=gn&&"oval"!=gn);et?(xt=xe._.arrows.startdx*Ht||0,ze=ke.getTotalLength(en.path)-bn*Ht):(xt=bn*Ht,ze=ke.getTotalLength(en.path)-(xe._.arrows.enddx*Ht||0)),(st={})["marker-"+Tt]="url(#"+Pi+")",(ze||xt)&&(st.d=ke.getSubpath(en.path,xt,ze)),oe(Nt,st),xe._.arrows[Tt+"Path"]=mi,xe._.arrows[Tt+"Marker"]=Pi,xe._.arrows[Tt+"dx"]=bn,xe._.arrows[Tt+"Type"]=gn,xe._.arrows[Tt+"String"]=We}else et?(xt=xe._.arrows.startdx*Ht||0,ze=ke.getTotalLength(en.path)-xt):(xt=0,ze=ke.getTotalLength(en.path)-(xe._.arrows.enddx*Ht||0)),xe._.arrows[Tt+"Path"]&&oe(Nt,{d:ke.getSubpath(en.path,xt,ze)}),delete xe._.arrows[Tt+"Path"],delete xe._.arrows[Tt+"Marker"],delete xe._.arrows[Tt+"dx"],delete xe._.arrows[Tt+"Type"],delete xe._.arrows[Tt+"String"];for(st in U)if(U[Ve](st)&&!U[st]){var _n=ke._g.doc.getElementById(st);_n&&_n.parentNode.removeChild(_n)}}},Ae={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},Ke=function(xe,We,et){if(We=Ae[an(We).toLowerCase()]){for(var xt=xe.attrs["stroke-width"]||"1",ze={round:xt,square:xt,butt:0}[xe.attrs["stroke-linecap"]||et["stroke-linecap"]]||0,Xe=[],Je=We.length;Je--;)Xe[Je]=We[Je]*xt+(Je%2?1:-1)*ze;oe(xe.node,{"stroke-dasharray":Xe.join(",")})}else oe(xe.node,{"stroke-dasharray":"none"})},L=function(xe,We){var et=xe.node,xt=xe.attrs,ze=et.style.visibility;for(var Xe in et.style.visibility="hidden",We)if(We[Ve](Xe)){if(!ke._availableAttrs[Ve](Xe))continue;var Je=We[Xe];switch(xt[Xe]=Je,Xe){case"blur":xe.blur(Je);break;case"title":var st=et.getElementsByTagName("title");if(st.length&&(st=st[0]))st.firstChild.nodeValue=Je;else{st=oe("title");var Et=ke._g.doc.createTextNode(Je);st.appendChild(Et),et.appendChild(st)}break;case"href":case"target":var Gt=et.parentNode;if("a"!=Gt.tagName.toLowerCase()){var Tt=oe("a");Gt.insertBefore(Tt,et),Tt.appendChild(et),Gt=Tt}"target"==Xe?Gt.setAttributeNS(w,"show","blank"==Je?"new":Je):Gt.setAttributeNS(w,Xe,Je);break;case"cursor":et.style.cursor=Je;break;case"transform":xe.transform(Je);break;case"arrow-start":be(xe,Je);break;case"arrow-end":be(xe,Je,1);break;case"clip-rect":var Nt=an(Je).split(m);if(4==Nt.length){xe.clip&&xe.clip.parentNode.parentNode.removeChild(xe.clip.parentNode);var en=oe("clipPath"),Ht=oe("rect");en.id=ke.createUUID(),oe(Ht,{x:Nt[0],y:Nt[1],width:Nt[2],height:Nt[3]}),en.appendChild(Ht),xe.paper.defs.appendChild(en),oe(et,{"clip-path":"url(#"+en.id+")"}),xe.clip=Ht}if(!Je){var Mn=et.getAttribute("clip-path");if(Mn){var gn=ke._g.doc.getElementById(Mn.replace(/(^url\(#|\)$)/g,D));gn&&gn.parentNode.removeChild(gn),oe(et,{"clip-path":D}),delete xe.clip}}break;case"path":"path"==xe.type&&(oe(et,{d:Je?xt.path=ke._pathToAbsolute(Je):"M0,0"}),xe._.dirty=1,xe._.arrows&&("startString"in xe._.arrows&&be(xe,xe._.arrows.startString),"endString"in xe._.arrows&&be(xe,xe._.arrows.endString,1)));break;case"width":if(et.setAttribute(Xe,Je),xe._.dirty=1,!xt.fx)break;Xe="x",Je=xt.x;case"x":xt.fx&&(Je=-xt.x-(xt.width||0));case"rx":if("rx"==Xe&&"rect"==xe.type)break;case"cx":et.setAttribute(Xe,Je),xe.pattern&&ue(xe),xe._.dirty=1;break;case"height":if(et.setAttribute(Xe,Je),xe._.dirty=1,!xt.fy)break;Xe="y",Je=xt.y;case"y":xt.fy&&(Je=-xt.y-(xt.height||0));case"ry":if("ry"==Xe&&"rect"==xe.type)break;case"cy":et.setAttribute(Xe,Je),xe.pattern&&ue(xe),xe._.dirty=1;break;case"r":"rect"==xe.type?oe(et,{rx:Je,ry:Je}):et.setAttribute(Xe,Je),xe._.dirty=1;break;case"src":"image"==xe.type&&et.setAttributeNS(w,"href",Je);break;case"stroke-width":(1!=xe._.sx||1!=xe._.sy)&&(Je/=ve(J(xe._.sx),J(xe._.sy))||1),et.setAttribute(Xe,Je),xt["stroke-dasharray"]&&Ke(xe,xt["stroke-dasharray"],We),xe._.arrows&&("startString"in xe._.arrows&&be(xe,xe._.arrows.startString),"endString"in xe._.arrows&&be(xe,xe._.arrows.endString,1));break;case"stroke-dasharray":Ke(xe,Je,We);break;case"fill":var zn=an(Je).match(ke._ISURL);if(zn){en=oe("pattern");var xi=oe("image");en.id=ke.createUUID(),oe(en,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),oe(xi,{x:0,y:0,"xlink:href":zn[1]}),en.appendChild(xi),function(Oi){ke._preload(zn[1],function(){var bn=this.offsetWidth,_n=this.offsetHeight;oe(Oi,{width:bn,height:_n}),oe(xi,{width:bn,height:_n})})}(en),xe.paper.defs.appendChild(en),oe(et,{fill:"url(#"+en.id+")"}),xe.pattern=en,xe.pattern&&ue(xe);break}var _i=ke.getRGB(Je);if(_i.error){if(("circle"==xe.type||"ellipse"==xe.type||"r"!=an(Je).charAt())&&fe(xe,Je)){if("opacity"in xt||"fill-opacity"in xt){var mi=ke._g.doc.getElementById(et.getAttribute("fill").replace(/^url\(#|\)$/g,D));if(mi){var Pi=mi.getElementsByTagName("stop");oe(Pi[Pi.length-1],{"stop-opacity":("opacity"in xt?xt.opacity:1)*("fill-opacity"in xt?xt["fill-opacity"]:1)})}}xt.gradient=Je,xt.fill="none";break}}else delete We.gradient,delete xt.gradient,!ke.is(xt.opacity,"undefined")&&ke.is(We.opacity,"undefined")&&oe(et,{opacity:xt.opacity}),!ke.is(xt["fill-opacity"],"undefined")&&ke.is(We["fill-opacity"],"undefined")&&oe(et,{"fill-opacity":xt["fill-opacity"]});_i[Ve]("opacity")&&oe(et,{"fill-opacity":_i.opacity>1?_i.opacity/100:_i.opacity});case"stroke":_i=ke.getRGB(Je),et.setAttribute(Xe,_i.hex),"stroke"==Xe&&_i[Ve]("opacity")&&oe(et,{"stroke-opacity":_i.opacity>1?_i.opacity/100:_i.opacity}),"stroke"==Xe&&xe._.arrows&&("startString"in xe._.arrows&&be(xe,xe._.arrows.startString),"endString"in xe._.arrows&&be(xe,xe._.arrows.endString,1));break;case"gradient":("circle"==xe.type||"ellipse"==xe.type||"r"!=an(Je).charAt())&&fe(xe,Je);break;case"opacity":xt.gradient&&!xt[Ve]("stroke-opacity")&&oe(et,{"stroke-opacity":Je>1?Je/100:Je});case"fill-opacity":if(xt.gradient){(mi=ke._g.doc.getElementById(et.getAttribute("fill").replace(/^url\(#|\)$/g,D)))&&(Pi=mi.getElementsByTagName("stop"),oe(Pi[Pi.length-1],{"stop-opacity":Je}));break}default:"font-size"==Xe&&(Je=gt(Je,10)+"px");var gi=Xe.replace(/(\-.)/g,function(Oi){return Oi.substring(1).toUpperCase()});et.style[gi]=Je,xe._.dirty=1,et.setAttribute(Xe,Je)}}ye(xe,We),et.style.visibility=ze},ye=function(xe,We){if("text"==xe.type&&(We[Ve]("text")||We[Ve]("font")||We[Ve]("font-size")||We[Ve]("x")||We[Ve]("y"))){var et=xe.attrs,xt=xe.node,ze=xt.firstChild?gt(ke._g.doc.defaultView.getComputedStyle(xt.firstChild,D).getPropertyValue("font-size"),10):10;if(We[Ve]("text")){for(et.text=We.text;xt.firstChild;)xt.removeChild(xt.firstChild);for(var Xe,Je=an(We.text).split("\n"),st=[],Et=0,Gt=Je.length;Gt>Et;Et++)Xe=oe("tspan"),Et&&oe(Xe,{dy:1.2*ze,x:et.x}),Xe.appendChild(ke._g.doc.createTextNode(Je[Et])),xt.appendChild(Xe),st[Et]=Xe}else for(Et=0,Gt=(st=xt.getElementsByTagName("tspan")).length;Gt>Et;Et++)Et?oe(st[Et],{dy:1.2*ze,x:et.x}):oe(st[0],{dy:0});oe(xt,{x:et.x,y:et.y}),xe._.dirty=1;var Tt=xe._getBBox(),Nt=et.y-(Tt.y+Tt.height/2);Nt&&ke.is(Nt,"finite")&&oe(st[0],{dy:Nt})}},Te=function(xe){return xe.parentNode&&"a"===xe.parentNode.tagName.toLowerCase()?xe.parentNode:xe},Ue=function(xe,We){this[0]=this.node=xe,xe.raphael=!0,this.id=ke._oid++,xe.raphaelid=this.id,this.matrix=ke.matrix(),this.realPath=null,this.paper=We,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!We.bottom&&(We.bottom=this),this.prev=We.top,We.top&&(We.top.next=this),We.top=this,this.next=null},ce=ke.el;Ue.prototype=ce,ce.constructor=Ue,ke._engine.path=function(xe,We){var et=oe("path");We.canvas&&We.canvas.appendChild(et);var xt=new Ue(et,We);return xt.type="path",L(xt,{fill:"none",stroke:"#000",path:xe}),xt},ce.rotate=function(xe,We,et){if(this.removed)return this;if((xe=an(xe).split(m)).length-1&&(We=Ne(xe[1]),et=Ne(xe[2])),xe=Ne(xe[0]),null==et&&(We=et),null==We||null==et){var xt=this.getBBox(1);We=xt.x+xt.width/2,et=xt.y+xt.height/2}return this.transform(this._.transform.concat([["r",xe,We,et]])),this},ce.scale=function(xe,We,et,xt){if(this.removed)return this;if((xe=an(xe).split(m)).length-1&&(We=Ne(xe[1]),et=Ne(xe[2]),xt=Ne(xe[3])),xe=Ne(xe[0]),null==We&&(We=xe),null==xt&&(et=xt),null==et||null==xt)var ze=this.getBBox(1);return this.transform(this._.transform.concat([["s",xe,We,et=et??ze.x+ze.width/2,xt=xt??ze.y+ze.height/2]])),this},ce.translate=function(xe,We){return this.removed||((xe=an(xe).split(m)).length-1&&(We=Ne(xe[1])),xe=Ne(xe[0])||0,this.transform(this._.transform.concat([["t",xe,We=+We||0]]))),this},ce.transform=function(xe){var We=this._;if(null==xe)return We.transform;if(ke._extractTransform(this,xe),this.clip&&oe(this.clip,{transform:this.matrix.invert()}),this.pattern&&ue(this),this.node&&oe(this.node,{transform:this.matrix}),1!=We.sx||1!=We.sy){var et=this.attrs[Ve]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":et})}return We.transform=this.matrix.toTransformString(),this},ce.hide=function(){return this.removed||(this.node.style.display="none"),this},ce.show=function(){return this.removed||(this.node.style.display=""),this},ce.remove=function(){var xe=Te(this.node);if(!this.removed&&xe.parentNode){var We=this.paper;for(var et in We.__set__&&We.__set__.exclude(this),y.unbind("raphael.*.*."+this.id),this.gradient&&We.defs.removeChild(this.gradient),ke._tear(this,We),xe.parentNode.removeChild(xe),this.removeData(),this)this[et]="function"==typeof this[et]?ke._removedFactory(et):null;this.removed=!0}},ce._getBBox=function(){if("none"==this.node.style.display){this.show();var xe=!0}var We,et=!1;this.paper.canvas.parentElement?We=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(We=this.paper.canvas.parentNode.style),We&&"none"==We.display&&(et=!0,We.display="");var xt={};try{xt=this.node.getBBox()}catch{xt={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{xt=xt||{},et&&(We.display="none")}return xe&&this.hide(),xt},ce.attr=function(xe,We){if(this.removed)return this;if(null==xe){var et={};for(var xt in this.attrs)this.attrs[Ve](xt)&&(et[xt]=this.attrs[xt]);return et.gradient&&"none"==et.fill&&(et.fill=et.gradient)&&delete et.gradient,et.transform=this._.transform,et}if(null==We&&ke.is(xe,"string")){if("fill"==xe&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==xe)return this._.transform;for(var ze=xe.split(m),Xe={},Je=0,st=ze.length;st>Je;Je++)Xe[xe=ze[Je]]=xe in this.attrs?this.attrs[xe]:ke.is(this.paper.customAttributes[xe],"function")?this.paper.customAttributes[xe].def:ke._availableAttrs[xe];return st-1?Xe:Xe[ze[0]]}if(null==We&&ke.is(xe,"array")){for(Xe={},Je=0,st=xe.length;st>Je;Je++)Xe[xe[Je]]=this.attr(xe[Je]);return Xe}if(null!=We){var Et={};Et[xe]=We}else null!=xe&&ke.is(xe,"object")&&(Et=xe);for(var Gt in Et)y("raphael.attr."+Gt+"."+this.id,this,Et[Gt]);for(Gt in this.paper.customAttributes)if(this.paper.customAttributes[Ve](Gt)&&Et[Ve](Gt)&&ke.is(this.paper.customAttributes[Gt],"function")){var Tt=this.paper.customAttributes[Gt].apply(this,[].concat(Et[Gt]));for(var Nt in this.attrs[Gt]=Et[Gt],Tt)Tt[Ve](Nt)&&(Et[Nt]=Tt[Nt])}return L(this,Et),this},ce.toFront=function(){if(this.removed)return this;var xe=Te(this.node);xe.parentNode.appendChild(xe);var We=this.paper;return We.top!=this&&ke._tofront(this,We),this},ce.toBack=function(){if(this.removed)return this;var xe=Te(this.node),We=xe.parentNode;return We.insertBefore(xe,We.firstChild),ke._toback(this,this.paper),this},ce.insertAfter=function(xe){if(this.removed||!xe)return this;var We=Te(this.node),et=Te(xe.node||xe[xe.length-1].node);return et.nextSibling?et.parentNode.insertBefore(We,et.nextSibling):et.parentNode.appendChild(We),ke._insertafter(this,xe,this.paper),this},ce.insertBefore=function(xe){if(this.removed||!xe)return this;var We=Te(this.node),et=Te(xe.node||xe[0].node);return et.parentNode.insertBefore(We,et),ke._insertbefore(this,xe,this.paper),this},ce.blur=function(xe){var We=this;if(0!=+xe){var et=oe("filter"),xt=oe("feGaussianBlur");We.attrs.blur=xe,et.id=ke.createUUID(),oe(xt,{stdDeviation:+xe||1.5}),et.appendChild(xt),We.paper.defs.appendChild(et),We._blur=et,oe(We.node,{filter:"url(#"+et.id+")"})}else We._blur&&(We._blur.parentNode.removeChild(We._blur),delete We._blur,delete We.attrs.blur),We.node.removeAttribute("filter");return We},ke._engine.circle=function(xe,We,et,xt){var ze=oe("circle");xe.canvas&&xe.canvas.appendChild(ze);var Xe=new Ue(ze,xe);return Xe.attrs={cx:We,cy:et,r:xt,fill:"none",stroke:"#000"},Xe.type="circle",oe(ze,Xe.attrs),Xe},ke._engine.rect=function(xe,We,et,xt,ze,Xe){var Je=oe("rect");xe.canvas&&xe.canvas.appendChild(Je);var st=new Ue(Je,xe);return st.attrs={x:We,y:et,width:xt,height:ze,rx:Xe||0,ry:Xe||0,fill:"none",stroke:"#000"},st.type="rect",oe(Je,st.attrs),st},ke._engine.ellipse=function(xe,We,et,xt,ze){var Xe=oe("ellipse");xe.canvas&&xe.canvas.appendChild(Xe);var Je=new Ue(Xe,xe);return Je.attrs={cx:We,cy:et,rx:xt,ry:ze,fill:"none",stroke:"#000"},Je.type="ellipse",oe(Xe,Je.attrs),Je},ke._engine.image=function(xe,We,et,xt,ze,Xe){var Je=oe("image");oe(Je,{x:et,y:xt,width:ze,height:Xe,preserveAspectRatio:"none"}),Je.setAttributeNS(w,"href",We),xe.canvas&&xe.canvas.appendChild(Je);var st=new Ue(Je,xe);return st.attrs={x:et,y:xt,width:ze,height:Xe,src:We},st.type="image",st},ke._engine.text=function(xe,We,et,xt){var ze=oe("text");xe.canvas&&xe.canvas.appendChild(ze);var Xe=new Ue(ze,xe);return Xe.attrs={x:We,y:et,"text-anchor":"middle",text:xt,"font-family":ke._availableAttrs["font-family"],"font-size":ke._availableAttrs["font-size"],stroke:"none",fill:"#000"},Xe.type="text",L(Xe,Xe.attrs),Xe},ke._engine.setSize=function(xe,We){return this.width=xe||this.width,this.height=We||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},ke._engine.create=function(){var xe=ke._getContainer.apply(0,arguments),We=xe&&xe.container,et=xe.x,xt=xe.y,ze=xe.width,Xe=xe.height;if(!We)throw new Error("SVG container not found.");var Je,st=oe("svg"),Et="overflow:hidden;";return et=et||0,xt=xt||0,oe(st,{height:Xe=Xe||342,version:1.1,width:ze=ze||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==We?(st.style.cssText=Et+"position:absolute;left:"+et+"px;top:"+xt+"px",ke._g.doc.body.appendChild(st),Je=1):(st.style.cssText=Et+"position:relative",We.firstChild?We.insertBefore(st,We.firstChild):We.appendChild(st)),(We=new ke._Paper).width=ze,We.height=Xe,We.canvas=st,We.clear(),We._left=We._top=0,Je&&(We.renderfix=function(){}),We.renderfix(),We},ke._engine.setViewBox=function(xe,We,et,xt,ze){y("raphael.setViewBox",this,this._viewBox,[xe,We,et,xt,ze]);var Xe,st=this.getSize(),Et=ve(et/st.width,xt/st.height),Gt=this.top,Tt=ze?"xMidYMid meet":"xMinYMin";for(null==xe?(this._vbSize&&(Et=1),delete this._vbSize,Xe="0 0 "+this.width+B+this.height):(this._vbSize=Et,Xe=xe+B+We+B+et+B+xt),oe(this.canvas,{viewBox:Xe,preserveAspectRatio:Tt});Et&&Gt;)Gt.attr({"stroke-width":"stroke-width"in Gt.attrs?Gt.attrs["stroke-width"]:1}),Gt._.dirty=1,Gt._.dirtyT=1,Gt=Gt.prev;return this._viewBox=[xe,We,et,xt,!!ze],this},ke.prototype.renderfix=function(){var xe,We=this.canvas,et=We.style;try{xe=We.getScreenCTM()||We.createSVGMatrix()}catch{xe=We.createSVGMatrix()}var xt=-xe.e%1,ze=-xe.f%1;(xt||ze)&&(xt&&(this._left=(this._left+xt)%1,et.left=this._left+"px"),ze&&(this._top=(this._top+ze)%1,et.top=this._top+"px"))},ke.prototype.clear=function(){ke.eve("raphael.clear",this);for(var xe=this.canvas;xe.firstChild;)xe.removeChild(xe.firstChild);this.bottom=this.top=null,(this.desc=oe("desc")).appendChild(ke._g.doc.createTextNode("Created with Rapha\xebl "+ke.version)),xe.appendChild(this.desc),xe.appendChild(this.defs=oe("defs"))},ke.prototype.remove=function(){for(var xe in y("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[xe]="function"==typeof this[xe]?ke._removedFactory(xe):null};var Oe=ke.st;for(var qe in ce)ce[Ve](qe)&&!Oe[Ve](qe)&&(Oe[qe]=function(xe){return function(){var We=arguments;return this.forEach(function(et){et[xe].apply(et,We)})}}(qe))}}),function(ke,Ve){"function"==typeof define&&define.amd?define("raphael.vml",["raphael.core"],function(an){return Ve(an)}):Ve("object"==typeof exports?require("./raphael.core"):ke.Raphael)}(this,function(ke){if(!ke||ke.vml){var Ve="hasOwnProperty",an=String,Ne=parseFloat,gt=Math,de=gt.round,ve=gt.max,J=gt.min,j=gt.abs,m="fill",y=/[, ]+/,D=ke.eve,w=" ",O="",U={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},oe=/([clmz]),?([^clmz]*)/gi,fe=/ progid:\S+Blur\([^\)]+\)/g,ue=/-?[^,\s-]+/g,be="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",Ae=21600,Ke={path:1,rect:1,image:1},L={circle:1,ellipse:1},ye=function(ze,Xe,Je){var st=ke.matrix();return st.rotate(-ze,.5,.5),{dx:st.x(Xe,Je),dy:st.y(Xe,Je)}},Te=function(ze,Xe,Je,st,Et,Gt){var Tt=ze._,Nt=ze.matrix,en=Tt.fillpos,Ht=ze.node,Mn=Ht.style,gn=1,zn="",xi=Ae/Xe,_i=Ae/Je;if(Mn.visibility="hidden",Xe&&Je){if(Ht.coordsize=j(xi)+w+j(_i),Mn.rotation=Gt*(0>Xe*Je?-1:1),Gt){var mi=ye(Gt,st,Et);st=mi.dx,Et=mi.dy}if(0>Xe&&(zn+="x"),0>Je&&(zn+=" y")&&(gn=-1),Mn.flip=zn,Ht.coordorigin=st*-xi+w+Et*-_i,en||Tt.fillsize){var Pi=Ht.getElementsByTagName(m);Ht.removeChild(Pi=Pi&&Pi[0]),en&&(mi=ye(Gt,Nt.x(en[0],en[1]),Nt.y(en[0],en[1])),Pi.position=mi.dx*gn+w+mi.dy*gn),Tt.fillsize&&(Pi.size=Tt.fillsize[0]*j(Xe)+w+Tt.fillsize[1]*j(Je)),Ht.appendChild(Pi)}Mn.visibility="visible"}};ke.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var We,Ue=function(ze,Xe,Je){for(var st=an(Xe).toLowerCase().split("-"),Et=Je?"end":"start",Gt=st.length,Tt="classic",Nt="medium",en="medium";Gt--;)switch(st[Gt]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":Tt=st[Gt];break;case"wide":case"narrow":en=st[Gt];break;case"long":case"short":Nt=st[Gt]}var Ht=ze.node.getElementsByTagName("stroke")[0];Ht[Et+"arrow"]=Tt,Ht[Et+"arrowlength"]=Nt,Ht[Et+"arrowwidth"]=en},ce=function(ze,Xe){ze.attrs=ze.attrs||{};var Je=ze.node,st=ze.attrs,Et=Je.style,Gt=Ke[ze.type]&&(Xe.x!=st.x||Xe.y!=st.y||Xe.width!=st.width||Xe.height!=st.height||Xe.cx!=st.cx||Xe.cy!=st.cy||Xe.rx!=st.rx||Xe.ry!=st.ry||Xe.r!=st.r),Tt=L[ze.type]&&(st.cx!=Xe.cx||st.cy!=Xe.cy||st.r!=Xe.r||st.rx!=Xe.rx||st.ry!=Xe.ry),Nt=ze;for(var en in Xe)Xe[Ve](en)&&(st[en]=Xe[en]);if(Gt&&(st.path=ke._getPath[ze.type](ze),ze._.dirty=1),Xe.href&&(Je.href=Xe.href),Xe.title&&(Je.title=Xe.title),Xe.target&&(Je.target=Xe.target),Xe.cursor&&(Et.cursor=Xe.cursor),"blur"in Xe&&ze.blur(Xe.blur),(Xe.path&&"path"==ze.type||Gt)&&(Je.path=function(ze){var Xe=/[ahqstv]/gi,Je=ke._pathToAbsolute;if(an(ze).match(Xe)&&(Je=ke._path2curve),Xe=/[clmz]/g,Je==ke._pathToAbsolute&&!an(ze).match(Xe)){var st=an(ze).replace(oe,function(gn,zn,xi){var _i=[],mi="m"==zn.toLowerCase(),Pi=U[zn];return xi.replace(ue,function(gi){mi&&2==_i.length&&(Pi+=_i+U["m"==zn?"l":"L"],_i=[]),_i.push(de(gi*Ae))}),Pi+_i});return st}var Et,Gt,Tt=Je(ze);st=[];for(var Nt=0,en=Tt.length;en>Nt;Nt++){Et=Tt[Nt],"z"==(Gt=Tt[Nt][0].toLowerCase())&&(Gt="x");for(var Ht=1,Mn=Et.length;Mn>Ht;Ht++)Gt+=de(Et[Ht]*Ae)+(Ht!=Mn-1?",":O);st.push(Gt)}return st.join(w)}(~an(st.path).toLowerCase().indexOf("r")?ke._pathToAbsolute(st.path):st.path),ze._.dirty=1,"image"==ze.type&&(ze._.fillpos=[st.x,st.y],ze._.fillsize=[st.width,st.height],Te(ze,1,1,0,0,0))),"transform"in Xe&&ze.transform(Xe.transform),Tt){var Ht=+st.cx,Mn=+st.cy,gn=+st.rx||+st.r||0,zn=+st.ry||+st.r||0;Je.path=ke.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",de((Ht-gn)*Ae),de((Mn-zn)*Ae),de((Ht+gn)*Ae),de((Mn+zn)*Ae),de(Ht*Ae)),ze._.dirty=1}if("clip-rect"in Xe){var xi=an(Xe["clip-rect"]).split(y);if(4==xi.length){xi[2]=+xi[2]+ +xi[0],xi[3]=+xi[3]+ +xi[1];var _i=Je.clipRect||ke._g.doc.createElement("div"),mi=_i.style;mi.clip=ke.format("rect({1}px {2}px {3}px {0}px)",xi),Je.clipRect||(mi.position="absolute",mi.top=0,mi.left=0,mi.width=ze.paper.width+"px",mi.height=ze.paper.height+"px",Je.parentNode.insertBefore(_i,Je),_i.appendChild(Je),Je.clipRect=_i)}Xe["clip-rect"]||Je.clipRect&&(Je.clipRect.style.clip="auto")}if(ze.textpath){var Pi=ze.textpath.style;Xe.font&&(Pi.font=Xe.font),Xe["font-family"]&&(Pi.fontFamily='"'+Xe["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,O)+'"'),Xe["font-size"]&&(Pi.fontSize=Xe["font-size"]),Xe["font-weight"]&&(Pi.fontWeight=Xe["font-weight"]),Xe["font-style"]&&(Pi.fontStyle=Xe["font-style"])}if("arrow-start"in Xe&&Ue(Nt,Xe["arrow-start"]),"arrow-end"in Xe&&Ue(Nt,Xe["arrow-end"],1),null!=Xe.opacity||null!=Xe["stroke-width"]||null!=Xe.fill||null!=Xe.src||null!=Xe.stroke||null!=Xe["stroke-width"]||null!=Xe["stroke-opacity"]||null!=Xe["fill-opacity"]||null!=Xe["stroke-dasharray"]||null!=Xe["stroke-miterlimit"]||null!=Xe["stroke-linejoin"]||null!=Xe["stroke-linecap"]){var gi=Je.getElementsByTagName(m);if(!(gi=gi&&gi[0])&&(gi=We(m)),"image"==ze.type&&Xe.src&&(gi.src=Xe.src),Xe.fill&&(gi.on=!0),(null==gi.on||"none"==Xe.fill||null===Xe.fill)&&(gi.on=!1),gi.on&&Xe.fill){var bn=an(Xe.fill).match(ke._ISURL);if(bn){gi.parentNode==Je&&Je.removeChild(gi),gi.rotate=!0,gi.src=bn[1],gi.type="tile";var _n=ze.getBBox(1);gi.position=_n.x+w+_n.y,ze._.fillpos=[_n.x,_n.y],ke._preload(bn[1],function(){ze._.fillsize=[this.offsetWidth,this.offsetHeight]})}else gi.color=ke.getRGB(Xe.fill).hex,gi.src=O,gi.type="solid",ke.getRGB(Xe.fill).error&&(Nt.type in{circle:1,ellipse:1}||"r"!=an(Xe.fill).charAt())&&Oe(Nt,Xe.fill,gi)&&(st.fill="none",st.gradient=Xe.fill,gi.rotate=!1)}if("fill-opacity"in Xe||"opacity"in Xe){var fn=((+st["fill-opacity"]+1||2)-1)*((+st.opacity+1||2)-1)*((+ke.getRGB(Xe.fill).o+1||2)-1);fn=J(ve(fn,0),1),gi.opacity=fn,gi.src&&(gi.color="none")}Je.appendChild(gi);var Wn=Je.getElementsByTagName("stroke")&&Je.getElementsByTagName("stroke")[0],Bn=!1;!Wn&&(Bn=Wn=We("stroke")),(Xe.stroke&&"none"!=Xe.stroke||Xe["stroke-width"]||null!=Xe["stroke-opacity"]||Xe["stroke-dasharray"]||Xe["stroke-miterlimit"]||Xe["stroke-linejoin"]||Xe["stroke-linecap"])&&(Wn.on=!0),("none"==Xe.stroke||null===Xe.stroke||null==Wn.on||0==Xe.stroke||0==Xe["stroke-width"])&&(Wn.on=!1);var Nn=ke.getRGB(Xe.stroke);Wn.on&&Xe.stroke&&(Wn.color=Nn.hex),fn=((+st["stroke-opacity"]+1||2)-1)*((+st.opacity+1||2)-1)*((+Nn.o+1||2)-1);var ei=.75*(Ne(Xe["stroke-width"])||1);if(fn=J(ve(fn,0),1),null==Xe["stroke-width"]&&(ei=st["stroke-width"]),Xe["stroke-width"]&&(Wn.weight=ei),ei&&1>ei&&(fn*=ei)&&(Wn.weight=1),Wn.opacity=fn,Xe["stroke-linejoin"]&&(Wn.joinstyle=Xe["stroke-linejoin"]||"miter"),Wn.miterlimit=Xe["stroke-miterlimit"]||8,Xe["stroke-linecap"]&&(Wn.endcap="butt"==Xe["stroke-linecap"]?"flat":"square"==Xe["stroke-linecap"]?"square":"round"),"stroke-dasharray"in Xe){var Vi={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};Wn.dashstyle=Vi[Ve](Xe["stroke-dasharray"])?Vi[Xe["stroke-dasharray"]]:O}Bn&&Je.appendChild(Wn)}if("text"==Nt.type){Nt.paper.canvas.style.display=O;var $i=Nt.paper.span,Cn=st.font&&st.font.match(/\d+(?:\.\d*)?(?=px)/);Et=$i.style,st.font&&(Et.font=st.font),st["font-family"]&&(Et.fontFamily=st["font-family"]),st["font-weight"]&&(Et.fontWeight=st["font-weight"]),st["font-style"]&&(Et.fontStyle=st["font-style"]),Cn=Ne(st["font-size"]||Cn&&Cn[0])||10,Et.fontSize=100*Cn+"px",Nt.textpath.string&&($i.innerHTML=an(Nt.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Rn=$i.getBoundingClientRect();Nt.W=st.w=(Rn.right-Rn.left)/100,Nt.H=st.h=(Rn.bottom-Rn.top)/100,Nt.X=st.x,Nt.Y=st.y+Nt.H/2,("x"in Xe||"y"in Xe)&&(Nt.path.v=ke.format("m{0},{1}l{2},{1}",de(st.x*Ae),de(st.y*Ae),de(st.x*Ae)+1));for(var ti=["x","y","text","font","font-family","font-weight","font-style","font-size"],fi=0,si=ti.length;si>fi;fi++)if(ti[fi]in Xe){Nt._.dirty=1;break}switch(st["text-anchor"]){case"start":Nt.textpath.style["v-text-align"]="left",Nt.bbx=Nt.W/2;break;case"end":Nt.textpath.style["v-text-align"]="right",Nt.bbx=-Nt.W/2;break;default:Nt.textpath.style["v-text-align"]="center",Nt.bbx=0}Nt.textpath.style["v-text-kern"]=!0}},Oe=function(ze,Xe,Je){ze.attrs=ze.attrs||{};var st=Math.pow,Et="linear",Gt=".5 .5";if(ze.attrs.gradient=Xe,Xe=(Xe=an(Xe).replace(ke._radial_gradient,function(gn,zn,xi){return Et="radial",zn&&xi&&(zn=Ne(zn),xi=Ne(xi),st(zn-.5,2)+st(xi-.5,2)>.25&&(xi=gt.sqrt(.25-st(zn-.5,2))*(2*(xi>.5)-1)+.5),Gt=zn+w+xi),O})).split(/\s*\-\s*/),"linear"==Et){var Tt=Xe.shift();if(Tt=-Ne(Tt),isNaN(Tt))return null}var Nt=ke._parseDots(Xe);if(!Nt)return null;if(ze=ze.shape||ze.node,Nt.length){ze.removeChild(Je),Je.on=!0,Je.method="none",Je.color=Nt[0].color,Je.color2=Nt[Nt.length-1].color;for(var en=[],Ht=0,Mn=Nt.length;Mn>Ht;Ht++)Nt[Ht].offset&&en.push(Nt[Ht].offset+w+Nt[Ht].color);Je.colors=en.length?en.join():"0% "+Je.color,"radial"==Et?(Je.type="gradientTitle",Je.focus="100%",Je.focussize="0 0",Je.focusposition=Gt,Je.angle=0):(Je.type="gradient",Je.angle=(270-Tt)%360),ze.appendChild(Je)}return 1},qe=function(ze,Xe){this[0]=this.node=ze,ze.raphael=!0,this.id=ke._oid++,ze.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=Xe,this.matrix=ke.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!Xe.bottom&&(Xe.bottom=this),this.prev=Xe.top,Xe.top&&(Xe.top.next=this),Xe.top=this,this.next=null},xe=ke.el;qe.prototype=xe,xe.constructor=qe,xe.transform=function(ze){if(null==ze)return this._.transform;var Xe,Je=this.paper._viewBoxShift,st=Je?"s"+[Je.scale,Je.scale]+"-1-1t"+[Je.dx,Je.dy]:O;Je&&(Xe=ze=an(ze).replace(/\.{3}|\u2026/g,this._.transform||O)),ke._extractTransform(this,st+ze);var Et,Gt=this.matrix.clone(),Tt=this.skew,Nt=this.node,en=~an(this.attrs.fill).indexOf("-"),Ht=!an(this.attrs.fill).indexOf("url(");if(Gt.translate(1,1),Ht||en||"image"==this.type)if(Tt.matrix="1 0 0 1",Tt.offset="0 0",Et=Gt.split(),en&&Et.noRotation||!Et.isSimple){Nt.style.filter=Gt.toFilter();var Mn=this.getBBox(),gn=this.getBBox(1),zn=Mn.x-gn.x,xi=Mn.y-gn.y;Nt.coordorigin=zn*-Ae+w+xi*-Ae,Te(this,1,1,zn,xi,0)}else Nt.style.filter=O,Te(this,Et.scalex,Et.scaley,Et.dx,Et.dy,Et.rotate);else Nt.style.filter=O,Tt.matrix=an(Gt),Tt.offset=Gt.offset();return null!==Xe&&(this._.transform=Xe,ke._extractTransform(this,Xe)),this},xe.rotate=function(ze,Xe,Je){if(this.removed)return this;if(null!=ze){if((ze=an(ze).split(y)).length-1&&(Xe=Ne(ze[1]),Je=Ne(ze[2])),ze=Ne(ze[0]),null==Je&&(Xe=Je),null==Xe||null==Je){var st=this.getBBox(1);Xe=st.x+st.width/2,Je=st.y+st.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",ze,Xe,Je]])),this}},xe.translate=function(ze,Xe){return this.removed||((ze=an(ze).split(y)).length-1&&(Xe=Ne(ze[1])),ze=Ne(ze[0])||0,Xe=+Xe||0,this._.bbox&&(this._.bbox.x+=ze,this._.bbox.y+=Xe),this.transform(this._.transform.concat([["t",ze,Xe]]))),this},xe.scale=function(ze,Xe,Je,st){if(this.removed)return this;if((ze=an(ze).split(y)).length-1&&(Xe=Ne(ze[1]),Je=Ne(ze[2]),st=Ne(ze[3]),isNaN(Je)&&(Je=null),isNaN(st)&&(st=null)),ze=Ne(ze[0]),null==Xe&&(Xe=ze),null==st&&(Je=st),null==Je||null==st)var Et=this.getBBox(1);return this.transform(this._.transform.concat([["s",ze,Xe,Je=Je??Et.x+Et.width/2,st=st??Et.y+Et.height/2]])),this._.dirtyT=1,this},xe.hide=function(){return!this.removed&&(this.node.style.display="none"),this},xe.show=function(){return!this.removed&&(this.node.style.display=O),this},xe.auxGetBBox=ke.el.getBBox,xe.getBBox=function(){var ze=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var Xe={},Je=1/this.paper._viewBoxShift.scale;return Xe.x=ze.x-this.paper._viewBoxShift.dx,Xe.x*=Je,Xe.y=ze.y-this.paper._viewBoxShift.dy,Xe.y*=Je,Xe.width=ze.width*Je,Xe.height=ze.height*Je,Xe.x2=Xe.x+Xe.width,Xe.y2=Xe.y+Xe.height,Xe}return ze},xe._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},xe.remove=function(){if(!this.removed&&this.node.parentNode){for(var ze in this.paper.__set__&&this.paper.__set__.exclude(this),ke.eve.unbind("raphael.*.*."+this.id),ke._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[ze]="function"==typeof this[ze]?ke._removedFactory(ze):null;this.removed=!0}},xe.attr=function(ze,Xe){if(this.removed)return this;if(null==ze){var Je={};for(var st in this.attrs)this.attrs[Ve](st)&&(Je[st]=this.attrs[st]);return Je.gradient&&"none"==Je.fill&&(Je.fill=Je.gradient)&&delete Je.gradient,Je.transform=this._.transform,Je}if(null==Xe&&ke.is(ze,"string")){if(ze==m&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var Et=ze.split(y),Gt={},Tt=0,Nt=Et.length;Nt>Tt;Tt++)Gt[ze=Et[Tt]]=ze in this.attrs?this.attrs[ze]:ke.is(this.paper.customAttributes[ze],"function")?this.paper.customAttributes[ze].def:ke._availableAttrs[ze];return Nt-1?Gt:Gt[Et[0]]}if(this.attrs&&null==Xe&&ke.is(ze,"array")){for(Gt={},Tt=0,Nt=ze.length;Nt>Tt;Tt++)Gt[ze[Tt]]=this.attr(ze[Tt]);return Gt}var en;for(var Ht in null!=Xe&&((en={})[ze]=Xe),null==Xe&&ke.is(ze,"object")&&(en=ze),en)D("raphael.attr."+Ht+"."+this.id,this,en[Ht]);if(en){for(Ht in this.paper.customAttributes)if(this.paper.customAttributes[Ve](Ht)&&en[Ve](Ht)&&ke.is(this.paper.customAttributes[Ht],"function")){var Mn=this.paper.customAttributes[Ht].apply(this,[].concat(en[Ht]));for(var gn in this.attrs[Ht]=en[Ht],Mn)Mn[Ve](gn)&&(en[gn]=Mn[gn])}en.text&&"text"==this.type&&(this.textpath.string=en.text),ce(this,en)}return this},xe.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&ke._tofront(this,this.paper),this},xe.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),ke._toback(this,this.paper)),this},xe.insertAfter=function(ze){return this.removed||(ze.constructor==ke.st.constructor&&(ze=ze[ze.length-1]),ze.node.nextSibling?ze.node.parentNode.insertBefore(this.node,ze.node.nextSibling):ze.node.parentNode.appendChild(this.node),ke._insertafter(this,ze,this.paper)),this},xe.insertBefore=function(ze){return this.removed||(ze.constructor==ke.st.constructor&&(ze=ze[0]),ze.node.parentNode.insertBefore(this.node,ze.node),ke._insertbefore(this,ze,this.paper)),this},xe.blur=function(ze){var Xe=this.node.runtimeStyle,Je=Xe.filter;return Je=Je.replace(fe,O),0!=+ze?(this.attrs.blur=ze,Xe.filter=Je+w+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+ze||1.5)+")",Xe.margin=ke.format("-{0}px 0 0 -{0}px",de(+ze||1.5))):(Xe.filter=Je,Xe.margin=0,delete this.attrs.blur),this},ke._engine.path=function(ze,Xe){var Je=We("shape");Je.style.cssText=be,Je.coordsize=Ae+w+Ae,Je.coordorigin=Xe.coordorigin;var st=new qe(Je,Xe),Et={fill:"none",stroke:"#000"};ze&&(Et.path=ze),st.type="path",st.path=[],st.Path=O,ce(st,Et),Xe.canvas.appendChild(Je);var Gt=We("skew");return Gt.on=!0,Je.appendChild(Gt),st.skew=Gt,st.transform(O),st},ke._engine.rect=function(ze,Xe,Je,st,Et,Gt){var Tt=ke._rectPath(Xe,Je,st,Et,Gt),Nt=ze.path(Tt),en=Nt.attrs;return Nt.X=en.x=Xe,Nt.Y=en.y=Je,Nt.W=en.width=st,Nt.H=en.height=Et,en.r=Gt,en.path=Tt,Nt.type="rect",Nt},ke._engine.ellipse=function(ze,Xe,Je,st,Et){var Gt=ze.path();return Gt.X=Xe-st,Gt.Y=Je-Et,Gt.W=2*st,Gt.H=2*Et,Gt.type="ellipse",ce(Gt,{cx:Xe,cy:Je,rx:st,ry:Et}),Gt},ke._engine.circle=function(ze,Xe,Je,st){var Et=ze.path();return Et.X=Xe-st,Et.Y=Je-st,Et.W=Et.H=2*st,Et.type="circle",ce(Et,{cx:Xe,cy:Je,r:st}),Et},ke._engine.image=function(ze,Xe,Je,st,Et,Gt){var Tt=ke._rectPath(Je,st,Et,Gt),Nt=ze.path(Tt).attr({stroke:"none"}),en=Nt.attrs,Ht=Nt.node,Mn=Ht.getElementsByTagName(m)[0];return en.src=Xe,Nt.X=en.x=Je,Nt.Y=en.y=st,Nt.W=en.width=Et,Nt.H=en.height=Gt,en.path=Tt,Nt.type="image",Mn.parentNode==Ht&&Ht.removeChild(Mn),Mn.rotate=!0,Mn.src=Xe,Mn.type="tile",Nt._.fillpos=[Je,st],Nt._.fillsize=[Et,Gt],Ht.appendChild(Mn),Te(Nt,1,1,0,0,0),Nt},ke._engine.text=function(ze,Xe,Je,st){var Et=We("shape"),Gt=We("path"),Tt=We("textpath");Je=Je||0,st=st||"",Gt.v=ke.format("m{0},{1}l{2},{1}",de((Xe=Xe||0)*Ae),de(Je*Ae),de(Xe*Ae)+1),Gt.textpathok=!0,Tt.string=an(st),Tt.on=!0,Et.style.cssText=be,Et.coordsize=Ae+w+Ae,Et.coordorigin="0 0";var Nt=new qe(Et,ze),en={fill:"#000",stroke:"none",font:ke._availableAttrs.font,text:st};Nt.shape=Et,Nt.path=Gt,Nt.textpath=Tt,Nt.type="text",Nt.attrs.text=an(st),Nt.attrs.x=Xe,Nt.attrs.y=Je,Nt.attrs.w=1,Nt.attrs.h=1,ce(Nt,en),Et.appendChild(Tt),Et.appendChild(Gt),ze.canvas.appendChild(Et);var Ht=We("skew");return Ht.on=!0,Et.appendChild(Ht),Nt.skew=Ht,Nt.transform(O),Nt},ke._engine.setSize=function(ze,Xe){var Je=this.canvas.style;return this.width=ze,this.height=Xe,ze==+ze&&(ze+="px"),Xe==+Xe&&(Xe+="px"),Je.width=ze,Je.height=Xe,Je.clip="rect(0 "+ze+" "+Xe+" 0)",this._viewBox&&ke._engine.setViewBox.apply(this,this._viewBox),this},ke._engine.setViewBox=function(ze,Xe,Je,st,Et){ke.eve("raphael.setViewBox",this,this._viewBox,[ze,Xe,Je,st,Et]);var Gt,Tt,Nt=this.getSize(),en=Nt.width,Ht=Nt.height;return Et&&(en>Je*(Gt=Ht/st)&&(ze-=(en-Je*Gt)/2/Gt),Ht>st*(Tt=en/Je)&&(Xe-=(Ht-st*Tt)/2/Tt)),this._viewBox=[ze,Xe,Je,st,!!Et],this._viewBoxShift={dx:-ze,dy:-Xe,scale:Nt},this.forEach(function(Mn){Mn.transform("...")}),this},ke._engine.initWin=function(ze){var Xe=ze.document;Xe.styleSheets.length<31?Xe.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):Xe.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!Xe.namespaces.rvml&&Xe.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),We=function(Je){return Xe.createElement("<rvml:"+Je+' class="rvml">')}}catch{We=function(st){return Xe.createElement("<"+st+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},ke._engine.initWin(ke._g.win),ke._engine.create=function(){var ze=ke._getContainer.apply(0,arguments),Xe=ze.container,Je=ze.height,st=ze.width,Et=ze.x,Gt=ze.y;if(!Xe)throw new Error("VML container not found.");var Tt=new ke._Paper,Nt=Tt.canvas=ke._g.doc.createElement("div"),en=Nt.style;return Et=Et||0,Gt=Gt||0,Je=Je||342,Tt.width=st=st||512,Tt.height=Je,st==+st&&(st+="px"),Je==+Je&&(Je+="px"),Tt.coordsize=1e3*Ae+w+1e3*Ae,Tt.coordorigin="0 0",Tt.span=ke._g.doc.createElement("span"),Tt.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",Nt.appendChild(Tt.span),en.cssText=ke.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",st,Je),1==Xe?(ke._g.doc.body.appendChild(Nt),en.left=Et+"px",en.top=Gt+"px",en.position="absolute"):Xe.firstChild?Xe.insertBefore(Nt,Xe.firstChild):Xe.appendChild(Nt),Tt.renderfix=function(){},Tt},ke.prototype.clear=function(){ke.eve("raphael.clear",this),this.canvas.innerHTML=O,this.span=ke._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},ke.prototype.remove=function(){for(var ze in ke.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[ze]="function"==typeof this[ze]?ke._removedFactory(ze):null;return!0};var et=ke.st;for(var xt in xe)xe[Ve](xt)&&!et[Ve](xt)&&(et[xt]=function(ze){return function(){var Xe=arguments;return this.forEach(function(Je){Je[ze].apply(Je,Xe)})}}(xt))}}),function(ke,Ve){if("function"==typeof define&&define.amd)define("raphael",["raphael.core","raphael.svg","raphael.vml"],function(Ne){return ke.Raphael=Ve(Ne)});else if("object"==typeof exports){var an=require("raphael.core");require("raphael.svg"),require("raphael.vml"),module.exports=Ve(an)}else ke.Raphael=Ve(ke.Raphael)}(this,function(ke){return ke.ninja()}),function(){String.prototype.startsWith||(String.prototype.startsWith=function(m,y){return this.substr(y||0,m.length)===m});var ke=null,Ve={inheritAttrs:function(m,y){for(var D in y)y.hasOwnProperty(D)&&(m[D]instanceof Object&&y[D]instanceof Object&&"function"!=typeof y[D]?this.inheritAttrs(m[D],y[D]):m[D]=y[D]);return m},createMerge:function(m,y){var D={};return m&&this.inheritAttrs(D,this.cloneObj(m)),y&&this.inheritAttrs(D,y),D},extend:function(){return ke?(Array.prototype.unshift.apply(arguments,[!0,{}]),ke.extend.apply(ke,arguments)):Ve.createMerge.apply(this,arguments)},cloneObj:function(m){if(Object(m)!==m)return m;var y=new m.constructor;for(var D in m)m.hasOwnProperty(D)&&(y[D]=this.cloneObj(m[D]));return y},addEvent:function(m,y,D){ke?ke(m).on(y+".treant",D):m.addEventListener?m.addEventListener(y,D,!1):m.attachEvent?m.attachEvent("on"+y,D):m["on"+y]=D},findEl:function(m,y,D){if(D=D||document,ke){var B=ke(m,D);return y?B.get(0):B}if("#"===m.charAt(0))return D.getElementById(m.substring(1));if("."===m.charAt(0)){var w=D.getElementsByClassName(m.substring(1));return w.length?w[0]:null}throw new Error("Unknown container element")},getOuterHeight:function(m){return"function"==typeof m.getBoundingClientRect?m.getBoundingClientRect().height:ke?Math.ceil(ke(m).outerHeight())+1:Math.ceil(m.clientHeight+Ve.getStyle(m,"border-top-width",!0)+Ve.getStyle(m,"border-bottom-width",!0)+Ve.getStyle(m,"padding-top",!0)+Ve.getStyle(m,"padding-bottom",!0)+1)},getOuterWidth:function(m){return"function"==typeof m.getBoundingClientRect?m.getBoundingClientRect().width:ke?Math.ceil(ke(m).outerWidth())+1:Math.ceil(m.clientWidth+Ve.getStyle(m,"border-left-width",!0)+Ve.getStyle(m,"border-right-width",!0)+Ve.getStyle(m,"padding-left",!0)+Ve.getStyle(m,"padding-right",!0)+1)},getStyle:function(m,y,D){var B="";return document.defaultView&&document.defaultView.getComputedStyle?B=document.defaultView.getComputedStyle(m,"").getPropertyValue(y):m.currentStyle&&(y=y.replace(/\-(\w)/g,function(w,O){return O.toUpperCase()}),B=m.currentStyle[y]),D?parseFloat(B):B},addClass:function(m,y){ke?ke(m).addClass(y):Ve.hasClass(m,y)||(m.classList?m.classList.add(y):m.className+=" "+y)},hasClass:function(m,y){return(" "+m.className+" ").replace(/[\n\t]/g," ").indexOf(" "+y+" ")>-1},toggleClass:function(m,y,D){ke?ke(m).toggleClass(y,D):D?m.classList.add(y):m.classList.remove(y)},setDimensions:function(m,y,D){ke?ke(m).width(y).height(D):(m.style.width=y+"px",m.style.height=D+"px")},isjQueryAvailable:function(){return typeof ke<"u"&&ke}},an=function(){this.reset()};an.prototype={reset:function(){return this.loading=[],this},processNode:function(m){for(var y=m.nodeDOM.getElementsByTagName("img"),D=y.length;D--;)this.create(m,y[D]);return this},removeAll:function(m){for(var y=this.loading.length;y--;)this.loading[y]===m&&this.loading.splice(y,1);return this},create:function(m,y){var D=this,B=y.src;function w(){D.removeAll(B),m.width=m.nodeDOM.offsetWidth,m.height=m.nodeDOM.offsetHeight}if(0!==y.src.indexOf("data:")){if(this.loading.push(B),y.complete)return w();Ve.addEvent(y,"load",w),Ve.addEvent(y,"error",w),y.src+=(y.src.indexOf("?")>0?"&":"?")+(new Date).getTime()}else w()},isNotLoading:function(){return 0===this.loading.length}};var Ne={store:[],createTree:function(m){var y=this.store.length;return this.store.push(new gt(m,y)),this.get(y)},get:function(m){return this.store[m]},destroy:function(m){var y=this.get(m);if(y){y._R.remove();for(var D=y.drawArea;D.firstChild;)D.removeChild(D.firstChild);for(var B=D.className.split(" "),w=[],O=0;O<B.length;O++){var U=B[O];"Treant"!==U&&"Treant-loaded"!==U&&w.push(U)}D.style.overflowY="",D.style.overflowX="",D.className=w.join(" "),this.store[m]=null}return this}},gt=function(m,y){this.reset=function(D,B){if(this.initJsonConfig=D,this.initTreeId=B,this.id=B,this.CONFIG=Ve.extend(gt.CONFIG,D.chart),this.drawArea=Ve.findEl(this.CONFIG.container,!0),!this.drawArea)throw new Error('Failed to find element by selector "'+this.CONFIG.container+'"');return Ve.addClass(this.drawArea,"Treant"),this.drawArea.innerHTML="",this.imageLoader=new an,this.nodeDB=new de(D.nodeStructure,this),this.connectionStore={},this.loaded=!1,this._R=new Raphael(this.drawArea,100,100),this},this.reload=function(){return this.reset(this.initJsonConfig,this.initTreeId).redraw(),this},this.reset(m,y)};gt.prototype={getNodeDb:function(){return this.nodeDB},addNode:function(m,y){this.CONFIG.callback.onBeforeAddNode.apply(this,[m,y]);var D=this.nodeDB.createNode(y,m.id,this);return D.createGeometry(this),D.parent().createSwitchGeometry(this),this.positionTree(),this.CONFIG.callback.onAfterAddNode.apply(this,[D,m,y]),D},redraw:function(){return this.positionTree(),this},positionTree:function(m){var y=this;if(this.imageLoader.isNotLoading()){var D=this.root();this.resetLevelData(),this.firstWalk(D,0),this.secondWalk(D,0,0,0),this.positionNodes(),this.CONFIG.animateOnInit&&setTimeout(function(){D.toggleCollapse()},this.CONFIG.animateOnInitDelay),this.loaded||(Ve.addClass(this.drawArea,"Treant-loaded"),"[object Function]"===Object.prototype.toString.call(m)&&m(y),y.CONFIG.callback.onTreeLoaded.apply(y,[D]),this.loaded=!0)}else setTimeout(function(){y.positionTree(m)},10);return this},firstWalk:function(m,y){m.prelim=null,m.modifier=null,this.setNeighbors(m,y),this.calcLevelDim(m,y);var D=m.leftSibling();if(0===m.childrenCount()||y==this.CONFIG.maxDepth)m.prelim=D?D.prelim+D.size()+this.CONFIG.siblingSeparation:0;else{for(var B=0,w=m.childrenCount();B<w;B++)this.firstWalk(m.childAt(B),y+1);var O=m.childrenCenter()-m.size()/2;D?(m.prelim=D.prelim+D.size()+this.CONFIG.siblingSeparation,m.modifier=m.prelim-O,this.apportion(m,y)):m.prelim=O,m.stackParent?m.modifier+=this.nodeDB.get(m.stackChildren[0]).size()/2+m.connStyle.stackIndent:m.stackParentId&&(m.prelim=0)}return this},apportion:function(m,y){for(var D=m.firstChild(),B=D.leftNeighbor(),w=1,O=this.CONFIG.maxDepth-y;D&&B&&w<=O;){for(var U=0,oe=0,fe=B,ue=D,be=0;be<w;be++)fe=fe.parent(),ue=ue.parent(),oe+=fe.modifier,U+=ue.modifier,void 0!==ue.stackParent&&(U+=ue.size()/2);var Ae=B.prelim+oe+B.size()+this.CONFIG.subTeeSeparation-(D.prelim+U);if(Ae>0){for(var Ke=m,L=0;Ke&&Ke.id!==fe.id;)Ke=Ke.leftSibling(),L++;if(Ke)for(var Ge=m,ye=Ae/L;Ge.id!==fe.id;)Ge.prelim+=Ae,Ge.modifier+=Ae,Ae-=ye,Ge=Ge.leftSibling()}w++,(D=0===D.childrenCount()?m.leftMost(0,w):D=D.firstChild())&&(B=D.leftNeighbor())}},secondWalk:function(m,y,D,B){if(!(y>this.CONFIG.maxDepth)){var fe,ue,w=m.prelim+D,O=B,U=this.CONFIG.nodeAlign,oe=this.CONFIG.rootOrientation;if("NORTH"===oe||"SOUTH"===oe?(fe=this.levelMaxDim[y].height,ue=m.height,m.pseudo&&(m.height=fe)):("WEST"===oe||"EAST"===oe)&&(fe=this.levelMaxDim[y].width,ue=m.width,m.pseudo&&(m.width=fe)),m.X=w,m.pseudo?"NORTH"===oe||"WEST"===oe?m.Y=O:("SOUTH"===oe||"EAST"===oe)&&(m.Y=O+(fe-ue)):m.Y="CENTER"===U?O+(fe-ue)/2:"TOP"===U?O+(fe-ue):O,"WEST"===oe||"EAST"===oe){var be=m.X;m.X=m.Y,m.Y=be}"SOUTH"===oe?m.Y=-m.Y-ue:"EAST"===oe&&(m.X=-m.X-ue),0!==m.childrenCount()&&this.secondWalk(m.firstChild(),y+1,D+m.modifier,0===m.id&&this.CONFIG.hideRootNode?B:B+fe+this.CONFIG.levelSeparation),m.rightSibling()&&this.secondWalk(m.rightSibling(),y,D,B)}},positionNodes:function(){var m=this,y={x:m.nodeDB.getMinMaxCoord("X",null,null),y:m.nodeDB.getMinMaxCoord("Y",null,null)},D=y.x.max-y.x.min,B=y.y.max-y.y.min,w={x:y.x.max-D/2,y:y.y.max-B/2};this.handleOverflow(D,B);var be,Ae,Ke,O={x:m.drawArea.clientWidth/2,y:m.drawArea.clientHeight/2},U=O.x-w.x,oe=O.y-w.y,fe=y.x.min+U<=0?Math.abs(y.x.min):0,ue=y.y.min+oe<=0?Math.abs(y.y.min):0;for(be=0,Ae=this.nodeDB.db.length;be<Ae;be++)if(Ke=this.nodeDB.get(be),m.CONFIG.callback.onBeforePositionNode.apply(m,[Ke,be,O,w]),0===Ke.id&&this.CONFIG.hideRootNode)m.CONFIG.callback.onAfterPositionNode.apply(m,[Ke,be,O,w]);else{Ke.X+=fe+(D<this.drawArea.clientWidth?U:this.CONFIG.padding),Ke.Y+=ue+(B<this.drawArea.clientHeight?oe:this.CONFIG.padding);var L=Ke.collapsedParent(),Ge=null;L?(Ge=L.connectorPoint(!0),Ke.hide(Ge)):Ke.positioned?Ke.show():(Ke.nodeDOM.style.left=Ke.X+"px",Ke.nodeDOM.style.top=Ke.Y+"px",Ke.positioned=!0),0===Ke.id||0===Ke.parent().id&&this.CONFIG.hideRootNode?!this.CONFIG.hideRootNode&&Ke.drawLineThrough&&Ke.drawLineThroughMe():this.setConnectionToParent(Ke,Ge),m.CONFIG.callback.onAfterPositionNode.apply(m,[Ke,be,O,w])}return this},handleOverflow:function(m,y){var D=m<this.drawArea.clientWidth?this.drawArea.clientWidth:m+2*this.CONFIG.padding,B=y<this.drawArea.clientHeight?this.drawArea.clientHeight:y+2*this.CONFIG.padding;if(this._R.setSize(D,B),"resize"===this.CONFIG.scrollbar)Ve.setDimensions(this.drawArea,D,B);else if(Ve.isjQueryAvailable()&&"native"!==this.CONFIG.scrollbar){if("fancy"===this.CONFIG.scrollbar){var w=ke(this.drawArea);if(w.hasClass("ps-container"))w.find(".Treant").css({width:D,height:B}),w.perfectScrollbar("update");else{var O=w.wrapInner('<div class="Treant"/>');O.find(".Treant").css({width:D,height:B}),O.perfectScrollbar()}}}else this.drawArea.clientWidth<m&&(this.drawArea.style.overflowX="auto"),this.drawArea.clientHeight<y&&(this.drawArea.style.overflowY="auto");return this},setConnectionToParent:function(m,y){var B,D=m.stackParentId,w=D?this.nodeDB.get(D):m.parent(),O=y?this.getPointPathString(y):this.getPathString(w,m,D);return this.connectionStore[m.id]?this.animatePath(B=this.connectionStore[m.id],O):(B=this._R.path(O),this.connectionStore[m.id]=B,m.pseudo&&delete w.connStyle.style["arrow-end"],w.pseudo&&delete w.connStyle.style["arrow-start"],B.attr(w.connStyle.style),(m.drawLineThrough||m.pseudo)&&m.drawLineThroughMe(y)),m.connector=B,this},getPointPathString:function(m){return["_M",m.x,",",m.y,"L",m.x,",",m.y,m.x,",",m.y].join(" ")},animatePath:function(m,y){return m.hidden&&"_"!==y.charAt(0)&&(m.show(),m.hidden=!1),m.animate({path:"_"===y.charAt(0)?y.substring(1):y},this.CONFIG.animation.connectorsSpeed,this.CONFIG.animation.connectorsAnimation,function(){"_"===y.charAt(0)&&(m.hide(),m.hidden=!0)}),this},getPathString:function(m,y,D){var B=m.connectorPoint(!0),w=y.connectorPoint(!1),O=this.CONFIG.rootOrientation,U=m.connStyle.type,oe={},fe={};"NORTH"===O||"SOUTH"===O?(oe.y=fe.y=(B.y+w.y)/2,oe.x=B.x,fe.x=w.x):("EAST"===O||"WEST"===O)&&(oe.x=fe.x=(B.x+w.x)/2,oe.y=B.y,fe.y=w.y);var Ge,ye,ue=B.x+","+B.y,be=oe.x+","+oe.y,Ae=fe.x+","+fe.y,Ke=w.x+","+w.y;if(D){if(ye="EAST"===O||"WEST"===O?w.x+","+B.y:B.x+","+w.y,"step"===U||"straight"===U)Ge=["M",ue,"L",ye,"L",Ke];else if("curve"===U||"bCurve"===U){var Te,Ue=m.connStyle.stackIndent;"NORTH"===O?Te=w.x-Ue+","+(w.y-Ue):"SOUTH"===O?Te=w.x-Ue+","+(w.y+Ue):"EAST"===O?Te=w.x+Ue+","+B.y:"WEST"===O&&(Te=w.x-Ue+","+B.y),Ge=["M",ue,"L",Te,"S",ye,Ke]}}else"step"===U?Ge=["M",ue,"L",be,"L",Ae,"L",Ke]:"curve"===U?Ge=["M",ue,"C",be,Ae,Ke]:"bCurve"===U?Ge=["M",ue,"Q",be,(oe.x+fe.x)/2+","+(oe.y+fe.y)/2,"T",Ke]:"straight"===U&&(Ge=["M",ue,"L",ue,Ke]);return Ge.join(" ")},setNeighbors:function(m,y){return m.leftNeighborId=this.lastNodeOnLevel[y],m.leftNeighborId&&(m.leftNeighbor().rightNeighborId=m.id),this.lastNodeOnLevel[y]=m.id,this},calcLevelDim:function(m,y){return this.levelMaxDim[y]={width:Math.max(this.levelMaxDim[y]?this.levelMaxDim[y].width:0,m.width),height:Math.max(this.levelMaxDim[y]?this.levelMaxDim[y].height:0,m.height)},this},resetLevelData:function(){return this.lastNodeOnLevel=[],this.levelMaxDim=[],this},root:function(){return this.nodeDB.get(0)}};var de=function(m,y){this.reset(m,y)};de.prototype={reset:function(m,y){this.db=[];var D=this;return y.CONFIG.animateOnInit&&(m.collapsed=!0),function B(w,O){var U=D.createNode(w,O,y,null);if(w.children){if(w.childrenDropLevel&&w.childrenDropLevel>0)for(;w.childrenDropLevel--;){var oe=Ve.cloneObj(U.connStyle);(U=D.createNode("pseudo",U.id,y,null)).connStyle=oe,U.children=[]}var fe=w.stackChildren&&!D.hasGrandChildren(w)?U.id:null;null!==fe&&(U.stackChildren=[]);for(var ue=0,be=w.children.length;ue<be;ue++)null!==fe?(U=D.createNode(w.children[ue],U.id,y,fe),ue+1<be&&(U.children=[])):B(w.children[ue],U.id)}}(m,-1),this.createGeometries(y),this},createGeometries:function(m){for(var y=this.db.length;y--;)this.get(y).createGeometry(m);return this},get:function(m){return this.db[m]},walk:function(m){for(var y=this.db.length;y--;)m.apply(this,[this.get(y)]);return this},createNode:function(m,y,D,B){var w=new ve(m,this.db.length,y,D,B);if(this.db.push(w),y>=0){var O=this.get(y);if(m.position)if("left"===m.position)O.children.push(w.id);else if("right"===m.position)O.children.splice(0,0,w.id);else if("center"===m.position)O.children.splice(Math.floor(O.children.length/2),0,w.id);else{var U=parseInt(m.position);O.children.splice(1===O.children.length&&U>0?0:Math.max(U,O.children.length-1),0,w.id)}else O.children.push(w.id)}return B&&(this.get(B).stackParent=!0,this.get(B).stackChildren.push(w.id)),w},getMinMaxCoord:function(m,y,D){y=y||this.get(0),D=D||{min:y[m],max:y[m]+("X"===m?y.width:y.height)};for(var B=y.childrenCount();B--;){var w=y.childAt(B),O=w[m]+("X"===m?w.width:w.height),U=w[m];O>D.max&&(D.max=O),U<D.min&&(D.min=U),this.getMinMaxCoord(m,w,D)}return D},hasGrandChildren:function(m){for(var y=m.children.length;y--;)if(m.children[y].children&&m.children[y].children.length>0)return!0;return!1}};var ve=function(m,y,D,B,w){this.reset(m,y,D,B,w)};ve.prototype={reset:function(m,y,D,B,w){return this.id=y,this.parentId=D,this.treeId=B.id,this.prelim=0,this.modifier=0,this.leftNeighborId=null,this.stackParentId=w,this.pseudo="pseudo"===m||m.pseudo,this.meta=m.meta||{},this.image=m.image||null,this.link=Ve.createMerge(B.CONFIG.node.link,m.link),this.connStyle=Ve.createMerge(B.CONFIG.connectors,m.connectors),this.connector=null,this.drawLineThrough=!1!==m.drawLineThrough&&(m.drawLineThrough||B.CONFIG.node.drawLineThrough),this.collapsable=!1!==m.collapsable&&(m.collapsable||B.CONFIG.node.collapsable),this.collapsed=m.collapsed,this.text=m.text,this.nodeInnerHTML=m.innerHTML,this.nodeHTMLclass=(B.CONFIG.node.HTMLclass?B.CONFIG.node.HTMLclass:"")+(m.HTMLclass?" "+m.HTMLclass:""),this.nodeHTMLid=m.HTMLid,this.children=[],this},getTree:function(){return Ne.get(this.treeId)},getTreeConfig:function(){return this.getTree().CONFIG},getTreeNodeDb:function(){return this.getTree().getNodeDb()},lookupNode:function(m){return this.getTreeNodeDb().get(m)},Tree:function(){return Ne.get(this.treeId)},dbGet:function(m){return this.getTreeNodeDb().get(m)},size:function(){var m=this.getTreeConfig().rootOrientation;return this.pseudo?-this.getTreeConfig().subTeeSeparation:"NORTH"===m||"SOUTH"===m?this.width:"WEST"===m||"EAST"===m?this.height:void 0},childrenCount:function(){return this.collapsed||!this.children?0:this.children.length},childAt:function(m){return this.dbGet(this.children[m])},firstChild:function(){return this.childAt(0)},lastChild:function(){return this.childAt(this.children.length-1)},parent:function(){return this.lookupNode(this.parentId)},leftNeighbor:function(){if(this.leftNeighborId)return this.lookupNode(this.leftNeighborId)},rightNeighbor:function(){if(this.rightNeighborId)return this.lookupNode(this.rightNeighborId)},leftSibling:function(){var m=this.leftNeighbor();if(m&&m.parentId===this.parentId)return m},rightSibling:function(){var m=this.rightNeighbor();if(m&&m.parentId===this.parentId)return m},childrenCenter:function(){var m=this.firstChild(),y=this.lastChild();return m.prelim+(y.prelim-m.prelim+y.size())/2},collapsedParent:function(){var m=this.parent();return!!m&&(m.collapsed?m:m.collapsedParent())},leftMost:function(m,y){if(m>=y)return this;if(0!==this.childrenCount())for(var D=0,B=this.childrenCount();D<B;D++){var w=this.childAt(D).leftMost(m+1,y);if(w)return w}},connectorPoint:function(m){var y=this.Tree().CONFIG.rootOrientation,D={};return this.stackParentId&&("NORTH"===y||"SOUTH"===y?y="WEST":("EAST"===y||"WEST"===y)&&(y="NORTH")),"NORTH"===y?(D.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,D.y=m?this.Y+this.height:this.Y):"SOUTH"===y?(D.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,D.y=m?this.Y:this.Y+this.height):"EAST"===y?(D.x=m?this.X:this.X+this.width,D.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/2):"WEST"===y&&(D.x=m?this.X+this.width:this.X,D.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/2),D},pathStringThrough:function(){var m=this.connectorPoint(!0),y=this.connectorPoint(!1);return["M",m.x+","+m.y,"L",y.x+","+y.y].join(" ")},drawLineThroughMe:function(m){var y=m?this.Tree().getPointPathString(m):this.pathStringThrough();this.lineThroughMe=this.lineThroughMe||this.Tree()._R.path(y);var D=Ve.cloneObj(this.connStyle.style);delete D["arrow-start"],delete D["arrow-end"],this.lineThroughMe.attr(D),m&&(this.lineThroughMe.hide(),this.lineThroughMe.hidden=!0)},addSwitchEvent:function(m){var y=this;Ve.addEvent(m,"click",function(D){if(D.preventDefault(),!1===y.getTreeConfig().callback.onBeforeClickCollapseSwitch.apply(y,[m,D]))return!1;y.toggleCollapse(),y.getTreeConfig().callback.onAfterClickCollapseSwitch.apply(y,[m,D])})},collapse:function(){return this.collapsed||this.toggleCollapse(),this},expand:function(){return this.collapsed&&this.toggleCollapse(),this},toggleCollapse:function(){var m=this.getTree();if(!m.inAnimation){m.inAnimation=!0,this.collapsed=!this.collapsed,Ve.toggleClass(this.nodeDOM,"collapsed",this.collapsed),m.positionTree();var y=this;setTimeout(function(){m.inAnimation=!1,m.CONFIG.callback.onToggleCollapseFinished.apply(m,[y,y.collapsed])},m.CONFIG.animation.nodeSpeed>m.CONFIG.animation.connectorsSpeed?m.CONFIG.animation.nodeSpeed:m.CONFIG.animation.connectorsSpeed)}return this},hide:function(m){m=m||!1;var y=this.hidden;this.hidden=!0,this.nodeDOM.style.overflow="hidden";var D=this.getTree(),B=this.getTreeConfig(),w={opacity:0};if(m&&(w.left=m.x,w.top=m.y),!this.positioned||y?(this.nodeDOM.style.visibility="hidden",ke?ke(this.nodeDOM).css(w):(this.nodeDOM.style.left=w.left+"px",this.nodeDOM.style.top=w.top+"px"),this.positioned=!0):ke?ke(this.nodeDOM).animate(w,B.animation.nodeSpeed,B.animation.nodeAnimation,function(){this.style.visibility="hidden"}):(this.nodeDOM.style.transition="all "+B.animation.nodeSpeed+"ms ease",this.nodeDOM.style.transitionProperty="opacity, left, top",this.nodeDOM.style.opacity=w.opacity,this.nodeDOM.style.left=w.left+"px",this.nodeDOM.style.top=w.top+"px",this.nodeDOM.style.visibility="hidden"),this.lineThroughMe){var O=D.getPointPathString(m);y?this.lineThroughMe.attr({path:O}):D.animatePath(this.lineThroughMe,D.getPointPathString(m))}return this},hideConnector:function(){var m=this.Tree(),y=m.connectionStore[this.id];return y&&y.animate({opacity:0},m.CONFIG.animation.connectorsSpeed,m.CONFIG.animation.connectorsAnimation),this},show:function(){this.hidden=!1,this.nodeDOM.style.visibility="visible",this.Tree();var y={left:this.X,top:this.Y,opacity:1},D=this.getTreeConfig();return ke?ke(this.nodeDOM).animate(y,D.animation.nodeSpeed,D.animation.nodeAnimation,function(){this.style.overflow=""}):(this.nodeDOM.style.transition="all "+D.animation.nodeSpeed+"ms ease",this.nodeDOM.style.transitionProperty="opacity, left, top",this.nodeDOM.style.left=y.left+"px",this.nodeDOM.style.top=y.top+"px",this.nodeDOM.style.opacity=y.opacity,this.nodeDOM.style.overflow=""),this.lineThroughMe&&this.getTree().animatePath(this.lineThroughMe,this.pathStringThrough()),this},showConnector:function(){var m=this.Tree(),y=m.connectionStore[this.id];return y&&y.animate({opacity:1},m.CONFIG.animation.connectorsSpeed,m.CONFIG.animation.connectorsAnimation),this}},ve.prototype.buildNodeFromText=function(m){if(this.image&&(image=document.createElement("img"),image.src=this.image,m.appendChild(image)),this.text)for(var y in this.text)if(y.startsWith("data-"))m.setAttribute(y,this.text[y]);else{var D=document.createElement(this.text[y].href?"a":"p");this.text[y].href&&(D.href=this.text[y].href,this.text[y].target&&(D.target=this.text[y].target)),D.className="node-"+y,D.appendChild(document.createTextNode(this.text[y].val?this.text[y].val:this.text[y]instanceof Object?"'val' param missing!":this.text[y])),m.appendChild(D)}return m},ve.prototype.buildNodeFromHtml=function(m){if("#"===this.nodeInnerHTML.charAt(0)){var y=document.getElementById(this.nodeInnerHTML.substring(1));y?((m=y.cloneNode(!0)).id+="-clone",m.className+=" node"):m.innerHTML="<b> Wrong ID selector </b>"}else m.innerHTML=this.nodeInnerHTML;return m},ve.prototype.createGeometry=function(m){if(0===this.id&&m.CONFIG.hideRootNode)return this.width=0,void(this.height=0);var y=m.drawArea,B=document.createElement(this.link.href?"a":"div");B.className=this.pseudo?"pseudo":ve.CONFIG.nodeHTMLclass,this.nodeHTMLclass&&!this.pseudo&&(B.className+=" "+this.nodeHTMLclass),this.nodeHTMLid&&(B.id=this.nodeHTMLid),this.link.href&&(B.href=this.link.href,B.target=this.link.target),ke?ke(B).data("treenode",this):B.data={treenode:this},this.pseudo||(B=this.nodeInnerHTML?this.buildNodeFromHtml(B):this.buildNodeFromText(B),(this.collapsed||this.collapsable&&this.childrenCount()&&!this.stackParentId)&&this.createSwitchGeometry(m,B)),m.CONFIG.callback.onCreateNode.apply(m,[this,B]),y.appendChild(B),this.width=B.offsetWidth,this.height=B.offsetHeight,this.nodeDOM=B,m.imageLoader.processNode(this)},ve.prototype.createSwitchGeometry=function(m,y){var D=Ve.findEl(".collapse-switch",!0,y=y||this.nodeDOM);return D||((D=document.createElement("a")).className="collapse-switch",y.appendChild(D),this.addSwitchEvent(D),this.collapsed&&(y.className+=" collapsed"),m.CONFIG.callback.onCreateNodeCollapseSwitch.apply(m,[this,y,D])),D},gt.CONFIG={maxDepth:100,rootOrientation:"NORTH",nodeAlign:"CENTER",levelSeparation:30,siblingSeparation:30,subTeeSeparation:30,hideRootNode:!1,animateOnInit:!1,animateOnInitDelay:500,padding:15,scrollbar:"native",connectors:{type:"curve",style:{stroke:"black"},stackIndent:15},node:{link:{target:"_self"}},animation:{nodeSpeed:450,nodeAnimation:"linear",connectorsSpeed:450,connectorsAnimation:"linear"},callback:{onCreateNode:function(m,y){},onCreateNodeCollapseSwitch:function(m,y,D){},onAfterAddNode:function(m,y,D){},onBeforeAddNode:function(m,y){},onAfterPositionNode:function(m,y,D,B){},onBeforePositionNode:function(m,y,D,B){},onToggleCollapseFinished:function(m,y){},onAfterClickCollapseSwitch:function(m,y){},onBeforeClickCollapseSwitch:function(m,y){},onTreeLoaded:function(m){}}},ve.CONFIG={nodeHTMLclass:"node"};var m,J={make:function(m){var D,y=m.length;for(this.jsonStructure={chart:null,nodeStructure:null};y--;)(D=m[y]).hasOwnProperty("container")?this.jsonStructure.chart=D:!D.hasOwnProperty("parent")&&!D.hasOwnProperty("container")&&(this.jsonStructure.nodeStructure=D,D._json_id=0);return this.findChildren(m),this.jsonStructure},findChildren:function(m){for(var y=[0];y.length;){for(var D=y.pop(),B=this.findNode(this.jsonStructure.nodeStructure,D),w=0,O=m.length,U=[];w<O;w++){var oe=m[w];oe.parent&&oe.parent._json_id===D&&(oe._json_id=this.getID(),delete oe.parent,U.push(oe),y.push(oe._json_id))}U.length&&(B.children=U)}},findNode:function(m,y){var D,B;if(m._json_id===y)return m;if(m.children)for(D=m.children.length;D--;)if(B=this.findNode(m.children[D],y))return B},getID:(m=1,function(){return m++})},j=function(m,y,D){m instanceof Array&&(m=J.make(m)),D&&(ke=D),this.tree=Ne.createTree(m),this.tree.positionTree(y)};j.prototype.destroy=function(){Ne.destroy(this.tree.id)},window.Treant=j}();